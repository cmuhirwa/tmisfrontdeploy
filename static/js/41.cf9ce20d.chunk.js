(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[41],{425:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var a=s(40),n=s(19),c=s(20),l=s(21),r=s(22),i=s(4),o=s(27),d=s(16),u=s(42),m=s(23),j=s(136),x=s(47),b=s(25),h=s(1),p=function(e){Object(l.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).cleanForm=function(){a.setState({email:"",first_name:"",full_name:"",last_name:"",middle_name:"",nid:"",phone_number:"",role_id:null})},a.SubmitData=function(e){if(e.preventDefault(),""===a.state.first_name)return a.setState({error:{target:"first_name",msg:"Please fill the first name"}});if(""===a.state.last_name)return a.setState({error:{target:"last_name",msg:"Please fill the last name"}});if(""===a.state.nid)return a.setState({error:{target:"nid",msg:"Please fill national ID"}});if(""===a.state.phone_number)return a.setState({error:{target:"phone_number",msg:"Please fill phone number"}});if(""===a.state.email)return a.setState({error:{target:"email",msg:"Please fill the email"}});if(null===a.state.role_id||isNaN(a.state.role_id))return a.setState({error:{target:"role_id",msg:"Please select the role"}});var t={development_partner_id:a.state.development_partner_id,email:a.state.email,first_name:a.state.first_name,full_name:a.state.first_name+" "+a.state.middle_name+" "+a.state.last_name,last_name:a.state.last_name,middle_name:a.state.middle_name,nid:a.state.nid,phone_number:a.state.phone_number,role_id:a.state.role_id};a.setState({loading:!0}),Object(u.d)(t,(function(e,t){a.setState({loading:e}),null!==t&&"success"===t.status&&(a.setState({success:t.msg,error:null,loading:!1}),a.cleanForm()),null!==t&&"error"===t.status&&a.setState({error:{target:"main",msg:t.msg},success:"",loading:!1})}))},a.state={loading:!1,error:null,success:"",development_partner_id:a.props.developmentPartner.id,email:"",first_name:"",full_name:"",last_name:"",middle_name:"",nid:"",phone_number:"",role_id:null,loading_data:!1,account_levels:null},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;null!==this.state.account_levels&&0!==this.state.account_levels.length||(this.setState({loading_data:!0}),Object(u.e)(u.a.TRAINING,(function(t,s){e.setState({loading_data:t}),null!==s&&"success"===s.status&&e.setState({account_levels:s.data,loading:!1,loading_data:!1,error:null}),null!==s&&"error"===s.status&&e.setState({account_levels:[],loading:!1,loading_data:!1,error:{target:"main",msg:s.msg}})})))}},{key:"render",value:function(){var e=this;return!0===this.state.loading_data?Object(h.jsxs)("div",{className:"p-8 flex flex-col items-center justify-center bg-white rounded-md my-2",children:[Object(h.jsx)(b.a,{}),Object(h.jsx)("div",{className:"text-lg font-light text-center",children:"Loading, please wait..."})]}):Object(h.jsxs)("div",{className:"bg-white p-2 rounded",children:[Object(h.jsxs)("div",{className:"bg-gray-100 py-1 flex flex-row items-center gap-2 rounded px-2 animate__animated animate__fadeIn",children:[Object(h.jsx)("div",{children:Object(h.jsx)("div",{onClick:function(){!1===e.state.loading&&e.props.onCancel()},className:"bg-white rounded-full flex items-center justify-center h-9 w-9 cursor-pointer hover:bg-accent-900 hover:text-white",children:Object(h.jsx)(o.a,{className:"text-2xl"})})}),Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsx)("div",{className:"text-xl font-bold",children:"Create new account"}),Object(h.jsx)("div",{className:"text-sm font-bold text-accent-900 bg-accent-400 border border-accent-500 rounded-full px-2 w-max",children:this.props.developmentPartner.development_partner_name})]})]}),Object(h.jsxs)("form",{onSubmit:this.SubmitData,className:"w-full my-3",children:[Object(h.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[Object(h.jsx)(x.a,{onChange:function(t){return e.setState({first_name:t.target.value})},value:this.state.first_name,error:null!==this.state.error&&"first_name"===this.state.error.target?this.state.error.msg:"",label:"First name (Kinyarwanda)",placeholder:"Ex: KAMANA",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(h.jsx)(x.a,{onChange:function(t){return e.setState({middle_name:t.target.value})},value:this.state.middle_name,error:null!==this.state.error&&"middle_name"===this.state.error.target?this.state.error.msg:"",label:"Middle name (Optional)",placeholder:"",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(h.jsx)(x.a,{onChange:function(t){return e.setState({last_name:t.target.value})},value:this.state.last_name,error:null!==this.state.error&&"last_name"===this.state.error.target?this.state.error.msg:"",label:"Last name ",placeholder:"Ex: Damascene",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(h.jsx)(x.a,{onChange:function(t){return e.setState({nid:t.target.value})},value:this.state.nid,error:null!==this.state.error&&"nid"===this.state.error.target?this.state.error.msg:"",label:"National ID",placeholder:"",name:"",MainContainer_className:"col-span-6",disabled:this.state.loading}),Object(h.jsx)(x.a,{onChange:function(t){return e.setState({phone_number:t.target.value})},value:this.state.phone_number,error:null!==this.state.error&&"phone_number"===this.state.error.target?this.state.error.msg:"",label:"Phone number",placeholder:"07XXXXXXXX",name:"",MainContainer_className:"col-span-6",disabled:this.state.loading}),Object(h.jsx)(x.a,{onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email,error:null!==this.state.error&&"email"===this.state.error.target?this.state.error.msg:"",label:"Email",placeholder:"email@gmail.com",name:"",MainContainer_className:"col-span-6",disabled:this.state.loading}),Object(h.jsx)(j.a,{onChange:function(t){e.setState({role_id:parseInt(t.target.value)})},value:null===this.state.role_id?"":this.state.role_id,error:null!==this.state.error&&"role_id"===this.state.error.target?this.state.error.msg:"",label:"Select role",placeholder:"Role",name:"role_id",data:[{title:"Select role",value:""}].concat(Object(a.a)(null===this.state.account_levels?[]:this.state.account_levels.map((function(e){return{value:e.role_id,title:e.role}})))),MainContainer_className:"col-span-6",disabled:this.state.loading})]}),null!==this.state.error&&"main"===this.state.error.target&&Object(h.jsxs)("div",{onClick:function(){return e.setState({error:null,success:""})},className:"cursor-pointer px-3 py-2 font-bold bg-red-100 text-red-700 flex flex-row items-center justify-between w-full my-2",children:[Object(h.jsx)("span",{children:this.state.error.msg}),Object(h.jsx)("div",{children:Object(h.jsx)(d.r,{className:"text-2xl"})})]}),""!==this.state.success&&Object(h.jsxs)("div",{onClick:function(){return e.setState({error:null,success:""})},className:"cursor-pointer px-3 py-2 font-bold bg-green-100 text-green-700 flex flex-row items-center justify-between w-full my-2",children:[Object(h.jsx)("span",{children:this.state.success}),Object(h.jsx)("div",{children:Object(h.jsx)(d.r,{className:"text-2xl"})})]}),Object(h.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 mt-3",children:[!0===this.state.loading&&Object(h.jsx)("div",{children:Object(h.jsx)(b.a,{})}),Object(h.jsx)(m.a,{onClick:this.props.onCancel,type:"button",theme:"default",disabled:this.state.loading,children:"Go Back"}),Object(h.jsx)(m.a,{type:"submit",theme:"accent",disabled:this.state.loading,children:!0===this.state.loading?"Loading, please wait...":"Register Account"})]})]})]})}}]),s}(i.Component)},426:function(e,t,s){"use strict";s.d(t,"a",(function(){return j}));var a=s(19),n=s(20),c=s(21),l=s(22),r=s(4),i=s(27),o=s(23),d=s(25),u=s(17),m=s(1),j=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).state={loading:!1,error:"",success:"",search_data:""},n}return Object(n.a)(s,[{key:"componentDidMount",value:function(){null===this.props.accounts&&this.props.FC_GetAccounts(this.props.selected_development_partner.id)}},{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"bg-white p-2 rounded",children:[Object(m.jsxs)("div",{className:"bg-gray-100 py-1 flex flex-row items-center gap-2 rounded px-2 animate__animated animate__fadeIn",children:[Object(m.jsx)("div",{children:Object(m.jsx)("div",{onClick:function(){!1===e.state.loading&&e.props.onCancel()},className:"bg-white rounded-full flex items-center justify-center h-9 w-9 cursor-pointer hover:bg-accent-900 hover:text-white",children:Object(m.jsx)(i.a,{className:"text-2xl"})})}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"text-xl font-bold",children:"List of user accounts"}),Object(m.jsx)("div",{className:"text-sm font-bold text-accent-900 bg-accent-400 border border-accent-500 rounded-full px-2 w-max",children:this.props.selected_development_partner.development_partner_name})]})]}),Object(m.jsx)("div",{className:"mt-3 bg-white rounded p-2",children:!0===this.state.loading||null===this.props.accounts?Object(m.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-8",children:[Object(m.jsx)(d.a,{}),Object(m.jsx)("div",{className:"font-light text-center",children:"Loading, please wait..."})]}):Object(m.jsxs)("div",{children:[this.props.accounts.length>0&&Object(m.jsx)("div",{className:"",children:Object(m.jsx)("input",{type:"search",className:"px-3 py-2 font-bold border border-gray-400 w-full rounded",placeholder:"Search...",value:this.state.search_data,onChange:function(t){return e.setState({search_data:t.target.value,error:"",success:""})}})}),0===this.props.accounts.length&&Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"flex flex-col items-center justify-center text-center bg-gray-100 rounded-md my-3 p-5",children:[Object(m.jsx)("div",{className:"text-xl font-bold",children:"Add new account"}),Object(m.jsxs)("div",{className:"text-sm text-gray-500",children:["Click the following button to add an account under"," ",this.props.selected_development_partner.development_partner_name]}),Object(m.jsx)("div",{className:"mt-2",children:Object(m.jsx)(o.a,{theme:"accent",onClick:this.props.onAddNewAccount,className:"animate__animated animate__zoomIn",children:"Create new account"})})]})}),this.props.accounts.length>0&&Object(m.jsx)("div",{children:0===Object(u.n)(this.props.accounts,this.state.search_data).length?Object(m.jsx)("div",{className:"text-base font-light p-3",children:"No result found!"}):Object(m.jsx)("div",{className:"mt-2",children:Object(m.jsxs)("table",{className:"w-full text-left text-sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{className:"border-b border-gray-300",children:[Object(m.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"First name"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"Last name"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"National ID"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"Phone number"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"Email"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"Role"})]})}),Object(m.jsx)("tbody",{children:Object(u.n)(this.props.accounts,this.state.search_data).map((function(e,t){return Object(m.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"),children:[Object(m.jsx)("td",{className:"px-3 py-2",children:t+1}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.first_name}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.last_name}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.nid}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.phone_numbers}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.email}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.role})]},t+1)}))})]})})})]})})]})})}}]),s}(r.Component)},611:function(e,t,s){"use strict";s.r(t),s.d(t,"DPList",(function(){return R}));var a=s(26),n=s(19),c=s(20),l=s(21),r=s(22),i=s(4),o=s(68),d=s(27),u=s(93),m=s(59),j=s(16),x=s(75),b=s(36),h=s(13),p=s(42),f=s(25),g=s(24),O=s(67),_=s(17),v=s(425),N=s(426),y=s(45),w=s(23),S=s(12),C=s(1),A=function(e){Object(l.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).GetFileName=function(){return"RGB"===a.state.opened_document?S.i+a.props.data.rgb_certificate_file_name:S.h+a.props.data.implementation_plan_file_name},a.state={opened_document:null},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=this.props.data;return Object(C.jsxs)("div",{className:"p-3",children:[Object(C.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 border-b pb-4",children:[Object(C.jsxs)("div",{className:"bg-white rounded-md flex flex-row items-center gap-3",children:[Object(C.jsx)("div",{onClick:this.props.onClose,className:"h-10 w-10 rounded-full bg-accent-400 hover:bg-accent-500 text-accent-900 hover:text-black flex items-center justify-center cursor-pointer",children:Object(C.jsx)(d.a,{className:"text-2xl"})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"text-xl font-bold",children:t.development_partner_name}),Object(C.jsx)("div",{className:"text-accent-900 -mt-1 bg-accent-400 rounded-md w-max px-1 py-0",children:t.organization_category})]})]}),Object(C.jsx)("div",{className:"flex flex-row justify-end gap-2",children:Object(C.jsxs)("div",{className:"flex flex-col items-end",children:[Object(C.jsx)("div",{className:"text-sm px-2",children:"Status"}),Object(C.jsx)("div",{className:"bg-accent-400 text-accent-900 font-bold text-sm px-2 rounded-md",children:this.props.selected_status})]})})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:" rounded-md mt-5",children:[Object(C.jsx)("div",{className:"text-lg font-bold",children:"Info Details"}),Object(C.jsxs)("div",{className:"grid grid-cols-12 mt-2 gap-2",children:[Object(C.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(C.jsx)("div",{className:"text-gray-600 text-sm",children:"Development Partner name"}),Object(C.jsx)("div",{className:"-mt-0",children:t.development_partner_name})]}),Object(C.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(C.jsx)("div",{className:"text-gray-600 text-sm",children:"Organization category"}),Object(C.jsx)("div",{className:"-mt-0",children:t.organization_category})]}),Object(C.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(C.jsx)("div",{className:"text-gray-600 text-sm",children:"Organization email"}),Object(C.jsx)("div",{className:"-mt-0",children:t.email})]}),Object(C.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(C.jsx)("div",{className:"text-gray-600 text-sm",children:"Organization phone number"}),Object(C.jsx)("div",{className:"-mt-0",children:t.phone})]}),Object(C.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(C.jsx)("div",{className:"text-gray-600 text-sm",children:"Organization website"}),Object(C.jsx)("div",{className:"-mt-0",children:t.website_link})]}),Object(C.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(C.jsx)("div",{className:"text-gray-600 text-sm",children:"Organization location"}),Object(C.jsx)("div",{className:"-mt-0",children:t.location})]}),""!==t.comment&&Object(C.jsxs)("div",{className:"col-span-12 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(C.jsx)("div",{className:"text-gray-600 text-sm",children:"Validation comment"}),Object(C.jsx)("div",{className:"-mt-0",children:t.comment})]})]})]}),Object(C.jsxs)("div",{className:"mt-6",children:[Object(C.jsx)("div",{className:"font-bold mb-3 text-lg",children:"Documents attached"}),Object(C.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-2",children:[Object(C.jsxs)("div",{onClick:function(){return e.setState({opened_document:"RGB"})},className:"px-2 pr-4 py-2 rounded-md cursor-pointer ".concat("RGB"===this.state.opened_document?"bg-accent-400 text-accent-900":"bg-gray-100 hover:bg-accent-400"," flex flex-row items-center justify-center gap-2"),children:[Object(C.jsx)("div",{children:"RGB"===this.state.opened_document?Object(C.jsx)(y.f,{className:"text-2xl animate__animated animate__zoomIn animate__faster"}):Object(C.jsx)(y.h,{className:"text-2xl"})}),Object(C.jsx)("span",{children:"RGB Certificate document"})]}),Object(C.jsxs)("div",{onClick:function(){return e.setState({opened_document:"IMPLEMENTATION"})},className:"px-2 pr-4 py-2 rounded-md cursor-pointer ".concat("IMPLEMENTATION"===this.state.opened_document?"bg-accent-400 text-accent-900":"bg-gray-100 hover:bg-accent-400"," flex flex-row items-center justify-center gap-2"),children:[Object(C.jsx)("div",{children:"IMPLEMENTATION"===this.state.opened_document?Object(C.jsx)(y.f,{className:"text-2xl animate__animated animate__zoomIn animate__faster"}):Object(C.jsx)(y.h,{className:"text-2xl"})}),Object(C.jsx)("span",{children:"Implementation document"})]})]}),null!==this.state.opened_document&&Object(C.jsx)("div",{className:"bg-gray-100 rounded-md overflow-hidden mt-1",children:"pdf"===this.GetFileName().slice(-3)?Object(C.jsxs)("iframe",{src:this.GetFileName(),title:"File preview",className:"min-h-screen h-auto w-full",children:["Presss me: ",Object(C.jsx)("a",{href:this.GetFileName(),children:"Download PDF"})]}):Object(C.jsx)("img",{src:this.GetFileName(),alt:"File",className:"w-full h-auto"})})]}),Object(C.jsxs)("div",{className:"mt-10",children:[Object(C.jsxs)("div",{className:"font-bold mb-3 text-lg",children:["Areas of intervention"," ",Object(C.jsxs)("span",{className:"px-1 rounded-md bg-accent-400 text-accent-900 text-sm font-bold",children:["Total: ",t.subareas.length]})]}),Object(C.jsx)("div",{className:"grid grid-cols-12",children:t.subareas.map((function(e,t){return Object(C.jsxs)("div",{className:"col-span-12 flex flex-row items-center gap-2 px-2 py-1 rounded-md bg-gray-100 mb-2 group hover:bg-accent-400 hover:text-accent-900 cursor-pointer",children:[Object(C.jsx)("div",{children:Object(C.jsx)(y.f,{className:"text-2xl text-gray-300 group-hover:text-accent-900"})}),Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("div",{className:"",children:e.subarea_name}),Object(C.jsx)("div",{className:"text-sm -mt-1 text-gray-500 group-hover:text-accent-900",children:e.area_name})]})]},t+1)}))})]})]}),Object(C.jsxs)("div",{className:"mt-3 flex flex-row items-center gap-2 justify-end",children:[Object(C.jsx)(w.a,{onClick:this.props.onClose,theme:"default",children:Object(C.jsx)("span",{children:"Back to list"})}),(this.props.selected_status.toLowerCase()===p.b.PENDING.toLowerCase()||this.props.selected_status.toLowerCase()===p.b.APPEAL.toLowerCase())&&Object(C.jsx)(w.a,{onClick:this.props.openValidation,theme:"accent",children:Object(C.jsx)("span",{children:"Validate the application"})}),this.props.selected_status.toLocaleLowerCase()===p.b.APPROVED.toLocaleLowerCase()&&Object(C.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(C.jsx)(w.a,{onClick:function(){return e.props.onViewAccountsList(e.props.data)},theme:"accent-light",children:Object(C.jsx)("span",{children:"View accounts"})}),Object(C.jsx)(w.a,{onClick:function(){return e.props.onRegisterAccount(e.props.data)},theme:"accent",children:Object(C.jsx)("span",{children:"Register account"})})]})]})]})}}]),s}(i.Component),P=s(60),D=s(138),k=function(e){Object(l.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).GetStatusIcon=function(e){return e===p.b.APPROVED?Object(C.jsx)(u.h,{className:"text-4xl"}):e===p.b.REJECTED?Object(C.jsx)(m.c,{className:"text-4xl"}):Object(C.jsx)(P.b,{className:"text-4xl"})},a.submitApplicationStatus=function(){if(a.setState({confirm_submit:!1}),a.state.submit_status!==p.b.APPROVED&&""===a.state.decision_comment)return a.setState({error:{target:"decision_comment",msg:"Please, decision comment is required"}});Object(p.j)(a.props.data.id,a.state.decision_comment,a.state.submit_status,(function(e,t){return a.setState({loading:e}),null!==t&&"success"===t.status?a.setState({success:t.msg,error:null}):null!==t&&"error"===t.status?a.setState({error:{target:"main",msg:t.msg}}):void 0}))},a.state={loading:!1,error:null,submit_status:p.b.APPROVED,decision_comment:"",success:"",confirm_submit:!1},a}return Object(c.a)(s,[{key:"render",value:function(){var e,t=this;if(!0===this.state.loading)return Object(C.jsxs)("div",{className:"p-8 flex flex-col items-center justify-center",children:[Object(C.jsx)(f.a,{}),Object(C.jsx)("div",{className:"text-xl font-light text-center",children:"Loading, please wait..."})]});if(null!==this.state.error&&"main"===this.state.error.target)return Object(C.jsxs)("div",{className:"bg-white animate__animated animate__zoomIn animate__faster p-5",children:[Object(C.jsxs)("div",{className:" flex flex-col items-center justify-center gap-2 text-red-600",children:[Object(C.jsx)("div",{children:Object(C.jsx)(m.f,{className:"text-6xl"})}),Object(C.jsx)("div",{className:"text-lg font-bold text-black text-center",children:this.state.error.msg})]}),Object(C.jsx)("div",{className:"flex flex-row items-center justify-".concat((this.state.submit_status,p.b.APPROVED,"center")," gap-2 w-full mt-5"),children:Object(C.jsx)(w.a,{onClick:function(){return t.setState({confirm_submit:!1,error:null})},theme:"accent",children:"Continue"})})]});if(""!==this.state.success)return Object(C.jsxs)("div",{className:"bg-white animate__animated animate__zoomIn animate__faster p-5",children:[Object(C.jsxs)("div",{className:" flex flex-col items-center justify-center gap-2 text-green-600",children:[Object(C.jsx)("div",{children:Object(C.jsx)(j.o,{className:"text-6xl"})}),Object(C.jsx)("div",{className:"text-lg font-bold text-black text-center",children:this.state.success})]}),Object(C.jsxs)("div",{className:"flex flex-row items-center justify-".concat((this.state.submit_status,p.b.APPROVED,"center")," gap-2 w-full mt-5"),children:[this.state.submit_status===p.b.APPROVED&&Object(C.jsx)(w.a,{onClick:function(){return t.props.onRegister(!0)},theme:"accent",children:"Continue with registration"}),Object(C.jsx)(w.a,{onClick:function(){return t.props.onReloadList(t.state.submit_status)},theme:"default",children:this.state.submit_status===p.b.APPROVED?"Not now":"Continue"})]})]});var s=this.props.data;return!0===this.state.confirm_submit?Object(C.jsxs)("div",{className:"bg-white animate__animated animate__zoomIn animate__faster p-5",children:[Object(C.jsxs)("div",{className:" flex flex-row items-center gap-2 ",children:[Object(C.jsx)("div",{children:Object(C.jsx)(P.b,{className:"text-4xl"})}),Object(C.jsxs)("div",{className:"text-lg font-bold",children:["Are you sure do you want to set the application as"," ",Object(C.jsx)("span",{className:"px-1 rounded-md font-bold bg-accent-400 text-accent-900",children:this.state.submit_status}),"?"]})]}),""!==this.state.decision_comment&&Object(C.jsxs)("div",{className:"bg-gray-100 rounded-md px-3 py-2 w-full my-3 text-left",children:[Object(C.jsx)("div",{className:"font-bold text-sm text-gray-500",children:"Comment added:"}),Object(C.jsx)("div",{className:"",children:this.state.decision_comment})]}),Object(C.jsxs)("div",{className:"flex flex-row items-center justify-".concat((this.state.submit_status,p.b.APPROVED,"center")," gap-2 w-full mt-5"),children:[Object(C.jsx)(w.a,{onClick:function(){return t.setState({confirm_submit:!1})},theme:"default",children:"Cancel"}),Object(C.jsx)(w.a,{onClick:function(){return t.submitApplicationStatus()},theme:"accent",children:"Yes, Submit"})]})]}):Object(C.jsxs)("div",{className:"p-3",children:[Object(C.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 border-b pb-4",children:[Object(C.jsxs)("div",{className:"bg-white rounded-md flex flex-row items-center gap-3",children:[Object(C.jsx)("div",{onClick:this.props.onClose,className:"h-10 w-10 rounded-full bg-accent-400 hover:bg-accent-500 text-accent-900 hover:text-black flex items-center justify-center cursor-pointer",children:Object(C.jsx)(d.a,{className:"text-2xl"})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"text-xl font-bold",children:"Validate the application"}),Object(C.jsx)("div",{className:"text-sm",children:s.development_partner_name})]})]}),Object(C.jsx)("div",{className:"flex flex-row justify-end gap-2",children:Object(C.jsxs)("div",{className:"flex flex-col items-end",children:[Object(C.jsx)("div",{className:"text-sm px-2",children:"Status"}),Object(C.jsx)("div",{className:"bg-accent-400 text-accent-900 font-bold text-sm px-2 rounded-md",children:this.props.selected_status})]})})]}),Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:" rounded-md mt-5",children:Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("div",{className:"text-lg font-bold mb-2",children:"Choose decision"}),Object(C.jsx)("div",{className:"grid grid-cols-12 gap-2",children:p.c.filter((function(e){return e.key!==p.b.PENDING})).map((function(e,s){return Object(C.jsxs)("div",{className:"cols-span-12 md:col-span-6 lg:col-span-4 rounded-md animate__animated ".concat(t.state.submit_status===e.key?"bg-accent-400 text-accent-900 font-semibold border border-accent-800 animate__zoomIn animate__faster":"bg-gray-100 font-light animate___fadeIn"," p-2 flex flex-col items-center justify-center group hover:bg-accent-400 hover:text-accent-900 cursor-pointer"),onClick:function(){return t.setState({submit_status:e.key,decision_comment:"",error:null})},children:[Object(C.jsx)("div",{className:" ".concat(t.state.submit_status===e.key?"text-accent-900":"text-gray-400"," group-hover:text-accent-900"),children:t.GetStatusIcon(e.key)}),Object(C.jsx)("div",{className:"text-base",children:e.title})]},s+1)}))}),this.state.submit_status!==p.b.APPROVED&&Object(C.jsx)("div",{className:"pt-3",children:Object(C.jsx)(D.a,{onChange:function(e){t.setState({decision_comment:e.target.value,error:null})},value:this.state.decision_comment,error:"decision_comment"===(null===(e=this.state.error)||void 0===e?void 0:e.target)?this.state.error.msg:"",label:"Decision feedback/comment",placeholder:"",name:"decision_comment",Label_className:"font-bold"})}),Object(C.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 mt-5",children:[Object(C.jsx)(w.a,{onClick:this.props.onClose,theme:"default",children:Object(C.jsx)("span",{children:"Cancel"})}),Object(C.jsx)(w.a,{onClick:function(){if(t.state.submit_status!==p.b.APPROVED&&""===t.state.decision_comment)return t.setState({error:{target:"decision_comment",msg:"Please, decision comment is required"}});t.setState({confirm_submit:!0})},theme:"accent",className:"".concat((this.state.submit_status,p.b.APPROVED,"animate__animated animate__zoomIn animate__faster")),children:Object(C.jsx)("span",{children:this.state.submit_status===p.b.APPROVED?"Yes, approve":"Save changes"})})]})]})})})]})}}]),s}(i.Component),E=function(e){Object(l.a)(s,e);var t=Object(r.a)(s);function s(e){var c;return Object(n.a)(this,s),(c=t.call(this,e)).FC_GetDPApplications=function(e,t){c.setState({loading:!0,error:"",success:"",open_select_area:!1,open_select_category:!1,selected_category:null,selected_sub_area:null}),Object(p.g)(e,(function(s,a){if(c.setState({loading:s}),null!==a&&"success"===a.type){if(null!==t&&null!==a.data){var n=a.data.dp_application.find((function(e){return e.id.toLocaleLowerCase()===t.id.toLocaleLowerCase()}));console.log("Lats: ",n),void 0!==n&&c.setState({openRegisterAccount:n})}c.setState({data:a.data,error:"",success:a.msg,loading:!1,selected_status:e,openValidation:null})}null!==a&&"error"===a.type&&c.setState({data:null,success:"",error:a.msg,loading:!1,openValidation:null})}))},c.GetStatusIcon=function(e){return e===p.b.PENDING?Object(C.jsx)(x.f,{className:"text-4xl"}):e===p.b.APPROVED?Object(C.jsx)(u.h,{className:"text-4xl"}):e===p.b.REJECTED?Object(C.jsx)(m.c,{className:"text-4xl"}):Object(C.jsx)(d.m,{className:"text-3xl m-1"})},c.GetStatusColor=function(e){return e===p.b.PENDING||e===p.b.APPROVED||p.b.REJECTED,"accent"},c.GetDataByOrgCategory=function(e,t){return e.filter((function(e){return e.organization_category_id.toString()===t}))},c.GetDataBySubArea=function(e,t){var s,n=[],c=Object(a.a)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;void 0!==l.subareas.find((function(e){return e.sub_area_id.toString()===t.toString()}))&&n.push(l)}}catch(r){c.e(r)}finally{c.f()}return n},c.FC_GetDataCategories=function(){if(null===c.state.data)return[];var e,t=[],s=Object(a.a)(c.state.data.dp_application);try{var n=function(){var s=e.value;void 0===t.find((function(e){return e.id.toString()===s.organization_category_id.toString()}))&&t.push({id:s.organization_category_id.toString(),name:s.organization_category})};for(s.s();!(e=s.n()).done;)n()}catch(l){s.e(l)}finally{s.f()}return t},c.GetDataByStatus=function(e,t){return e.filter((function(e){return e.status===t}))},c.GetSubAreas=function(){if(null===c.state.data)return[];var e,t=[],s=Object(a.a)(c.state.data.dp_application);try{for(s.s();!(e=s.n()).done;){var n,l=e.value,r=Object(a.a)(l.subareas);try{var i=function(){var e=n.value;void 0===t.find((function(t){return t.id.toString()===e.sub_area_id.toString()}))&&t.push({id:e.sub_area_id.toString(),name:"".concat(e.area_name,"-").concat(e.subarea_name)})};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}}catch(o){s.e(o)}finally{s.f()}return t},c.GetFilteredData=function(){if(null===c.state.data)return[];var e=c.state.data.dp_application;return null!==c.state.selected_category&&(e=c.GetDataByOrgCategory(e,c.state.selected_category.id)),null!==c.state.selected_sub_area&&(e=c.GetDataBySubArea(e,c.state.selected_sub_area.id)),""!==c.state.search_value&&(e=Object(_.n)(e,c.state.search_value)),e},c.GetTotalByStatus=function(e){return null===c.state.data?0:e===p.b.PENDING?c.state.data.PENDING:e===p.b.APPROVED?c.state.data.APPROVED:e===p.b.REJECTED?c.state.data.REJECTED:c.state.data.APPEAL},c.FC_GetAccounts=function(e){c.setState({loading:!0}),Object(p.f)(e,(function(e,t){c.setState({loading:e}),null!==t&&"success"===t.status&&c.setState({accounts:t.data,loading:!1,error:"",success:""}),null!==t&&"error"===t.status&&c.setState({accounts:[],loading:!1,error:t.msg,success:""})}))},c.componentDidMount=function(){null===c.state.data&&c.FC_GetDPApplications(c.state.selected_status,null)},c.state={loading:!1,data:null,success:"",error:"",selected_status:p.b.PENDING,open_select_area:!1,open_select_category:!1,selected_sub_area:null,selected_category:null,search_value:"",preview:null,openValidation:null,openRegisterAccount:null,openViewAccountsList:null,accounts:[]},c}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(C.jsxs)(i.Fragment,{children:[Object(C.jsxs)("div",{className:"container mx-auto p-3",children:[Object(C.jsx)("div",{className:"bg-white rounded-md p-3",children:Object(C.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[Object(C.jsx)("div",{className:"col-span-6",children:Object(C.jsxs)("div",{className:"flex flex-col pl-2",children:[Object(C.jsxs)("div",{className:"text-2xl font-extrabold",children:["Training providers"," ",Object(C.jsx)("span",{className:"text-sm font-bold px-1 rounded-md bg-accent-800",children:this.state.selected_status})]}),Object(C.jsx)("div",{className:"text-sm -mt-1 text-gray-500",children:"List of all training providers with their statuses"})]})}),Object(C.jsx)("div",{className:"col-span-6 flex flex-row items-center justify-end w-full gap-2",children:p.c.map((function(t,s){return null===e.state.data||!0===e.state.loading?Object(C.jsx)("div",{className:"w-full bg-gray-100 rounded-md h-12"},s+1):Object(C.jsxs)("div",{className:"px-1 pr-4 rounded-md flex flex-row items-center gap-2 ".concat(e.state.selected_status===t.key?"bg-accent-400 text-accent-900 animate__animated animate__fadeIn py-1":"bg-gray-100 hover:bg-accent-400 border-l-2 border-gray-100 py-1"," cursor-pointer group"),onClick:function(){return e.FC_GetDPApplications(t.key,null)},children:[Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:"rounded-md ".concat(e.state.selected_status===t.key?"bg-white text-".concat(e.GetStatusColor(t.key),"-900 font-bold border border-accent-500"):"text-gray-300 group-hover:text-".concat(e.GetStatusColor(t.key),"-900 bg-white")," text-2xl font-extrabold px-1 py-1"),children:e.GetStatusIcon(t.key)})}),Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("div",{className:"text-sm ".concat(e.state.selected_status===t.key?"font-base":"font-light"),children:t.title}),Object(C.jsx)("div",{className:"text-2xl font-extrabold -mt-1",children:e.GetTotalByStatus(t.key)})]})]},s+1)}))})]})}),!0===this.state.loading?Object(C.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white rounded-md mt-2 py-5",children:[Object(C.jsx)(f.a,{}),Object(C.jsx)("div",{className:"text-center text-xl font-light text-gray-500",children:"Loading, please wait..."})]}):Object(C.jsxs)("div",{className:"bg-white rounded-md mt-2 py-2",children:[Object(C.jsxs)("div",{className:"flex flex-row items-center justify-between mb-3 mx-2 gap-3",children:[Object(C.jsxs)("div",{className:"relative w-1/3",children:[!1===this.state.open_select_category?Object(C.jsxs)("div",{onClick:function(){return e.setState({open_select_category:!e.state.open_select_category})},className:"border border-gray-400 rounded px-3 py-2 w-full flex flex-row items-center justify-between gap-2 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[Object(C.jsx)("div",{className:"w-52 truncate",children:null===this.state.selected_category?"Search by intervention area":this.state.selected_category.name}),Object(C.jsx)("div",{children:Object(C.jsx)(m.a,{})})]}):Object(C.jsxs)("div",{onClick:function(){return e.setState({open_select_category:!1})},className:"font-bold flex flex-row items-center gap-4 cursor-pointer hover:text-accent-900",children:[Object(C.jsx)("span",{children:"Select intervention area"}),Object(C.jsx)("div",{children:null!==this.state.selected_category?Object(C.jsxs)("div",{onClick:function(){return e.setState({selected_category:null,open_select_category:!1})},className:"font-normal text-sm cursor-pointer px-2 py-1 rounded-md bg-accent-400 text-accent-900 flex flex-row items-center justify-center gap-2",children:[Object(C.jsx)("div",{children:Object(C.jsx)(o.d,{className:"text-xl"})}),Object(C.jsx)("span",{children:"Reset"})]}):Object(C.jsx)(j.r,{})})]}),!0===this.state.open_select_category&&Object(C.jsx)("div",{className:"w-/12 absolute mt-2 bg-white",children:Object(C.jsx)(O.a,{loading:!1,id:"id",title:"name",close:function(){return e.setState({open_select_category:!1})},data:this.FC_GetDataCategories(),click:function(t){e.setState({selected_category:t,open_select_category:!1})}})})]}),Object(C.jsxs)("div",{className:"relative w-1/3",children:[!1===this.state.open_select_area?Object(C.jsxs)("div",{onClick:function(){return e.setState({open_select_area:!e.state.open_select_area})},className:"border border-gray-400 rounded px-3 py-2 w-full flex flex-row items-center justify-between gap-2 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[Object(C.jsx)("div",{className:"w-52 truncate",children:null===this.state.selected_sub_area?"Search by sub area":this.state.selected_sub_area.name}),Object(C.jsx)("div",{children:Object(C.jsx)(m.a,{})})]}):Object(C.jsxs)("div",{onClick:function(){return e.setState({open_select_area:!1})},className:"font-bold flex flex-row items-center gap-4 cursor-pointer hover:text-accent-900",children:[Object(C.jsx)("span",{children:"Select sub area"}),Object(C.jsx)("div",{children:null!==this.state.selected_sub_area?Object(C.jsxs)("div",{onClick:function(){return e.setState({selected_sub_area:null,open_select_area:!1})},className:"font-normal text-sm cursor-pointer px-2 py-1 rounded-md bg-accent-400 text-accent-900 flex flex-row items-center justify-center gap-2",children:[Object(C.jsx)("div",{children:Object(C.jsx)(o.d,{className:"text-xl"})}),Object(C.jsx)("span",{children:"Reset"})]}):Object(C.jsx)(j.r,{})})]}),!0===this.state.open_select_area&&Object(C.jsx)("div",{className:"w-/12 absolute mt-2 bg-white",children:Object(C.jsx)(O.a,{loading:!1,id:"id",title:"name",close:function(){return e.setState({open_select_area:!1})},data:this.GetSubAreas(),click:function(t){e.setState({selected_sub_area:t,open_select_area:!1})}})})]}),Object(C.jsx)("input",{type:"search",className:"px-3 py-2 rounded w-1/3 border border-gray-400",placeholder:"Search...",value:this.state.search_value,onChange:function(t){return e.setState({search_value:t.target.value})}})]}),Object(C.jsx)("div",{className:"w-full overflow-x-auto",children:Object(C.jsxs)("table",{className:"w-full text-sm text-left",children:[Object(C.jsx)("thead",{className:"bg-primary-100 text-primary-800 border-4 border-white",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(C.jsx)("th",{className:"px-3 py-2",children:"Organization"}),Object(C.jsx)("th",{className:"px-3 py-2",children:"Category"}),Object(C.jsx)("th",{className:"px-3 py-2",children:"Phone"}),Object(C.jsx)("th",{className:"px-3 py-2",children:"Email"}),Object(C.jsx)("th",{className:"px-3 py-2",children:"Location"}),Object(C.jsx)("th",{className:"px-3 py-2",children:"Status"})]})}),Object(C.jsx)("tbody",{children:null===this.state.data?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:7,className:"text-xl px-4 py-3 font-light text-center",children:"Loading, please wait..."})}):0===this.GetFilteredData().length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:7,className:"text-xl px-4 py-3 font-light text-center",children:"No data found!"})}):this.GetFilteredData().map((function(t,s){return Object(C.jsxs)("tr",{className:"".concat(s%2!==0?"bg-gray-100":"bg-white"," hover:bg-accent-400 hover:text-accent-900 cursor-pointer"),onClick:function(){return e.setState({preview:t})},children:[Object(C.jsx)("td",{className:"px-3 py-2",children:s+1}),Object(C.jsx)("td",{className:"px-3 py-2",children:t.development_partner_name}),Object(C.jsx)("td",{className:"px-3 py-2",children:t.organization_category}),Object(C.jsx)("td",{className:"px-3 py-2",children:t.phone}),Object(C.jsx)("td",{className:"px-3 py-2",children:t.email}),Object(C.jsx)("td",{className:"px-3 py-2",children:t.location}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{className:"".concat(t.status===p.b.APPROVED?"bg-green-100 text-green-700":t.status===p.b.PENDING?"bg-accent-400 text-accent-900":t.status===p.b.REJECTED?"bg-red-100 text-red-700":"bg-accent-400 text-black"," px-1 py-0 w-max rounded-md text-xs"),children:t.status})})]},s+1)}))})]})})]})]}),null!==this.state.preview&&Object(C.jsx)(g.c,{backDrop:!0,theme:g.b.default,close:function(){return e.setState({preview:null})},backDropClose:!1,widthSizeClass:g.a.extraLarge,displayClose:!1,padding:{title:void 0,body:void 0,footer:void 0},children:Object(C.jsx)("div",{children:Object(C.jsx)(A,{data:this.state.preview,selected_status:this.state.selected_status,onClose:function(){return e.setState({preview:null})},openValidation:function(){e.setState({openValidation:e.state.preview,preview:null})},onRegisterAccount:function(t){e.setState({preview:null,openValidation:null,openRegisterAccount:t})},onViewAccountsList:function(t){e.setState({openViewAccountsList:t,preview:null})}})})}),null!==this.state.openValidation&&Object(C.jsx)(g.c,{backDrop:!0,theme:g.b.default,close:function(){return e.setState({openValidation:null})},backDropClose:!1,widthSizeClass:g.a.medium,displayClose:!1,padding:{title:void 0,body:void 0,footer:void 0},children:Object(C.jsx)("div",{children:Object(C.jsx)(k,{data:this.state.openValidation,selected_status:this.state.selected_status,onClose:function(){e.setState({preview:e.state.openValidation,openValidation:null})},onReloadList:function(t){e.FC_GetDPApplications(t,null)},onRegister:function(t){var s=e.state.openValidation;console.log("TEST: ",t,s),!0===t?e.FC_GetDPApplications(p.b.APPROVED,s):e.setState({openRegisterAccount:s})}})})}),null!==this.state.openRegisterAccount&&Object(C.jsx)(g.c,{backDrop:!0,theme:g.b.default,close:function(){return e.setState({openRegisterAccount:null})},backDropClose:!1,widthSizeClass:g.a.extraLarge,displayClose:!1,padding:{title:void 0,body:void 0,footer:void 0},children:Object(C.jsx)("div",{children:Object(C.jsx)(v.a,{developmentPartner:this.state.openRegisterAccount,onCancel:function(){return e.setState({preview:e.state.openRegisterAccount,openValidation:null,openRegisterAccount:null})}})})}),null!==this.state.openViewAccountsList&&Object(C.jsx)(g.c,{backDrop:!0,theme:g.b.default,close:function(){return e.setState({openViewAccountsList:null})},backDropClose:!1,widthSizeClass:g.a.extraLarge,displayClose:!1,padding:{title:void 0,body:void 0,footer:void 0},children:Object(C.jsx)("div",{children:Object(C.jsx)(N.a,{onCancel:function(){return e.setState({preview:e.state.openViewAccountsList,openValidation:null,openRegisterAccount:null,openViewAccountsList:null})},selected_development_partner:this.state.openViewAccountsList,FC_GetAccounts:this.FC_GetAccounts,accounts:this.state.accounts,onAddNewAccount:function(){e.setState({openRegisterAccount:e.state.openViewAccountsList,openValidation:null,openViewAccountsList:null,preview:null})}})})})]})}}]),s}(i.Component),R=Object(b.b)((function(e){return{basic:e.basic}}),{FC_GetAllSystemRoles:h.B})(E)}}]);
//# sourceMappingURL=41.cf9ce20d.chunk.js.map