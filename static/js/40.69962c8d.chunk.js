(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[40],{136:function(e,t,s){"use strict";var a=s(20),r=s(2),c=s(54),n=s(13),l=s(26),i=s(1),o=void 0;t.a=function(e){var t=e.permutation,s=e.more,d=void 0!==s&&s,u=e.approveUser,m=e.approveReb,h=e.loading,b=void 0!==h&&h,j=e.close,x=Object(r.useState)(!1),p=Object(a.a)(x,2),_=p[0],g=p[1],f=!0===d||_,O=t.usersInfo.find((function(e){return e.user_id===t.user_one})),N=t.usersInfo.find((function(e){return e.user_id===t.user_two})),v=t.schools.find((function(e){return e.school_code===t.school_one})),y=t.schools.find((function(e){return e.school_code===t.school_two})),w=function(e,t){return void 0===e||void 0===t?Object(i.jsx)("div",{className:"p-2 text-center text-lg",children:"No users found"}):Object(i.jsxs)("div",{className:"flex-1 w-full rounded bg-white border",children:[Object(i.jsxs)("div",{className:"rounded m-1 border flex ".concat(!0===f?"":"items-center"),children:[Object(i.jsx)("section",{children:Object(i.jsx)(n.a,{className:"text-gray-400",size:f?80:30})}),Object(i.jsx)("div",{className:"flex-1 pl-2",children:[{label:"Names: ",value:e.full_name,more:!0,inline:!1},{label:"Staff code: ",value:e.staff_code,more:!1,inline:!0},{label:"NID: ",value:e.nid,more:!1,inline:!0},{label:"Sex: ",value:e.sex,more:!1,inline:!0},{label:"Phone number: ",value:e.phone_numbers,inline:!0,more:!1},{label:"Martial status: ",value:e.marital_status,inline:!0,more:!1}].map((function(e,t){return!1===e.more&&!1===f?null:e.value?Object(i.jsxs)("section",{className:"border-b ".concat(!0===e.inline?"flex py-1 items-center":""),children:[Object(i.jsx)("span",{className:"text-sm text-gray-500 block",children:null===e||void 0===e?void 0:e.label}),Object(i.jsx)("h2",{className:" ".concat(!1===e.inline?"-mt-1":"pl-2"," font-bold block "),children:null===e||void 0===e?void 0:e.value})]},t):null}))})]}),Object(i.jsxs)("div",{className:"rounded m-1 border flex items-center mt-3",children:[Object(i.jsx)("section",{className:"px-4",children:Object(i.jsx)(c.c,{className:"text-gray-400",size:f?50:20})}),Object(i.jsx)("div",{className:"flex-1",children:[{label:"School code: ",value:t.school_code,inline:!0,more:!0},{label:"School name: ",value:t.school_name,inline:!0,more:!1}].map((function(e,t){return!0===e.more&&!1===f?null:e.value?Object(i.jsxs)("section",{className:"border-b ".concat(!0===e.inline?"flex py-1 items-center":""),children:[Object(i.jsx)("span",{className:"text-sm text-gray-500 block",children:null===e||void 0===e?void 0:e.label}),Object(i.jsx)("h2",{className:" ".concat(!1===e.inline?"-mt-1":"pl-2"," font-bold block "),children:null===e||void 0===e?void 0:e.value})]},t):null}))})]})]})};return Object(i.jsxs)("div",{className:"bg-white p-2 mb-3 rounded animate__animated animate__zoomIn animate__faster",children:[j&&!b&&Object(i.jsx)("div",{className:"text-right pb-2 border-b mb-2",children:Object(i.jsx)(l.a,{className:"",onClick:j,theme:"danger-light",children:"Close"})}),Object(i.jsxs)("div",{className:"items-center flex flex-col md:flex-row cursor-pointer",onClick:g.bind(o,!f),children:[w(O,v),Object(i.jsx)("div",{className:"-mx-2 z-40 ",children:Object(i.jsx)(n.cb,{className:"rounded ".concat("Approved"===t.reb_status?"text-green-500":"text-accent-900"," "),size:50})}),w(N,y)]}),f&&Object(i.jsxs)("div",{className:"pt-3",children:[Object(i.jsx)("div",{className:"p-1 px-2 rounded mt-2 border grid lg:grid-cols-3 gap-1 ",children:[{label:"Permutation Code: ",value:t.permutation_code,inline:!0},{label:"Position: ",value:"".concat(t.position_code," - ").concat(t.position_name),inline:!0},{label:"Qualification name: ",value:t.qualification_name,inline:!0},{label:"Qualification name: ",value:t.role,inline:!0},{label:"Initiated date: ",value:t.user_one_date,inline:!0},{label:"Accepted date: ",value:t.user_two_date,inline:!0}].map((function(e,t){return Object(i.jsxs)("section",{className:"border-b border-l pl-2 ".concat(!0===e.inline?"flex py-1 items-center":""),children:[Object(i.jsx)("span",{className:"text-sm text-gray-500 block",children:null===e||void 0===e?void 0:e.label}),Object(i.jsx)("h2",{className:" ".concat(!1===e.inline?"-mt-1":"pl-2"," font-bold block "),children:null===e||void 0===e?void 0:e.value})]},t)}))}),Object(i.jsxs)("div",{className:"grid grid-cols-2 pt-3 items-center",children:[Object(i.jsxs)("div",{className:"flex gap-1",children:[t.reb_status&&Object(i.jsxs)("section",{className:"flex items-center gap-1 px-2 py-0.5 rounded-lg  ".concat("Accepted"===t.permutation_status?"bg-green-100 text-green-900":"bg-accent-400 text-accent-900"),children:[Object(i.jsx)("span",{className:"text-xs opacity-70",children:"User status"}),Object(i.jsx)("h5",{className:"text  block  font-bold ",children:t.permutation_status})]}),t.reb_status&&Object(i.jsxs)("section",{className:"flex items-center gap-1 px-2 py-0.5 rounded-lg  ".concat("Approved"===t.reb_status?"bg-green-100 text-green-900":"bg-accent-400 text-accent-900"),children:[Object(i.jsx)("span",{className:"text-xs opacity-70",children:"REB status"}),Object(i.jsx)("h5",{className:"text  block  font-bold ",children:t.reb_status})]})]}),Object(i.jsxs)("div",{className:"text-right grid gap-2",children:[u&&Object(i.jsx)(l.a,{onClick:u.bind(o,t.permutation_id),loading:b,size:"lg",children:"Approve permutation"}),m&&Object(i.jsx)(i.Fragment,{children:"Approved"!==t.reb_status&&Object(i.jsx)(l.a,{onClick:m.bind(o,t.permutation_id),loading:b,size:"lg",children:"Approve permutation"})})]})]})]})]})}},190:function(e,t,s){"use strict";s.r(t),s.d(t,"CandidateSwaping",(function(){return v}));var a=s(30),r=s(31),c=s(32),n=s(33),l=s(2),i=s.n(l),o=s(13),d=s(17),u=s(10),m=s(57),h=s(27),b=s(26),j=s(34),x=s(44),p=s(35),_=s(43),g=s(1),f=function(e){var t=e.back,s=e.title;return Object(g.jsxs)("div",{className:"flex pt-2 border-b pb-2",children:[Object(g.jsxs)(b.a,{onClick:t,size:"sm",theme:"default",className:"flex flex-center items-center",children:[Object(g.jsx)(o.d,{size:20}),Object(g.jsx)("label",{className:"pl-1 flex-1 ",children:"Back"})]}),Object(g.jsx)("section",{className:"pl-3 text-gray-600",children:Object(g.jsxs)("h2",{className:"text-2xl ",children:[s," "]})})]})},O=s(136),N=function(e){Object(c.a)(s,e);var t=Object(n.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).setTab=function(e){return r.setState({selected_option:e})},r.cleanError=function(){setTimeout((function(){r.setState({error:{msg:"",target:null}})}),2e3)},r.componentDidMount=function(){r.appStart()},r.appStart=function(){if(!r.props.auth.user)return r.cleanError(),r.setState({error:{target:"main-error",msg:"Failed to load your permutations, please try again later"}});r.setState({loading_permutations:!0}),Object(m.b)(r.props.auth.user.user_id,(function(e,t,s){if(!0===e){if(!t.length)return r.cleanError(),r.setState({loading_permutations:!1,error:{target:"main-error",msg:s}});r.setState({loading_permutations:!1,my_permutations:t,error:{target:null,msg:""}})}else r.cleanError(),r.setState({loading_permutations:!1,error:{target:"main-error",msg:s}})}))},r.searchUser=function(e){return e.preventDefault(),r.props.auth.user?16!==r.state.search_nid.length?(r.setState({error:{target:"search-user-error",msg:"National Id must be 16 digits"}}),void r.cleanError()):(console.log("submit search"),r.props.auth.user.nid===r.state.search_nid?(r.setState({error:{target:"search-user-error",msg:"You can't search using your own NID, please use the NID of the other teacher"}}),void r.cleanError()):(r.setState({loading_user:!0,error:{target:null,msg:""}}),void Object(u.O)(r.state.search_nid,(function(e,t,s){var a;!0===e?null===t?r.setState({user_2:t,loading_user:!1,error:{target:"search-user-error",msg:null===t?"The NID you are using is not valid":s}}):t.position_code!==(null===(a=r.props.auth.position)||void 0===a?void 0:a.position_code)?r.setState({user_2:null,loading_user:!1,error:{target:"search-user-error",msg:"You don't have the same position with ".concat(t.full_name,", the permutation can't be done")}}):r.setState({user_2:t,loading_user:!1}):r.setState({loading_user:!1,error:{target:"search-user-error",msg:null===t?"The NID you are using is not valid":s}})})))):(r.setState({error:{target:"search-user-error",msg:"You are not authenticated, please refresh your browser"}}),void r.cleanError())},r.userApprovePermutationUser=function(e){null!==e&&window.confirm("Are you sure you want to confirm this permutation")&&(r.setState({loading_approve_permutation:!0}),Object(m.f)({permutation_id:e,permutation_status:"Accepted"},(function(e,t,s){!0===e?(r.setState({loading_approve_permutation:!1,error:{target:"approve-permutation-success",msg:"Your permutation has been approved successfully"}}),setTimeout((function(){r.appStart()}),2e3)):r.setState({error:{target:"approve-permutation-error",msg:s},loading_approve_permutation:!1})})))},r.generatePermutation=function(){var e,t,s;if(!window.confirm("Are you sure ".concat(null===(e=r.state.user_2)||void 0===e?void 0:e.full_name," is aware of this request?")))return window.alert("Please contact ".concat(null===(t=r.state.user_2)||void 0===t?void 0:t.full_name," and make sure he/she agree with your permutation request"));if(!r.props.auth.user||!r.props.auth.school)return r.setState({error:{target:"permutation-error",msg:"Please reload your browser"}});if(!r.props.basic.academic_calender)return r.setState({error:{target:"permutation-error",msg:"Academic information can't be loaded, please reload your browser"}});if(null===r.state.user_2)return r.setState({error:{target:"permutation-error",msg:"Academic information can't be loaded, please reload your browser"}});var a={academic_year_id:null===(s=r.props.basic.academic_calender)||void 0===s?void 0:s.academic_year_id,position_code:r.state.user_2.position_code?r.state.user_2.position_code:"",qualification_id:r.state.user_2.qualification_id?r.state.user_2.qualification_id:"",role_id:r.state.user_2.role_id?r.state.user_2.role_id:"",school_one:r.props.auth.school.school_code,school_two:r.state.user_2.school_code?r.state.user_2.school_code:"",user_one:r.props.auth.user.user_id,user_two:r.state.user_2.user_id?r.state.user_2.user_id:""};r.setState({loading_request:!0}),Object(m.a)(a,(function(e,t,s){!0===e?r.setState({loading_request:!1,res_data:t,transfer_success:!0}):r.setState({loading_request:!1,error:{msg:s,target:"permutation-error"}})}))},r.searchUserByCode=function(){r.setState({loading_user_by_code:!0,error:{target:null,msg:""},found_permutations:[]}),Object(m.e)(r.state.search_code,(function(e,t,s){!0===e?t.length<=0?(console.log("no data found"),r.setState({found_permutations:[],loading_user_by_code:!1,error:{target:"search-code-error",msg:"No permutation request found"}})):r.setState({found_permutations:t,loading_user_by_code:!1}):(r.setState({found_permutations:[],loading_user_by_code:!1,error:{target:"search-code-error",msg:s}}),r.cleanError())}))},r.state={loading:!1,selected_option:null,search_nid:"",loading_user:!1,user_2:null,error:{msg:"",target:null},loading_request:!1,transfer_success:!1,res_data:null,search_code:"",loading_user_by_code:!1,permutation:null,found_permutations:[],my_permutations:[],loading_permutations:!1,selected_permutation:null,loading_approve_permutation:!1,selected_permutation_list:""},r}return Object(r.a)(s,[{key:"render",value:function(){var e,t,s=this,a=this.state.my_permutations.find((function(e){var t;return e.academic_year_id===(null===(t=s.props.basic.academic_calender)||void 0===t?void 0:t.academic_year_id)}));return!0===this.state.transfer_success?Object(g.jsxs)(j.a,{className:"py-2 animate__animated animate__zoomIn animate__faster",children:[Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)(o.i,{className:"text-green-500 mx-auto",size:120}),Object(g.jsx)("h2",{className:"text-2xl font-bold pt-2 text-green-600",children:"Your Permutation request has been created!"}),Object(g.jsxs)("p",{className:"py-2 text-gray-600",children:["Now you need to send the code below to"," ",Object(g.jsx)("b",{children:null===(e=this.state.user_2)||void 0===e?void 0:e.full_name})," ",Object(g.jsx)("br",{}),"so that he/she can approve this transfer"]}),Object(g.jsxs)("div",{className:"mx-auto rounded my-1 border py-2 inline-block px-5 bg-gray-50",children:[Object(g.jsx)("h4",{className:"text-gray-500",children:"Permutation code:"}),Object(g.jsx)("h1",{className:"text-3xl font-bold",children:null===(t=this.state.res_data)||void 0===t?void 0:t.permutation_code})]})]}),Object(g.jsx)("div",{className:"text-right border-t py-3 mt-4",children:Object(g.jsx)(b.a,{theme:"accent-light",onClick:function(){return s.setState({transfer_success:!1})},children:"Go to permutation list"})})]}):this.props.auth.user?Object(g.jsxs)(g.Fragment,{children:[null===this.state.selected_option&&Object(g.jsxs)(g.Fragment,{children:[void 0===a&&!1===this.state.loading_permutations&&Object(g.jsxs)(j.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(g.jsx)(x.a,{className:" py-2 lg:pb-3 lg:pt-2 font-light text-center text-gray-500",children:"Permutations"}),Object(g.jsx)("div",{className:"pt-2 flex gap-3 flex-col lg:flex-row",children:[{icon:o.c,title:"Generate new permutation request",id:1,description:"You will need the id of the teacher you want to swap with.",onClick:function(){return s.setTab(1)}},{icon:o.L,title:"Find permutation by code",id:2,description:"You will need a code, that was generated by the other teacher",onClick:function(){return s.setTab(2)}}].map((function(e,t){var s=e.icon;return Object(g.jsxs)("div",{onClick:e.onClick,className:"p-2  group items-center rounded border flex flex-1 hover:bg-accent-400 cursor-pointer",children:[Object(g.jsx)("section",{className:"p-2 bg-accent-400 rounded group-hover:bg-accent-800 group-hover:text-white text-accent-800",children:Object(g.jsx)(s,{size:40})}),Object(g.jsxs)("section",{className:"flex-1 pl-3",children:[Object(g.jsx)("h2",{className:"text-xl  text-gray-900",children:e.title}),Object(g.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})]},t)}))})]}),!0===this.state.loading_permutations&&Object(g.jsx)("div",{className:"py-6 text-center text-6xl text-accent-800",children:Object(g.jsx)(_.a,{className:"mx-auto text-2xl"})}),!(0===this.state.my_permutations.length)&&Object(g.jsxs)(j.a,{transparent:!0,className:"mt-3 animate__animated animate__fadeIn animate__faster",children:[Object(g.jsxs)("h2",{className:"text-center text-3xl pb-2 font-bold text-gray-500",children:["My permutations"," ",Object(g.jsx)("b",{children:"(".concat(this.state.my_permutations.length,")")})]}),!0===this.state.loading_permutations?Object(g.jsx)("div",{className:"py-6 text-center text-8xl",children:Object(g.jsx)(_.a,{className:"mx-auto text-2xl"})}):this.state.my_permutations.length<=0?Object(g.jsxs)("div",{className:"py-4 text-center bg-white",children:[Object(g.jsx)("h2",{className:"text-6xl text-gray-600",children:Object(g.jsx)(o.gb,{className:"mx-auto"})}),Object(g.jsx)("h3",{className:"font-bold text-lg",children:"No permutation found!"}),Object(g.jsx)("h3",{className:"pt-1 text-gray-600",children:"Please try again later"})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"p-1 rounded",children:Object(g.jsxs)("table",{className:" w-full rounded",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{className:"bg-white",children:[Object(g.jsx)("th",{className:"border p-2 text-left",children:"#"}),Object(g.jsxs)("th",{className:"border p-2 text-left bg-blue-50",children:["Candidate 1"," ",Object(g.jsx)("span",{className:"text-xs bg-yellow-500 px-2 py-0.5 rounded-full",children:"Initiator"})]}),Object(g.jsx)("th",{className:"border p-2 text-left bg-blue-50",children:"School 1"}),Object(g.jsx)("th",{className:"border p-2 text-left bg-blue-50",children:"Candidate 1"}),Object(g.jsx)("th",{className:"border p-2 text-left bg-blue-50",children:"School 1"}),Object(g.jsx)("th",{className:"border p-2 text-left",children:"Users status"}),Object(g.jsx)("th",{className:"border p-2 text-left",children:"Dates"})]})}),Object(g.jsx)("tbody",{children:this.state.my_permutations.map((function(e,t){var a=e.usersInfo.find((function(t){return t.user_id===e.user_one})),r=e.usersInfo.find((function(t){return t.user_id===e.user_two})),c=e.schools.find((function(t){return t.school_code===e.school_one})),n=e.schools.find((function(t){return t.school_code===e.school_two}));return s.state.selected_permutation_list===e.permutation_id?Object(g.jsx)("tr",{className:"",children:Object(g.jsx)("td",{colSpan:30,className:"pt-1",children:Object(g.jsx)(O.a,{more:!0,permutation:e})})},t):Object(g.jsxs)(l.Fragment,{children:[Object(g.jsx)("tr",{children:Object(g.jsx)("td",{className:"p-1"})}),Object(g.jsxs)("tr",{className:"hover:bg-blue-200 cursor-pointer bg-white my-2",onClick:function(){return s.setState({selected_permutation_list:e.permutation_id+""})},children:[Object(g.jsx)("td",{className:"border p-2",children:t+1}),Object(g.jsxs)("td",{className:"border p-2 bg-blue-100 opacity-70",children:[Object(g.jsx)("h6",{className:"font-bold",children:null===a||void 0===a?void 0:a.full_name}),Object(g.jsx)("span",{title:"Staff code",className:"text-sm text-gray-400",children:null===a||void 0===a?void 0:a.staff_code})]}),Object(g.jsxs)("td",{className:"border p-2 bg-blue-200 opacity-90",children:[Object(g.jsx)("h6",{className:"font-bold",children:null===c||void 0===c?void 0:c.school_name}),Object(g.jsx)("span",{title:"School code",className:"text-sm text-gray-400",children:e.school_one})]}),Object(g.jsxs)("td",{className:"border p-2 bg-indigo-100 opacity-70",children:[Object(g.jsx)("h6",{className:"font-bold",children:null===r||void 0===r?void 0:r.full_name}),Object(g.jsx)("span",{title:"Staff code",className:"text-sm text-gray-400",children:null===r||void 0===r?void 0:r.staff_code})]}),Object(g.jsxs)("td",{className:"border p-2 bg-indigo-200 opacity-90",children:[Object(g.jsx)("h6",{className:"font-bold",children:null===n||void 0===n?void 0:n.school_name}),Object(g.jsx)("span",{title:"School code",className:"text-sm text-gray-400",children:e.school_two})]}),Object(g.jsxs)("td",{className:"border p-2",children:[Object(g.jsxs)("h6",{className:"text-sm",children:["User: ",Object(g.jsx)("b",{children:e.permutation_status})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("h6",{className:"text-sm",children:["REB: ",Object(g.jsx)("b",{children:e.reb_status})]})]}),Object(g.jsxs)("td",{className:"border p-2",children:[Object(g.jsxs)("h6",{className:"text-sm",children:["Created: ",Object(g.jsx)("b",{children:e.user_one_date})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("h6",{className:"text-sm",children:["User 2: ",Object(g.jsx)("b",{children:e.user_two_date})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("h6",{className:"text-sm",children:["REB: ",Object(g.jsx)("b",{children:e.user_two_date})]})]})]})]},t)}))})]})})})]})]}),1===this.state.selected_option&&Object(g.jsxs)(j.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(g.jsx)(f,{title:"Generate new permutation request",back:function(){if(null!==s.state.user_2)return s.setState({user_2:null});s.setTab(null)}}),null===this.state.user_2&&Object(g.jsxs)("div",{className:"py-6 text-center",children:[Object(g.jsx)(o.b,{size:70,className:"mx-auto text-gray-400"}),Object(g.jsx)("h3",{className:"font-bold text-gray-700 text-2xl pt-2",children:"Who do you want to swap with?"}),Object(g.jsxs)("p",{className:"pt-1 text-gray-600",children:["Make sure that he/she is aware that you are choosing him/her",Object(g.jsx)("br",{}),"If he/she does not know the about this your request will not reach him/her"]}),Object(g.jsxs)("div",{className:"max-w-screen-sm mx-auto mt-3 ",children:["search-user-error"===this.state.error.target&&Object(g.jsx)(h.a,{theme:"danger",children:this.state.error.msg}),Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:this.searchUser,className:"pt-2 flex gap-1 items-center pb-1 w-full bg-gray-100 px-3 rounded  ".concat("search-user-error"===this.state.error.target?"animate__animated  animate__shakeX":""),children:[Object(g.jsx)(p.a,{onChange:function(e){s.state.search_nid.length<17&&s.setState({search_nid:e.target.value})},className:"flex-1",value:this.state.search_nid,error:"",label:"",placeholder:"",name:"",type:"number"}),Object(g.jsx)(b.a,{size:"lg",className:"w-48",loading:this.state.loading_user,type:"submit",children:"Search user"})]})})]})]}),null!==this.state.user_2&&Object(g.jsxs)(g.Fragment,{children:[" ",!0===this.state.loading_user?Object(g.jsx)("div",{className:"py-6 mx-auto text-center",children:Object(g.jsx)(_.a,{})}):Object(g.jsxs)("div",{className:"p-2 animate__animated animate__fadeIn animate__faster",children:[Object(g.jsxs)("div",{className:" flex pt-2",children:[Object(g.jsx)("div",{className:"",children:Object(g.jsx)(o.a,{size:120,className:"text-gray-400"})}),Object(g.jsxs)("div",{className:"pl-3 flex-1",children:[Object(g.jsx)("h3",{className:"pb-0.5 text-xl font-bold text-gray-600 border-b mb-2",children:"User details"}),Object(g.jsxs)("section",{className:"flex items-center pb-0.5",children:[Object(g.jsx)("label",{className:"text-sm text-gray-500 mb-0",children:"NID:"}),Object(g.jsx)("h4",{className:"font-bold pl-1",children:this.state.user_2.nid})]}),Object(g.jsxs)("section",{className:"flex items-center pb-0.5",children:[Object(g.jsx)("label",{className:"text-sm text-gray-500 mb-0",children:"Staff code:"}),Object(g.jsx)("h4",{className:"font-bold pl-1",children:this.state.user_2.staff_code})]}),Object(g.jsxs)("section",{className:"flex items-center pb-0.5",children:[Object(g.jsx)("label",{className:"text-sm text-gray-500",children:"Teacher names:"}),Object(g.jsx)("h4",{className:"font-bold pl-1",children:this.state.user_2.full_name})]})]}),Object(g.jsxs)("div",{className:"pl-3 flex-1",children:[Object(g.jsx)("h3",{className:"pb-0.5 text-xl font-bold text-gray-600 border-b mb-2",children:"Academic details"}),Object(g.jsxs)("section",{className:"flex items-center pb-0.5",children:[Object(g.jsx)("label",{className:"text-sm text-gray-500 mb-0",children:"School code:"}),Object(g.jsx)("h4",{className:"font-bold pl-1",children:this.state.user_2.school_code})]}),Object(g.jsxs)("section",{className:"flex items-center pb-0.5",children:[Object(g.jsx)("label",{className:"text-sm text-gray-500",children:"School name:"}),Object(g.jsx)("h4",{className:"font-bold pl-1",children:this.state.user_2.school_name})]}),Object(g.jsxs)("section",{className:"flex items-center pb-0.5",children:[Object(g.jsx)("label",{className:"text-sm text-gray-500",children:"School location:"}),Object(g.jsx)("h4",{className:"font-bold pl-1",children:this.state.user_2.district_name})]}),Object(g.jsxs)("section",{className:"flex items-center pb-0.5",children:[Object(g.jsx)("label",{className:"text-sm text-gray-500 mb-0",children:"Position code:"}),Object(g.jsx)("h4",{className:"font-bold pl-1",children:this.state.user_2.position_code})]})]})]}),Object(g.jsx)("div",{className:"p-1 text-right border-t pt-2 mt-2",children:Object(g.jsx)(b.a,{onClick:this.generatePermutation,loading:this.state.loading_request,children:"Generate permutation request"})})]})]})]}),2===this.state.selected_option&&Object(g.jsx)(g.Fragment,{children:0===this.state.found_permutations.length?Object(g.jsxs)(j.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(g.jsx)(f,{title:"Find permutation by code",back:this.setTab.bind(this,null)}),Object(g.jsx)("div",{className:"p-2",children:Object(g.jsxs)("div",{className:"py-6 text-center",children:[Object(g.jsx)(o.L,{size:70,className:"mx-auto text-gray-400"}),Object(g.jsx)("h3",{className:"font-bold text-gray-700 text-2xl pt-2",children:"Find the permutation?"}),Object(g.jsx)("p",{className:"pt-1 text-gray-600",children:"Please enter the code your friend gave you below"}),Object(g.jsxs)("div",{className:"w-80 mx-auto mt-3 ",children:["search-code-error"===this.state.error.target&&Object(g.jsx)(h.a,{theme:"danger",children:this.state.error.msg}),Object(g.jsxs)("div",{className:"pt-2  flex gap-1 items-center pb-1 w-full bg-gray-100 px-3 rounded  ".concat("search-code-error"===this.state.error.target?"animate__animated  animate__shakeX":""),children:[Object(g.jsx)(p.a,{onChange:function(e){s.setState({search_code:e.target.value,error:{msg:"",target:null}})},disabled:this.state.loading_user_by_code,className:"flex-1",value:this.state.search_code,error:"",label:"",size:"lg",placeholder:"",name:"",type:"number",Input_className:""}),Object(g.jsx)(b.a,{size:"lg",className:"w-",loading:this.state.loading_user_by_code,onClick:this.searchUserByCode,children:"Check"})]})]})]})})]}):Object(g.jsxs)(j.a,{children:[Object(g.jsxs)("div",{className:"flex border-b p-2 mb-2 ",children:[Object(g.jsx)("h3",{className:"text-2xl font-bold text-gray flex-1",children:"Permutation"}),Object(g.jsx)(b.a,{theme:"danger-light",onClick:function(){return s.setState({found_permutations:[]})},children:"Close"})]}),Object(g.jsx)("div",{className:"",children:this.state.found_permutations.map((function(e,t){return Object(g.jsx)(O.a,{more:!0,permutation:e,approveUser:s.userApprovePermutationUser},t)}))})]})}),"approve-permutation-success"===this.state.error.target&&Object(g.jsx)(h.a,{fixed:!0,theme:"success",children:this.state.error.msg})]}):Object(g.jsx)(j.a,{children:Object(g.jsx)(h.a,{children:"Please refresh your account or login"})})}}]),s}(i.a.Component),v=Object(d.b)((function(e){return{auth:e.auth,basic:e.basic}}),{})(N)}}]);
//# sourceMappingURL=40.69962c8d.chunk.js.map