{"version":3,"sources":["components/SchoolPositions/AddSchoolPositions.tsx","containers/AssignSchoolPosition/AssignSchoolPosition.tsx"],"names":["AddSchoolPositions","props","addPositionToSchool","position","setState","schoolPositionsTemp","state","filter","itm","position_id","addSchoolPositions","a","window","confirm","length","undefined","school","auth","setAxiosToken","newPositions","loading","newP","push","school_code","position_code","console","log","axios","post","APP_URL","appendPositionsToSchool","success","error","alert","errorToText","RemoveSchoolPosition","school_has_position_id","res","status","removePositionsToSchool","searchPositionValue","edit","className","this","onClick","theme","close","onChange","e","target","value","placeholder","type","name","label","search","positions","find","test","map","item","i","position_name","qualification_name","school_name","schoolPositions","Component","_AssignSchoolPosition","componentDidMount","basic","FC_GetAllPositions","msg","loading_data","academic_calender","FC_GetSchoolPositions","academic_year_id","data","schoolPositionsShow","school_id","school_positions","school_category","schoolcategory","school_status","schoolstatus","region_code","regioncode","AssignSchoolPosition","connect","schoolHierarchyStore","FC_AllSchoolHierarchyDetails"],"mappings":"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","file":"static/js/28.13698aad.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { MdCheckBoxOutlineBlank, MdClose, MdSearch } from \"react-icons/md\";\nimport { Auth, SchoolData } from \"../../actions\";\nimport { SchoolPositionApiResponse } from \"../../types/HeadTeacherRequesTypes\";\nimport TextInput from \"../Inputs/TextInput\";\nimport { BsFillCheckSquareFill } from \"react-icons/bs\";\nimport { FiSearch } from \"react-icons/fi\";\nimport { ImCheckboxUnchecked } from \"react-icons/im\";\nimport { APP_URL } from \"../../config/app.config\";\nimport axios from \"axios\";\nimport { setAxiosToken } from \"../../utils/AxiosToken\";\nimport { PositionsOnSchool } from \"../../containers/Head-Teacher/Request/HeadTeacherRequestToDee\";\nimport { search } from \"../../utils/functions\";\nimport Button from \"../Buttons/Button\";\nimport { errorToText } from \"../../utils/errors\";\n\ninterface AddSchoolPositionsProps {\n  auth: Auth;\n  positions: SchoolPositionApiResponse[];\n  schoolPositions: PositionsOnSchool[];\n  appendPositionsToSchool: (\n    schoolPositions: SchoolPositionApiResponse[]\n  ) => void;\n  removePositionsToSchool: (school_has_position_id: string) => void;\n  close?: () => void;\n  school?: SchoolData;\n}\n\ninterface AddSchoolPositionsState {\n  searchPositionValue: string;\n  schoolPositionsTemp: SchoolPositionApiResponse[];\n  edit: boolean;\n  loading: boolean;\n  success: string;\n  error: string;\n}\n\nexport class AddSchoolPositions extends Component<\n  AddSchoolPositionsProps,\n  AddSchoolPositionsState\n> {\n  constructor(props: AddSchoolPositionsProps) {\n    super(props);\n\n    this.state = {\n      searchPositionValue: \"\",\n      schoolPositionsTemp: [],\n      edit: false,\n      loading: false,\n      success: \"\",\n      error: \"\",\n    };\n  }\n  addPositionToSchool = (position: SchoolPositionApiResponse) => {\n    this.setState({\n      schoolPositionsTemp: [\n        position,\n        ...this.state.schoolPositionsTemp.filter(\n          (itm) => itm.position_id !== position.position_id\n        ),\n      ],\n    });\n  };\n  addSchoolPositions = async () => {\n    if (\n      window.confirm(\"Are you sure do you want to add these positions?\") ===\n      true\n    ) {\n      if (\n        this.state.schoolPositionsTemp.length > 0 &&\n        this.props.school === undefined\n          ? this.props.auth.school\n          : this.props.school\n      ) {\n        setAxiosToken();\n        let newPositions = [];\n        this.setState({ loading: true });\n        for (let newP of this.state.schoolPositionsTemp) {\n          newPositions.push({\n            school_code:\n              this.props.school === undefined\n                ? this.props.auth.school!.school_code\n                : this.props.school.school_code,\n            position_code: newP.position_code,\n          });\n        }\n        console.log(\"Positions codes: \", newPositions);\n        try {\n          await axios.post(`${APP_URL}/schoolposition/assign`, newPositions);\n          this.props.appendPositionsToSchool(this.state.schoolPositionsTemp);\n          this.setState({ schoolPositionsTemp: [] });\n          this.setState({ loading: false });\n          this.setState({\n            success: \"Positions added successfully!\",\n            error: \"\",\n          });\n          alert(\"Positions added successfully!\");\n        } catch (error: any) {\n          this.setState({ loading: false });\n          this.setState({ success: \"\", error: errorToText(error) });\n          console.log(\"Err: \", { ...error });\n        }\n      }\n    }\n  };\n  RemoveSchoolPosition = async (\n    school_has_position_id: string,\n    school_code: string\n  ) => {\n    if (\n      school_code !== \"\" &&\n      window.confirm(\"Are you sure do you want to remove this position\") ===\n        true\n    ) {\n      this.setState({ loading: true });\n      try {\n        const res = await axios.post(\n          `${APP_URL}/schoolposition/delete/${school_has_position_id}`,\n          {\n            school_code: school_code,\n          }\n        );\n        console.log(\"Delete status: \", res.status);\n        if (res.status === 200) {\n          this.setState({\n            success: \"Positions added successfully!\",\n            error: \"\",\n          });\n          this.props.removePositionsToSchool(school_has_position_id);\n        } else {\n          this.setState({\n            success: \"\",\n            error: \"Something went wrong! try again\",\n          });\n        }\n      } catch (error: any) {\n        this.setState({\n          success: \"\",\n          error: errorToText(error),\n        });\n        this.setState({ loading: false });\n        console.log(\"Err: \", { ...error });\n      }\n    }\n  };\n  render() {\n    return (\n      <div>\n        <div className=\"bg-white dark:bg-dark-800 p-3 rounded\">\n          <div className=\"flex flex-row items-center justify-between\">\n            <div className=\"flex flex-col\">\n              <span className=\"text-2xl font-bold text-gray-600\">\n                {this.state.edit === true\n                  ? \"Assign positions to school\"\n                  : \"School positions list\"}\n              </span>\n              <div>\n                <Button\n                  onClick={() => this.setState({ edit: !this.state.edit })}\n                  theme={this.state.edit === true ? \"default\" : \"accent\"}\n                >\n                  {this.state.edit === true\n                    ? \"Back to list\"\n                    : \"Add new positions\"}\n                </Button>\n              </div>\n            </div>\n            <div>\n              <div\n                onClick={() => this.props.close && this.props.close()}\n                className=\"bg-gray-100 hover:bg-yellow-100 flex items-center justify-center p-1 cursor-pointer rounded-full\"\n              >\n                <MdClose className=\"text-3xl\" />\n              </div>\n            </div>\n          </div>\n          {this.state.success !== \"\" && (\n            <div\n              onClick={() => this.setState({ success: \"\" })}\n              className=\"bg-green-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight\"\n            >\n              <div className=\"flex flex-row justify-between items-center gap-8\">\n                <div>Success: {this.state.success}</div>\n                <div>\n                  <MdClose className=\"text-2xl text-red-600 bg-red-100 rounded-full\" />\n                </div>\n              </div>\n            </div>\n          )}\n          {this.state.error !== \"\" && (\n            <div\n              onClick={() => this.setState({ error: \"\" })}\n              className=\"bg-red-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight\"\n            >\n              <div className=\"flex flex-row justify-between items-center gap-8\">\n                <div>Error: {this.state.error}</div>\n                <div>\n                  <MdClose className=\"text-2xl text-red-600 bg-red-100 rounded-full\" />\n                </div>\n              </div>\n            </div>\n          )}\n          <div\n            className={`grid md:grid-cols-${\n              this.state.edit === true ? \"2\" : \"1\"\n            }`}\n          >\n            <div\n              className={`col-span-1 border-r pr-2 ${\n                this.state.edit === true ? \"\" : \"hidden\"\n              }`}\n            >\n              {/* <div>\n                <span className=\"text-sm\">\n                  Positions list, Select a position\n                </span>\n              </div> */}\n              <div className=\"\">\n                <TextInput\n                  onChange={(e) =>\n                    this.setState({ searchPositionValue: e.target.value })\n                  }\n                  error={\"\"}\n                  placeholder=\"Search position...\"\n                  value={this.state.searchPositionValue}\n                  type=\"search\"\n                  name=\"post\"\n                  label=\"Search\"\n                />\n              </div>\n              <div className=\"h-screen overflow-y-auto\">\n                {search(this.props.positions, this.state.searchPositionValue)\n                  .length === 0 ? (\n                  <div>No positions found!</div>\n                ) : (\n                  (\n                    search(\n                      this.props.positions,\n                      this.state.searchPositionValue\n                    ) as SchoolPositionApiResponse[]\n                  )\n                    .filter(\n                      (itm) =>\n                        itm.position_id !==\n                        this.state.schoolPositionsTemp.find(\n                          (test) => test.position_id === itm.position_id\n                        )?.position_id\n                    )\n                    .map((item, i) => (\n                      <div\n                        key={i + 1}\n                        className=\"border border-gray-300 px-3 py-2 flex flex- justify-between group bg-white hover:bg-blue-50 hover:border-blue-300 gap-3  items-center cursor-pointer my-1 rounded\"\n                        onClick={() => {\n                          this.addPositionToSchool(item);\n                        }}\n                      >\n                        <div className=\"flex flex-col\">\n                          <span className=\"text-base font-bold text-gray-700 group-hover:text-primary-800\">\n                            {item.position_name}({item.qualification_name})\n                          </span>\n                          {/* <div className=\"text-sm text-gray-400\">\n                            School level:{\" \"}\n                            <span className={`text-black`}>\n                              {item.school_level_name}\n                            </span>\n                          </div> */}\n                        </div>\n                        <div className=\"\">\n                          <div className=\"bg-blue-100 text-primary px-3 py-1 rounded cursor-pointer text-base text-primary-800 group-hover:text-white group-hover:bg-primary-800\">\n                            Select\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                )}\n              </div>\n            </div>\n            {/* Right col */}\n            <div className=\"col-span-1 px-3\">\n              {\" \"}\n              {/* RiHome6Fill : School home icon later */}\n              <div className=\"flex flex-col border-b pb-3 border-accent-900\">\n                <span>School</span>\n                <div className=\"flex flex-row items-center justify-between\">\n                  <span className=\"text-accent-900 text-xl font-bold\">\n                    {this.props.school === undefined\n                      ? this.props.auth.school?.school_name\n                      : this.props.school.school_name}{\" \"}\n                    (\n                    {this.props.school === undefined\n                      ? this.props.auth.school?.school_code\n                      : this.props.school.school_code}\n                    )\n                  </span>\n                  <div className=\"font-bold text-2xl\">\n                    {\n                      [\n                        ...this.state.schoolPositionsTemp,\n                        ...this.props.schoolPositions,\n                      ].length\n                    }\n                  </div>\n                </div>\n              </div>\n              {/* <div>\n                <span className=\"text-primary-800 font-bold text-lg\">\n                  School positions\n                </span>\n              </div> */}\n              {/* School positions */}\n              <div className=\"mt-3\">\n                {[\n                  ...this.state.schoolPositionsTemp,\n                  ...this.props.schoolPositions,\n                ].length === 0 ? (\n                  <div className=\"flex flex-col bg-gray-100 w-full justify-center items-center rounded-md p-4\">\n                    <div className=\"text-7xl text-gray-400\">\n                      <FiSearch />\n                    </div>\n                    <span className=\"text-3xl text-black\">\n                      School positions not found\n                    </span>\n                    <span className=\"text-sm text-gray-600\">\n                      This school has no positions assigned to it. Please select\n                      positions\n                    </span>\n                  </div>\n                ) : (\n                  <div>\n                    {this.state.schoolPositionsTemp.length !== 0 && (\n                      <div className=\"text-xl text-primary-800 my-3 font-bold\">\n                        New pending\n                      </div>\n                    )}\n                    {this.state.schoolPositionsTemp.map((item, i) => (\n                      <div\n                        key={i + 1}\n                        className={`border rounded-md px-3 py-2 mb-2 group cursor-pointer ${\n                          this.state.schoolPositionsTemp.find(\n                            (itm) => itm.position_id === item.position_id\n                          ) !== undefined\n                            ? \"bg-yellow-50 border-yellow-400\"\n                            : \"bg-blue-50 border-blue-400 hover:bg-blue-100\"\n                        } `}\n                      >\n                        <div className=\"flex flex-row items-center justify-between\">\n                          <span className=\"text-lg font-bold\">\n                            {item.position_name} ({item.qualification_name})\n                          </span>\n                          <div className=\"\">\n                            <div\n                              onClick={() => {\n                                this.setState({\n                                  schoolPositionsTemp:\n                                    this.state.schoolPositionsTemp.filter(\n                                      (itm) =>\n                                        itm.position_id !== item.position_id\n                                    ),\n                                });\n                              }}\n                              className=\"bg-white text-accent-900 px-3 py-1 rounded cursor-pointer text-base border border-yellow-400\"\n                            >\n                              Remove\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* <div className=\"text-sm\">\n                          School level:{\" \"}\n                          <span\n                            className={`font-bold ${\n                              this.state.schoolPositionsTemp.find(\n                                (itm) => itm.position_id === item.position_id\n                              ) !== undefined\n                                ? \"text-accent-900\"\n                                : \"text-primary-800\"\n                            }`}\n                          >\n                            {item.school_level_name}\n                          </span>\n                        </div> */}\n                      </div>\n                    ))}\n                    {this.state.schoolPositionsTemp.length !== 0 && (\n                      <div>\n                        <div\n                          onClick={() => {\n                            this.addSchoolPositions();\n                          }}\n                          className=\"bg-primary-800 text-white hover:bg-blue-900 px-4 py-2 rounded w-max cursor-pointer\"\n                        >\n                          Submit positions\n                        </div>\n                      </div>\n                    )}\n                    {this.props.schoolPositions.length !== 0 && (\n                      <div className=\"font-bold text-lg text-gray-500 my-3\">\n                        List of school position\n                      </div>\n                    )}\n                    {this.props.schoolPositions.map((item, i) => (\n                      <div\n                        key={i + 1}\n                        className={`border rounded-md px-3 py-2 mb-2 group cursor-pointer ${\n                          this.state.schoolPositionsTemp.find(\n                            (itm) => itm.position_code === item.position_code\n                          ) !== undefined\n                            ? \"bg-yellow-50 border-yellow-400\"\n                            : \"bg-blue-50 border-blue-400 hover:bg-blue-100\"\n                        } flex flex-row items-center justify-between gap-4`}\n                      >\n                        <div className=\"\">\n                          <div className=\"flex flex-row items-center justify-between\">\n                            <span className=\"text-lg font-bold\">\n                              {item.position_name} ({item.qualification_name})\n                            </span>\n                          </div>\n\n                          {/* <div className=\"text-sm\">\n                            School level:{\" \"}\n                            <span\n                              className={`font-bold ${\n                                this.state.schoolPositionsTemp.find(\n                                  (itm) =>\n                                    itm.position_code === item.position_code\n                                ) !== undefined\n                                  ? \"text-accent-900\"\n                                  : \"text-primary-800\"\n                              }`}\n                            >\n                              {item.school_level_name}\n                            </span>\n                          </div> */}\n                        </div>\n                        <div>\n                          <div\n                            onClick={() =>\n                              this.RemoveSchoolPosition(\n                                item.school_has_position_id,\n                                item.school_code\n                              )\n                            }\n                            className=\"bg-white border border-white text-red-800 group-hover:border-red-500 px-3 py-2 font-bold text-center rounded\"\n                          >\n                            Remove\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddSchoolPositions;\n","import React, { Component } from \"react\";\nimport Container from \"../../components/ContainerComponents/Container\";\nimport DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport AddSchoolPositions from \"../../components/SchoolPositions/AddSchoolPositions\";\nimport { connect } from \"react-redux\";\nimport {\n  SchoolData,\n  Auth,\n  Basic,\n  FC_GetSchoolsByDistrict,\n  FC_GetAllPositions,\n  FC_GetSchoolPositions,\n  FC_AllSchoolHierarchyDetails,\n  SchoolHierarchyStore,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\nimport { StoreState } from \"../../reducers\";\nimport {\n  PositionsOnSchool,\n  SchoolPositionsCombination,\n} from \"../Head-Teacher/Request/HeadTeacherRequestToDee\";\nimport { SchoolPositionApiResponse } from \"../../types/HeadTeacherRequesTypes\";\nimport Loading from \"../../components/Loading/Loading\";\n\ninterface AssignSchoolPositionProps {\n  auth: Auth;\n  basic: Basic;\n  FC_GetAllPositions: (\n    callBack: (status: boolean, msg: string) => void\n  ) => void;\n  schoolHierarchyStore: SchoolHierarchyStore;\n  FC_AllSchoolHierarchyDetails: (\n    callBack: (status: boolean, msg: string) => void\n  ) => void;\n}\ninterface AssignSchoolPositionState {\n  loading_data: boolean;\n  schoolPositionsShow: {\n    school_code: string;\n    school_id: string;\n    school: SchoolData;\n    school_positions: PositionsOnSchool[];\n  } | null;\n}\n\nexport class _AssignSchoolPosition extends Component<\n  AssignSchoolPositionProps,\n  AssignSchoolPositionState\n> {\n  constructor(props: AssignSchoolPositionProps) {\n    super(props);\n\n    this.state = {\n      loading_data: false,\n      schoolPositionsShow: null,\n    };\n  }\n  componentDidMount = () => {\n    // Check if positions Available\n    if (this.props.basic.positions === null) {\n      this.props.FC_GetAllPositions((status: boolean, msg: string) => {\n        this.setState({ loading_data: true });\n        if (status === true) {\n          this.setState({ loading_data: false });\n        }\n        console.log(status);\n      });\n    }\n    if (this.props.basic.academic_calender && this.props.auth.school) {\n      FC_GetSchoolPositions(\n        this.props.auth.school.school_code,\n        this.props.basic.academic_calender.academic_year_id,\n        (\n          status: boolean,\n          data: SchoolPositionsCombination | null,\n          msg: string\n        ) => {\n          if (data !== null) {\n            this.setState({ loading_data: true });\n            if (status === true && this.props.auth.school !== null) {\n              this.setState({\n                schoolPositionsShow: {\n                  school_code: this.props.auth.school?.school_code,\n                  school_id: this.props.auth.school.school_code, //to be added on the profile\n                  school_positions: data.school_positions,\n                  school: {\n                    school_id: this.props.auth.school.school_code,\n                    school_code: this.props.auth.school.school_code,\n                    school_name: this.props.auth.school.school_name,\n                    school_category: this.props.auth.school.schoolcategory,\n                    school_status: this.props.auth.school.schoolstatus,\n                    region_code: this.props.auth.school.regioncode,\n                  },\n                },\n              });\n              this.setState({\n                loading_data: false,\n              });\n            }\n          }\n        }\n      );\n    }\n  };\n  render() {\n    if (\n      this.state.loading_data === true ||\n      this.props.basic.positions === null ||\n      this.state.schoolPositionsShow === null\n    ) {\n      return (\n        <DashboardContainer>\n          <div className=\"mx-auto p-8 flex flex-col items-center justify-center\">\n            <div>Loading, please wait...</div>\n            <Loading />\n          </div>\n        </DashboardContainer>\n      );\n    }\n    return (\n      <DashboardContainer>\n        <div className=\"\">\n          {this.state.schoolPositionsShow !== null &&\n            this.props.basic.positions !== null && (\n              <AddSchoolPositions\n                auth={this.props.auth}\n                positions={this.props.basic.positions}\n                schoolPositions={\n                  this.state.schoolPositionsShow.school_positions\n                }\n                school={this.state.schoolPositionsShow.school}\n                appendPositionsToSchool={(\n                  schoolPositions: SchoolPositionApiResponse[]\n                ) => {\n                  if (\n                    this.state.schoolPositionsShow &&\n                    this.props.basic.academic_calender\n                  ) {\n                    FC_GetSchoolPositions(\n                      this.state.schoolPositionsShow.school_code,\n                      this.props.basic.academic_calender.academic_year_id,\n                      (\n                        status: boolean,\n                        data: SchoolPositionsCombination | null,\n                        msg: string\n                      ) => {\n                        if (data !== null) {\n                          this.setState({ loading_data: true });\n                          if (status === true) {\n                            this.state.schoolPositionsShow &&\n                              this.setState({\n                                schoolPositionsShow: {\n                                  school_code:\n                                    this.state.schoolPositionsShow.school_code,\n                                  school_id:\n                                    this.state.schoolPositionsShow.school_id,\n                                  school_positions: data.school_positions,\n                                  school: this.state.schoolPositionsShow.school,\n                                },\n                              });\n                            this.setState({\n                              loading_data: false,\n                            });\n                          }\n                        }\n                      }\n                    );\n                  }\n                }}\n                removePositionsToSchool={(school_has_position_id: string) => {\n                  if (\n                    this.state.schoolPositionsShow &&\n                    this.props.basic.academic_calender\n                  ) {\n                    FC_GetSchoolPositions(\n                      this.state.schoolPositionsShow.school_code,\n                      this.props.basic.academic_calender.academic_year_id,\n                      (\n                        status: boolean,\n                        data: SchoolPositionsCombination | null,\n                        msg: string\n                      ) => {\n                        if (data !== null) {\n                          this.setState({ loading_data: true });\n                          if (status === true) {\n                            this.state.schoolPositionsShow &&\n                              this.setState({\n                                schoolPositionsShow: {\n                                  school_code:\n                                    this.state.schoolPositionsShow.school_code,\n                                  school_id:\n                                    this.state.schoolPositionsShow.school_id,\n                                  school_positions: data.school_positions,\n                                  school: this.state.schoolPositionsShow.school,\n                                },\n                              });\n                            this.setState({\n                              loading_data: false,\n                            });\n                          }\n                        }\n                      }\n                    );\n                  }\n                }}\n                close={() => {}}\n              />\n            )}\n        </div>\n      </DashboardContainer>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  basic,\n  schoolHierarchyStore,\n}: StoreState): {\n  auth: Auth;\n  basic: Basic;\n  schoolHierarchyStore: SchoolHierarchyStore;\n} => {\n  return {\n    auth: auth,\n    basic: basic,\n    schoolHierarchyStore: schoolHierarchyStore,\n  };\n};\n\nexport const AssignSchoolPosition = connect(mapStateToProps, {\n  FC_GetAllPositions,\n  FC_AllSchoolHierarchyDetails,\n})(_AssignSchoolPosition);\n"],"sourceRoot":""}