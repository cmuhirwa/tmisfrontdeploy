{"version":3,"sources":["containers/ApproveDocuments/ApproveDocuments.tsx"],"names":["defaultError","target","msg","_ApproveDocuments","props","setDocumentDecision","document_id","decision","window","confirm","auth","user","user_id","setState","error","loading_document_decision","FC_ApproveDocument","disability","residence","teacher_transfer_id","status","data","documents","state","filter","el","clearAlert","changeStatus","value","selected_district","loadingData","district_code","setTimeout","paginateData","page","district","loading","selected_document_id","FC_GetDocuments","limit","status_req","teacher_docs","total","total_transfer","next","previous","getTotalDistrictsNumber","loading_disabled_by_district","documents_by_districts","total_disabled_by_district","total_validated","FC_TransferDocumentByDisability","districts","openLink","link","open","APP_URL_FILE","loading_districts","search_district","selected_user","decision_disability","decision_residence","loading_document_file","FC_GetDistrictList","this","total_pages","toFixed","foundDocument","find","transf","DistrictResults","search","district_name","className","label","name","onChange","e","placeholder","length","map","dist","FoundDocuments","onClick","selectDistrict","bind","theme","fixed","undefined","backDrop","Themes","default","close","backDropClose","widthSizeClass","ModalSize","maxWidth","displayClose","title","full_name","padding","body","footer","file_url","disability_surpoting_document","class_name","frame_title","setLoadingFile","full_height","dob","hire_date","martial_status","position_name","qualification_name","resident_district_name","role","school_name","i","size","href","rel","download","colSpan","itm","school_from_id","position_id","Array","fill","React","Component","ApproveDocuments","connect"],"mappings":"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","file":"static/js/58.6088d8a2.chunk.js","sourcesContent":["import React from \"react\";\nimport { ImSad } from \"react-icons/im\";\nimport { MdAccountCircle, MdOutlineArrowForward } from \"react-icons/md\";\nimport { connect } from \"react-redux\";\n// import { Link } from \"react-router-dom\";\nimport {\n  Auth,\n  DistrictList,\n  DocumentCandidate,\n  DocumentsValidationType,\n  FC_ApproveDocument,\n  FC_GetDistrictList,\n  FC_GetDocuments,\n  FC_TransferDocumentByDisability,\n  TransferDisabilityList,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\nimport Button from \"../../components/Buttons/Button\";\nimport DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport Heading from \"../../components/Heading/Heading\";\nimport TextInput from \"../../components/Inputs/TextInput\";\nimport Loading from \"../../components/Loading/Loading\";\nimport Modal, { ModalSize, Themes } from \"../../components/Modal/Modal\";\nimport PdfViewer from \"../../components/PdfViewer/PdfViewer\";\nimport { APP_URL_FILE } from \"../../config/app.config\";\nimport { StoreState } from \"../../reducers\";\nimport { search } from \"../../utils/functions\";\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n}\n\ninterface AppState {\n  loading: boolean;\n  error: {\n    target: \"main-error\" | \"main-success\" | null;\n    msg: string;\n  };\n  limit: number;\n  page: number;\n  documents: DocumentCandidate[];\n  districts: DistrictList[];\n  total: number;\n  selected_user: string;\n  decision_residence: boolean | null;\n  decision_disability: boolean | null;\n  search_district: string;\n  loading_districts: boolean;\n  selected_district: DistrictList | null;\n  status: DocumentsValidationType;\n  selected_document_id: string | null;\n  next: number | null;\n  previous: number | null;\n  loading_document_file: boolean;\n  loading_document_decision: boolean;\n  loading_disabled_by_district: boolean;\n  total_disabled_by_district: string;\n  documents_by_districts: TransferDisabilityList[];\n  total_validated: string;\n}\n\nconst defaultError = {\n  target: null,\n  msg: \"\",\n};\n\nclass _ApproveDocuments extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      loading_districts: false,\n      districts: [],\n      search_district: \"\",\n      error: defaultError,\n      documents: [],\n      limit: 10,\n      page: 1,\n      total: 0,\n      selected_user: \"\",\n      decision_disability: null,\n      decision_residence: null,\n      selected_district: null,\n      status: \"remain\",\n      selected_document_id: \"\",\n      next: null,\n      previous: null,\n      loading_document_file: true,\n      loading_document_decision: false,\n      loading_disabled_by_district: true,\n      total_disabled_by_district: \"0\",\n      documents_by_districts: [],\n      total_validated: \"0\",\n    };\n  }\n\n  componentDidMount() {\n    FC_GetDistrictList((status, data, error) => {\n      this.setState({\n        districts: data,\n        loading_districts: false,\n        error:\n          status === true\n            ? defaultError\n            : {\n                target: \"main-error\",\n                msg: `Districts: ${error}`,\n              },\n        documents: [],\n      });\n    });\n\n    this.getTotalDistrictsNumber();\n  }\n\n  selectDistrict(district: DistrictList | null) {\n    this.setState({\n      selected_district: district,\n      page: 1,\n      total: 0,\n\n      documents: [],\n    });\n\n    if (district !== null) {\n      this.loadingData(\n        district.district_code,\n        this.state.page,\n        this.state.status\n      );\n    }\n\n    if (district === null) {\n      this.getTotalDistrictsNumber();\n    }\n  }\n\n  setDocumentDecision = (document_id: string | null, decision: boolean) => {\n    if (\n      !window.confirm(\n        `Are you sure you want to ${\n          decision === true ? \"Approve\" : \"Reject\"\n        } this document?`\n      )\n    )\n      return;\n\n    if (!this.props.auth.user || !this.props.auth.user.user_id)\n      return this.setState({\n        error: {\n          target: \"main-error\",\n          msg: \"Your id is not valid, please refresh your browser\",\n        },\n      });\n\n    if (!document_id)\n      return this.setState({\n        error: {\n          msg: \"No selected document\",\n          target: \"main-error\",\n        },\n      });\n\n    this.setState({\n      loading_document_decision: true,\n    });\n    FC_ApproveDocument(\n      {\n        disability: decision,\n        residence: false,\n        teacher_transfer_id: document_id,\n        user_id: this.props.auth.user?.user_id,\n      },\n      (status, data, msg) => {\n        // console.log({ status, data, msg });\n        this.setState({\n          loading_document_decision: false,\n          documents:\n            status === true\n              ? this.state.documents.filter(\n                  (el) => el.teacher_transfer_id !== document_id\n                )\n              : this.state.documents,\n          error:\n            status === true\n              ? {\n                  msg: `The document have been ${\n                    decision === true ? \"Approved\" : \"Rejected\"\n                  }`,\n                  target: \"main-success\",\n                }\n              : {\n                  msg: `Error: ${msg}`,\n                  target: \"main-error\",\n                },\n        });\n\n        this.clearAlert();\n      }\n    );\n  };\n\n  changeStatus = (value: DocumentsValidationType) => {\n    if (this.state.status === value || !this.state.selected_district) return;\n    this.setState({\n      status: value,\n    });\n    this.loadingData(this.state.selected_district.district_code, 1, value);\n  };\n\n  clearAlert = () =>\n    setTimeout(() => {\n      this.setState({\n        error: defaultError,\n      });\n    }, 3000);\n\n  paginateData = (page: number) => {\n    if (this.state.selected_district)\n      this.loadingData(this.state.selected_district.district_code, page);\n  };\n\n  loadingData = (\n    district: string,\n    page: number,\n    status?: DocumentsValidationType\n  ) => {\n    this.setState({\n      loading: true,\n      selected_document_id: null,\n      documents: [],\n    });\n    FC_GetDocuments(\n      {\n        district_code: district,\n        limit: this.state.limit,\n        page: page,\n        status: status ? status : this.state.status,\n      },\n      (status_req, data, msg) => {\n        this.setState({\n          loading: false,\n          documents: data?.teacher_docs ? data?.teacher_docs : [],\n          total: data?.total_transfer ? data.total_transfer : 0,\n          next: data?.next ? +data?.next : 0,\n          previous: data?.previous ? +data?.previous : 0,\n          error: !status_req\n            ? {\n                target: \"main-error\",\n                msg: `Error: ${msg}`,\n              }\n            : defaultError,\n          page: page,\n        });\n      }\n    );\n  };\n\n  getTotalDistrictsNumber = () => {\n    this.setState({\n      loading_disabled_by_district: true,\n      documents_by_districts: [],\n      total_disabled_by_district: \"0\",\n      total_validated: \"0\",\n    });\n    FC_TransferDocumentByDisability((status, data, msg) => {\n      this.setState({\n        loading_disabled_by_district: false,\n        documents_by_districts: data ? data.districts : [],\n        total_disabled_by_district: data ? data.total : \"0\",\n        total_validated: data ? data.total_validated : \"0\",\n        error: status\n          ? {\n              msg: \"\",\n              target: null,\n            }\n          : {\n              msg: msg,\n              target: \"main-error\",\n            },\n      });\n    });\n  };\n\n  openLink = (link: string | null) => {\n    if (link) window.open(`${APP_URL_FILE}/${link}`);\n  };\n\n  render() {\n    let total_pages = (this.state.total / this.state.limit).toFixed(0);\n    let foundDocument = this.state.documents.find(\n      (transf) => transf.teacher_transfer_id === this.state.selected_document_id\n    );\n    let DistrictResults: DistrictList[] = search(\n      this.state.districts,\n      this.state.search_district,\n      {\n        district_code: true,\n        district_name: true,\n      }\n    );\n\n    // * List of districts\n    if (this.state.selected_district === null) {\n      return (\n        <DashboardContainer className=\"animate__animated animate__zoomIn animate__faster\">\n          <div>\n            <div className=\"flex items-center\">\n              <h1 className=\"flex-1 text-2xl font-bold\">\n                Documents validation\n              </h1>\n              <section className=\"p-1 bg-green-100 rounded mx-2\">\n                <span className=\"text-sm text-green-800\">\n                  Total:{\" \"}\n                  <b className=\"text-black\">\n                    {this.state.total_disabled_by_district}\n                  </b>\n                </span>\n              </section>\n              <section className=\"p-1 bg-green-100 rounded\">\n                <span className=\"text-sm text-green-800\">\n                  Total validated:{\" \"}\n                  <b className=\"text-black\">{this.state.total_validated}</b>\n                </span>\n              </section>\n            </div>\n            <div className=\"p-2\">\n              <TextInput\n                error=\"\"\n                label=\"\"\n                name=\"\"\n                onChange={(e) =>\n                  this.setState({ search_district: e.target.value })\n                }\n                placeholder=\"Search district by name\"\n                value={this.state.search_district}\n              />\n            </div>\n\n            {this.state.loading_districts === true ? (\n              <div className=\"py-8 text-center text-8xl text-accent-900\">\n                <Loading className=\"mx-auto\" />\n              </div>\n            ) : this.state.districts.length >= 1 ? (\n              <>\n                {DistrictResults.length <= 0 ? (\n                  <div className=\"py-4 text-center\">\n                    <h2 className=\"text-lg\">No results found!</h2>\n                    <p className=\"text-gray-500\">\n                      Please use a correct district name\n                    </p>\n                  </div>\n                ) : (\n                  <div className=\"grid lg:grid-cols-2 gap-2 \">\n                    {DistrictResults.map((dist) => {\n                      let FoundDocuments =\n                        this.state.documents_by_districts.find(\n                          (el) => el.district_code === dist.district_code\n                        );\n                      return (\n                        <div\n                          onClick={this.selectDistrict.bind(this, dist)}\n                          key={dist.district_code}\n                          className=\"p-2 flex items-center cursor-pointer rounded border  px-3 hover:text-yellow-600 hover:border-yellow-600 hover:bg-yellow-50 bg-white text-lg\"\n                        >\n                          <h4 className=\"flex-1 text-lg\">\n                            {\" \"}\n                            <b>{dist.district_name}</b> district\n                          </h4>\n\n                          {FoundDocuments && FoundDocuments.total !== \"0\" && (\n                            <span className=\"bg-yellow-100 text-yellow-700 font-bold py-0.5 inline-block text-sm px-1.5 rounded-full\">\n                              {FoundDocuments?.total}\n                            </span>\n                          )}\n\n                          {FoundDocuments && FoundDocuments.total !== \"0\" && (\n                            <button className=\"\">\n                              <MdOutlineArrowForward />\n                            </button>\n                          )}\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n              </>\n            ) : (\n              <div className=\"py-4 text-center\">\n                <h2 className=\"text-8xl text-gray-400 text-center\">\n                  <ImSad className=\"inline\" />\n                </h2>\n                <h2 className=\"text-center p-4 text-gray-400 font-bold text-2xl\">\n                  <p>No results found on</p>\n                </h2>{\" \"}\n              </div>\n            )}\n          </div>\n        </DashboardContainer>\n      );\n    }\n\n    // DOcuments list\n    return (\n      <>\n        {this.state.error.target === \"main-success\" && (\n          <Alert\n            theme=\"success\"\n            fixed\n            onClick={() => this.setState({ error: defaultError })}\n          >\n            {this.state.error.msg}\n          </Alert>\n        )}\n\n        {this.state.error.target === \"main-error\" && (\n          <Alert\n            theme=\"danger\"\n            fixed\n            onClick={() => this.setState({ error: defaultError })}\n          >\n            {this.state.error.msg}\n          </Alert>\n        )}\n\n        {foundDocument !== undefined && this.state.selected_document_id && (\n          <Modal\n            backDrop={true}\n            theme={Themes.default}\n            close={() => this.setState({ selected_document_id: null })}\n            backDropClose={false}\n            widthSizeClass={ModalSize.maxWidth}\n            displayClose={true}\n            title={`${foundDocument.full_name}'s document`}\n            padding={{\n              title: true,\n              body: undefined,\n              footer: undefined,\n            }}\n          >\n            <div className=\" border-t h-full flex\">\n              <div className=\"flex-1 bg-gray-600\">\n                <PdfViewer\n                  file_url={`${APP_URL_FILE}/${foundDocument.disability_surpoting_document}`}\n                  class_name={\"w-full h-100vh\"}\n                  frame_title={\"User document\"}\n                  setLoadingFile={() =>\n                    this.setState({ loading_document_file: false })\n                  }\n                  full_height={true}\n                />\n              </div>\n              <div className=\"w-96\">\n                <h2 className=\"text-gray-500 p-1 px-2 bg-gray-100 text-2xl text-center\">\n                  Teacher's information\n                </h2>\n\n                {this.state.error.target === \"main-success\" && (\n                  <Alert\n                    theme=\"success\"\n                    onClick={() => this.setState({ error: defaultError })}\n                  >\n                    {this.state.error.msg}\n                  </Alert>\n                )}\n\n                {this.state.error.target === \"main-error\" && (\n                  <Alert\n                    theme=\"danger\"\n                    onClick={() => this.setState({ error: defaultError })}\n                  >\n                    {this.state.error.msg}\n                  </Alert>\n                )}\n\n                <section className=\"border-b py-4\">\n                  <h2 className=\"text-8xl text-gray-500\">\n                    <MdAccountCircle className=\"mx-auto\" />\n                  </h2>\n                  <h3 className=\"text-center font-bold text-xl\">\n                    {foundDocument.full_name}\n                  </h3>\n                </section>\n\n                <div className=\"p-2\">\n                  {[\n                    { title: \"DOB: \", value: foundDocument.dob },\n                    { title: \"Hire date: \", value: foundDocument.hire_date },\n                    {\n                      title: \"Martial Status: \",\n                      value: foundDocument.martial_status,\n                    },\n                    {\n                      title: \"Position name: \",\n                      value: foundDocument.position_name,\n                    },\n                    {\n                      title: \"Qualification: \",\n                      value: foundDocument.qualification_name,\n                    },\n                    {\n                      title: \"Residence: \",\n                      value: foundDocument.resident_district_name,\n                    },\n                    { title: \"Role: \", value: foundDocument.role },\n                    {\n                      title: \"School name: \",\n                      value: foundDocument.school_name,\n                    },\n                  ].map(({ title, value }, i) => (\n                    <div\n                      key={i}\n                      className=\"flex items-center px-1 py-1.5 border-b\"\n                    >\n                      <section className=\"text-gray-600 pr-2\">{title}</section>\n                      <section className=\"font-bold\">{value}</section>\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"py-2 text-center flex gap-2 px-3\">\n                  <Button\n                    size=\"sm\"\n                    theme=\"default\"\n                    onClick={this.openLink.bind(\n                      this,\n                      foundDocument.disability_surpoting_document\n                    )}\n                  >\n                    Open document in a new tab\n                  </Button>\n\n                  <a\n                    href={`${APP_URL_FILE}/${foundDocument.disability_surpoting_document}`}\n                    rel=\"noreferrer\"\n                    target=\"_blank\"\n                    download\n                  >\n                    <Button size=\"sm\" theme=\"primary-light\">\n                      Download\n                    </Button>\n                  </a>\n                </div>\n\n                <div className=\"p-2\">\n                  <Button\n                    className=\"w-full\"\n                    theme=\"success-light\"\n                    size=\"lg\"\n                    onClick={this.setDocumentDecision.bind(\n                      this,\n                      foundDocument.teacher_transfer_id,\n                      true\n                    )}\n                    loading={this.state.loading_document_decision}\n                  >\n                    Yes, the document is valid\n                  </Button>\n                </div>\n                <div className=\"p-2\">\n                  <Button\n                    className=\"w-full\"\n                    theme=\"danger-light\"\n                    size=\"lg\"\n                    onClick={this.setDocumentDecision.bind(\n                      this,\n                      foundDocument.teacher_transfer_id,\n                      false\n                    )}\n                    loading={this.state.loading_document_decision}\n                  >\n                    No, the document is not valid\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </Modal>\n        )}\n\n        <div className=\"animate__animated animate__zoomIn animate__faster pt-2\">\n          <div className=\"container mx-auto px-2 flex items-center\">\n            <Button\n              onClick={this.selectDistrict.bind(this, null)}\n              theme=\"default\"\n            >\n              Back\n            </Button>\n            <Heading className=\"flex-1 m-0\">Document validation</Heading>\n            <section>\n              <div className=\"flex flex-1 gap-1 mr-2 bg-yellow-100 p-1 rounded border border-yellow-400\">\n                <Button\n                  size=\"sm\"\n                  theme={\n                    this.state.status === \"remain\" ? \"accent\" : \"accent-light\"\n                  }\n                  onClick={this.changeStatus.bind(this, \"remain\")}\n                >\n                  Remain\n                </Button>\n                <Button\n                  size=\"sm\"\n                  theme={\n                    this.state.status === \"complete\" ? \"accent\" : \"accent-light\"\n                  }\n                  onClick={this.changeStatus.bind(this, \"complete\")}\n                >\n                  Completed\n                </Button>\n              </div>\n            </section>\n            <section className=\"text-center bg-accent-800 bg-opacity-20 text-accent-900 px-4 rounded\">\n              <span className=\"text-sm block text-gray-500 -mb-1\">Total:</span>\n              <h3 className=\"font-bold text-xl\">{this.state.total}</h3>\n            </section>\n          </div>\n\n          <DashboardContainer>\n            <table className=\"w-full\">\n              <thead className=\"text-left bg-white\">\n                <tr className=\"bg-accent-900 bg-opacity-10\">\n                  <th className=\"p-2 border-gray-300 border\">#</th>\n                  <th className=\"p-2 border-gray-300 border\">Names</th>\n                  <th className=\"p-2 border-gray-300 border\">School Code</th>\n                  <th className=\"p-2 border-gray-300 border\">School name</th>\n                  <th className=\"p-2 border-gray-300 border\">Position code</th>\n                  <th className=\"p-2 border-gray-300 border\">Position name</th>\n                  <th className=\"p-2 border-gray-300 border\">Qualification</th>\n                </tr>\n              </thead>\n              <tbody>\n                {this.state.loading === true ? (\n                  <tr className=\" \">\n                    <td colSpan={8} className=\"py-4 text-center border\">\n                      <Loading />\n                    </td>\n                  </tr>\n                ) : this.state.documents.length <= 0 ? (\n                  <tr>\n                    <td colSpan={8} className=\"py-4 text-center border\">\n                      <h1 className=\"text-2xl text-gray-400\">No data found</h1>\n                      {/* <p className=\"text-gray\"></p> */}\n                    </td>\n                  </tr>\n                ) : (\n                  this.state.documents.map((itm, i) => (\n                    <tr\n                      key={i}\n                      className=\"bg-white cursor-pointer hover:bg-yellow-400 hover:bg-opacity-30\"\n                      onClick={() =>\n                        this.setState({\n                          selected_document_id: itm.teacher_transfer_id,\n                          // transfer_issue: itm.transfer_issue_comment\n                          //   ? itm.transfer_issue_comment\n                          //   : \"\",\n                        })\n                      }\n                    >\n                      <td className=\"border p-2\">{i + 1}</td>\n                      <td className=\"p-2 border\">{itm.full_name}</td>\n                      <td className=\"p-2 border\">{itm.school_from_id}</td>\n                      <td className=\"p-2 border\">{itm.school_name}</td>\n                      <td className=\"p-2 border\">{itm.position_id}</td>\n                      <td className=\"p-2 border text-sm\">\n                        {itm.position_name}\n                      </td>\n                      <td className=\"p-2 border\">{itm.qualification_name}</td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n\n            <div className=\"flex gap-3 mx-auto pt-3\">\n              {Array(+total_pages)\n                .fill(\"0\")\n                .map((e, i) => (\n                  <button\n                    className={`p-2 py-1 ${\n                      +this.state.page === i + 1\n                        ? \"bg-accent-800 text-black font-bold\"\n                        : \"bg-opacity-25\"\n                    } rounded-full bg-accent-800 `}\n                    onClick={this.paginateData.bind(this, i + 1)}\n                  >\n                    {i + 1}\n                  </button>\n                ))}\n            </div>\n          </DashboardContainer>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth }: StoreState): { auth: Auth } => {\n  return { auth: auth };\n};\n\nexport const ApproveDocuments = connect(mapStateToProps, {})(_ApproveDocuments);\n"],"sourceRoot":""}