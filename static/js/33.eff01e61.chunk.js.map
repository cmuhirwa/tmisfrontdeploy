{"version":3,"sources":["components/StudyHierarchy/AddNew.tsx","components/StudyHierarchy/StudyHierarchy.tsx","containers/StudyHierarchyPage/StudyHierarchyPage.tsx"],"names":["SubmitSchoolSubjects","subjects","school_code","callBack","a","length","alert","newSubjects","map","item","shool_hierarch_id","studyhierarchyid","axios","post","APP_URL","res","console","log","AddNew","props","useState","selected_level_code","setSelected_level_code","filter_by_combination","setFilter_by_combination","selected_combination_code","setSelected_combination_code","search_comb","setSearch_comb","addedSubjects","setAddedSubjects","loading","setLoading","success","setSuccess","error","setError","searchData","setSearch","FilteredData","school_hierarchy_data","filter","itm","level_code","combination_code","className","onClick","setAddNew","title","school","school_name","onChange","e","target","value","FC_GetSchoolLevels","allHierarchy","type","HierarchyDataType","SCHOOL_LEVELS","status","levels","i","level_name","COMBINATIONS","combinations","find","combination_name","placeholder","style","minWidth","search","colSpan","undefined","course_code","course_name","grade_name","teaching_period","subject","msg","setLoadSchoolSubjects","GetLoading","Loading","StudyHierarchy","setState","addNew","addingNew","setAddingNew","FilterSchoolHierarchy","data","response","test","push","FC_GetSchoolHierarchy","school_hierarchy","state","RemoveSchoolHierarchy","id","window","confirm","errorToText","componentDidMount","this","fixedHeight","height","overflow","testId","school_study_hierarchy_id","Component","_StudyHierarchyPage","schoolHierarchyStore","hierarchy","FC_AllSchoolHierarchyDetails","auth","StudyHierarchyPage","connect","basic"],"mappings":"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","file":"static/js/33.eff01e61.chunk.js","sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { GrPowerReset } from \"react-icons/gr\";\nimport { IoIosArrowDown } from \"react-icons/io\";\nimport { MdAdd, MdClose } from \"react-icons/md\";\nimport { RiTodoLine } from \"react-icons/ri\";\nimport {\n  AuthSchool,\n  FC_GetSchoolLevels,\n  FilteredCombination,\n  HierarchyDataType,\n  SchoolHierarchyInterface,\n} from \"../../actions\";\nimport { APP_URL } from \"../../config/app.config\";\nimport { search } from \"../../utils/functions\";\nimport { GetLoading } from \"./StudyHierarchy\";\n\nexport const SubmitSchoolSubjects = async (\n  subjects: SchoolHierarchyInterface[],\n  school_code: string,\n  callBack: (status: boolean, msg: string) => void\n) => {\n  if (subjects.length === 0) {\n    return alert(\"Please select atleast one subject\");\n  }\n  let newSubjects: {\n    school_code: string;\n    shool_hierarch_id: string;\n  }[] = subjects.map((item) => ({\n    school_code: school_code,\n    shool_hierarch_id: item.studyhierarchyid,\n  }));\n  callBack(false, \"\");\n  try {\n    const res = await axios.post<\n      {\n        school_code: string;\n        shool_hierarch_id: string;\n      }[]\n    >(`${APP_URL}/schoolhierarch/create`, newSubjects);\n    callBack(true, \"School subjects has added successfully!\");\n    console.log(\"Success: \", res);\n  } catch (error: any) {\n    callBack(true, \"\");\n    console.log(\"Err: \", { ...error });\n  }\n};\n\ninterface AddNewProps {\n  setAddNew: (status: boolean) => void;\n  school: AuthSchool;\n  allHierarchy: SchoolHierarchyInterface[];\n  school_hierarchy_data: SchoolHierarchyInterface[] | null;\n  setLoadSchoolSubjects: () => void;\n}\n\nconst AddNew = (props: AddNewProps) => {\n  const [selected_level_code, setSelected_level_code] = useState<string | null>(\n    null\n  );\n  const [filter_by_combination, setFilter_by_combination] =\n    useState<boolean>(false);\n  const [selected_combination_code, setSelected_combination_code] = useState<\n    string | null\n  >(null);\n  const [search_comb, setSearch_comb] = useState<string>(\"\");\n  const [addedSubjects, setAddedSubjects] = useState<\n    SchoolHierarchyInterface[]\n  >([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [success, setSuccess] = useState<string>(\"\");\n  const [error, setError] = useState<string>(\"\");\n  const [searchData, setSearch] = useState<string>(\"\");\n\n  const SelectSubject = (subject: SchoolHierarchyInterface) => {\n    setAddedSubjects([\n      ...addedSubjects.filter(\n        (itm) => itm.studyhierarchyid !== subject.studyhierarchyid\n      ),\n      subject,\n    ]);\n  };\n\n  const RemoveSelectedSubject = (subject: SchoolHierarchyInterface) => {\n    setAddedSubjects([\n      ...addedSubjects.filter(\n        (itm) => itm.studyhierarchyid !== subject.studyhierarchyid\n      ),\n    ]);\n  };\n\n  const FilteredData = (): SchoolHierarchyInterface[] => {\n    let res = props.school_hierarchy_data;\n    if (res !== null) {\n      if (selected_level_code !== null && selected_level_code !== \"\") {\n        res = res.filter((itm) => itm.level_code === selected_level_code);\n      }\n      if (selected_combination_code !== null) {\n        res = res.filter(\n          (itm) => itm.combination_code === selected_combination_code\n        );\n      }\n      return res;\n    } else {\n      return [];\n    }\n  };\n\n  return (\n    <div className=\"fixed bg-black bg-opacity-50 top-0 left-0 w-full h-full z-50 flex items-center justify-center animate__animated animate__fadeIn animate__faster\">\n      <div className=\"bg-white rounded-md animate__animated animate__zoomIn animate__faster z-50 w-full h-full overflow-auto\">\n        <div className=\"rounded-t-md flex flex-row items-center justify-between gap-4 px-2 py-2 border-b border-gray-400\">\n          <div className=\"text-xl font-bold ml-2 uppercase mt-2\">\n            Assign new subject\n          </div>\n          <div\n            onClick={() => props.setAddNew(false)}\n            className=\"flex items-center justify-center p-1 rounded-full bg-gray-100 text-2xl hover:bg-yellow-100 hover:text-accent-900 cursor-pointer\"\n            title=\"Close window\"\n          >\n            <MdClose />\n          </div>\n        </div>\n        <div className=\"p-2 md:p-6\">\n          <div className=\"flex flex-row items-center justify-between gap-3\">\n            <div className=\"flex flex-row items-center gap-3\">\n              <div className=\"text-5xl text-gray-400\">\n                <RiTodoLine />\n              </div>\n              <div className=\"flex flex-col\">\n                <span className=\"text-gray-600\">School name</span>\n                <span className=\"font-bold -mt-1\">\n                  {props.school.school_name} ({props.school.school_code})\n                </span>\n              </div>\n            </div>\n\n            <div className=\"flex flex-col justify-center items-end\"></div>\n          </div>\n          <div className=\"\">\n            <div className=\"mb-10\">\n              <div>\n                <div className=\"p-2 mb-5\">\n                  <div className=\"mt-4\">\n                    <div>Filter by</div>\n                    <div className=\"flex flex-row items-center gap-3\">\n                      <select\n                        onChange={(e) => setSelected_level_code(e.target.value)}\n                        value={\n                          selected_level_code === null\n                            ? \"\"\n                            : selected_level_code\n                        }\n                        className=\"border border-gray-400 rounded px-3 py-2\"\n                      >\n                        <option value=\"\">Choose education level</option>\n                        <option value=\"\">Show all levels</option>\n                        {FC_GetSchoolLevels(props.allHierarchy, {\n                          type: HierarchyDataType.SCHOOL_LEVELS,\n                          status: true,\n                        }).levels.map((item, i) => (\n                          <option key={i + 1} value={item.level_code}>\n                            {item.level_name}\n                          </option>\n                        ))}\n                      </select>\n                      <div className=\"w-full\">\n                        <div\n                          onClick={() =>\n                            setFilter_by_combination(!filter_by_combination)\n                          }\n                          className=\"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900\"\n                        >\n                          {selected_combination_code === null ? (\n                            <span>All- Click to filter by combination</span>\n                          ) : (\n                            <span>\n                              {\n                                FC_GetSchoolLevels(props.allHierarchy, {\n                                  type: HierarchyDataType.COMBINATIONS,\n                                  status: true,\n                                }).combinations.find(\n                                  (itm) =>\n                                    itm.combination_code ===\n                                    selected_combination_code\n                                )?.combination_name\n                              }\n                            </span>\n                          )}\n                          <div className=\"-mr-3\">\n                            {filter_by_combination === true ? (\n                              <MdClose />\n                            ) : (\n                              <IoIosArrowDown />\n                            )}\n                          </div>\n                        </div>\n                        {filter_by_combination === true && (\n                          <div className=\"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl\">\n                            <div>\n                              <div className=\"flex flex-row items-center w-full justify-between gap-2\">\n                                <input\n                                  value={search_comb}\n                                  onChange={(e) =>\n                                    setSearch_comb(e.target.value)\n                                  }\n                                  placeholder=\"Search...\"\n                                  type=\"text\"\n                                  className=\"border border-gray-400 rounded px-3 py-2 text-sm w-full\"\n                                />\n                                <div>\n                                  <div\n                                    onClick={() =>\n                                      setFilter_by_combination(false)\n                                    }\n                                    className=\"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white\"\n                                  >\n                                    <MdClose />\n                                  </div>\n                                </div>\n                              </div>\n                              {selected_combination_code !== null && (\n                                <div\n                                  onClick={() => {\n                                    setSelected_combination_code(null);\n                                    setFilter_by_combination(false);\n                                  }}\n                                  className=\"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full\"\n                                >\n                                  <div>\n                                    <GrPowerReset className=\"text-xl\" />\n                                  </div>\n                                  <span>Click to view all</span>\n                                </div>\n                              )}\n                            </div>\n                            <div\n                              className=\"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn\"\n                              style={{ minWidth: \"28rem\" }}\n                            >\n                              {search(\n                                FC_GetSchoolLevels(props.allHierarchy, {\n                                  type: HierarchyDataType.COMBINATIONS,\n                                  status: true,\n                                }).combinations,\n                                search_comb\n                              ).length === 0 ? (\n                                <div className=\"text-center text-lg font-bold p-5 px-10 text-gray-500\">\n                                  No result found!\n                                </div>\n                              ) : (\n                                search(\n                                  FC_GetSchoolLevels(props.allHierarchy, {\n                                    type: HierarchyDataType.COMBINATIONS,\n                                    status: true,\n                                  }).combinations,\n                                  search_comb\n                                ).map(\n                                  (item: FilteredCombination, i: number) => (\n                                    <div\n                                      key={i + 1}\n                                      className={`w-full flex flex-row items-center border-b ${\n                                        selected_combination_code ===\n                                        item.combination_code\n                                          ? \"border-yellow-100 bg-yellow-100 font-bold\"\n                                          : \"border-gray-200\"\n                                      } py-1 gap-4 hover:bg-yellow-100 cursor-pointer`}\n                                      onClick={() => {\n                                        setSelected_combination_code(\n                                          item.combination_code\n                                        );\n                                        setFilter_by_combination(false);\n                                      }}\n                                    >\n                                      <div>\n                                        <div className=\"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold\">\n                                          {i + 1}\n                                        </div>\n                                      </div>\n                                      <div>{item.combination_name}</div>\n                                    </div>\n                                  )\n                                )\n                              )}\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                      <input\n                        className=\"px-3 py-2 rounded border border-gray-400 w-full\"\n                        placeholder=\"Search keyword...\"\n                        value={searchData}\n                        onChange={(e) => setSearch(e.target.value)}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"bg-white rounded mx-2 border border-gray-200\">\n                  <div className=\"w-full overflow-x-auto\">\n                    <table className=\"min-w-full text-left\">\n                      <thead>\n                        <tr className=\"font-semibold border-b text-base\">\n                          <th className=\"p-2 border-b-2 border-gray-300 text-center\">\n                            #\n                          </th>\n                          <th className=\"p-2 border-b-2 border-gray-300\">\n                            Subject\n                          </th>\n                          <th className=\"p-2 border-b-2 border-gray-300\">\n                            Level\n                          </th>\n                          <th className=\"p-2 border-b-2 border-gray-300\">\n                            Combination\n                          </th>\n                          <th className=\"p-2 border-b-2 border-gray-300\">\n                            Grade\n                          </th>\n                          <th className=\"p-2 border-b-2 border-gray-300\">\n                            Periods\n                          </th>\n                          <th className=\"p-2 border-b-2 border-gray-300 text-right\">\n                            Action\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"text-sm\">\n                        {props.school_hierarchy_data === null ? (\n                          <tr>\n                            <td colSpan={7}>\n                              <GetLoading />\n                            </td>\n                          </tr>\n                        ) : search(FilteredData(), searchData).length === 0 ? (\n                          <td colSpan={7}>\n                            <div className=\"text-lg p-3 text-center\">\n                              No result found\n                            </div>\n                          </td>\n                        ) : (\n                          (\n                            search(\n                              FilteredData(),\n                              searchData\n                            ) as SchoolHierarchyInterface[]\n                          ).map((item, i) => (\n                            <tr\n                              key={i + 1}\n                              className={`${\n                                addedSubjects.find(\n                                  (itm) =>\n                                    itm.studyhierarchyid ===\n                                    item.studyhierarchyid\n                                ) !== undefined\n                                  ? \"text-gray-500\"\n                                  : \"hover:bg-yellow-50 hover:text-accent-900\"\n                              } group`}\n                            >\n                              <td className=\"p-2 border-b text-center\">\n                                {i + 1}\n                              </td>\n                              <td className=\"p-2 border-b\">\n                                {item.course_code}-{item.course_name}\n                              </td>\n                              <td className=\"p-2 border-b\">\n                                {item.level_name}\n                              </td>\n                              <td className=\"p-2 border-b\">\n                                {item.combination_name}\n                              </td>\n                              <td className=\"p-2 border-b\">\n                                {item.grade_name}\n                              </td>\n                              <td className=\"p-2 border-b\">\n                                {item.teaching_period}\n                              </td>\n                              <td className=\"p-2 border-b\">\n                                <div className=\"flex flex-row items-center justify-end\">\n                                  {addedSubjects.find(\n                                    (itm) =>\n                                      itm.studyhierarchyid ===\n                                      item.studyhierarchyid\n                                  ) === undefined ? (\n                                    <div\n                                      onClick={() => SelectSubject(item)}\n                                      className=\"rounded bg-yellow-100 group-hover:bg-accent-900 group-hover:text-white px-3 py-2 w-max text-center border border-yellow-300 group-hover:border-accent-900 cursor-pointer text-sm font-bold\"\n                                    >\n                                      Add subject\n                                    </div>\n                                  ) : (\n                                    <div\n                                      onClick={() =>\n                                        RemoveSelectedSubject(item)\n                                      }\n                                      className=\"rounded bg-red-50 group-hover:bg-red-200 text-black border border-red-100 group-hover:border-red-700 group-hover:text-red-800 px-3 py-2 w-max text-center cursor-pointer text-sm font-bold\"\n                                    >\n                                      Remove\n                                    </div>\n                                  )}\n                                </div>\n                              </td>\n                            </tr>\n                          ))\n                        )}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {addedSubjects.length > 0 && (\n        <div className=\"fixed bottom-0 left-0 w-full z-50 bg-blue-600 p-2 animate__animated animate__fadeInUp\">\n          {loading === false ? (\n            <div className=\"flex flex-row items-center justify-end gap-2\">\n              {error !== \"\" && (\n                <div\n                  className=\"bg-red-200 text-red-800 px-3 py-2 rounded-md animate_animated animate__zoomIn animate__faster\"\n                  onClick={() => setError(\"\")}\n                >\n                  {error}\n                </div>\n              )}\n              {success !== \"\" && (\n                <div\n                  className=\"bg-green-600 text-white px-3 py-2 rounded-md animate_animated animate__zoomIn animate__faster\"\n                  onClick={() => setSuccess(\"\")}\n                >\n                  {success}\n                </div>\n              )}\n              <div className=\"text-white flex flex-col items-end mr-2\">\n                <span className=\"text-sm text-blue-300\">Selected subjects</span>\n                <span className=\"text-2xl font-extrabold -mt-2\">\n                  {addedSubjects.length}\n                </span>\n              </div>\n              <div\n                onClick={() => props.setAddNew(false)}\n                className=\"btn bg-gray-200 text-black rounded-md px-4 py-2 hover:bg-gray-700 hover:text-white cursor-pointer border-2 border-gray-200 hover:border-white font-bold\"\n              >\n                Cancel\n              </div>\n              <div\n                onClick={() => {\n                  setLoading(true);\n                  SubmitSchoolSubjects(\n                    addedSubjects,\n                    props.school.school_code,\n                    (status: boolean, msg: string) => {\n                      if (msg !== \"\" && status === true) {\n                        setSuccess(\"School subjects added successfully!\");\n                        setAddedSubjects([]);\n                        props.setAddNew(false);\n                        props.setLoadSchoolSubjects();\n                      }\n                      if (msg === \"\" && status === true) {\n                        setError(\"Something went wrong. Try again!\");\n                      }\n                      setLoading(false);\n                    }\n                  );\n                  setLoading(false);\n                }}\n                className=\"btn bg-green-700 text-white rounded-md px-4 py-2 hover:bg-gray-700 hover:text-white cursor-pointer border-2 border-gray-200 hover:border-white font-bold\"\n              >\n                Save changes\n              </div>\n            </div>\n          ) : (\n            <div className=\"text-white text-lg text-right py-2\">\n              Saving, Please wait...\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AddNew;\n","import React, { Component, Fragment } from \"react\";\nimport { IoIosArrowDown } from \"react-icons/io\";\nimport { MdAdd, MdClose } from \"react-icons/md\";\nimport { GrPowerReset } from \"react-icons/gr\";\nimport {\n  AuthSchool,\n  FC_GetSchoolHierarchy,\n  FC_GetSchoolLevels,\n  FilteredCombination,\n  HierarchyDataType,\n  SchoolHierarchyGet,\n  SchoolHierarchyInterface,\n} from \"../../actions\";\nimport { search } from \"../../utils/functions\";\nimport Loading from \"../Loading/Loading\";\nimport { RiTodoLine } from \"react-icons/ri\";\nimport AddNew from \"./AddNew\";\nimport { APP_URL } from \"../../config/app.config\";\nimport axios from \"axios\";\nimport { errorToText } from \"../../utils/errors\";\n\ninterface StudyHierarchyProps {\n  school: AuthSchool;\n  allHierarchy: SchoolHierarchyInterface[];\n  fixedHeight?: boolean;\n}\ninterface StudyHierarchyState {\n  loading: boolean;\n  school_hierarchy: SchoolHierarchyGet[] | null;\n  school_hierarchy_data: SchoolHierarchyInterface[] | null;\n  selected_level_code: string | null;\n  selected_combination_code: string | null;\n  filter_by_combination: boolean;\n  search_comb: string;\n  addNew: boolean;\n  addingNew: boolean;\n  success: string;\n  error: string;\n  search: string;\n}\n\nexport const GetLoading = (): JSX.Element => {\n  return (\n    <div className=\"bg-white rounded-md p-4 flex flex-col items-center justify-center m-5\">\n      <Loading />\n      <div className=\"text-xl\">Loading, please wait...</div>\n    </div>\n  );\n};\n\nexport class StudyHierarchy extends Component<\n  StudyHierarchyProps,\n  StudyHierarchyState\n> {\n  constructor(props: StudyHierarchyProps) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      school_hierarchy: null,\n      school_hierarchy_data: null,\n      selected_level_code: null,\n      selected_combination_code: null,\n      filter_by_combination: false,\n      search_comb: \"\",\n      addNew: false,\n      addingNew: false,\n      success: \"\",\n      error: \"\",\n      search: \"\",\n    };\n  }\n  setAddNew = (status: boolean) => {\n    this.setState({\n      addNew: status,\n      addingNew: status !== true ? false : true,\n    });\n  };\n  setAddingNew = (status: boolean) => {\n    this.setState({ addingNew: status });\n  };\n  setLoading = (status: boolean) => {\n    this.setState({ loading: status });\n  };\n  FilterSchoolHierarchy = (\n    data: SchoolHierarchyGet[]\n  ): SchoolHierarchyInterface[] => {\n    let response: SchoolHierarchyInterface[] = [];\n    for (let item of data) {\n      let test = this.props.allHierarchy.find(\n        (itm) =>\n          itm.studyhierarchyid === item.shool_hierarch_id && item.status !== \"0\"\n      );\n      if (test !== undefined) {\n        response.push(test);\n      }\n    }\n    return response;\n  };\n  setLoadSchoolSubjects = () => {\n    return FC_GetSchoolHierarchy(\n      this.props.school.school_code,\n      (status: boolean, response: SchoolHierarchyGet[] | null) => {\n        this.setLoading(true);\n        if (status === true && response !== null) {\n          this.setState({\n            school_hierarchy: response,\n            school_hierarchy_data: this.FilterSchoolHierarchy(response),\n            loading: false,\n          });\n        } else {\n          this.setState({\n            school_hierarchy: [],\n            school_hierarchy_data: [],\n            loading: false,\n          });\n        }\n      }\n    );\n  };\n\n  FilteredData = (): SchoolHierarchyInterface[] => {\n    let res = this.state.school_hierarchy_data;\n    if (res !== null) {\n      if (\n        this.state.selected_level_code !== null &&\n        this.state.selected_level_code !== \"\"\n      ) {\n        res = res.filter(\n          (itm) => itm.level_code === this.state.selected_level_code\n        );\n      }\n      if (this.state.selected_combination_code !== null) {\n        res = res.filter(\n          (itm) => itm.combination_code === this.state.selected_combination_code\n        );\n      }\n      return res;\n    } else {\n      return [];\n    }\n  };\n  RemoveSchoolHierarchy = async (id: string) => {\n    if (\n      window.confirm(\n        \"Are you sure do you want to remove this subject on school?\"\n      ) === true\n    ) {\n      this.setLoading(true);\n      try {\n        const res = await axios.post(\n          `${APP_URL}/schoolhierarch/delete/${id}`,\n          {}\n        );\n        console.log(\"Success: \", res);\n        if (res.status === 200) {\n          this.setLoadSchoolSubjects();\n          this.setState({\n            error: \"\",\n            success: \"School subject removed successfully!\",\n          });\n        }\n      } catch (error) {\n        this.setState({\n          error: errorToText(error),\n          success: \"\",\n          loading: false,\n        });\n      }\n    }\n  };\n  componentDidMount = () => {\n    this.setLoadSchoolSubjects();\n  };\n  render() {\n    if (\n      this.state.school_hierarchy === null ||\n      this.state.school_hierarchy === null ||\n      this.state.loading === true\n    ) {\n      <GetLoading />;\n    }\n    return (\n      <Fragment>\n        <div\n          className=\"mb-10\"\n          style={\n            this.props.fixedHeight !== undefined\n              ? { height: \"60vh\", overflow: \"auto\" }\n              : {}\n          }\n        >\n          <div>\n            <div className=\"p-2 mb-5\">\n              <div className=\"flex flex-row items-center gap-3 justify-between\">\n                <div className=\"flex flex-col\">\n                  <div className=\"text-2xl font-bold\">\n                    SCHOOL SUBJECTS ASSIGNMENT\n                  </div>\n                  <div className=\"text-sm text-gray-500\">\n                    {this.props.school.school_name}(\n                    {this.props.school.school_code})\n                  </div>\n                </div>\n                <div\n                  onClick={() => {\n                    this.setAddingNew(true);\n                    this.setAddNew(true);\n                  }}\n                  className={`border ${\n                    this.state.addingNew === false\n                      ? \"bg-yellow-100 border-yellow-400\"\n                      : \"bg-gray-100\"\n                  } text-black px-3 py-2 rounded text-center hover:text-accent-900 cursor-pointer font-bold`}\n                >\n                  {this.state.addingNew === true\n                    ? \"Loading\"\n                    : \"Assign new subjects\"}\n                </div>\n              </div>\n              <div className=\"mt-4\">\n                <div>Filter by</div>\n                <div className=\"flex flex-row items-center gap-3\">\n                  <select\n                    onChange={(e) =>\n                      this.setState({ selected_level_code: e.target.value })\n                    }\n                    value={\n                      this.state.selected_level_code === null\n                        ? \"\"\n                        : this.state.selected_level_code\n                    }\n                    className=\"border border-gray-400 rounded px-3 py-2\"\n                  >\n                    <option value=\"\">Choose education level</option>\n                    <option value=\"\">View by all levels</option>\n                    {FC_GetSchoolLevels(this.props.allHierarchy, {\n                      type: HierarchyDataType.SCHOOL_LEVELS,\n                      status: true,\n                    }).levels.map((item, i) => (\n                      <option key={i + 1} value={item.level_code}>\n                        {item.level_name}\n                      </option>\n                    ))}\n                  </select>\n                  <div className=\"w-full\">\n                    <div\n                      onClick={() =>\n                        this.setState({\n                          filter_by_combination:\n                            !this.state.filter_by_combination,\n                        })\n                      }\n                      className=\"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900\"\n                    >\n                      {this.state.selected_combination_code === null ? (\n                        <span>All- Click to filter by combination</span>\n                      ) : (\n                        <span>\n                          {\n                            FC_GetSchoolLevels(this.props.allHierarchy, {\n                              type: HierarchyDataType.COMBINATIONS,\n                              status: true,\n                            }).combinations.find(\n                              (itm) =>\n                                itm.combination_code ===\n                                this.state.selected_combination_code\n                            )?.combination_name\n                          }\n                        </span>\n                      )}\n                      <div className=\"-mr-3\">\n                        {this.state.filter_by_combination === true ? (\n                          <MdClose />\n                        ) : (\n                          <IoIosArrowDown />\n                        )}\n                      </div>\n                    </div>\n                    {this.state.filter_by_combination === true && (\n                      <div className=\"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl\">\n                        <div>\n                          <div className=\"flex flex-row items-center w-full justify-between gap-2\">\n                            <input\n                              value={this.state.search_comb}\n                              onChange={(e) =>\n                                this.setState({ search_comb: e.target.value })\n                              }\n                              placeholder=\"Search...\"\n                              type=\"text\"\n                              className=\"border border-gray-400 rounded px-3 py-2 text-sm w-full\"\n                            />\n                            <div>\n                              <div\n                                onClick={() =>\n                                  this.setState({\n                                    filter_by_combination: false,\n                                  })\n                                }\n                                className=\"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white\"\n                              >\n                                <MdClose />\n                              </div>\n                            </div>\n                          </div>\n                          {this.state.selected_combination_code !== null && (\n                            <div\n                              onClick={() =>\n                                this.setState({\n                                  selected_combination_code: null,\n                                  filter_by_combination: false,\n                                })\n                              }\n                              className=\"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full\"\n                            >\n                              <div>\n                                <GrPowerReset className=\"text-xl\" />\n                              </div>\n                              <span>Click to view all</span>\n                            </div>\n                          )}\n                        </div>\n                        <div\n                          className=\"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn\"\n                          style={{ minWidth: \"28rem\" }}\n                        >\n                          {search(\n                            FC_GetSchoolLevels(this.props.allHierarchy, {\n                              type: HierarchyDataType.COMBINATIONS,\n                              status: true,\n                            }).combinations,\n                            this.state.search_comb\n                          ).length === 0 ? (\n                            <div className=\"text-center text-lg font-bold p-4 px-10\">\n                              No result found!\n                            </div>\n                          ) : (\n                            search(\n                              FC_GetSchoolLevels(this.props.allHierarchy, {\n                                type: HierarchyDataType.COMBINATIONS,\n                                status: true,\n                              }).combinations,\n                              this.state.search_comb\n                            ).map((item: FilteredCombination, i: number) => (\n                              <div\n                                key={i + 1}\n                                className={`w-full flex flex-row items-center border-b ${\n                                  this.state.selected_combination_code ===\n                                  item.combination_code\n                                    ? \"border-yellow-100 bg-yellow-100 font-bold\"\n                                    : \"border-gray-200\"\n                                } py-1 gap-4 hover:bg-yellow-100 cursor-pointer`}\n                                onClick={() =>\n                                  this.setState({\n                                    selected_combination_code:\n                                      item.combination_code,\n                                    filter_by_combination: false,\n                                  })\n                                }\n                              >\n                                <div>\n                                  <div className=\"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold\">\n                                    {i + 1}\n                                  </div>\n                                </div>\n                                <div>{item.combination_name}</div>\n                              </div>\n                            ))\n                          )}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                  <input\n                    className=\"px-3 py-2 rounded border border-gray-400 w-full\"\n                    placeholder=\"Search keyword...\"\n                    value={this.state.search}\n                    onChange={(e) => this.setState({ search: e.target.value })}\n                  />\n                </div>\n              </div>\n            </div>\n            {this.state.success !== \"\" && (\n              <div\n                onClick={() => this.setState({ success: \"\" })}\n                className=\"bg-green-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight\"\n              >\n                <div className=\"flex flex-row justify-between items-center gap-8\">\n                  <div>Success: {this.state.success}</div>\n                  <div>\n                    <MdClose className=\"text-2xl text-red-600 bg-red-100 rounded-full\" />\n                  </div>\n                </div>\n              </div>\n            )}\n            {this.state.error !== \"\" && (\n              <div\n                onClick={() => this.setState({ error: \"\" })}\n                className=\"bg-red-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight\"\n              >\n                <div className=\"flex flex-row justify-between items-center gap-8\">\n                  <div>Error: {this.state.error}</div>\n                  <div>\n                    <MdClose className=\"text-2xl text-red-600 bg-red-100 rounded-full\" />\n                  </div>\n                </div>\n              </div>\n            )}\n            <div className=\"bg-white rounded mx-2 border border-gray-200\">\n              <div className=\"w-full overflow-x-auto\">\n                <table className=\"min-w-full text-left\">\n                  <thead>\n                    <tr className=\"font-semibold border-b text-base\">\n                      <th className=\"p-2 border-b-2 border-gray-300 text-center\">\n                        #\n                      </th>\n                      <th className=\"p-2 border-b-2 border-gray-300\">\n                        Subject\n                      </th>\n                      <th className=\"p-2 border-b-2 border-gray-300\">Level</th>\n                      <th className=\"p-2 border-b-2 border-gray-300\">\n                        Combination\n                      </th>\n                      <th className=\"p-2 border-b-2 border-gray-300\">Grade</th>\n                      <th className=\"p-2 border-b-2 border-gray-300\">\n                        Periods\n                      </th>\n                      <th className=\"p-2 border-b-2 border-gray-300\"></th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"text-sm\">\n                    {this.state.school_hierarchy_data === null ? (\n                      <tr>\n                        <td colSpan={7}>\n                          <GetLoading />\n                        </td>\n                      </tr>\n                    ) : search(this.FilteredData(), this.state.search)\n                        .length === 0 ? (\n                      <tr>\n                        <td colSpan={7}>\n                          <div className=\"text-center text-lg text-gray-500 p-3\">\n                            No result found\n                          </div>\n                        </td>\n                      </tr>\n                    ) : (\n                      (\n                        search(\n                          this.FilteredData(),\n                          this.state.search\n                        ) as SchoolHierarchyInterface[]\n                      ).map((item, i) => (\n                        <tr key={i + 1} className=\"hover:bg-yellow-50 group\">\n                          <td className=\"p-2 border-b text-center\">{i + 1}</td>\n                          <td className=\"p-2 border-b\">\n                            {item.course_code}-{item.course_name}\n                          </td>\n                          <td className=\"p-2 border-b\">{item.level_name}</td>\n                          <td className=\"p-2 border-b\">\n                            {item.combination_name}\n                          </td>\n                          <td className=\"p-2 border-b\">{item.grade_name}</td>\n                          <td className=\"p-2 border-b\">\n                            {item.teaching_period}\n                          </td>\n                          <td className=\"border-b\">\n                            <div className=\"flex justify-end\">\n                              <div\n                                onClick={() => {\n                                  console.log(\"Current item: \", item);\n                                  if (this.state.school_hierarchy !== null) {\n                                    let testId =\n                                      this.state.school_hierarchy.find(\n                                        (itm) =>\n                                          itm.studyhierarchyid ===\n                                          item.studyhierarchyid\n                                      );\n                                    console.log(\"Compared: \", testId);\n\n                                    if (testId !== undefined) {\n                                      this.RemoveSchoolHierarchy(\n                                        testId.school_study_hierarchy_id\n                                      );\n                                    }\n                                  }\n                                }}\n                                className=\"bg-red-50 text-red-800 px-3 py-2 mx-1 my-1 rounded font-bold group-hover:bg-red-700 group-hover:text-white cursor-pointer\"\n                              >\n                                Remove\n                              </div>\n                            </div>\n                          </td>\n                        </tr>\n                      ))\n                    )}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Modal here */}\n        {this.state.addNew === true && (\n          <AddNew\n            school={this.props.school}\n            setAddNew={this.setAddNew}\n            allHierarchy={this.props.allHierarchy}\n            school_hierarchy_data={this.props.allHierarchy}\n            setLoadSchoolSubjects={this.setLoadSchoolSubjects}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default StudyHierarchy;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  Basic,\n  SchoolHierarchyStore,\n  FC_AllSchoolHierarchyDetails,\n  SchoolHierarchyInterface,\n} from \"../../actions\";\nimport DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport Loading from \"../../components/Loading/Loading\";\nimport StudyHierarchy from \"../../components/StudyHierarchy/StudyHierarchy\";\nimport { StoreState } from \"../../reducers\";\n\ninterface StudyHierarchyPageProps {\n  auth: Auth;\n  basic: Basic;\n  schoolHierarchyStore: SchoolHierarchyStore;\n  FC_AllSchoolHierarchyDetails: (\n    admin: boolean,\n    callBack: (status: boolean, msg: string) => void\n  ) => void;\n}\ninterface StudyHierarchyPageState {\n  loading: boolean;\n}\n\nexport class _StudyHierarchyPage extends Component<\n  StudyHierarchyPageProps,\n  StudyHierarchyPageState\n> {\n  constructor(props: StudyHierarchyPageProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n    };\n  }\n  componentDidMount = () => {\n    this.setState({ loading: true });\n    if (this.props.schoolHierarchyStore.hierarchy === null) {\n      this.props.FC_AllSchoolHierarchyDetails(\n        false,\n        (status: boolean, msg: string) => {}\n      );\n    }\n    this.setState({ loading: false });\n  };\n  render() {\n    if (\n      this.props.schoolHierarchyStore.hierarchy === null ||\n      this.state.loading === true\n    ) {\n      return (\n        <div className=\"bg-white rounded-md p-4 flex flex-col items-center justify-center m-5\">\n          <Loading />\n          <div className=\"text-xl\">Loading, please wait...</div>\n        </div>\n      );\n    }\n    return (\n      <DashboardContainer>\n        {this.props.auth.school !== null ? (\n          <StudyHierarchy\n            school={this.props.auth.school}\n            allHierarchy={this.props.schoolHierarchyStore.hierarchy}\n          />\n        ) : (\n          <div>Load all Schools</div>\n        )}\n      </DashboardContainer>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  basic,\n  schoolHierarchyStore,\n}: StoreState): {\n  auth: Auth;\n  basic: Basic;\n  schoolHierarchyStore: SchoolHierarchyStore;\n} => {\n  return {\n    auth: auth,\n    basic: basic,\n    schoolHierarchyStore: schoolHierarchyStore,\n  };\n};\n\nexport const StudyHierarchyPage = connect(mapStateToProps, {\n  FC_AllSchoolHierarchyDetails,\n})(_StudyHierarchyPage);\n"],"sourceRoot":""}