(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[18],{110:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return b}));var n=r(7),a=r(2),s=r.n(a),c=r(6),i=r.n(c),o=r(11),l=r(10),d=r(8),u=r(9),p=function(e){return e(!0,null,""),function(){var t=Object(n.a)(s.a.mark((function t(r){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,i.a.get("".concat(l.d,"/teachertransfers/requesteddde"));case 4:n=t.sent,console.log("===================================="),console.log({getAllTransfers:n}),console.log("===================================="),a=n.data.filter((function(e){return"APPROVED"===e.requested_status})),r({type:o.a.GET_ALL_TRANSFER,payload:a}),e(!1,a,""),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},h=function(){var e=Object(n.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!1,[{district_code:"11",district_name:"Nyarugenge"},{district_code:"12",district_name:"Gasabo"},{district_code:"13",district_name:"Kicukiro"},{district_code:"21",district_name:"Nyanza"},{district_code:"22",district_name:"Gisagara"},{district_code:"23",district_name:"Nyaruguru"},{district_code:"24",district_name:"Huye"},{district_code:"25",district_name:"Nyamagabe"},{district_code:"26",district_name:"Ruhango"},{district_code:"27",district_name:"Muhanga"},{district_code:"28",district_name:"Kamonyi"},{district_code:"31",district_name:"Karongi"},{district_code:"32",district_name:"Rutsiro"},{district_code:"33",district_name:"Rubavu"},{district_code:"34",district_name:"Nyabihu"},{district_code:"35",district_name:"Ngororero"},{district_code:"36",district_name:"Rusizi"},{district_code:"37",district_name:"Nyamasheke"},{district_code:"41",district_name:"Rulindo"},{district_code:"42",district_name:"Gakenke"},{district_code:"43",district_name:"Musanze"},{district_code:"44",district_name:"Burera"},{district_code:"45",district_name:"Gicumbi"},{district_code:"51",district_name:"Rwamagana"},{district_code:"52",district_name:"Nyagatare"},{district_code:"53",district_name:"Gatsibo"},{district_code:"54",district_name:"Kayonza"},{district_code:"55",district_name:"Kirehe"},{district_code:"56",district_name:"Ngoma"},{district_code:"57",district_name:"Bugesera"}],"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(n.a)(s.a.mark((function e(t,r){var n,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,n=0,null,""),e.prev=2,Object(d.a)(),(a=new FormData).append("teacher_supporting_document",t),e.next=8,i.a.post("".concat(l.d,"/teachertransfers/uploadSupportingDocument"),a,{onUploadProgress:function(e){n=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,r(!0,n,null,"")}});case 8:c=e.sent,console.log("Uploaded document: ",c.data),r(!1,n,c.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),r(!1,n,"",Object(u.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}(),b=function(e,t,r){r(!0,"");return function(){var a=Object(n.a)(s.a.mark((function n(a){var c,p;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(!0,""),console.log("==================doc_title=================="),console.log({doc_title:""}),console.log("==================doc_title=================="),r(!0,""),(c=new FormData).append("teacher_transfer_id",e),c.append("mayor_letter",t),console.log("==================*********************=================="),console.log({doc_title:""}),console.log("==================*********************=================="),n.prev=11,Object(d.a)(),n.next=15,i.a.post("".concat(l.d,"/teachertransfers/outgoing"),c);case 15:p=n.sent,console.log("Uploaded document: ",p.data),a({type:o.a.UPLOAD_SIGNED_DOCUMENT,payload:{teacher_transfer_id:e,mayor_letter:p.data.mayor_letter}}),r(!1,""),n.next=25;break;case 21:n.prev=21,n.t0=n.catch(11),console.error(n.t0),r(!1,Object(u.a)(n.t0));case 25:case"end":return n.stop()}}),n,null,[[11,21]])})));return function(e){return a.apply(this,arguments)}}()}},138:function(e,t,r){"use strict";var n=r(19),a=r(3),s=r(13),c=r(51),i=r(1);t.a=function(e){var t=Object(a.useState)(""),r=Object(n.a)(t,2),o=r[0],l=r[1];return Object(i.jsx)("div",{className:"absolute animate__animated animate__fadeIn animate__faster",style:{width:"500px"},children:Object(i.jsxs)("div",{className:"bg-white rounded shadow-xl mb-10",children:[Object(i.jsxs)("div",{className:"p-3 flex flex-row items-center justify-between gap-3",children:[Object(i.jsx)("input",{type:"search",value:o,onChange:function(e){return l(e.target.value)},placeholder:"Type district name...",className:"bg-white rounded px-3 py-2 border border-primary-800 w-full"}),Object(i.jsx)("div",{onClick:function(){return e.setVisibility(!1)},children:Object(i.jsx)("div",{className:"h-8 w-8 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center",children:Object(i.jsx)(s.k,{className:"text-red-600 text-2xl cursor-pointer"})})})]}),Object(i.jsx)("div",{className:"max-h-80 overflow-y-auto pb-3",children:0===Object(c.h)(e.districts,o).length?Object(i.jsx)("div",{className:"text-gray-500 font-extrabold text-xl text-center p-4",children:"No data found!"}):Object(c.h)(e.districts,o).map((function(t,r){return Object(i.jsx)("div",{onClick:function(){e.onChange(t.district_code),e.setVisibility(!1)},className:"border-b py-2 px-3 group ".concat(e.selected_district===t.district_code?"bg-blue-200 font-extrabold text-primary-800":""," hover:bg-primary-800 hover:text-white cursor-pointer hover:border-blue-500"),children:Object(i.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[Object(i.jsx)("div",{children:e.selected_district===t.district_code?Object(i.jsx)(s.j,{className:"text-2xl"}):Object(i.jsx)(s.Z,{className:"text-2xl"})}),Object(i.jsx)("div",{children:t.district_name})]})},r+1)}))})]})})}},147:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var s=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},c=t.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&!(e instanceof Array)}))},i=t.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},o=t.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return new Set([].concat(a(e),a(t)))}),[]))},l=t.jsons2arrays=function(e,t){var r=t=t||o(e),n=t;c(t)&&(r=t.map((function(e){return e.label})),n=t.map((function(e){return e.key})));var s=e.map((function(e){return n.map((function(t){return d(t,e)}))}));return[r].concat(a(s))},d=t.getHeaderValue=function(e,t){var r=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,r,n){var a=e[t];if(void 0!==a&&null!==a)return a;n.splice(1)}),t);return void 0===r?e in t?t[e]:"":r},u=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},p=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return u(e)})).map((function(e){return""+r+e+r})).join(t)})).join("\n")},h=t.arrays2csv=function(e,t,r,n){return p(t?[t].concat(a(e)):e,r,n)},f=t.jsons2csv=function(e,t,r,n){return p(l(e,t),r,n)},b=t.string2csv=function(e,t,r,n){return t?t.join(r)+"\n"+e:e.replace(/"/g,'""')},m=t.toCSV=function(e,t,r,n){if(c(e))return f(e,t,r,n);if(i(e))return h(e,t,r,n);if("string"===typeof e)return b(e,t,r);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,r,n,a){var c=m(e,r,n,a),i=s()?"application/csv":"text/csv",o=new Blob([t?"\ufeff":"",c],{type:i}),l="data:"+i+";charset=utf-8,"+(t?"\ufeff":"")+c,d=window.URL||window.webkitURL;return"undefined"===typeof d.createObjectURL?l:d.createObjectURL(o)}},148:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var n,a=r(3),s=((n=a)&&n.__esModule,r(35));t.propTypes={data:(0,s.oneOfType)([s.string,s.array,s.func]).isRequired,headers:s.array,target:s.string,separator:s.string,filename:s.string,uFEFF:s.bool,onClick:s.func,asyncOnClick:s.bool,enclosingCharacter:s.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},150:function(e,t,r){e.exports=r(151)},151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSVLink=t.CSVDownload=void 0;var n=s(r(152)),a=s(r(153));function s(e){return e&&e.__esModule?e:{default:e}}t.CSVDownload=n.default,t.CSVLink=a.default},152:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(3),c=(n=s)&&n.__esModule?n:{default:n},i=r(147),o=r(148);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildURI",value:function(){return i.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,r=e.headers,n=e.separator,a=e.enclosingCharacter,s=e.uFEFF,c=e.target,i=e.specs,o=e.replace;this.state.page=window.open(this.buildURI(t,s,r,n,a),c,i,o)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(c.default.Component);l.defaultProps=Object.assign(o.defaultProps,{target:"_blank"}),l.propTypes=o.propTypes,t.default=l},153:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(3),i=(n=c)&&n.__esModule?n:{default:n},o=r(147),l=r(148);var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.buildURI=r.buildURI.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"buildURI",value:function(){return o.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var r=this.props,n=r.data,a=r.headers,s=r.separator,c=r.filename,i=r.enclosingCharacter,l=r.uFEFF,d=t&&"function"===typeof n?n():n,u=new Blob([l?"\ufeff":"",(0,o.toCSV)(d,a,s,i)]);return window.navigator.msSaveBlob(u,c),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,(function(r){!1!==r?t.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.data,n=t.headers,s=t.separator,c=t.filename,o=t.uFEFF,l=t.children,d=(t.onClick,t.asyncOnClick,t.enclosingCharacter),u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),p="undefined"===typeof window?"":this.buildURI(r,o,n,s,d);return i.default.createElement("a",a({download:c},u,{ref:function(t){return e.link=t},target:"_self",href:p,onClick:this.handleClick()}),l)}}]),t}(i.default.Component);d.defaultProps=l.defaultProps,d.propTypes=l.propTypes,t.default=d},185:function(e,t,r){"use strict";r.r(t),r.d(t,"GetDistrictPostsRequests",(function(){return T})),r.d(t,"PostsRequestsReport",(function(){return L}));var n=r(24),a=r(29),s=r(30),c=r(31),i=r(32),o=r(5),l=r(7),d=r(2),u=r.n(d),p=r(6),h=r.n(p),f=r(3),b=r(36),m=r(40),_=r(17),j=r(16),x=r(110),y=r(26),v=r(1),O=function(e){var t=e.data.map((function(t,r){return e.rowFormat(t,r)}));return Object(v.jsxs)("div",{children:[e.tableHead,Object(v.jsxs)("table",{className:"striped bordered hover w-full text-sm mt-5",children:[e.thead,Object(v.jsx)("tbody",{children:t})]})]})},g=r(133),w=r.n(g),N=r(134),k=function(e){var t=[e.headerFormat];return Object(v.jsx)("button",{className:"bg-primary-800 hover:bg-blue-500 text-white px-3 py-2 rounded text-center w-max",onClick:function(r){return function(r,n,a){var s=N.a.json_to_sheet(t,{header:e.headers,skipHeader:!0});s["!cols"]=a,N.a.sheet_add_json(s,r,{header:e.headers,skipHeader:!0,origin:-1});var c={Sheets:{data:s},SheetNames:["data"]},i=Object(N.b)(c,{bookType:"xlsx",type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});w.a.saveAs(o,n+".xlsx")}(e.csvData,e.fileName,e.wscols)},children:"Export XLSX"})},S=r(150),C=function(e){return Object(v.jsx)(S.CSVLink,{headers:e.csvHeaders,data:e.csvData,filename:e.fileName,children:Object(v.jsx)("button",{className:"bg-accent-900 text-white rounded px-3 py-2 text-center w-max",type:"button",title:"Export excel CSV",children:"Export CSV"})})},D=r(39),q=r(10),R=r(4),P=r(8),M=r(51),E=r(138),T=function(){var e=Object(l.a)(u.a.mark((function e(t,r,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null),e.prev=1,Object(P.a)(),e.next=5,h.a.get("".concat(q.d,"/districtdistribution/peracademic/").concat(t,"/").concat(r));case 5:a=e.sent,console.log("District Requests: ",a.data),n(!1,a.data),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),n(!1,null),console.log("bb err: ",Object(o.a)({},e.t0)),console.log("bb err: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r,n){return e.apply(this,arguments)}}(),F=function(e){Object(c.a)(r,e);var t=Object(i.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).GetDistricts=function(e,t){T(e,t,(function(e,t){n.setState({loading:e,data:t}),null===t&&!1===e&&n.setState({loading:!1,data:null})}))},n.componentDidMount=function(){var e,t;"3"!==(null===(e=n.props.auth.role)||void 0===e?void 0:e.role_id)&&Object(x.b)((function(e,t,r){n.setState({loading:!0}),null!==t?n.setState({loading:!1,districts:t}):n.setState({loading:!1})})),null!==n.props.auth.district&&null!==n.props.basic.academic_calender&&"3"===(null===(t=n.props.auth.role)||void 0===t?void 0:t.role_id)&&n.GetDistricts(n.props.auth.district.district_code,n.props.basic.academic_calender.academic_year_id)},n.state={loading:!0,data:null,error:"",selected_district:"",districts:null,showDistrictsList:!1,searchData:"",selectedSchool_code:null},n}return Object(s.a)(r,[{key:"render",value:function(){var e,t,r,a,s,c,i,o,l=this,d=null===(e=this.props.auth.role)||void 0===e?void 0:e.access,u="3"===(null===(t=this.props.auth.role)||void 0===t?void 0:t.role_id)?null===(r=this.props.auth.district)||void 0===r?void 0:r.district_name:null===(a=this.state.districts)||void 0===a||null===(s=a.find((function(e){return e.district_code===l.state.selected_district})))||void 0===s?void 0:s.district_name;if(!1===Object(R.c)(d,R.b.POSTS_REQUESTS_REPORT))return Object(v.jsx)(j.a,{to:"/dashboard"});var p=null===this.state.data?[]:Object(M.h)(null===this.state.selected_district?this.state.data.academic_distributed:this.state.data.academic_distributed.filter((function(e){return e.school_code===l.state.selected_district})).map((function(e,t){return{id:(t+1).toString(),school_code:e.school_code,school_name:e.school_name,position_name:e.position_name+"( "+e.position_code+" )",qualification_name:e.qualification_name,existing_teachers:e.existing_post,new_requests:e.head_teacher_post_request,dde_requests:null===e.dde_post_request?"":e.dde_post_request,ht_request_reason:e.reason_name,dde_comment:null===e.dde_post_request_comment?"":e.dde_post_request_comment}})),this.state.searchData),h=[{wch:Math.max.apply(Math,Object(n.a)(p.map((function(e){return e.id.length}))))},{wch:Math.max.apply(Math,Object(n.a)(p.map((function(e){return e.school_code.length}))))},{wch:Math.max.apply(Math,Object(n.a)(p.map((function(e){return e.school_name.length}))))},{wch:Math.max.apply(Math,Object(n.a)(p.map((function(e){return e.position_name.length}))))},{wch:Math.max.apply(Math,Object(n.a)(p.map((function(e){return e.qualification_name.length}))))},{wch:Math.max.apply(Math,Object(n.a)(p.map((function(e){return e.existing_teachers.length}))))},{wch:Math.max.apply(Math,Object(n.a)(p.map((function(e){return e.new_requests.length}))))},{wch:Math.max.apply(Math,Object(n.a)(p.map((function(e){return e.ht_request_reason.length}))))},{wch:Math.max.apply(Math,Object(n.a)(p.map((function(e){return e.dde_requests.length}))))},{wch:Math.max.apply(Math,Object(n.a)(p.map((function(e){return e.dde_comment.length}))))}];return!0===this.state.loading?Object(v.jsxs)(y.a,{className:"flex flex-col items-center justify-center",children:[Object(v.jsx)(D.a,{}),Object(v.jsx)("div",{children:"Loading, please wait..."})]}):Object(v.jsx)("div",{children:Object(v.jsxs)(y.a,{children:[Object(v.jsxs)("div",{className:"text-primary-800 text-2xl font-extrabold mb-5 flex flex-col",children:["Posts requests Report in ",u," district",Object(v.jsxs)("div",{className:"flex flex-row items-center gap-3 font-bold text-black text-base",children:[Object(v.jsx)("span",{children:"Academic year:"}),Object(v.jsx)("div",{className:"truncate",children:null===(c=this.props.basic.academic_calender)||void 0===c?void 0:c.academic_year_name})]})]}),Object(v.jsxs)("div",{className:"flex flex-row items-center gap-3 justify-between",children:["3"!==(null===(i=this.props.auth.role)||void 0===i?void 0:i.role_id)&&Object(v.jsx)("div",{className:"flex flex-row items-center gap-3 w-full",children:null===this.state.districts?Object(v.jsx)("div",{className:"font-bold",children:"Loading, please wait..."}):Object(v.jsxs)("div",{className:"w-full",children:[Object(v.jsxs)("div",{onClick:function(){return l.setState({showDistrictsList:!l.state.showDistrictsList})},className:"border font-bold ".concat(!1===this.state.showDistrictsList?"border-gray-400 hover:border-primary-800 hover:bg-blue-100":"border"," hover:text-primary-800 w-full rounded px-3 py-2 bg-white cursor-pointer flex flex-row items-center gap-3 justify-between"),children:[Object(v.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[""!==this.state.selected_district&&Object(v.jsx)("div",{className:"rounded-full px-2 bg-blue-200 text-primary-800",children:u}),Object(v.jsx)("span",{children:""===this.state.selected_district?"Choose a district":"Change district"})]}),Object(v.jsx)("div",{children:!1===this.state.showDistrictsList?Object(v.jsx)(m.a,{className:"text-xl"}):Object(v.jsx)(m.b,{className:"text-xl"})})]}),!0===this.state.showDistrictsList&&Object(v.jsx)(E.a,{onChange:function(e){l.setState({selected_district:e}),null!==l.props.basic.academic_calender&&l.GetDistricts(e,l.props.basic.academic_calender.academic_year_id)},districts:this.state.districts,selected_district:this.state.selected_district,setVisibility:function(e){l.setState({showDistrictsList:e})}})]})}),Object(v.jsx)("input",{type:"search",value:this.state.searchData,onChange:function(e){return l.setState({searchData:e.target.value})},className:"bg-white rounded px-3 py-2 border border-gray-400 w-full",placeholder:"Search..."}),Object(v.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(v.jsx)(k,{csvData:p,fileName:"".concat(u,"_Posts_Requests_Report_xlsx"),wscols:h,headers:["id","school_code","school_name","position_name","qualification_name","existing_teachers","new_requests","ht_request_reason","dde_requests","dde_comment"],headerFormat:{id:"#",school_code:"School code",school_name:"School name",position_name:"Position name",qualification_name:"Qualification name",existing_teachers:"Existing teachers",new_requests:"New HT requests",ht_request_reason:"HT Requests reason",dde_requests:"DDE Requests",dde_comment:"DDE Comment"}}),Object(v.jsx)(C,{csvHeaders:[{label:"#",key:"id"},{label:"Position name",key:"position_name"},{label:"Qualification name",key:"qualification_name"},{label:"Existing teachers",key:"existing_teachers"},{label:"HT Requests",key:"new_requests"},{label:"HT Request reason",key:"ht_request_reason"},{label:"DDE Requests",key:"dde_requests"},{label:"DDE comment",key:"dde_comment"}],csvData:p,fileName:"".concat(u,"_Posts_Requests_Report_csv.csv")})]})]}),Object(v.jsx)("div",{children:0===p.length?"3"===(null===(o=this.props.auth.role)||void 0===o?void 0:o.role_id)||""!==this.state.selected_district?Object(v.jsx)("div",{className:"px-5 py-5 rounded-md mt-5 bg-gray-100 text-gray-400 font-extrabold text-center w-full text-2xl",children:"No data found!"}):Object(v.jsx)("div",{onClick:function(){return l.setState({showDistrictsList:!l.state.showDistrictsList})},className:"underline px-5 py-5 cursor-pointer rounded-md mt-5 bg-blue-50 text-gray-900 font-extrabold text-center w-full text-2xl",children:"No district selected!"}):Object(v.jsx)(O,{thead:Object(v.jsx)("thead",{className:"w-full text-left bg-blue-50",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"border p-1 px-2 border-blue-200",children:"#"}),Object(v.jsx)("th",{className:"border p-1 border-blue-200",children:"School code"}),Object(v.jsx)("th",{className:"border p-1 border-blue-200",children:"School_name"}),Object(v.jsx)("th",{className:"border p-1 border-blue-200",children:"Position name"}),Object(v.jsx)("th",{className:"border p-1 border-blue-200",children:"Qualification name"}),Object(v.jsx)("th",{className:"border p-1 border-blue-200",children:"Existing teachers"}),Object(v.jsx)("th",{className:"border p-1 border-blue-200",children:"HT Requests"}),Object(v.jsx)("th",{className:"border p-1 border-blue-200",children:"HT Request reason"}),Object(v.jsx)("th",{className:"border p-1 border-blue-200",children:"DDE Requests"}),Object(v.jsx)("th",{className:"border p-1 border-blue-200",children:"DDE comment"})]})}),rowFormat:function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"px-2 py-1 border",children:t+1}),Object(v.jsx)("td",{className:"px-1 py-1 border",children:Object(v.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[null===l.state.selectedSchool_code&&Object(v.jsx)("div",{className:"text-3xl",children:Object(v.jsx)("div",{className:"bg-blue-100 text-blue-700 hover:bg-blue-600 hover:text-white rounded-lg",children:null===l.state.selectedSchool_code?Object(v.jsx)(b.d,{}):Object(v.jsx)(b.e,{})})}),Object(v.jsx)("div",{children:e.school_code})]})}),Object(v.jsx)("td",{className:"px-1 py-1 border",children:e.school_name}),Object(v.jsx)("td",{className:"px-1 py-1 border",children:e.position_name}),Object(v.jsx)("td",{className:"px-1 py-1 border",children:e.qualification_name}),Object(v.jsx)("td",{className:"px-1 py-1 border",children:e.existing_teachers}),Object(v.jsx)("td",{className:"px-1 py-1 border",children:e.new_requests}),Object(v.jsx)("td",{className:"px-1 py-1 border",children:e.ht_request_reason}),Object(v.jsx)("td",{className:"px-1 py-1 border",children:e.dde_requests}),Object(v.jsx)("td",{className:"px-1 py-1 border",children:e.dde_comment})]},t)},data:p})})]})})}}]),r}(f.Component),L=Object(_.b)((function(e){return{auth:e.auth,basic:e.basic}}),{})(F)}}]);
//# sourceMappingURL=18.1efd85ff.chunk.js.map