(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[22],{105:function(e,t,s){"use strict";s.d(t,"b",(function(){return h})),s.d(t,"d",(function(){return j})),s.d(t,"f",(function(){return p})),s.d(t,"c",(function(){return x})),s.d(t,"i",(function(){return _})),s.d(t,"e",(function(){return m})),s.d(t,"g",(function(){return f})),s.d(t,"h",(function(){return v})),s.d(t,"a",(function(){return g}));var c=s(6),n=s(3),i=s.n(n),r=s(5),a=s.n(r),o=s(10),l=s(13),d=s(8),u=s(9),b=s(18),h=function(e){return e(!0,null,""),function(){var t=Object(c.a)(i.a.mark((function t(s){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,a.a.get("".concat(l.c,"/teachertransfers/requesteddde"));case 4:c=t.sent,console.log("===================================="),console.log({getAllTransfers:c}),console.log("===================================="),s({type:o.a.GET_ALL_TRANSFER,payload:c.data}),e(!1,c.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return e(!0,null,""),function(){var t=Object(c.a)(i.a.mark((function t(s){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,a.a.get("".concat(l.c,"/teachertransfers/teacher"));case 4:c=t.sent,console.log("===================================="),console.log({getAllTransfers:c}),console.log("===================================="),s({type:o.a.GET_MY_TRANSFER,payload:c.data}),e(!1,c.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return e(!0,""),function(){var t=Object(c.a)(i.a.mark((function t(s){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,a.a.get("".concat(l.c,"/teachertransfers/transferreasons"));case 4:c=t.sent,console.log("=================FC_GetTransferReasons==================="),console.log({FC_GetTransferReasons:c}),console.log("=================FC_GetTransferReasons==================="),s({type:o.a.GET_TRANSFER_REASON,payload:c.data}),e(!1,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},x=function(){var e=Object(c.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,null,""),e.prev=1,Object(d.a)(),e.next=5,a.a.get("".concat(l.c,"/district"));case 5:s=e.sent,console.log("=================FC_GetDistricts==================="),console.log({FC_GetDistricts:s}),console.log("=================FC_GetDistricts==================="),t(!1,s.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),t(!1,null,Object(u.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(i.a.mark((function e(t,s){var c,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,c=0,null,""),e.prev=2,Object(d.a)(),(n=new FormData).append("teacher_supporting_document",t),e.next=8,a.a.post("".concat(l.c,"/teachertransfers/uploadSupportingDocument"),n,{onUploadProgress:function(e){c=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,s(!0,c,null,"")}});case 8:r=e.sent,console.log("Uploaded document: ",r.data),s(!1,c,r.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),s(!1,c,"",Object(u.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,s){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(i.a.mark((function e(t,s,c){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0,null,""),e.prev=1,Object(d.a)(),e.next=5,a.a.post("".concat(l.c,"/teachertransfer/getschoolsperdistrict/").concat(t),{user_id:s});case 5:n=e.sent,console.log("=================FC_GetSchoolByDistrict_2==================="),console.log({FC_GetSchoolByDistrict_2:n}),console.log("=================FC_GetSchoolByDistrict_2==================="),c(!1,n.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),c(!1,null,Object(u.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,s,c){return e.apply(this,arguments)}}(),f=function(e,t,s,n,r){r(!0,"");var h="";return function(){var j=Object(c.a)(i.a.mark((function c(j){var p,x;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r(!0,""),c.next=3,_(s,(function(e,t,s,c){r(e,""),console.log("==================&&&&&&&&&&&&&=================="),console.log({data:s}),console.log("==================&&&&&&&&&&&&&=================="),!e&&Object(b.f)(c)&&null!==s?h=s:e||Object(b.f)(c)||r(!1,c)}));case 3:if(Object(b.f)(h)){c.next=23;break}return r(!0,""),p={teacher_transfer_id:e,outgoing_status:n,outgoing_dde_comment:t,mayor_letter:h},console.log("==================*********************=================="),console.log({doc_title:h}),console.log("==================*********************=================="),c.prev=9,Object(d.a)(),c.next=13,a.a.post("".concat(l.c,"/teachertransfers/outgoing"),p);case 13:x=c.sent,console.log("Uploaded document: ",x.data),j({type:o.a.RESPOND_TO_LEAVE,payload:p}),r(!1,""),c.next=23;break;case 19:c.prev=19,c.t0=c.catch(9),console.error(c.t0),r(!1,Object(u.a)(c.t0));case 23:case"end":return c.stop()}}),c,null,[[9,19]])})));return function(e){return j.apply(this,arguments)}}()},v=function(e,t,s,n,r){return r(!1,""),function(){var b=Object(c.a)(i.a.mark((function c(b){var h,j;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r(!0,""),h={teacher_transfer_id:e,requested_status:s,approved_school_id:t.school_code,requested_comment:n},c.prev=2,Object(d.a)(),c.next=6,a.a.post("".concat(l.c,"/teachertransfers/incoming"),h);case 6:j=c.sent,console.log("FC_RespondTransfer document: ",j.data),b({type:o.a.RESPOND_TO_TRANSFER,payload:{teacher_transfer_id:e,requested_status:s,approved_school:t,requested_comment:n}}),r(!1,""),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(2),console.error(c.t0),r(!1,Object(u.a)(c.t0));case 16:case"end":return c.stop()}}),c,null,[[2,12]])})));return function(e){return b.apply(this,arguments)}}()},g=function(e){return e(!0,null,""),function(){var t=Object(c.a)(i.a.mark((function t(s){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,a.a.get("".concat(l.c,"/teachertransfers/leavingdde"));case 4:c=t.sent,console.log("=================FC_GetAllLeaves==================="),console.log({FC_GetAllLeaves:c}),console.log("=================FC_GetAllLeaves==================="),s({type:o.a.GET_ALL_LEAVES,payload:c.data}),e(!1,c.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}},111:function(e,t,s){"use strict";s(2);var c=s(1);t.a=function(e){var t=function(){for(var t=[],s=0;s<e.cols;s++)t.push(s);return t.map((function(e){return Object(c.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(c.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("tr",{className:"border-b border-gray-200",children:t()},228),Object(c.jsx)("tr",{className:"border-b border-gray-200",children:t()},22648),Object(c.jsx)("tr",{className:"border-b border-gray-200",children:t()},229768)]})}},129:function(e,t,s){"use strict";var c=s(19),n=s(2),i=s(12),r=s(18),a=s(1);t.a=function(e){var t=Object(n.useState)(""),s=Object(c.a)(t,2),o=s[0],l=s[1];return Object(a.jsx)("div",{className:"absolute animate__animated animate__fadeIn animate__faster",style:{width:"500px"},children:Object(a.jsxs)("div",{className:"bg-white rounded shadow-xl mb-10",children:[Object(a.jsxs)("div",{className:"p-3 flex flex-row items-center justify-between gap-3",children:[Object(a.jsx)("input",{type:"search",value:o,onChange:function(e){return l(e.target.value)},placeholder:"Type district name...",className:"bg-white rounded px-3 py-2 border border-primary-800 w-full"}),Object(a.jsx)("div",{onClick:function(){return e.setVisibility(!1)},children:Object(a.jsx)("div",{className:"h-8 w-8 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center",children:Object(a.jsx)(i.i,{className:"text-red-600 text-2xl cursor-pointer"})})})]}),Object(a.jsx)("div",{className:"max-h-80 overflow-y-auto pb-3",children:0===Object(r.g)(e.districts,o).length?Object(a.jsx)("div",{className:"text-gray-500 font-extrabold text-xl text-center p-4",children:"No data found!"}):Object(r.g)(e.districts,o).map((function(t,s){return Object(a.jsx)("div",{onClick:function(){e.onChange(t.district_code),e.setVisibility(!1)},className:"border-b py-2 px-3 group ".concat(e.selected_district===t.district_code?"bg-blue-200 font-extrabold text-primary-800":""," hover:bg-primary-800 hover:text-white cursor-pointer hover:border-blue-500"),children:Object(a.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[Object(a.jsx)("div",{children:e.selected_district===t.district_code?Object(a.jsx)(i.h,{className:"text-2xl"}):Object(a.jsx)(i.T,{className:"text-2xl"})}),Object(a.jsx)("div",{children:t.district_name})]})},s+1)}))})]})})}},178:function(e,t,s){"use strict";s.r(t),s.d(t,"DoPlacement",(function(){return C}));var c=s(26),n=s(28),i=s(29),r=s(30),a=s(31),o=s(2),l=s(39),d=s(16),u=s(15),b=s(10),h=s(105),j=s(24),p=s(32),x=s(43),_=s(42),m=s(111),f=s(7),v=s(18),g=s(129),O=s(19),N=s(12),w=s(1),y=function(e){var t=Object(o.useState)(""),s=Object(O.a)(t,2),c=s[0],n=s[1];return Object(w.jsx)("div",{className:"absolute animate__animated animate__fadeIn animate__faster",style:{width:"500px"},children:Object(w.jsxs)("div",{className:"bg-white rounded shadow-xl mb-10",children:[Object(w.jsxs)("div",{className:"p-3 flex flex-row items-center justify-between gap-3",children:[Object(w.jsx)("input",{type:"search",value:c,onChange:function(e){return n(e.target.value)},placeholder:"Type district name...",className:"bg-white rounded px-3 py-2 border border-primary-800 w-full"}),Object(w.jsx)("div",{onClick:function(){return e.setVisibility(!1)},children:Object(w.jsx)("div",{className:"h-8 w-8 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center",children:Object(w.jsx)(N.i,{className:"text-red-600 text-2xl cursor-pointer"})})})]}),Object(w.jsx)("div",{className:"max-h-80 overflow-y-auto pb-3",children:0===Object(v.g)(e.positions,c).length?Object(w.jsx)("div",{className:"text-gray-500 font-extrabold text-xl text-center p-4",children:"No data found!"}):Object(v.g)(e.positions,c).map((function(t,s){return Object(w.jsx)("div",{onClick:function(){e.onChange(t.position_code),e.setVisibility(!1)},className:"border-b py-2 px-3 group ".concat(e.selected_position===t.position_code?"bg-blue-200 font-extrabold text-primary-800":""," hover:bg-primary-800 hover:text-white cursor-pointer hover:border-blue-500"),children:Object(w.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[Object(w.jsx)("div",{children:e.selected_position===t.position_code?Object(w.jsx)(N.h,{className:"text-2xl"}):Object(w.jsx)(N.T,{className:"text-2xl"})}),Object(w.jsx)("div",{children:t.position_name})]})},s+1)}))})]})})},S=function(e){Object(r.a)(s,e);var t=Object(a.a)(s);function s(e){var i;return Object(n.a)(this,s),(i=t.call(this,e)).FC_GetDistrictDistribution=function(e){i.props.basic.academic_calender&&Object(b.p)({academic_id:i.props.basic.academic_calender.academic_year_id,district_id:e},(function(e,t,s){i.setState({loadingDistribution:!0,distributionList:null}),null!==t&&!0===e?i.setState({loadingDistribution:!1,distributionList:t}):!0===e&&i.setState({loadingDistribution:!1})}))},i.FC_ChangeCustomVacant=function(e,t){var s=Object(c.a)(i.state.customVacant),n=s.findIndex((function(e){return e.selected_request_id===i.state.selected_request_id})),r=Object(v.f)(t)||Number(t)<0?"0":t;n>=0?s[n]={selected_request_id:i.state.selected_request_id,new_value:Number(r)>Number(e)?e.toString():r}:s.push({selected_request_id:i.state.selected_request_id,new_value:Number(r)>Number(e)?e.toString():r}),console.log("================new_value_copy===================="),console.log({new_value_copy:r}),console.log("================new_value_copy===================="),i.setState({customVacant:s,selected_request_id:"",new_value:""})},i.FC_GetDistributionValue=function(e){var t=i.state.customVacant.find((function(t){return t.selected_request_id===e.post_request_id}));return t?t.new_value:e.dde_post_distribution.toString()},i.FC_FilterByPosition=function(e,t){return e?e.academic_distributed.filter((function(e){return e.position_code.toString()===t.toString()})):[]},i.FC_CalculateRequests=function(e){var t=0;return e.forEach((function(e){t+=Number(i.FC_GetDistributionValue(e))})),t},i.FC_GetRequestsForTRS=function(e){var t=0,s=[];return e.forEach((function(e){t=Number(i.FC_GetDistributionValue(e)),s.push({post_request_id:e.post_request_id,school_code:e.school_code,district_code:e.district_code,sector_code:e.school_code.substring(0,4),province_code:e.school_code.substring(0,1),gender:"",in_education:!1,disability:!1,academic_year_id:i.props.basic.academic_calender?i.props.basic.academic_calender.academic_year_id:"",available_places:[{position_code:e.position_code,requested_teacher:t}]}),t=0})),s},i.submitDataRequestTRS=function(e){var t=i.FC_GetRequestsForTRS(e);i.setState({loading_candidates_from_trs:!0,error:null}),Object(b.S)(i.state.selected_position,t,(function(e,t,s){!0===e&&null!==t?i.setState({loading_candidates_from_trs:!1,error:{target:"main-error",msg:s},collected_teachers:t,collected_candidates_open:!0}):i.setState({loading_candidates_from_trs:!1,error:{target:"main-error",msg:s}})}))},i.state={loading:!0,loadingDistribution:!1,loading_candidates_from_trs:!1,districts:null,showDistrictsList:!1,selected_district:"",showPositionList:!1,selected_position:"",distributionList:null,searchData:"",error:null,selected_request_id:"",new_value:"0",customVacant:[],waiting_list_total:null,collected_teachers:[],collected_candidates_open:!1},i}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.role&&"4"===this.props.auth.role.role_id.toString()&&(Object(h.c)((function(t,s,c){e.setState({loading:t}),null!==s&&!1===t&&e.setState({loading:!1,districts:s})})),null===this.props.basic.positions&&this.props.FC_GetAllPositions((function(t,s){e.setState({loading:t})})),null!==this.state.waiting_list_total&&0!==this.state.waiting_list_total.length||Object(b.L)((function(t,s,c){e.setState({loading:!0}),!0===t?e.setState({loading:!1,waiting_list_total:s}):!1===t&&e.setState({loading:!1})})))}},{key:"render",value:function(){var e,t,s,c,n=this,i=null===(e=this.props.auth.role)||void 0===e?void 0:e.access;if(!1===Object(f.c)(i,f.b.DO_PLACEMENT))return Object(w.jsx)(u.a,{to:"/dashboard"});if(!0===this.state.loading)return Object(w.jsxs)(p.a,{className:"flex flex-col items-center justify-center",children:[Object(w.jsx)(_.a,{}),Object(w.jsxs)("div",{children:["Loading, please wait... ",null===(c=this.props.auth.role)||void 0===c?void 0:c.role_id]})]});var r=null===(t=this.state.districts)||void 0===t?void 0:t.find((function(e){return e.district_code===n.state.selected_district})),a=null===(s=this.props.basic.positions)||void 0===s?void 0:s.find((function(e){return e.position_code===n.state.selected_position})),d=this.FC_FilterByPosition(this.state.distributionList,this.state.selected_position),b=this.FC_CalculateRequests(d),h=this.state.waiting_list_total?this.state.waiting_list_total.find((function(e){return e._id.toString()===n.state.selected_position.toString()})):void 0;return!0===this.state.collected_candidates_open?Object(w.jsxs)(p.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(w.jsx)("div",{className:"flex border-b p-2",children:Object(w.jsx)("div",{className:"flex-1 text-center",children:Object(w.jsx)(x.a,{size:"md",children:"List of teachers form TRS waiting list"})})}),Object(w.jsx)("div",{className:"p-2",children:Object(w.jsx)("div",{className:"grid grid-cols-2 gap-3 w-full",children:[{title:"Position",value:"(".concat(null===a||void 0===a?void 0:a.position_code,") ").concat(null===a||void 0===a?void 0:a.position_name),special:!1},{title:"Total vacant post",value:b,special:!1}].map((function(e,t){return Object(w.jsxs)("div",{className:"bg-gray-50 py-1 px-2 border rounded flex-1 ",children:[Object(w.jsxs)("span",{className:"text-gray-500 block",children:[e.title,":"]})," ",Object(w.jsx)("b",{children:e.value})]},t)}))})}),Object(w.jsxs)("div",{className:"p-2",children:[Object(w.jsxs)("table",{className:"w-full",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{className:"p-2 border",children:"#"}),Object(w.jsx)("th",{className:"p-2 border",children:"NID"}),Object(w.jsx)("th",{className:"p-2 border",children:"Names"}),Object(w.jsx)("th",{className:"p-2 border",children:"Phone"}),Object(w.jsx)("th",{className:"p-2 border",children:"Email"}),Object(w.jsx)("th",{className:"p-2 border",children:"Gender"}),Object(w.jsx)("th",{className:"p-2 border",children:"School"})]})}),Object(w.jsx)("tbody",{children:this.state.collected_teachers.length<=0?Object(w.jsx)("tr",{children:Object(w.jsxs)("td",{colSpan:6,className:"py-5 text-center",children:[Object(w.jsx)(x.a,{children:"No candidates found!"}),Object(w.jsx)("p",{children:"No results found"})]})}):this.state.collected_teachers.map((function(e,t){var s,c,n,i,r,a,o,l,u,b=d.find((function(t){return t.school_code.toString()===(null===e||void 0===e?void 0:e.school_code.toString())}));return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"p-2 border",children:t+1}),Object(w.jsx)("td",{className:"p-2 border",children:null===e||void 0===e||null===(s=e.user_info)||void 0===s?void 0:s.n_id}),Object(w.jsxs)("td",{className:"p-2 border",children:[null===e||void 0===e||null===(c=e.user_info)||void 0===c||null===(n=c.user_info)||void 0===n?void 0:n.fname," ",null===e||void 0===e||null===(i=e.user_info)||void 0===i||null===(r=i.user_info)||void 0===r?void 0:r.lname]}),Object(w.jsx)("td",{className:"p-2 border",children:null===e||void 0===e||null===(a=e.user_info)||void 0===a?void 0:a.phone_number}),Object(w.jsx)("td",{className:"p-2 border",children:null===e||void 0===e||null===(o=e.user_info)||void 0===o?void 0:o.email}),Object(w.jsx)("td",{className:"p-2 border",children:null===e||void 0===e||null===(l=e.user_info)||void 0===l||null===(u=l.user_info)||void 0===u?void 0:u.sex}),Object(w.jsx)("td",{className:"p-2 border",children:b?"".concat(b.school_code," - ")+b.school_name:""})]},t)}))})]}),Object(w.jsx)("div",{className:"p-2 text-right",children:Object(w.jsx)(j.a,{onClick:function(){return n.setState({collected_candidates_open:!1,collected_teachers:[],customVacant:[],selected_position:""})},theme:"primary-light",className:"mt-1",children:"Add teacher to others position / district"})})]})]}):Object(w.jsxs)(w.Fragment,{children:[!Object(v.f)(this.state.selected_district.toString())&&!Object(v.f)(this.state.selected_position.toString())&&h&&Object(w.jsxs)("div",{className:"fixed bottom-0 right-0 flex left-0 bg-white shadow-lg border-t-2 px-3 items-center",children:[Object(w.jsx)("div",{className:"main-side-spacer"}),Object(w.jsxs)("div",{className:"flex-1 p-2 flex justify-between items-center",children:[Object(w.jsxs)("div",{className:"flex items-center",children:[Object(w.jsxs)("div",{className:"px-2 bg-gray-50 rounded",children:[Object(w.jsx)("span",{className:"text-sm",children:"Waiting list"}),Object(w.jsx)("h3",{className:"font-bold text-2xl -mt-1",children:h.waiting})]}),Object(w.jsxs)("div",{className:"mr-4 bg-green-50 ".concat(h.waiting>=b&&b>0?"text-green-700":"text-red-700"," px-2"),children:[Object(w.jsx)("span",{className:"text-sm",children:"Total requests"}),Object(w.jsx)("h3",{className:"font-bold text-2xl -mt-1",children:b})]})]}),Object(w.jsx)("div",{className:"",children:h.waiting>=b&&b>0?Object(w.jsx)(j.a,{theme:"accent",onClick:function(){return n.submitDataRequestTRS(d)},loading:this.state.loading_candidates_from_trs,className:"animate__animated animate__zoomIn animate__faster",children:"Do placement"}):Object(w.jsx)("span",{className:"text-red-500",children:0===b?"Vacant post is zero!":"Vacant post is greater than waiting list!"})})]})]}),Object(w.jsxs)(p.a,{children:[Object(w.jsx)("div",{className:"flex items-start",children:Object(w.jsxs)("div",{className:"flex-1 mb-3",children:[Object(w.jsx)("div",{className:"text-primary-800 text-2xl font-extrabold mb-2",children:"Do placement"}),Object(w.jsx)(x.a,{size:"sm",theme:"accent",children:Object(w.jsxs)("b",{children:[r?"".concat(r.district_name):"",a?" / ".concat(a.position_name):""]})})]})}),Object(w.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-3 justify-between",children:[Object(w.jsx)("div",{className:"flex flex-row items-center gap-3 w-full",children:null===this.state.districts?Object(w.jsx)("div",{className:"font-bold",children:"Loading, please wait..."}):Object(w.jsxs)("div",{className:"w-full",children:[Object(w.jsxs)("div",{onClick:function(){return n.setState({showDistrictsList:!n.state.showDistrictsList})},className:"border font-bold ".concat(!1===this.state.showDistrictsList?"border-gray-400 hover:border-primary-800 hover:bg-blue-100":"border"," hover:text-primary-800 w-full rounded px-3 py-2 bg-white cursor-pointer flex flex-row items-center gap-3 justify-between"),children:[Object(w.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[""!==this.state.selected_district&&r&&Object(w.jsx)("div",{className:"rounded-full px-2 bg-blue-200 text-primary-800",children:Object(v.h)(r.district_name)}),Object(w.jsx)("span",{children:""===this.state.selected_district?"Choose a district":"Change district"})]}),Object(w.jsx)("div",{children:!1===this.state.showDistrictsList?Object(w.jsx)(l.a,{className:"text-xl"}):Object(w.jsx)(l.b,{className:"text-xl"})})]}),!0===this.state.showDistrictsList&&Object(w.jsx)(g.a,{onChange:function(e){n.setState({selected_district:e}),n.FC_GetDistrictDistribution(e)},districts:this.state.districts,selected_district:this.state.selected_district,setVisibility:function(e){n.setState({showDistrictsList:e})}})]})}),Object(w.jsx)("div",{className:"flex flex-row items-center gap-3 w-full",children:null===this.props.basic.positions?Object(w.jsx)("div",{className:"font-bold",children:"Loading, please wait..."}):Object(w.jsxs)("div",{className:"w-full",children:[Object(w.jsxs)("div",{onClick:function(){return n.setState({showPositionList:!n.state.showPositionList})},className:"border font-bold ".concat(!1===this.state.showPositionList?"border-gray-400 hover:border-primary-800 hover:bg-blue-100":"border"," hover:text-primary-800 w-full rounded px-3 py-2 bg-white cursor-pointer flex flex-row items-center gap-3 justify-between"),children:[Object(w.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[""!==this.state.selected_position&&a&&Object(w.jsx)("div",{className:"rounded-full px-2 bg-blue-200 text-primary-800",children:Object(v.h)(a.position_name)}),Object(w.jsx)("span",{children:""===this.state.selected_position?"Choose a position":"Change position"})]}),Object(w.jsx)("div",{children:!1===this.state.showPositionList?Object(w.jsx)(l.a,{className:"text-xl"}):Object(w.jsx)(l.b,{className:"text-xl"})})]}),!0===this.state.showPositionList&&Object(w.jsx)(y,{onChange:function(e){n.setState({selected_position:e})},positions:this.props.basic.positions,selected_position:this.state.selected_position,setVisibility:function(e){n.setState({showPositionList:e})}})]})})]}),Object(w.jsxs)("div",{children:[(Object(v.f)(this.state.selected_district.toString())||Object(v.f)(this.state.selected_position.toString()))&&Object(w.jsx)("div",{onClick:function(){return n.setState({showDistrictsList:!n.state.showDistrictsList})},className:"underline px-5 py-5 cursor-pointer rounded-md mt-5 bg-blue-50 text-gray-900 font-extrabold text-center w-full text-2xl",children:Object(v.f)(this.state.selected_district)?"No district selected!":"No position selected!"}),!Object(v.f)(this.state.selected_district.toString())&&!Object(v.f)(this.state.selected_position.toString())&&Object(w.jsx)("div",{className:"my-3",children:Object(w.jsxs)("table",{className:"w-full text-left table-auto",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{className:"p-2 border",children:"#"}),Object(w.jsx)("th",{className:"p-2 border",children:"School name"}),Object(w.jsx)("th",{className:"p-2 border",children:"Post name"}),Object(w.jsxs)("th",{className:"p-2 border",children:["Existing post","(","s",")"]}),Object(w.jsx)("th",{className:"p-2 border ",children:"Vacant posts"})]})}),Object(w.jsx)("tbody",{children:this.state.loadingDistribution?Object(w.jsx)(m.a,{cols:5}):null===this.state.distributionList||0===this.state.distributionList.academic_distributed.length||0===d.length?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:5,className:"p-6 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:Object(w.jsx)(x.a,{size:"md",children:"No results found"})})}):d.map((function(e,t){var s=n.FC_GetDistributionValue(e);return Object(w.jsx)(o.Fragment,{children:Object(w.jsxs)("tr",{className:"border rounded hover:bg-blue-500 hover:bg-opacity-20",children:[Object(w.jsx)("td",{className:"p-2 border",children:t+1},t),Object(w.jsx)("td",{className:"p-2 border",children:e.school_name}),Object(w.jsx)("td",{className:"p-2 border",children:e.position_name}),Object(w.jsx)("td",{className:"p-2 border",children:e.existing_post}),n.state.selected_request_id===e.post_request_id?Object(w.jsx)("td",{className:" border  w-20 relative",children:Object(w.jsx)("input",{type:"number",className:"w-full p-1 border-4 rounded-t border-primary-800 font-bold bg-transparent",value:n.state.new_value,onChange:function(e){Number(e.target.value)<0?n.setState({new_value:"0"}):n.setState({new_value:e.target.value})},onBlur:function(t){return n.FC_ChangeCustomVacant(e.dde_post_distribution,t.target.value)},max:e.dde_post_distribution,autoFocus:!0,min:0})}):Object(w.jsx)("td",{className:"p-2 border w-20 font-bold bg-green-100 bg-opacity-40 text-green-800 cursor-pointer",onClick:function(){return n.setState({selected_request_id:e.post_request_id,new_value:s})},children:s})]})},t)}))})]})})]})]})]})}}]),s}(o.Component),C=Object(d.b)((function(e){return{auth:e.auth,basic:e.basic}}),{FC_GetAllPositions:b.j})(S)}}]);
//# sourceMappingURL=22.c0419785.chunk.js.map