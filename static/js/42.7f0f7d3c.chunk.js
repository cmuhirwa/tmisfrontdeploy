(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[42,58],{455:function(e,t,c){"use strict";c.r(t),c.d(t,"FilteredData",(function(){return H})),c.d(t,"SubjectsList",(function(){return I}));var r=c(29),s=c(30),a=c(31),l=c(32),n=c(4),o=c(352),i=c(70),d=c(17),b=c(14),j=c(20),h=c(39),u=c(27),m=c(53),x=c(23),p=c(43),O=c(3),f=c(7),y=c(8),v=c(28),g=c(9),_=c.n(g),N=c(15),S=c(10),w=c(12),C=c(2);function k(e){var t=Object(n.useState)(e.data.course_code),c=Object(v.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(e.data.course_name),l=Object(v.a)(a,2),o=l[0],i=l[1],d=Object(n.useState)(e.data.teaching_period),b=Object(v.a)(d,2),j=b[0],h=b[1],u=Object(n.useState)(""),m=Object(v.a)(u,2),x=m[0],p=m[1],g=Object(n.useState)(!1),k=Object(v.a)(g,2),H=k[0],A=k[1],I=Object(n.useState)(null),L=Object(v.a)(I,2),F=L[0],D=L[1],M=function(){var t=Object(y.a)(Object(O.a)().mark((function t(c){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),D(null),""!==r){t.next=4;break}return t.abrupt("return",D({element:"course_code",msg:"Please fill course code"}));case 4:if(""!==o){t.next=6;break}return t.abrupt("return",D({element:"course_name",msg:"Please fill course name"}));case 6:if(""!==j){t.next=8;break}return t.abrupt("return",D({element:"periods",msg:"Please fill teaching periods"}));case 8:return A(!0),Object(S.a)(),t.prev=10,t.next=13,_.a.post("".concat(N.d,"/hierarch/upperiod"),{studyhierarchyid:e.data.studyhierarchyid,course_code:r,course_name:o,teaching_period:parseInt(j)});case 13:200===t.sent.status&&(e.reload(),A(!1),p("Subject updated successfully!")),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(10),console.log("Erro: ",Object(f.a)({},t.t0)),D({element:"main",msg:Object(w.a)(t.t0)}),A(!1);case 22:case"end":return t.stop()}}),t,null,[[10,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"py-3",children:[Object(C.jsxs)("div",{className:"bg-blue-100 rounded p-3 flex flex-col gap-2 mb-3",children:[Object(C.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(C.jsx)("span",{className:"text-gray-800",children:"School level:"}),Object(C.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.level_code,") ",e.data.level_name]})]}),Object(C.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(C.jsx)("span",{className:"text-gray-800",children:"Combination:"}),Object(C.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.combination_code,") ",e.data.combination_name]})]}),Object(C.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(C.jsx)("span",{className:"text-gray-800",children:"Grade:"}),Object(C.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.grade_code,") ",e.data.grade_name]})]})]}),Object(C.jsxs)("form",{onSubmit:M,children:[Object(C.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(C.jsx)("span",{children:"Course code"}),Object(C.jsx)("input",{type:"text",value:r,onChange:function(e){s(e.target.value)},className:"border ".concat(null!==F&&"course_code"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill course code",disabled:H}),null!==F&&"course_code"===F.element&&Object(C.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),Object(C.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(C.jsx)("span",{children:"Course name"}),Object(C.jsx)("input",{type:"text",value:o,onChange:function(e){i(e.target.value)},className:"border ".concat(null!==F&&"course_name"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill course name",disabled:H}),null!==F&&"course_name"===F.element&&Object(C.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),Object(C.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(C.jsx)("span",{children:"Periods"}),Object(C.jsx)("input",{type:"number",value:j,onChange:function(e){h(e.target.value)},className:"border ".concat(null!==F&&"periods"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill number of periods",disabled:H}),null!==F&&"periods"===F.element&&Object(C.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),null!==F&&"main"===F.element&&Object(C.jsx)("div",{onClick:function(){return D(null)},className:"cursor-pointer text-red-600 font-bold text-base bg-red-100 rounded px-3 py-2",children:F.msg}),""!==x&&Object(C.jsx)("div",{onClick:function(){return p("")},className:"cursor-pointer text-green-600 font-bold text-base bg-green-100 rounded px-3 py-2",children:x}),Object(C.jsxs)("div",{className:"flex flex-row justify-between items-center gap-3 mb-3 mt-3",children:[Object(C.jsx)("div",{}),Object(C.jsx)("button",{type:"submit",className:"flex items-center justify-center px-3 py-2 rounded cursor-pointer bg-primary-800 text-white font-bold hover:bg-blue-500",disabled:H,children:"Update subject"})]})]})]})}var H=function(e,t,c){var r=e;return null!==r?(null!==t&&""!==t&&(r=r.filter((function(e){return e.level_code===t}))),null!==c&&(r=r.filter((function(e){return e.combination_code===c}))),r):[]},A=function(e){Object(a.a)(c,e);var t=Object(l.a)(c);function c(e){var s;return Object(r.a)(this,c),(s=t.call(this,e)).componentDidMount=function(){null===s.props.schoolHierarchyStore.hierarchy&&(s.setState({loading:!0}),s.props.FC_AllSchoolHierarchyDetails(!0,(function(e,t){!0===e&&s.setState({loading:!1})})))},s.state={selected_level_code:null,filter_by_combination:!1,selected_combination_code:null,search_comb:"",addedSubjects:[],loading:!1,success:"",error:"",ediSubject:null,search:""},s}return Object(s.a)(c,[{key:"render",value:function(){var e,t,c=this;return Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)(m.a,{children:Object(C.jsxs)("div",{className:"bg-white rounded-md z-50 w-full h-full overflow-auto",children:[Object(C.jsxs)("div",{className:"rounded-t-md flex flex-row items-center justify-between gap-4 py-2 border-b border-gray-400",children:[Object(C.jsxs)("div",{className:"text-xl font-bold ml-2 uppercase mt-2",children:["List of subjects (",null===(e=this.props.schoolHierarchyStore.hierarchy)||void 0===e?void 0:e.length,")"]}),Object(C.jsxs)(x.b,{to:"/hierarchy-add-subject",className:"flex items-center justify-center py-2 px-3 rounded bg-gray-100 text-2xl hover:bg-blue-100 hover:text-primary-800 cursor-pointer",title:"Close window",children:[Object(C.jsx)(d.d,{}),Object(C.jsx)("span",{className:"text-base",children:"Add subject"})]})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("div",{className:"",children:Object(C.jsx)("div",{className:"mb-10",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"mb-5",children:Object(C.jsxs)("div",{className:"mt-4",children:[Object(C.jsx)("div",{children:"Filter by"}),Object(C.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(C.jsxs)("select",{onChange:function(e){return c.setState({selected_level_code:e.target.value})},value:null===this.state.selected_level_code?"":this.state.selected_level_code,className:"border border-gray-400 rounded px-3 py-2",children:[Object(C.jsx)("option",{value:"",children:"Choose education level"}),Object(C.jsx)("option",{value:"",children:"Show all levels"}),this.props.schoolHierarchyStore.hierarchy&&Object(b.Q)(this.props.schoolHierarchyStore.hierarchy,{type:b.Lb.SCHOOL_LEVELS,status:!0}).levels.map((function(e,t){return Object(C.jsx)("option",{value:e.level_code,children:e.level_name},t+1)}))]}),Object(C.jsxs)("div",{className:"w-full",children:[Object(C.jsxs)("div",{onClick:function(){return c.setState({filter_by_combination:!c.state.filter_by_combination})},className:"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[null===this.state.selected_combination_code?Object(C.jsx)("span",{children:"All- Click to filter by combination"}):Object(C.jsx)("span",{children:this.props.schoolHierarchyStore.hierarchy&&(null===(t=Object(b.Q)(this.props.schoolHierarchyStore.hierarchy,{type:b.Lb.COMBINATIONS,status:!0}).combinations.find((function(e){return e.combination_code===c.state.selected_combination_code})))||void 0===t?void 0:t.combination_name)}),Object(C.jsx)("div",{className:"-mr-3",children:!0===this.state.filter_by_combination?Object(C.jsx)(d.n,{}):Object(C.jsx)(i.a,{})})]}),!0===this.state.filter_by_combination&&Object(C.jsxs)("div",{className:"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"flex flex-row items-center w-full justify-between gap-2",children:[Object(C.jsx)("input",{value:this.state.search_comb,onChange:function(e){return c.setState({search_comb:e.target.value})},placeholder:"Search...",type:"text",className:"border border-gray-400 rounded px-3 py-2 text-sm w-full"}),Object(C.jsx)("div",{children:Object(C.jsx)("div",{onClick:function(){return c.setState({filter_by_combination:!1})},className:"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white",children:Object(C.jsx)(d.n,{})})})]}),null!==this.state.selected_combination_code&&Object(C.jsxs)("div",{onClick:function(){c.setState({selected_combination_code:null,filter_by_combination:!1})},className:"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full",children:[Object(C.jsx)("div",{children:Object(C.jsx)(o.a,{className:"text-xl"})}),Object(C.jsx)("span",{children:"Click to view all"})]})]}),Object(C.jsx)("div",{className:"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn",style:{minWidth:"28rem"},children:0===Object(j.j)(this.props.schoolHierarchyStore.hierarchy&&Object(b.Q)(this.props.schoolHierarchyStore.hierarchy,{type:b.Lb.COMBINATIONS,status:!0}).combinations,this.state.search_comb).length?Object(C.jsx)("div",{className:"text-center text-lg font-bold p-5 px-10 text-gray-500",children:"No result found!"}):this.props.schoolHierarchyStore.hierarchy&&Object(j.j)(Object(b.Q)(this.props.schoolHierarchyStore.hierarchy,{type:b.Lb.COMBINATIONS,status:!0}).combinations,this.state.search_comb).map((function(e,t){return Object(C.jsxs)("div",{className:"w-full flex flex-row items-center border-b ".concat(c.state.selected_combination_code===e.combination_code?"border-yellow-100 bg-yellow-100 font-bold":"border-gray-200"," py-1 gap-4 hover:bg-yellow-100 cursor-pointer"),onClick:function(){c.setState({selected_combination_code:e.combination_code,filter_by_combination:!1})},children:[Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold",children:t+1})}),Object(C.jsx)("div",{children:e.combination_name})]},t+1)}))})]})]}),Object(C.jsx)("input",{className:"px-3 py-2 rounded border border-gray-400 w-full",placeholder:"Search keyword...",value:this.state.search,onChange:function(e){return c.setState({search:e.target.value})}})]})]})}),Object(C.jsx)("div",{className:"bg-white rounded border border-gray-200",children:Object(C.jsx)("div",{className:"w-full overflow-x-auto",children:Object(C.jsxs)("table",{className:"min-w-full text-left",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{className:"font-semibold border-b text-base",children:[Object(C.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-center",children:"#"}),Object(C.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Subject"}),Object(C.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Level"}),Object(C.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Combination"}),Object(C.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Grade"}),Object(C.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Periods"}),Object(C.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-right",children:"Action"})]})}),Object(C.jsx)("tbody",{className:"text-sm",children:null===this.props.schoolHierarchyStore.hierarchy?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:7,children:Object(C.jsx)("div",{className:"flex w-full items-center justify-center py-3",children:Object(C.jsx)(h.a,{})})})}):0===Object(j.j)(H(this.props.schoolHierarchyStore.hierarchy,this.state.selected_level_code,this.state.selected_combination_code),this.state.search).length?Object(C.jsx)("td",{colSpan:7,children:Object(C.jsx)("div",{className:"text-lg p-3 text-center",children:"No result found"})}):Object(j.j)(H(this.props.schoolHierarchyStore.hierarchy,this.state.selected_level_code,this.state.selected_combination_code),this.state.search).map((function(e,t){return Object(C.jsxs)("tr",{className:"text-gray-500 group",children:[Object(C.jsx)("td",{className:"p-2 border-b text-center",children:t+1}),Object(C.jsxs)("td",{className:"p-2 border-b",children:[e.course_code,"-",e.course_name]}),Object(C.jsx)("td",{className:"p-2 border-b",children:e.level_name}),Object(C.jsx)("td",{className:"p-2 border-b",children:e.combination_name}),Object(C.jsx)("td",{className:"p-2 border-b",children:e.grade_name}),Object(C.jsx)("td",{className:"p-2 border-b",children:e.teaching_period}),Object(C.jsx)("td",{className:"p-2 border-b",children:Object(C.jsx)("div",{className:"flex flex-row items-center justify-end",children:Object(C.jsx)("div",{onClick:function(){return c.setState({ediSubject:e})},className:"px-3 py-1 rounded bg-blue-100 group-hover:bg-primary-800 cursor-pointer text-black font-bold group-hover:text-white",children:"Edit"})})})]},t+1)}))})]})})})]})})})})]})}),null!==this.state.ediSubject&&Object(C.jsx)(p.c,{title:"Update subject",backDrop:!0,theme:p.b.default,close:function(){return c.setState({ediSubject:null})},backDropClose:!0,widthSizeClass:p.a.medium,displayClose:!0,padding:{title:!0,body:!1},children:Object(C.jsx)("div",{className:"border-t border-gray-400 px-3",children:Object(C.jsx)(k,{data:this.state.ediSubject,reload:function(){c.setState({loading:!0}),c.props.FC_AllSchoolHierarchyDetails(!0,(function(e,t){!0===e&&c.setState({loading:!1})}))}})})})]})}}]),c}(n.Component),I=Object(u.b)((function(e){return{auth:e.auth,basic:e.basic,schoolHierarchyStore:e.schoolHierarchyStore}}),{FC_AllSchoolHierarchyDetails:b.c})(A)},573:function(e,t,c){"use strict";c.r(t),c.d(t,"AddNewSubject",(function(){return I}));var r=c(29),s=c(30),a=c(31),l=c(32),n=c(4),o=c(352),i=c(70),d=c(17),b=c(14),j=c(20),h=c(39),u=c(27),m=c(53),x=c(23),p=c(455),O=c(43),f=c(3),y=c(7),v=c(8),g=c(28),_=c(9),N=c.n(_),S=c(15),w=c(10),C=c(12),k=c(2);function H(e){var t=Object(n.useState)(""),c=Object(g.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(""),l=Object(g.a)(a,2),o=l[0],i=l[1],d=Object(n.useState)("1"),b=Object(g.a)(d,2),j=b[0],h=b[1],u=Object(n.useState)(""),m=Object(g.a)(u,2),x=m[0],p=m[1],O=Object(n.useState)(!1),_=Object(g.a)(O,2),H=_[0],A=_[1],I=Object(n.useState)(null),L=Object(g.a)(I,2),F=L[0],D=L[1],M=function(){var t=Object(v.a)(Object(f.a)().mark((function t(c){var a;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),D(null),""!==r){t.next=4;break}return t.abrupt("return",D({element:"course_code",msg:"Please fill course code"}));case 4:if(""!==o){t.next=6;break}return t.abrupt("return",D({element:"course_name",msg:"Please fill course name"}));case 6:if(""!==j){t.next=8;break}return t.abrupt("return",D({element:"periods",msg:"Please fill teaching periods"}));case 8:return A(!0),Object(w.a)(),console.log({level_code:e.data.level_code,level_name:e.data.level_name,combination_code:e.data.combination_code,combination_name:e.data.combination_name,grade_code:e.data.grade_code,grade_name:e.data.grade_name,course_code:r,course_name:o,teaching_period:parseInt(j)}),t.prev=11,t.next=14,N.a.post("".concat(S.d,"/hierarch/create"),{level_code:e.data.level_code,level_name:e.data.level_name,combination_code:e.data.combination_code,combination_name:e.data.combination_name,grade_code:e.data.grade_code,grade_name:e.data.grade_name,course_code:r,course_name:o,teaching_period:parseInt(j)});case 14:a=t.sent,console.log("Res: ",a),200===a.status&&(s(""),i(""),h(""),e.reload(),A(!1),p("Subject added successfully!")),t.next=24;break;case 19:t.prev=19,t.t0=t.catch(11),console.log("Erro: ",Object(y.a)({},t.t0)),D({element:"main",msg:Object(C.a)(t.t0)}),A(!1);case 24:case"end":return t.stop()}}),t,null,[[11,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"py-3",children:[Object(k.jsxs)("div",{className:"bg-blue-100 rounded p-3 flex flex-col gap-2 mb-3",children:[Object(k.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(k.jsx)("span",{className:"text-gray-800",children:"School level:"}),Object(k.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.level_code,") ",e.data.level_name]})]}),Object(k.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(k.jsx)("span",{className:"text-gray-800",children:"Combination:"}),Object(k.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.combination_code,") ",e.data.combination_name]})]}),Object(k.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(k.jsx)("span",{className:"text-gray-800",children:"Grade:"}),Object(k.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.grade_code,") ",e.data.grade_name]})]})]}),Object(k.jsxs)("form",{onSubmit:M,children:[Object(k.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(k.jsx)("span",{children:"Course code"}),Object(k.jsx)("input",{type:"text",value:r,onChange:function(e){s(e.target.value)},className:"border ".concat(null!==F&&"course_code"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill course code",disabled:H}),null!==F&&"course_code"===F.element&&Object(k.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),Object(k.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(k.jsx)("span",{children:"Course name"}),Object(k.jsx)("input",{type:"text",value:o,onChange:function(e){i(e.target.value)},className:"border ".concat(null!==F&&"course_name"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill course name",disabled:H}),null!==F&&"course_name"===F.element&&Object(k.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),Object(k.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(k.jsx)("span",{children:"Periods"}),Object(k.jsx)("input",{type:"number",value:j,onChange:function(e){h(e.target.value)},className:"border ".concat(null!==F&&"periods"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill number of periods",disabled:H}),null!==F&&"periods"===F.element&&Object(k.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),null!==F&&"main"===F.element&&Object(k.jsx)("div",{onClick:function(){return D(null)},className:"cursor-pointer text-red-600 font-bold text-base bg-red-100 rounded px-3 py-2",children:F.msg}),""!==x&&Object(k.jsx)("div",{onClick:function(){return p("")},className:"cursor-pointer text-green-600 font-bold text-base bg-green-100 rounded px-3 py-2",children:x}),Object(k.jsxs)("div",{className:"flex flex-row justify-between items-center gap-3 mb-3 mt-3",children:[Object(k.jsx)("div",{children:""}),Object(k.jsx)("button",{type:"submit",className:"flex items-center justify-center px-3 py-2 rounded ".concat(!0===H?"bg-gray-200 text-black font-bold cursor-wait":"bg-primary-800 text-white font-bold hover:bg-blue-500 cursor-pointer"),disabled:H,children:!0===H?"Loading, please wait...":"Add subject"})]})]})]})}var A=function(e){Object(a.a)(c,e);var t=Object(l.a)(c);function c(e){var s;return Object(r.a)(this,c),(s=t.call(this,e)).componentDidMount=function(){null===s.props.schoolHierarchyStore.hierarchy&&(s.setState({loading:!0}),s.props.FC_AllSchoolHierarchyDetails(!1,(function(e,t){!0===e&&s.setState({loading:!1})})))},s.state={selected_level_code:null,filter_by_combination:!1,selected_combination_code:null,search_comb:"",addedSubjects:[],loading:!1,success:"",error:"",addSubject:null,search:""},s}return Object(s.a)(c,[{key:"render",value:function(){var e,t,c=this;return!0===this.state.loading?Object(k.jsxs)("div",{className:"bg-white rounded-md border flex flex-col text-xl items-center justify-center p-10 m-5",children:[Object(k.jsx)(h.a,{}),Object(k.jsx)("div",{children:"Loading, please wait..."})]}):Object(k.jsxs)(n.Fragment,{children:[Object(k.jsx)(m.a,{children:Object(k.jsxs)("div",{className:"bg-white rounded-md z-50 w-full h-full overflow-auto",children:[Object(k.jsxs)("div",{className:"rounded-t-md flex flex-row items-center justify-between gap-4 py-2 border-b border-gray-400",children:[Object(k.jsxs)("div",{className:"text-xl font-bold ml-2 uppercase mt-2",children:["Choose subject to edit (",null===(e=this.props.schoolHierarchyStore.hierarchy)||void 0===e?void 0:e.length,")"]}),Object(k.jsxs)(x.b,{to:"/hierarchy-subjects-list",className:"flex items-center justify-center py-2 px-3 rounded bg-gray-100 text-2xl hover:bg-blue-100 hover:text-primary-800 cursor-pointer gap-2",title:"Close window",children:[Object(k.jsx)(d.B,{}),Object(k.jsx)("span",{className:"text-base",children:"Subjects list"})]})]}),Object(k.jsx)("div",{className:"",children:Object(k.jsx)("div",{className:"",children:Object(k.jsx)("div",{className:"mb-10",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"mt-4",children:[Object(k.jsx)("div",{children:"Filter by"}),Object(k.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(k.jsxs)("select",{onChange:function(e){return c.setState({selected_level_code:e.target.value})},value:null===this.state.selected_level_code?"":this.state.selected_level_code,className:"border border-gray-400 rounded px-3 py-2",children:[Object(k.jsx)("option",{value:"",children:"Choose education level"}),Object(k.jsx)("option",{value:"",children:"Show all levels"}),this.props.schoolHierarchyStore.hierarchy&&Object(b.Q)(this.props.schoolHierarchyStore.hierarchy,{type:b.Lb.SCHOOL_LEVELS,status:!0}).levels.map((function(e,t){return Object(k.jsx)("option",{value:e.level_code,children:e.level_name},t+1)}))]}),Object(k.jsxs)("div",{className:"w-full",children:[Object(k.jsxs)("div",{onClick:function(){return c.setState({filter_by_combination:!c.state.filter_by_combination})},className:"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[null===this.state.selected_combination_code?Object(k.jsx)("span",{children:"All- Click to filter by combination"}):Object(k.jsx)("span",{children:this.props.schoolHierarchyStore.hierarchy&&(null===(t=Object(b.Q)(this.props.schoolHierarchyStore.hierarchy,{type:b.Lb.COMBINATIONS,status:!0}).combinations.find((function(e){return e.combination_code===c.state.selected_combination_code})))||void 0===t?void 0:t.combination_name)}),Object(k.jsx)("div",{className:"-mr-3",children:!0===this.state.filter_by_combination?Object(k.jsx)(d.n,{}):Object(k.jsx)(i.a,{})})]}),!0===this.state.filter_by_combination&&Object(k.jsxs)("div",{className:"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl",children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"flex flex-row items-center w-full justify-between gap-2",children:[Object(k.jsx)("input",{value:this.state.search_comb,onChange:function(e){return c.setState({search_comb:e.target.value})},placeholder:"Search...",type:"text",className:"border border-gray-400 rounded px-3 py-2 text-sm w-full"}),Object(k.jsx)("div",{children:Object(k.jsx)("div",{onClick:function(){return c.setState({filter_by_combination:!1})},className:"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white",children:Object(k.jsx)(d.n,{})})})]}),null!==this.state.selected_combination_code&&Object(k.jsxs)("div",{onClick:function(){c.setState({selected_combination_code:null,filter_by_combination:!1})},className:"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full",children:[Object(k.jsx)("div",{children:Object(k.jsx)(o.a,{className:"text-xl"})}),Object(k.jsx)("span",{children:"Click to view all"})]})]}),Object(k.jsx)("div",{className:"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn",style:{minWidth:"28rem"},children:0===Object(j.j)(this.props.schoolHierarchyStore.hierarchy&&Object(b.Q)(this.props.schoolHierarchyStore.hierarchy,{type:b.Lb.COMBINATIONS,status:!0}).combinations,this.state.search_comb).length?Object(k.jsx)("div",{className:"text-center text-lg font-bold p-5 px-10 text-gray-500",children:"No result found!"}):this.props.schoolHierarchyStore.hierarchy&&Object(j.j)(Object(b.Q)(this.props.schoolHierarchyStore.hierarchy,{type:b.Lb.COMBINATIONS,status:!0}).combinations,this.state.search_comb).map((function(e,t){return Object(k.jsxs)("div",{className:"w-full flex flex-row items-center border-b ".concat(c.state.selected_combination_code===e.combination_code?"border-yellow-100 bg-yellow-100 font-bold":"border-gray-200"," py-1 gap-4 hover:bg-yellow-100 cursor-pointer"),onClick:function(){c.setState({selected_combination_code:e.combination_code,filter_by_combination:!1})},children:[Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold",children:t+1})}),Object(k.jsx)("div",{children:e.combination_name})]},t+1)}))})]})]}),Object(k.jsx)("input",{className:"px-3 py-2 rounded border border-gray-400 w-full",placeholder:"Search keyword...",value:this.state.search,onChange:function(e){return c.setState({search:e.target.value})}})]})]})}),Object(k.jsx)("div",{className:"bg-white rounded border border-gray-200",children:Object(k.jsx)("div",{className:"w-full overflow-x-auto",children:Object(k.jsxs)("table",{className:"min-w-full text-left",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"font-semibold border-b text-base",children:[Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-center",children:"#"}),Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Level"}),Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Combination"}),Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Grade"}),Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Periods"}),Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-right",children:"Action"})]})}),Object(k.jsx)("tbody",{className:"text-sm",children:null===this.props.schoolHierarchyStore.hierarchy?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:7,children:Object(k.jsx)("div",{className:"flex w-full items-center justify-center py-3",children:Object(k.jsx)(h.a,{})})})}):0===Object(j.j)(Object(p.FilteredData)(this.props.schoolHierarchyStore.hierarchy,this.state.selected_level_code,this.state.selected_combination_code),this.state.search).length?Object(k.jsx)("td",{colSpan:7,children:Object(k.jsx)("div",{className:"text-lg p-3 text-center",children:"No result found"})}):Object(j.j)(Object(p.FilteredData)(this.props.schoolHierarchyStore.hierarchy,this.state.selected_level_code,this.state.selected_combination_code),this.state.search).map((function(e,t){return Object(k.jsxs)("tr",{className:"text-gray-500 group",children:[Object(k.jsx)("td",{className:"p-2 border-b text-center",children:t+1}),Object(k.jsx)("td",{className:"p-2 border-b",children:e.level_name}),Object(k.jsx)("td",{className:"p-2 border-b",children:e.combination_name}),Object(k.jsx)("td",{className:"p-2 border-b",children:e.grade_name}),Object(k.jsx)("td",{className:"p-2 border-b",children:e.teaching_period}),Object(k.jsx)("td",{className:"p-2 border-b",children:Object(k.jsx)("div",{className:"flex flex-row items-center justify-end",children:Object(k.jsx)("div",{onClick:function(){return c.setState({addSubject:e})},className:"px-3 py-1 rounded bg-blue-100 group-hover:bg-primary-800 cursor-pointer text-black font-bold group-hover:text-white",children:"Add subject"})})})]},t+1)}))})]})})})]})})})})]})}),null!==this.state.addSubject&&Object(k.jsx)(O.c,{title:"Add new subject",backDrop:!0,theme:O.b.default,close:function(){return c.setState({addSubject:null})},backDropClose:!0,widthSizeClass:O.a.medium,displayClose:!0,padding:{title:!0,body:!1},children:Object(k.jsx)("div",{className:"border-t border-gray-400 px-3",children:Object(k.jsx)(H,{data:this.state.addSubject,reload:function(){c.setState({addSubject:null,loading:!0}),c.props.FC_AllSchoolHierarchyDetails(!0,(function(e,t){!0===e&&c.setState({loading:!1})}))}})})})]})}}]),c}(n.Component),I=Object(u.b)((function(e){return{auth:e.auth,basic:e.basic,schoolHierarchyStore:e.schoolHierarchyStore}}),{FC_AllSchoolHierarchyDetails:b.c})(A)}}]);
//# sourceMappingURL=42.7f0f7d3c.chunk.js.map