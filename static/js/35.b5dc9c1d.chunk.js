(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[35],{374:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return n}));var s=a(29),r=a(15),i=function(e,t){var a=t.find((function(t){return e.position_code===t.position_code}));return{match_position:void 0!==a,position:void 0!==a?{position_code:null===a||void 0===a?void 0:a.position_code,position_name:null===a||void 0===a?void 0:a.position_name,qualification_id:null===a||void 0===a?void 0:a.qualification_id,qualification_name:null===a||void 0===a?void 0:a.qualification_name}:{position_code:"",position_name:e.position,qualification_id:"",qualification_name:""}}},n=function(e){var t,a,s,r,i=[];if(!e.user)return{validated:!1,errors:["You are not authenticated, please refresh your browser or login later"]};var n=e.user;return(null===(t=e.user)||void 0===t||!t.first_name||n.first_name.length<=2)&&i.push("First name is not valid"),(!n.last_name||n.last_name.length<=2)&&i.push("Last name is not valid"),(!n.full_name||n.full_name.length<=2)&&i.push("Full names"),(!n.hired_date||n.hired_date.length<=2)&&i.push("Hired date is not valid"),(!n.marital_status||n.marital_status.length<=2)&&i.push("Martial status not valid"),(!n.nid||n.nid.length<=4)&&i.push("NID is not valid"),(!n.phone_numbers||n.phone_numbers.length<=8)&&i.push("Phone number is not valid"),e.position&&e.position.position_code||i.push("You have no position, please ask your head teacher"),e.role&&e.role.role_id||i.push("There is no role assigned to you"),(!e.school||null===(a=e.school)||void 0===a||!a.school_name||(null===(s=e.school)||void 0===s?void 0:s.school_name.length)<=1)&&i.push("No schools found assigned to you!"),(!n.sex||n.sex.length<=2)&&i.push("No sex selected"),(!e.role||(null===(r=e.role)||void 0===r?void 0:r.role_id.length)<=0)&&i.push("Your role id is not validated"),{errors:i,validated:!(i.length>0)}};t.b=function(e){var t,a,i=[];if((!e.first_name||e.first_name.length<=2)&&i.push("First name is not valid"),(!e.last_name||e.last_name.length<=2)&&i.push("Last name is not valid"),(!e.full_name||e.full_name.length<=2)&&i.push("Full names"),(!e.hired_date||e.hired_date.length<=2)&&i.push("Hired date is not valid"),(!e.marital_status||e.marital_status.length<=2)&&i.push("Martial status not valid"),(!e.nationality||e.nationality.length<=2)&&i.push("Nationality is not valid"),e.nid&&e.nid.length>=2&&(16!==e.nid.length&&i.push("NID is not valid"),Object(r.j)(e.nid)||i.push("NID should be numbers only")),(!e.nid||e.nid.length<=0)&&(!e.passport||e.passport.length<=0)&&i.push("Provide NID or a passport"),(!e.dob||e.dob.length<=2)&&i.push("DOB is not valid (".concat(e.dob,")")),e.dob){var n=new Date(e.dob).getFullYear();(n>=2006||n<=1940)&&i.push("DOB is not valid (".concat(e.dob,")"))}((!e.hired_date||e.hired_date.length<=2)&&i.push("Hire date is not valid (".concat(e.hired_date,")")),e.hired_date)&&(new Date(e.hired_date).getFullYear()<=1955&&i.push("Hire date is not valid (".concat(e.hired_date,")")));if((!e.phone_numbers||e.phone_numbers.length<=8)&&i.push("Phone number is not valid"),(!e.position||e.position.length<=2)&&i.push("No selected position"),(!e.qualification||e.qualification.length<=1)&&i.push("No selected qualification"),(!e.role||e.role.length<=2)&&i.push("No selected role"),(!e.school||null===(t=e.school)||void 0===t||!t.school_name||(null===(a=e.school)||void 0===a?void 0:a.school_name.length)<=1)&&i.push("Invalid School"),(!e.sex||e.sex.length<=2)&&i.push("No sex selected"),(!e.specialization||e.specialization.length<=2)&&i.push("Invalid specialization"),(!e.staff_code||e.staff_code.length<=2)&&i.push("Invalid Staff category"),"1"===e.role_id&&(!e.teacher_hierarch||e.teacher_hierarch.length<=0)&&i.push("This user is a teacher, and must have at least one course"),(!e.role||e.role.length<=0)&&i.push("Your role id is not validated"),(!e.teaching_level_id||e.teaching_level_id.length<=2)&&i.push("Teaching level does not found"),(!e.education_certificate_id||e.education_certificate_id.length<=2)&&i.push("Education certificate does not found"),null!==e.teacher_hierarch){var c,o=Object(s.a)(e.teacher_hierarch);try{for(o.s();!(c=o.n()).done;){var l=c.value;null===l.updated_at&&i.push("Hierarch: ".concat(l.course_name," is not updated!"))}}catch(d){o.e(d)}finally{o.f()}}else i.push("Hierarch is not valid ");return{errors:i,validated:!(i.length>0)}}},447:function(e,t,a){"use strict";a.d(t,"a",(function(){return $}));var s=a(29),r=a(41),i=a(11),n=a(19),c=a(20),o=a(21),l=a(22),d=a(4),u=a.n(d),h=a(16),b=a(58),m=a(36),p=a(13),_=a(47),j=a(53),f=a(92),x=a(139),g=a(39),v=a(25),O=a(27),y=a(5),N=a(23),S=a(68),w=a(3),C=a(6),k=a(54),q=a(365),A=a(15),I=a(28),D=a(7),z=a.n(D),H=a(12),P=a(1),T=function(e){var t=Object(d.useState)(void 0===e.addedGroups?[]:e.addedGroups.group),a=Object(I.a)(t,2),s=a[0],i=a[1],n=Object(d.useState)(""),c=Object(I.a)(n,2),o=c[0],l=c[1],u=Object(d.useState)(""),b=Object(I.a)(u,2),m=b[0],p=b[1];return Object(P.jsxs)("div",{className:"absolute bg-primary-800 p-2 rounded-md shadow-xl right-2 md:right-10 animate__animated animate__zoomIn animate__faster mb-10",style:{minWidth:"300px"},children:[Object(P.jsx)("div",{className:"text-lg text-white mb-2 text-left px-2 font-bold",children:"ADD GROUPS"}),Object(P.jsx)("div",{children:0===s.length?Object(P.jsx)("div",{className:"border-2 border-blue-500 text-blue-400 rounded-md px-3 py-4 mb-1 text-center text-base",children:"No groups"}):s.map((function(e,t){return Object(P.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 border-2 border-blue-300 rounded-md pl-3 py-1 pr-1 text-white font-bold mb-1",children:[Object(P.jsx)("div",{className:"uppercase",children:e}),Object(P.jsx)("div",{onClick:function(){return i(Object(r.a)(s.filter((function(t){return t!==e}))))},className:"bg-red-100 rounded-full text-lg p-1 text-red-700 cursor-pointer",children:Object(P.jsx)(h.r,{})})]},t+1)}))}),Object(P.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 mt-2",children:[Object(P.jsx)("input",{value:o,onChange:function(e){p(""),l(e.target.value)},placeholder:"Group name",className:"border-0 px-3 py-2 rounded w-full"}),""!==o&&Object(P.jsx)("div",{onClick:function(){""===o?p("Please fill group name!"):(p(""),i([].concat(Object(r.a)(s.filter((function(e){return e!==o}))),[o])),l(""))},className:"rounded px-3 py-2 font-bold  cursor-pointer bg-blue-500 hover:bg-blue-600 text-white w-36 animate__animated animate__fadeIn animate__faster",children:"Add group"})]}),""!==m&&Object(P.jsx)("div",{className:"bg-red-100 text-red-700 px-3 py-2 rounded my-1 animate__animated animate__zoomIn animate__faster",onClick:function(){return p("")},children:m}),Object(P.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 mt-3 animate__animated animate__fadeInUp animate__faster",children:[Object(P.jsx)("div",{onClick:function(){return e.cancel()},className:"rounded px-3 py-2 font-bold  cursor-pointer bg-gray-400 hover:bg-gray-500 text-white",children:"Cancel"}),s.length>0&&Object(P.jsx)("div",{onClick:function(){console.log("sd: ",e.addedGroups),void 0!==e.addedGroups&&e.addSubjectGroup(e.addedGroups.study_hierarchy_id,s)},className:"rounded px-3 py-2 font-bold  cursor-pointer bg-green-500 hover:bg-green-600 text-white animate__animated animate__fadeInRight animate__faster",children:"Save changes"})]})]})},R=function(){var e=Object(C.a)(Object(w.a)().mark((function e(t,a,s,r){var n,c;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",alert("Please select at least one subject"));case 2:return n=t.map((function(e){return{teacher_code:s,study_hierarchy_id:e.studyhierarchyid,grade_group:void 0===a.find((function(t){return t.study_hierarchy_id===e.studyhierarchyid}))?"A":JSON.stringify(a.find((function(t){return t.study_hierarchy_id===e.studyhierarchyid})).group)}})),r(!1,""),console.log("Sent data: ",n),e.prev=5,e.next=8,z.a.post("".concat(H.e,"/teacherhierarch/create"),n);case 8:c=e.sent,r(!0,"Teacher subjects has added successfully!"),console.log("Success: ",c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),r(!0,""),console.log("Err: ",Object(i.a)({},e.t0));case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,a,s,r){return e.apply(this,arguments)}}(),U=function(e){var t,a=Object(d.useState)(null),i=Object(I.a)(a,2),n=i[0],c=i[1],o=Object(d.useState)(!1),l=Object(I.a)(o,2),u=l[0],m=l[1],_=Object(d.useState)(null),j=Object(I.a)(_,2),f=j[0],x=j[1],g=Object(d.useState)(""),v=Object(I.a)(g,2),O=v[0],y=v[1],N=Object(d.useState)(null),S=Object(I.a)(N,2),w=S[0],C=S[1],D=Object(d.useState)([]),z=Object(I.a)(D,2),H=z[0],U=z[1],F=Object(d.useState)(!1),L=Object(I.a)(F,2),G=L[0],M=L[1],B=Object(d.useState)(""),J=Object(I.a)(B,2),V=J[0],Y=J[1],Q=Object(d.useState)(""),W=Object(I.a)(Q,2),K=W[0],X=W[1],Z=Object(d.useState)([]),$=Object(I.a)(Z,2),ee=$[0],te=$[1],ae=function(e,t){console.log(t),te([].concat(Object(r.a)(ee.filter((function(t){return t.study_hierarchy_id!==e}))),[{study_hierarchy_id:e,group:t}]))},se=function(){var t=e.teacher_hierarchy_data;return null!==t?(null!==n&&""!==n&&(t=t.filter((function(e){return e.level_code===n}))),null!==f&&(t=t.filter((function(e){return e.combination_code===f}))),t):[]},re=function(t){var a,s=null===e.teacher_hierarchy_data||null===(a=ee.find((function(e){return e.study_hierarchy_id===t.studyhierarchyid})))||void 0===a?void 0:a.group;if(void 0!==s)return s;var r,i=null===e.teacher_data||void 0===e.teacher_data||null===(r=e.teacher_data.find((function(e){return e.study_hierarchy_id===t.studyhierarchyid})))||void 0===r?void 0:r.grade_group;return void 0!==i?JSON.parse(i):[]},ie=function(){var t,a=0,r=Object(s.a)(H);try{var i=function(){var e=t.value,s=ee.find((function(t){return t.study_hierarchy_id===e.studyhierarchyid}));void 0!==s&&(a+=parseInt(e.teaching_period)*s.group.length)};for(r.s();!(t=r.n()).done;)i()}catch(l){r.e(l)}finally{r.f()}if(null!==e.teacher_hierarchy_data&&e.teacher_hierarchy_data.length>0){var n,c=Object(s.a)(e.teacher_hierarchy_data.filter((function(e){return void 0===H.find((function(t){return t.studyhierarchyid===e.studyhierarchyid}))})));try{for(c.s();!(n=c.n()).done;){var o=n.value;a+=parseInt(o.teaching_period)*re(o).length}}catch(l){c.e(l)}finally{c.f()}}return a};return Object(P.jsxs)("div",{className:"fixed bg-black bg-opacity-50 top-0 left-0 w-full h-full z-50 flex items-center justify-center animate__animated animate__fadeIn animate__faster",children:[Object(P.jsxs)("div",{className:"bg-white rounded-md animate__animated animate__zoomIn animate__faster z-50 w-full h-full overflow-auto",children:[Object(P.jsxs)("div",{className:"rounded-t-md flex flex-row items-center justify-between gap-4 px-2 py-2 border-b border-gray-400",children:[Object(P.jsx)("div",{className:"text-xl font-bold ml-2 uppercase mt-2 text-primary-800",children:"TEACHER SUBJECTS ASSIGNMENT"}),Object(P.jsx)("div",{onClick:function(){return e.setAddNew(!1)},className:"flex items-center justify-center p-1 rounded-full bg-accent-900 text-3xl hover:bg-yellow-900 text-white cursor-pointer border border-accent-900 hover:border-yellow-900",title:"Close window",children:Object(P.jsx)(h.r,{})})]}),Object(P.jsxs)("div",{className:"p-2 md:p-6",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center justify-between gap-3",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(P.jsx)("div",{className:"text-5xl text-gray-400",children:Object(P.jsx)(b.h,{})}),Object(P.jsxs)("div",{className:"flex flex-col",children:[Object(P.jsxs)("span",{className:"font-bold -mt-1",children:["Teacher: ",e.full_name]}),Object(P.jsxs)("span",{className:"font-bold -mt-1",children:["School name: ",e.school.school_name," (",e.school.school_code,")"]})]})]}),Object(P.jsxs)("div",{className:"flex flex-col justify-center items-end ".concat(ie()>45?"bg-red-100 text-red-800 rounded p-3":""),children:[Object(P.jsxs)("span",{className:"text-gray-500",children:["Total periods ",ie()>45?"(overloaded)":""]}),Object(P.jsx)("span",{className:"font-extrabold text-3xl",children:ie()})]})]}),Object(P.jsx)("div",{className:"",children:Object(P.jsx)("div",{className:"mb-10",children:Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"p-2 mb-5",children:Object(P.jsxs)("div",{className:"mt-4",children:[Object(P.jsx)("div",{children:"Filter by"}),Object(P.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(P.jsxs)("select",{onChange:function(e){return c(e.target.value)},value:null===n?"":n,className:"border border-gray-400 rounded px-3 py-2",children:[Object(P.jsx)("option",{value:"",children:"Choose education level"}),Object(P.jsx)("option",{value:"",children:"Show all levels"}),Object(p.mb)(e.allHierarchy,{type:p.xc.SCHOOL_LEVELS,status:!0}).levels.map((function(e,t){return Object(P.jsx)("option",{value:e.level_code,children:e.level_name},t+1)}))]}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{onClick:function(){return m(!u)},className:"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[null===f?Object(P.jsx)("span",{children:"All- Click to filter by combination"}):Object(P.jsx)("span",{children:null===(t=Object(p.mb)(e.allHierarchy,{type:p.xc.COMBINATIONS,status:!0}).combinations.find((function(e){return e.combination_code===f})))||void 0===t?void 0:t.combination_name}),Object(P.jsx)("div",{className:"-mr-3",children:!0===u?Object(P.jsx)(h.r,{}):Object(P.jsx)(k.a,{})})]}),!0===u&&Object(P.jsxs)("div",{className:"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl",children:[Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"flex flex-row items-center w-full justify-between gap-2",children:[Object(P.jsx)("input",{value:O,onChange:function(e){return y(e.target.value)},placeholder:"Search...",type:"text",className:"border border-gray-400 rounded px-3 py-2 text-sm w-full"}),Object(P.jsx)("div",{children:Object(P.jsx)("div",{onClick:function(){return m(!1)},className:"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white",children:Object(P.jsx)(h.r,{})})})]}),null!==f&&Object(P.jsxs)("div",{onClick:function(){x(null),m(!1)},className:"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full",children:[Object(P.jsx)("div",{children:Object(P.jsx)(q.a,{className:"text-xl"})}),Object(P.jsx)("span",{children:"Click to view all"})]})]}),Object(P.jsx)("div",{className:"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn",style:{minWidth:"28rem"},children:0===Object(A.v)(Object(p.mb)(e.allHierarchy,{type:p.xc.COMBINATIONS,status:!0}).combinations,O).length?Object(P.jsx)("div",{className:"text-center text-lg font-bold p-4 px-10",children:"No result found!"}):Object(A.v)(Object(p.mb)(e.allHierarchy,{type:p.xc.COMBINATIONS,status:!0}).combinations,O).map((function(e,t){return Object(P.jsxs)("div",{className:"w-full flex flex-row items-center border-b ".concat(f===e.combination_code?"border-yellow-100 bg-yellow-100 font-bold":"border-gray-200"," py-1 gap-4 hover:bg-yellow-100 cursor-pointer"),onClick:function(){x(e.combination_code),m(!1)},children:[Object(P.jsx)("div",{children:Object(P.jsx)("div",{className:"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold",children:t+1})}),Object(P.jsx)("div",{children:e.combination_name})]},t+1)}))})]})]})]})]})}),Object(P.jsx)("div",{className:"bg-white rounded mx-2 border border-gray-200",children:Object(P.jsx)("div",{className:"w-full overflow-x-auto",children:Object(P.jsxs)("table",{className:"min-w-full text-left",children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{className:"font-semibold border-b text-base",children:[Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-center",children:"#"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Subject"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Level"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Combination"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Grade"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-center",children:"Periods"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-right",children:"Action"})]})}),Object(P.jsx)("tbody",{className:"text-sm",children:null===e.teacher_hierarchy_data?Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:7,children:Object(P.jsx)(E,{})})}):0===se().length?Object(P.jsx)("td",{colSpan:7,className:"text-center p-3 text-xl text-gray-400",children:Object(P.jsx)("div",{children:"No result found"})}):se().map((function(t,a){return Object(P.jsxs)("tr",{className:"".concat(void 0!==H.find((function(e){return e.studyhierarchyid===t.studyhierarchyid}))?"text-gray-500":null===e.teacher_data||void 0===e.teacher_data.find((function(e){return e.studyhierarchyid===t.studyhierarchyid}))?"hover:bg-yellow-50 hover:text-accent-900":"hover:bg-blue-50 hover:text-primary-800"," group"),children:[Object(P.jsx)("td",{className:"p-2 border-b text-center",children:a+1}),Object(P.jsxs)("td",{className:"p-2 border-b",children:[t.course_code,"-",t.course_name]}),Object(P.jsx)("td",{className:"p-2 border-b",children:t.level_name}),Object(P.jsx)("td",{className:"p-2 border-b",children:t.combination_name}),Object(P.jsx)("td",{className:"p-2 border-b",children:t.grade_name}),Object(P.jsx)("td",{className:"p-2 border-b text-center",children:t.teaching_period}),Object(P.jsx)("td",{className:"p-2 border-b",children:Object(P.jsx)("div",{className:"flex flex-row items-center justify-end gap-2",children:Object(P.jsxs)("div",{className:"mx-3",children:[void 0===H.find((function(e){return e.studyhierarchyid===t.studyhierarchyid}))?Object(P.jsxs)("div",{className:"flex flex-row items-center justify-end gap-1",children:[Object(P.jsx)("div",{className:"flex flex-row items-center gap-1 justify-end",children:re(t).map((function(e,t){return Object(P.jsx)("div",{className:"bg-blue-100 rounded-md px-2 uppercase text-primary-800",children:e},t+1)}))}),Object(P.jsx)("div",{onClick:function(){var a=null===e.teacher_data?void 0:e.teacher_data.find((function(e){return e.studyhierarchyid===t.studyhierarchyid}));(null===w||w===t.studyhierarchyid)&&C(t.studyhierarchyid),ae(t.studyhierarchyid,null===e.teacher_hierarchy_data||void 0===a?[]:JSON.parse(a.grade_group))},className:"rounded ".concat(null===e.teacher_data||void 0===e.teacher_data.find((function(e){return e.studyhierarchyid===t.studyhierarchyid}))?"bg-yellow-100 group-hover:bg-accent-900 border-yellow-300 group-hover:border-accent-900":"bg-blue-100 group-hover:bg-primary-800 border-blue-300 group-hover:border-primary-800","   group-hover:text-white px-3 py-2 w-max text-center border cursor-pointer text-sm font-bold -mr-3"),children:null===e.teacher_data||void 0===e.teacher_data.find((function(e){return e.studyhierarchyid===t.studyhierarchyid}))?"Add subject":"Update subj"})]}):Object(P.jsxs)("div",{className:"flex flex-row items-center gap-1 justify-end -mr-3",children:[Object(P.jsx)("div",{className:"flex flex-row items-center gap-1 justify-end",children:re(t).map((function(e,t){return Object(P.jsx)("div",{className:"bg-blue-100 rounded-md px-2 uppercase text-primary-800",children:e},t+1)}))}),Object(P.jsx)("div",{onClick:function(){return e=t,void U(Object(r.a)(H.filter((function(t){return t.studyhierarchyid!==e.studyhierarchyid}))));var e},className:"rounded bg-red-50 group-hover:bg-red-200 text-black border border-red-100 group-hover:border-red-700 group-hover:text-red-800 px-3 py-2 w-max text-center cursor-pointer text-sm font-bold",children:"Remove"})]}),null!==w&&w===t.studyhierarchyid&&Object(P.jsx)(T,{addSubjectGroup:function(e,a){var s;ae(e,a),console.log("Test grp: ",ee),s=t,U([].concat(Object(r.a)(H.filter((function(e){return e.studyhierarchyid!==s.studyhierarchyid}))),[s])),C(null)},addedGroups:ee.find((function(e){return e.study_hierarchy_id===t.studyhierarchyid})),cancel:function(){return C(null)}})]})})})]},a+1)}))})]})})})]})})})]})]}),H.length>0&&Object(P.jsx)("div",{className:"fixed bottom-0 left-0 w-full z-50 bg-blue-600 p-2 animate__animated animate__fadeInUp",children:!1===G?Object(P.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2",children:[""!==K&&Object(P.jsx)("div",{className:"bg-red-200 text-red-800 px-3 py-2 rounded-md animate_animated animate__zoomIn animate__faster",onClick:function(){return X("")},children:K}),""!==V&&Object(P.jsx)("div",{className:"bg-green-600 text-white px-3 py-2 rounded-md animate_animated animate__zoomIn animate__faster",onClick:function(){return Y("")},children:V}),Object(P.jsxs)("div",{className:"text-white flex flex-col items-end mr-2",children:[Object(P.jsx)("span",{className:"text-sm text-blue-300",children:"Selected subjects"}),Object(P.jsx)("span",{className:"text-2xl font-extrabold -mt-2",children:H.length})]}),Object(P.jsx)("div",{onClick:function(){return e.setAddNew(!1)},className:"btn bg-gray-200 text-black rounded-md px-4 py-2 hover:bg-gray-700 hover:text-white cursor-pointer border-2 border-gray-200 hover:border-white font-bold",children:"Cancel"}),Object(P.jsx)("div",{onClick:function(){M(!0),null!==e.auth.user&&R(H,ee,e.staff_code,(function(t,a){""!==a&&!0===t&&(Y("School subjects added successfully!"),U([]),e.setAddNew(!1),e.setLoadTeacherSubjects()),""===a&&!0===t&&X("Something went wrong. Try again!")}))},className:"btn bg-green-700 text-white rounded-md px-4 py-2 hover:bg-gray-700 hover:text-white cursor-pointer border-2 border-gray-200 hover:border-white font-bold",children:"Save changes"})]}):Object(P.jsx)("div",{className:"text-white text-lg text-right py-2",children:"Saving, Please wait..."})})]})},F=a(9),E=function(){return Object(P.jsxs)("div",{className:"bg-white rounded-md p-4 flex flex-col items-center justify-center m-5",children:[Object(P.jsx)(v.a,{}),Object(P.jsx)("div",{className:"text-xl",children:"Loading, please wait..."})]})},L=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).setAddNew=function(e){r.setState({addNew:e,addingNew:!0===e})},r.setAddingNew=function(e){r.setState({addingNew:e})},r.setLoading=function(e){r.setState({loading:e})},r.FilterSchoolHierarchy=function(e){var t,a=[],i=Object(s.a)(e);try{var n=function(){var e=t.value,s=null===r.props.schoolHierarchyStore.hierarchy?void 0:r.props.schoolHierarchyStore.hierarchy.find((function(t){return t.studyhierarchyid===e.shool_hierarch_id}));void 0!==s&&a.push(s)};for(i.s();!(t=i.n()).done;)n()}catch(c){i.e(c)}finally{i.f()}return a},r.FilterTeacherHierarchy=function(e){var t,a=[],i=Object(s.a)(e);try{var n=function(){var e=t.value,s=null===r.props.schoolHierarchyStore.hierarchy?void 0:r.props.schoolHierarchyStore.hierarchy.find((function(t){return t.studyhierarchyid===e.study_hierarchy_id&&"0"!==e.status}));void 0!==s&&a.push(s)};for(i.s();!(t=i.n()).done;)n()}catch(c){i.e(c)}finally{i.f()}return a},r.setLoadSchoolSubjects=function(){if(null!==r.props.auth.school)return Object(p.lb)(r.props.auth.school.school_code,(function(e,t){r.setLoading(!0),!0===e&&null!==t?r.setState({school_hierarchy:t,school_hierarchy_data:r.FilterSchoolHierarchy(t),loading:!1}):r.setState({school_hierarchy:[],school_hierarchy_data:[],loading:!1})}))},r.setLoadTeacherSubjects=function(){return Object(p.tb)(r.props.staff_code,(function(e,t){r.setLoading(!0),!0===e&&null!==t?(console.log("Teacher hie: ",t),r.setState({teacher_hierarchy_data:r.FilterTeacherHierarchy(t),teacherSchoolHierarchy:t,loading:!1}),r.FilteredData(r.FilterTeacherHierarchy(t))):(r.setState({teacher_hierarchy_data:[],teacherSchoolHierarchy:[],loading:!1}),r.FilteredData([]))}))},r.componentDidMount=function(){null===r.props.schoolHierarchyStore.hierarchy&&(r.setLoading(!0),r.props.FC_AllSchoolHierarchyDetails(!1,(function(e,t){!0===e&&""===t&&r.setLoading(!1)}))),r.setLoadSchoolSubjects(),r.setLoadTeacherSubjects()},r.ReturnGradeGroups=function(e){var t,a=null===(t=r.state.teacherSchoolHierarchy.find((function(t){return t.study_hierarchy_id===e.studyhierarchyid})))||void 0===t?void 0:t.grade_group;return void 0!==a?JSON.parse(a):[]},r.FilteredData=function(e){try{console.log("Testing user hierarchy: ",e),null!==r.state.selected_level_code&&""!==r.state.selected_level_code&&(e=e.filter((function(e){return e.level_code===r.state.selected_level_code}))),null!==r.state.selected_combination_code&&(e=e.filter((function(e){return e.combination_code===r.state.selected_combination_code}))),r.setState({FilteredData:e})}catch(t){console.log("Error of loading: ",Object(i.a)({},t))}},r.TotalPeriods=function(){var e=0;if(null!==r.state.teacher_hierarchy_data&&r.state.teacher_hierarchy_data.length>0){var t,a=Object(s.a)(r.state.teacher_hierarchy_data);try{for(a.s();!(t=a.n()).done;){var i=t.value;e+=parseInt(i.teaching_period)*r.ReturnGradeGroups(i).length}}catch(n){a.e(n)}finally{a.f()}}return e},r.RemoveTeacherSchoolHierarchy=function(){var e=Object(C.a)(Object(w.a)().mark((function e(t){var a;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==window.confirm("Are you sure do you want to remove this subject on school?")){e.next=13;break}return r.setLoading(!0),e.prev=2,e.next=5,z.a.post("".concat(H.e,"/teacherhierarch/delete/").concat(t),{});case 5:a=e.sent,console.log("Success: ",a),200===a.status&&(r.setLoadTeacherSubjects(),r.setState({error:"",success:"School subject removed successfully!"})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r.setState({error:Object(F.a)(e.t0),success:"",loading:!1});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),r.state={loading:!0,school_hierarchy:null,teacher_hierarchy_data:null,selected_level_code:null,selected_combination_code:null,filter_by_combination:!1,search_comb:"",addNew:!1,addingNew:!1,teacherSchoolHierarchy:[],school_hierarchy_data:null,FilteredData:null,success:"",error:""},r}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this;return null===this.state.school_hierarchy||null===this.props.schoolHierarchyStore.hierarchy||!0===this.state.loading||null===this.state.teacher_hierarchy_data||this.state.school_hierarchy_data,Object(P.jsxs)(d.Fragment,{children:[console.log("Teacher subjects: ",this.state.teacher_hierarchy_data),Object(P.jsx)("div",{className:"mb-10 bg-white rounded m-2",children:Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"p-2 mb-5",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-3 justify-between",children:[Object(P.jsx)("div",{className:"flex flex-col",children:Object(P.jsx)("div",{className:"text-2xl font-bold",children:"TEACHER SUBJECTS ASSIGNMENT"})}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"flex flex-col ".concat(this.TotalPeriods()>45?"bg-red-100 text-red-800":"bg-blue-100 text-primary-800","  rounded-t-md p-1 px-2 text-center"),children:[Object(P.jsxs)("span",{className:"text-sm",children:["Total periods"," ",this.TotalPeriods()>45?"(overloaded)":""]}),Object(P.jsx)("span",{className:"text-xl font-bold -mt-1",children:this.TotalPeriods()})]}),this.props.allowEdit&&Object(P.jsx)("div",{onClick:function(){t.setAddingNew(!0),t.setAddNew(!0)},className:"border font-bold ".concat(!1===this.state.addingNew?"bg-yellow-100 border-yellow-500 hover:border-yellow-600":"bg-gray-100"," text-black px-3 py-2 rounded text-center hover:bg-accent-900 hover:text-white cursor-pointer text-base"),children:!0===this.state.addingNew?"Loading":null!==this.state.teacher_hierarchy_data&&this.state.teacher_hierarchy_data.length>0?"Add & Update Subjects":"Assign teacher subjects"})]})]}),""!==this.state.success&&Object(P.jsx)("div",{onClick:function(){return t.setState({success:""})},className:"bg-green-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight",children:Object(P.jsxs)("div",{className:"flex flex-row justify-between items-center gap-8",children:[Object(P.jsxs)("div",{children:["Success: ",this.state.success]}),Object(P.jsx)("div",{children:Object(P.jsx)(h.r,{className:"text-2xl text-red-600 bg-red-100 rounded-full"})})]})}),""!==this.state.error&&Object(P.jsx)("div",{onClick:function(){return t.setState({error:""})},className:"bg-red-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight",children:Object(P.jsxs)("div",{className:"flex flex-row justify-between items-center gap-8",children:[Object(P.jsxs)("div",{children:["Error: ",this.state.error]}),Object(P.jsx)("div",{children:Object(P.jsx)(h.r,{className:"text-2xl text-red-600 bg-red-100 rounded-full"})})]})}),Object(P.jsxs)("div",{className:"mt-4",children:[Object(P.jsx)("div",{children:"Filter by"}),Object(P.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(P.jsxs)("select",{onChange:function(e){return t.setState({selected_level_code:e.target.value})},value:null===this.state.selected_level_code?"":this.state.selected_level_code,className:"border border-gray-400 rounded px-3 py-2",children:[Object(P.jsx)("option",{value:"",children:"Choose education level"}),Object(P.jsx)("option",{value:"",children:"Filter by all levels"}),null!==this.props.schoolHierarchyStore.hierarchy&&Object(p.mb)(this.props.schoolHierarchyStore.hierarchy,{type:p.xc.SCHOOL_LEVELS,status:!0}).levels.map((function(e,t){return Object(P.jsx)("option",{value:e.level_code,children:e.level_name},t+1)}))]}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{onClick:function(){return t.setState({filter_by_combination:!t.state.filter_by_combination})},className:"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[null===this.state.selected_combination_code?Object(P.jsx)("span",{children:"All- Click to filter by combination"}):Object(P.jsx)("span",{children:null!==this.props.schoolHierarchyStore.hierarchy&&(null===(e=Object(p.mb)(this.props.schoolHierarchyStore.hierarchy,{type:p.xc.COMBINATIONS,status:!0}).combinations.find((function(e){return e.combination_code===t.state.selected_combination_code})))||void 0===e?void 0:e.combination_name)}),Object(P.jsx)("div",{className:"-mr-3",children:!0===this.state.filter_by_combination?Object(P.jsx)(h.r,{className:"text-xl"}):Object(P.jsx)(k.a,{})})]}),!0===this.state.filter_by_combination&&Object(P.jsxs)("div",{className:"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl",children:[Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"flex flex-row items-center w-full justify-between gap-2",children:[Object(P.jsx)("input",{value:this.state.search_comb,onChange:function(e){return t.setState({search_comb:e.target.value})},placeholder:"Search...",type:"text",className:"border border-gray-400 rounded px-3 py-2 text-sm w-full"}),Object(P.jsx)("div",{children:Object(P.jsx)("div",{onClick:function(){return t.setState({filter_by_combination:!1})},className:"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white",children:Object(P.jsx)(h.r,{})})})]}),null!==this.state.selected_combination_code&&Object(P.jsxs)("div",{onClick:function(){return t.setState({selected_combination_code:null,filter_by_combination:!1})},className:"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full",children:[Object(P.jsx)("div",{children:Object(P.jsx)(q.a,{className:"text-xl"})}),Object(P.jsx)("span",{children:"Click to view all"})]})]}),Object(P.jsx)("div",{className:"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn",style:{minWidth:"28rem"},children:null!==this.props.schoolHierarchyStore.hierarchy&&0===Object(A.v)(Object(p.mb)(this.props.schoolHierarchyStore.hierarchy,{type:p.xc.COMBINATIONS,status:!0}).combinations,this.state.search_comb).length?Object(P.jsx)("div",{className:"text-center text-lg font-bold p-4 px-10",children:"No result found!"}):null!==this.props.schoolHierarchyStore.hierarchy&&Object(A.v)(Object(p.mb)(this.props.schoolHierarchyStore.hierarchy,{type:p.xc.COMBINATIONS,status:!0}).combinations,this.state.search_comb).map((function(e,a){return Object(P.jsxs)("div",{className:"w-full flex flex-row items-center border-b ".concat(t.state.selected_combination_code===e.combination_code?"border-yellow-100 bg-yellow-100 font-bold":"border-gray-200"," py-1 gap-4 hover:bg-yellow-100 cursor-pointer"),onClick:function(){return t.setState({selected_combination_code:e.combination_code,filter_by_combination:!1})},children:[Object(P.jsx)("div",{children:Object(P.jsx)("div",{className:"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold",children:a+1})}),Object(P.jsx)("div",{children:e.combination_name})]},a+1)}))})]})]})]})]})]}),Object(P.jsx)("div",{className:"bg-white rounded mx-2 border border-gray-200",children:Object(P.jsx)("div",{className:"w-full overflow-x-auto",children:Object(P.jsxs)("table",{className:"min-w-full text-left",children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{className:"font-semibold border-b text-base",children:[Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-center",children:"#"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Subject"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Level"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Combination"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Grade"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Periods"}),Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Group"}),this.props.allowEdit&&Object(P.jsx)("th",{className:"p-2 border-b-2 border-gray-300"})]})}),Object(P.jsx)("tbody",{className:"text-sm",children:null===this.state.FilteredData?Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:7,children:Object(P.jsx)(E,{})})}):0===this.state.FilteredData.length?Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:7,className:"text-center p-3 text-xl text-gray-400",children:Object(P.jsx)("div",{children:"No result found"})})}):this.state.FilteredData.map((function(e,a){return Object(P.jsxs)("tr",{className:"hover:bg-yellow-50 group",children:[Object(P.jsx)("td",{className:"p-2 border-b text-center",children:a+1}),Object(P.jsxs)("td",{className:"p-2 border-b",children:[e.course_code,"-",e.course_name]}),Object(P.jsx)("td",{className:"p-2 border-b",children:e.level_name}),Object(P.jsx)("td",{className:"p-2 border-b",children:e.combination_name}),Object(P.jsx)("td",{className:"p-2 border-b",children:e.grade_name}),Object(P.jsx)("td",{className:"p-2 border-b",children:e.teaching_period}),Object(P.jsx)("td",{className:"p-2 border-b uppercase",children:Object(P.jsx)("div",{className:"flex flex-row gap-1 items-center",children:t.ReturnGradeGroups(e).map((function(e,t){return Object(P.jsx)("div",{className:"bg-blue-100 rounded-md px-3 py-1 text-blue-800 w-max",children:e},t+1)}))})}),t.props.allowEdit&&Object(P.jsx)("td",{className:"border-b",children:Object(P.jsx)("div",{className:"flex justify-end",children:Object(P.jsx)("div",{onClick:function(){if(null!==t.state.teacher_hierarchy_data&&!1===t.state.loading){var a=t.state.teacherSchoolHierarchy.find((function(t){return t.studyhierarchyid===e.studyhierarchyid}));void 0!==a?t.RemoveTeacherSchoolHierarchy(a.teacher_study_hierarchy_id):alert("Plase try again!")}else alert("Plase try again!")},className:"bg-red-50 text-red-800 px-3 py-2 mx-1 my-1 rounded font-bold group-hover:bg-red-700 group-hover:text-white cursor-pointer",children:!0===t.state.loading?"Loading, please wait....":"Remove"})})})]},a+1)}))})]})})})]})}),!0===this.state.addNew&&null!==this.props.auth.school&&null!==this.props.schoolHierarchyStore.hierarchy&&null!==this.state.school_hierarchy&&Object(P.jsx)(U,{auth:this.props.auth,staff_code:this.props.staff_code,full_name:this.props.full_name,school:this.props.auth.school,setAddNew:this.setAddNew,allHierarchy:this.props.schoolHierarchyStore.hierarchy,teacher_hierarchy_data:this.FilterSchoolHierarchy(this.state.school_hierarchy),teacher_data:this.state.teacherSchoolHierarchy,setLoadTeacherSubjects:this.setLoadTeacherSubjects})]})}}]),a}(d.Component),G=Object(m.b)((function(e){return{auth:e.auth,basic:e.basic,schoolHierarchyStore:e.schoolHierarchyStore}}),{FC_AllSchoolHierarchyDetails:p.f})(L),M=function(e){var t=e.close,a=e.position_code,s=e.success,i=e.user_id,n=e.school_code;console.log({position_code:a,user_id:i});var c=Object(d.useState)(""),o=Object(I.a)(c,2),l=o[0],u=o[1],h=Object(d.useState)(""),b=Object(I.a)(h,2),m=b[0],j=b[1],f=Object(d.useState)(!0),g=Object(I.a)(f,2),y=g[0],S=g[1],w=Object(d.useState)(!1),C=Object(I.a)(w,2),k=C[0],q=C[1],A=Object(d.useState)(""),D=Object(I.a)(A,2),z=D[0],H=D[1],T=Object(d.useState)(""),R=Object(I.a)(T,2),U=R[0],F=R[1],E=Object(d.useState)([]),L=Object(I.a)(E,2),G=L[0],M=L[1];Object(d.useEffect)((function(){""===l&&a&&!0===y&&u(a),console.log({position_code:a}),!0===y&&null!==n&&void 0!==n&&Object(p.qb)(n,(function(e,t,a){S(!1),e||H(a),M(t||[])}))}),[y,l,a,n]);var B=function(e){return e.preventDefault(),""===l?H("Please select a role"):null===n||void 0===n?H("School code does not found."):(q(!0),void Object(p.pc)({position_code:l,user_id:i,qualification_id:m,school_code:n},(function(e,t,a){q(!1),!0===e&&(F("User Role has been updated"),s(l)),!1===e&&H(a)})))};return null===n||void 0===n?Object(P.jsx)(O.d,{backDrop:!0,theme:O.c.default,close:t,backDropClose:!1,widthSizeClass:O.b.medium,displayClose:!0,title:"Change position",padding:{title:!0,body:void 0,footer:void 0},children:Object(P.jsxs)("div",{className:"py-8 px-2 text-center",children:[Object(P.jsx)("h1",{className:"text-2xl font-bold",children:"School code does not found"}),Object(P.jsx)("p",{className:"mt-2 text-gray-700",children:"The school_code doe not found in the system"})]})}):Object(P.jsx)(O.d,{backDrop:!0,theme:O.c.default,close:t,backDropClose:!1,widthSizeClass:O.b.medium,displayClose:!0,title:"Change position",padding:{title:!0,body:void 0,footer:void 0},children:Object(P.jsxs)("div",{className:"border-t p-2",children:[""!==z&&Object(P.jsx)(_.a,{theme:"danger",onClick:function(){return H("")},children:z}),""!==U&&Object(P.jsx)(_.a,{theme:"success",onClick:function(){return F("")},children:U}),!0===y?Object(P.jsx)("div",{className:"text-center p-5",children:Object(P.jsx)(v.a,{})}):Object(P.jsx)("div",{className:"p-1",children:Object(P.jsxs)("form",{onSubmit:B,children:[Object(P.jsx)(x.a,{onChange:function(e){var t=G.find((function(t){return t.position_code===e.target.value}));t?(u(t.position_code),j(t.qualification_id)):H("Failed to select the position")},value:l||"",error:"",label:"Select the position",placeholder:"",name:"",data:[{title:"Select a position",value:""}].concat(Object(r.a)(G.map((function(e){return{title:"".concat(e.position_code," - ").concat(e.position_name," - ").concat(null===e||void 0===e?void 0:e.qualification_name),value:e.position_code}})))),disabled:k}),Object(P.jsx)("div",{className:"pb-1.5 text-right",children:Object(P.jsx)(N.a,{type:"submit",loading:k,children:"Update position"})})]})})]})})},B=function(e){var t=e.close,a=e.role_id,s=e.success,i=e.user_id;console.log({role_id:a,user_id:i});var n=Object(d.useState)(""),c=Object(I.a)(n,2),o=c[0],l=c[1],u=Object(d.useState)(!0),h=Object(I.a)(u,2),b=h[0],m=h[1],j=Object(d.useState)(!1),f=Object(I.a)(j,2),g=f[0],y=f[1],S=Object(d.useState)(""),w=Object(I.a)(S,2),C=w[0],k=w[1],q=Object(d.useState)(""),A=Object(I.a)(q,2),D=A[0],z=A[1],H=Object(d.useState)([]),T=Object(I.a)(H,2),R=T[0],U=T[1];Object(d.useEffect)((function(){""===o&&a&&!0===b&&l(a),console.log({role_id:a}),!0===b&&Object(p.hb)((function(e,t,a){m(!1),e||k(a),U(t||[])}))}),[b,o,a]);var F=function(e){if(e.preventDefault(),""===o)return k("Please select a role");y(!0),Object(p.rc)({role_id:o,user_id:i},(function(e,t){y(!1),!0===e&&(z("User Role has been updated"),s(o)),!1===e&&k(t)}))};return Object(P.jsx)(O.d,{backDrop:!0,theme:O.c.default,close:t,backDropClose:!1,widthSizeClass:O.b.medium,displayClose:!0,title:"Change role",padding:{title:!0,body:void 0,footer:void 0},children:Object(P.jsxs)("div",{className:"border-t p-2",children:[""!==C&&Object(P.jsx)(_.a,{theme:"danger",onClick:function(){return k("")},children:C}),""!==D&&Object(P.jsx)(_.a,{theme:"success",onClick:function(){return z("")},children:D}),!0===b?Object(P.jsx)("div",{className:"text-center p-5",children:Object(P.jsx)(v.a,{})}):Object(P.jsx)("div",{className:"p-1",children:Object(P.jsxs)("form",{onSubmit:F,children:[Object(P.jsx)(x.a,{onChange:function(e){l(e.target.value),k("")},value:o||"",error:"",label:"Select the role",placeholder:"",name:"",data:[{title:"Select a role",value:""}].concat(Object(r.a)(R.map((function(e){return{title:e.role,value:e.role_id}})))),disabled:g}),Object(P.jsx)("div",{className:"pb-1.5 text-right",children:Object(P.jsx)(N.a,{type:"submit",loading:g,children:"Update role"})})]})})]})})},J=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).updateStuffDetails=function(e){var t;if(e.preventDefault(),""!==s.state.nid&&null!==s.state.nid){if(16!==s.state.nid.length)return s.setState({error:{target:"nid",msg:"NID must be 16 digits!"}});if(!Object(A.j)(s.state.nid))return s.setState({error:{target:"nid",msg:"NID must be numbers!"}})}if((""===s.state.passport||null===s.state.passport)&&(""===s.state.nid||null===s.state.nid))return s.setState({error:{target:"nid",msg:"You must provide the passport or the NID"}});if((null===s.state.first_name||""===s.state.first_name)&&s.props.required.first_name)return s.setState({error:{target:"first_name",msg:"Required!"}});if((null===s.state.last_name||(null===(t=s.state.last_name)||void 0===t?void 0:t.length)<=2)&&s.props.required.last_name)return s.setState({error:{target:"last_name",msg:"Required!"}});if(""===s.state.full_name&&s.props.required.full_name)return s.setState({error:{target:"full_name",msg:"Required!"}});if(10!==s.state.phone_numbers.length&&s.props.required.phone_numbers)return s.setState({error:{target:"phone_numbers",msg:"Phone number must be 10 digits!"}});if(!Object(A.j)(s.state.phone_numbers)&&s.props.required.phone_numbers)return s.setState({error:{target:"phone_numbers",msg:"Phone must be numbers!"}});if(""===s.state.email&&s.props.required.email)return s.setState({error:{target:"email",msg:"Required!"}});if(""===s.state.username&&s.props.required.username)return s.setState({error:{target:"username",msg:"Required!"}});if(""===s.state.staff_code&&s.props.required.staff_code)return s.setState({error:{target:"staff_code",msg:"Required!"}});if(""===s.state.sex&&s.props.required.sex)return s.setState({error:{target:"sex",msg:"Required!"}});if(""===s.state.martial_status&&s.props.required.martial_status)return s.setState({error:{target:"martial_status",msg:"Required!"}});if((null===s.state.martial_status||""===s.state.martial_status)&&s.props.required.martial_status)return s.setState({error:{target:"martial_status",msg:"Required!"}});if(""===s.state.rssb_number&&s.props.required.rssb_number)return s.setState({error:{target:"rssb_number",msg:"Required!"}});if(""===s.state.highest_qualification_id&&s.props.required.highest_qualification_id)return s.setState({error:{target:"highest_qualification_id",msg:"Required!"}});if(""===s.state.nationality_id||null===s.state.nationality_id)return s.setState({error:{target:"nationality_id",msg:"Required!"}});if(""===s.state.dob||null===s.state.dob)return s.setState({error:{target:"dob",msg:"Required!"}});if((""===s.state.bank_id||null===s.state.bank_id)&&s.props.required.bank_id)return s.setState({error:{target:"bank_id",msg:"Required!"}});if(""===s.state.bank_account||null===s.state.bank_account)return s.setState({error:{target:"bank_account",msg:"Required!"}});if(""===s.state.graduation_date&&s.props.required.graduation_date)return s.setState({error:{target:"graduation_date",msg:"Required!"}});if(null===s.state.specialization_id||""===s.state.specialization_id)return s.setState({error:{target:"specialization_id",msg:"Required!"}});if((null===s.state.contract_type||""===s.state.contract_type)&&s.props.required.contract_type)return s.setState({error:{target:"contract_type",msg:"Required!"}});if(""===s.state.hired_date&&s.props.required.hired_date)return s.setState({error:{target:"hired_date",msg:"Required!"}});if(""===s.state.bank_account&&s.props.required.bank_account)return s.setState({error:{target:"bank_account",msg:"Required!"}});if(""===s.state.education_certificate_id&&s.props.required.education_certificate_id)return s.setState({error:{target:"education_certificate_id",msg:"Required!"}});if(""===s.state.teaching_level_id&&s.props.required.teaching_level_id)return s.setState({error:{target:"teaching_level_id",msg:"Required!"}});var a={bank_account:s.state.bank_account,bank_id:s.state.bank_id,contract_type:s.state.contract_type,dob:s.state.dob,education_domain_id:s.state.education_domain_id,education_sub_domain_id:s.state.education_domain_id,email:s.state.email,first_name:s.state.first_name,full_name:s.state.full_name,graduation_date:s.state.graduation_date,highest_qualification_id:s.state.highest_qualification_id,hired_date:s.state.hired_date,last_name:s.state.last_name,martial_status:s.state.martial_status,middle_name:s.state.middle_name,nationality_id:s.state.nationality_id,nid:s.state.nid,passport:s.state.passport,phone_numbers:s.state.phone_numbers,rssb_number:s.state.rssb_number,sex:s.state.sex,specialization_id:s.state.specialization_id,staff_category_id:s.state.staff_category_id,staff_code:s.state.staff_code,username:s.state.username,village_code:s.state.village_code,education_certificate_id:s.state.education_certificate_id,teaching_level_id:s.state.teaching_level_id};s.setState({loading:!0}),Object(p.oc)(s.props.user_id,a,(function(e,t){!0===e?(s.setState({loading:!1,error:{target:"main-success",msg:"Staff details updated successfully"}}),s.props.success(s.props.user_id,a)):s.setState({loading:!1,error:{target:"main-error",msg:t}}),setTimeout((function(){s.setState({error:{target:null,msg:""}})}),3e3)}))},s.state={update_user_position:!1,loading_assets:!0,loading:!1,error:{target:null,msg:""},nid:"",passport:"",first_name:"",middle_name:"",last_name:"",full_name:"",phone_numbers:"",email:"",username:"",staff_code:"",sex:"",martial_status:"",highest_qualification_id:"",dob:"",rssb_number:"",nationality_id:"",bank_account:"",bank_id:"",village_code:"",staff_category_id:"",specialization_id:"",contract_type:"",graduation_date:"",education_domain_id:"",education_sub_domain_id:"",hired_date:"",specialization_open:!1,education_certificate_id:"",teaching_level_id:"",role_id:"",position_code:"",update_user_role:!1},s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;!0===this.props.basic.register_assets.loading||null===this.props.basic.register_assets.data?this.props.FC_GetRegistrationAssets((function(t,a){!0===t?e.props.FC_GetUserDetailsInfo(e.props.user_id,(function(t,a,s){!0===t&&null!==a?e.setState({loading_assets:!1,bank_account:a.bank_account,bank_id:a.bank_id,contract_type:a.contract_type,dob:a.dob,education_domain_id:a.education_domain_id,education_sub_domain_id:a.education_sub_dommain_id,email:a.email,first_name:a.first_name,full_name:a.full_name,last_name:a.last_name,graduation_date:a.graduation_date,highest_qualification_id:a.highest_qualification_id,hired_date:a.hired_date,martial_status:a.marital_status,middle_name:a.middle_name,nationality_id:a.nationality_id,nid:a.nid,passport:a.passport||"",phone_numbers:a.phone_numbers,rssb_number:a.rssb_number,sex:a.sex,specialization_id:a.specialisation_id,staff_category_id:a.staff_category_id,staff_code:a.staff_code,username:a.username,village_code:a.village_code,education_certificate_id:a.education_certificate_id,teaching_level_id:a.teaching_level_id,position_code:"",error:{target:null,msg:""},role_id:a.role_id}):e.setState({loading_assets:!1,error:{target:"main-error",msg:s}})})):e.setState({error:{target:"main-error",msg:a}})})):this.props.FC_GetUserDetailsInfo(this.props.user_id,(function(t,a,s){!0===t&&null!==a?e.setState({loading_assets:!1,bank_account:a.bank_account,bank_id:a.bank_id,contract_type:a.contract_type,dob:a.dob,education_domain_id:a.education_domain_id,education_sub_domain_id:a.education_sub_dommain_id,email:a.email,first_name:a.first_name,full_name:a.full_name,last_name:a.last_name,graduation_date:a.graduation_date,highest_qualification_id:a.highest_qualification_id,hired_date:a.hired_date,martial_status:a.marital_status,middle_name:a.middle_name,nationality_id:a.nationality_id,nid:a.nid,phone_numbers:a.phone_numbers,rssb_number:a.rssb_number,sex:a.sex,specialization_id:a.specialization_id,staff_category_id:a.staff_category_id,staff_code:a.staff_code,username:a.username,village_code:a.village_code,error:{target:null,msg:""},role_id:a.role_id}):e.setState({loading_assets:!1,error:{target:"main-error",msg:s}})}))}},{key:"render",value:function(){var e,t=this,a=Object(y.c)(null===(e=this.props.auth.role)||void 0===e?void 0:e.access,y.b.UPDATE_USERS_ROLES);if(!0===this.props.basic.register_assets.loading||null===this.props.basic.register_assets.data)return Object(P.jsxs)(j.a,{children:[Object(P.jsx)("div",{className:"py-6 mx-auto text-center",children:Object(P.jsx)(v.a,{})}),Object(P.jsx)("h3",{className:"pt-3 font-bold text-lg text-center",children:"Loading..."})]});if(!0===this.state.loading_assets)return Object(P.jsxs)(j.a,{children:[Object(P.jsx)("div",{className:"py-6 mx-auto text-center",children:Object(P.jsx)(v.a,{})}),Object(P.jsx)("h3",{className:"pt-3 font-bold text-lg text-center",children:"Loading profile info..."})]});var s=this.props.basic.register_assets.data,i=s.specializations.find((function(e){return e.specialization_id===t.state.specialization_id})),n=[];n=[{title:"",value:""}],this.props.basic.education_certificates&&(n=[{title:"",value:""}].concat(Object(r.a)(this.props.basic.education_certificates.map((function(e){return{value:e.education_certificate_id,title:e.education_certificate}})))));return[{title:"",value:""}],this.props.basic.teaching_levels&&[{title:"",value:""}].concat(Object(r.a)(this.props.basic.teaching_levels.map((function(e){return{value:e.teaching_level_id,title:e.teaching_level}})))),Object(P.jsxs)(P.Fragment,{children:[a&&!0===this.state.update_user_role&&Object(P.jsx)(B,{user_id:this.props.user_id,close:function(){return t.setState({update_user_role:!1})},role_id:this.state.role_id,success:function(e){return t.setState({role_id:e})}}),a&&!0===this.state.update_user_position&&Object(P.jsx)(M,{user_id:this.props.user_id,close:function(){return t.setState({update_user_position:!1})},school_code:this.props.school_code,position_code:this.state.position_code,success:function(e){return t.setState({position_code:e})}}),"main-error"===this.state.error.target&&Object(P.jsx)(_.a,{theme:"danger",fixed:!0,children:this.state.error.msg}),"main-success"===this.state.error.target&&Object(P.jsx)(_.a,{theme:"success",fixed:!0,children:this.state.error.msg}),Object(P.jsxs)(j.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(P.jsxs)("div",{className:"py-2 flex items-center border-b",children:[Object(P.jsx)("div",{className:"flex-1 opacity-70",children:Object(P.jsx)(f.a,{children:"Update staff"})}),Object(P.jsx)("div",{className:"",children:Object(P.jsx)(N.a,{onClick:this.props.close,theme:"danger-light",children:"Close"})})]}),a&&Object(P.jsxs)("div",{className:"p-3 flex border-b items-center",children:[Object(P.jsxs)("section",{className:"flex-1",children:[Object(P.jsx)("h5",{className:"font-bold text-lg",children:"Change user role"}),Object(P.jsx)("p",{className:"text-sm text-gray-400 -mt-1",children:"Make sure the DDE is aware of this action"})]}),Object(P.jsx)(N.a,{theme:"accent-light",size:"md",onClick:function(){return t.setState({update_user_role:!0})},children:"Change user role"})]}),Object(P.jsxs)("div",{className:"p-3 flex border-b items-center",children:[Object(P.jsxs)("section",{className:"flex-1",children:[Object(P.jsx)("h5",{className:"font-bold text-lg",children:"Change user position"}),Object(P.jsx)("p",{className:"text-sm text-gray-400 -mt-1",children:"Make sure the DDE is aware of this action"})]}),Object(P.jsx)(N.a,{theme:"accent-light",size:"md",onClick:function(){return t.setState({update_user_position:!0})},children:"Change user position"})]}),Object(P.jsxs)("form",{onSubmit:this.updateStuffDetails,children:[Object(P.jsxs)("div",{className:"p-2 flex flex-wrap",children:[Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"National ID",name:"nid",type:"text",onChange:function(e){return t.setState({nid:e.target.value,error:{target:null,msg:""}})},value:this.state.nid,error:"nid"===this.state.error.target?this.state.error.msg:"",placeholder:"National Id",className:"p-2"})}),Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"Passport(*)",name:"passport",type:"text",onChange:function(e){return t.setState({passport:e.target.value,error:{target:null,msg:""}})},value:this.state.passport,error:"passport"===this.state.error.target?this.state.error.msg:"",placeholder:"Passport",className:"p-2"})}),this.props.formAccess.first_name&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"First name (Irinyarwanda)",name:"first_name",onChange:function(e){return t.setState({first_name:e.target.value,full_name:"".concat(null!==e.target.value?e.target.value:""," ").concat(null!==t.state.middle_name?t.state.middle_name:""," ").concat(null!==t.state.last_name?t.state.last_name:""),error:{target:null,msg:""}})},value:this.state.first_name,error:"first_name"===this.state.error.target?this.state.error.msg:"",placeholder:"Ex: KAMANA",className:"p-2"})}),this.props.formAccess.middle_name&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"Middle name",name:"middle_name",onChange:function(e){return t.setState({middle_name:e.target.value,full_name:"".concat(null!==t.state.first_name?t.state.first_name:""," ").concat(null!==e.target.value?e.target.value:""," ").concat(null!==t.state.last_name?t.state.last_name:""),error:{target:null,msg:""}})},value:this.state.middle_name,error:"middle_name"===this.state.error.target?this.state.error.msg:"",placeholder:"Middle name",className:"p-2"})}),this.props.formAccess.last_name&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"Last name",name:"last_name",onChange:function(e){return t.setState({last_name:e.target.value,full_name:"".concat(null!==t.state.first_name?t.state.first_name:""," ").concat(null!==t.state.middle_name?t.state.middle_name:""," ").concat(null!==e.target.value?e.target.value:""),error:{target:null,msg:""}})},value:this.state.last_name,error:"last_name"===this.state.error.target?this.state.error.msg:"",placeholder:"Ex: Emmanuel",className:"p-2"})}),this.props.formAccess.full_name&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:!0,label:"Full name",name:"full_name",onChange:function(e){},value:this.state.full_name,error:"full_name"===this.state.error.target?this.state.error.msg:"",placeholder:"Full name",className:"p-2"})}),this.props.formAccess.phone_numbers&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"Phone number",name:"phone_numbers",onChange:function(e){return t.setState({phone_numbers:e.target.value,error:{target:null,msg:""}})},value:this.state.phone_numbers,error:"phone_numbers"===this.state.error.target?this.state.error.msg:"",placeholder:"0700000000",className:"p-2"})}),this.props.formAccess.email&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"email",name:"email",onChange:function(e){return t.setState({email:e.target.value,error:{target:null,msg:""}})},value:this.state.email,error:"email"===this.state.error.target?this.state.error.msg:"",placeholder:"my@email.com",className:"p-2"})}),this.props.formAccess.username&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"Username (your number)",name:"username",onChange:function(e){return t.setState({username:e.target.value,error:{target:null,msg:""}})},value:this.state.username,error:"username"===this.state.error.target?this.state.error.msg:"",placeholder:"0780000000",className:"p-2"})}),this.props.formAccess.staff_code&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"Staff code",name:"staff_code",onChange:function(e){return t.setState({staff_code:e.target.value,error:{target:null,msg:""}})},value:this.state.staff_code,error:"staff_code"===this.state.error.target?this.state.error.msg:"",placeholder:"Staff code",className:"p-2"})}),this.props.formAccess.sex&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(x.a,{data:[{title:this.state.sex?this.state.sex:"",value:this.state.sex?this.state.sex:""},{title:"",value:""},{title:"MALE",value:"MALE"},{title:"FEMALE",value:"FEMALE"}],error:"sex"===this.state.error.target?this.state.error.msg:"",value:this.state.sex,onChange:function(e){return t.setState({sex:e.target.value,error:{target:null,msg:""}})},label:"Gender",name:"gender",placeholder:"Select gender"})}),this.props.formAccess.martial_status&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(x.a,{data:[{title:this.state.martial_status?this.state.martial_status:"",value:this.state.martial_status?this.state.martial_status:""}].concat(Object(r.a)(s.marital.map((function(e){return{title:e,value:e}})))),error:"martial_status"===this.state.error.target?this.state.error.msg:"",value:this.state.martial_status,onChange:function(e){t.setState({martial_status:e.target.value,error:{target:null,msg:""}})},label:"Martial Status",name:"matrias_status",placeholder:"Select a value"})}),this.props.formAccess.rssb_number&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"RSSB Number",name:"rssb_number",onChange:function(e){return t.setState({rssb_number:e.target.value,error:{target:null,msg:""}})},value:this.state.rssb_number,error:"rssb_number"===this.state.error.target?this.state.error.msg:"",placeholder:"RSSB number",className:"p-2"})}),this.props.formAccess.highest_qualification_id&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(x.a,{data:[{title:"",value:""}].concat(Object(r.a)(this.props.basic.qualifications.filter((function(e){return"HIGH"===e.qualification_status})).map((function(e){return{value:e.qualification_id,title:e.qualification_name}})))),error:"highest_qualification_id"===this.state.error.target?this.state.error.msg:"",value:this.state.highest_qualification_id,onChange:function(e){return t.setState({highest_qualification_id:e.target.value,error:{target:null,msg:""}})},label:"Highest Qualification",name:"highest_qualification",placeholder:"Select a highest qualification"})}),this.props.formAccess.nationality_id&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(x.a,{data:[{title:"",value:"Select a country"}].concat(Object(r.a)(s.nationality.map((function(e){return{title:e.country,value:e.country_id}})))),error:"nationality_id"===this.state.error.target?this.state.error.msg:"",value:this.state.nationality_id,onChange:function(e){return t.setState({nationality_id:e.target.value,error:{target:null,msg:""}})},label:"Nationality",name:"nationality",placeholder:"Select a country"})}),this.props.formAccess.dob&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"Date of birth",name:"dob",type:"date",onChange:function(e){return t.setState({dob:e.target.value,error:{target:null,msg:""}})},value:this.state.dob,error:"dob"===this.state.error.target?this.state.error.msg:"",placeholder:"DOB",className:"p-2"})}),this.props.formAccess.bank_id&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(x.a,{data:[{title:"",value:""}].concat(Object(r.a)(s.banks.map((function(e){return{title:e.bank,value:e.bank_id}})))),error:"bank_id"===this.state.error.target?this.state.error.msg:"",value:this.state.bank_id,onChange:function(e){return t.setState({bank_id:e.target.value,error:{target:null,msg:""}})},label:"Select a bank",name:"bank",placeholder:"Select bank"})}),this.props.formAccess.bank_account&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"Bank Account",name:"bank_account",type:"number",onChange:function(e){return t.setState({bank_account:e.target.value,error:{target:null,msg:""}})},value:this.state.bank_account,error:"bank_account"===this.state.error.target?this.state.error.msg:"",placeholder:"Bank account",className:"p-2"})}),this.props.formAccess.village_code&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"Village",name:"village_code",onChange:function(e){return t.setState({village_code:e.target.value,error:{target:null,msg:""}})},value:this.state.village_code,error:"village_code"===this.state.error.target?this.state.error.msg:"",placeholder:"Village",className:"p-2"})}),this.props.formAccess.graduation_date&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"Graduation date",name:"graduation_date",type:"date",onChange:function(e){return t.setState({graduation_date:e.target.value,error:{target:null,msg:""}})},value:this.state.graduation_date,error:"graduation_date"===this.state.error.target?this.state.error.msg:"",placeholder:"Graduation date",className:"p-2"})}),this.props.formAccess.specialization_id&&Object(P.jsx)(P.Fragment,{children:this.state.specialization_open?Object(P.jsxs)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:[Object(P.jsx)("label",{className:"block",children:"Specialization"}),Object(P.jsx)(S.a,{click:function(e){return t.setState({specialization_id:e.specialization_id,specialization_open:!1})},close:function(){return t.setState({specialization_open:!1})},data:[{value:"",title:""}].concat(Object(r.a)(s.specializations.map((function(e){return{specialization_id:e.specialization_id,specialization_name:e.specialization_name}})))),id:"specialization_id",title:"specialization_name",loading:this.state.loading})]}):Object(P.jsx)("div",{onClick:function(){return t.setState({specialization_open:!0})},className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{error:"specialization_id"===this.state.error.target?this.state.error.msg:"",label:"Specialization",name:"",onChange:function(e){},placeholder:"",value:void 0===i?"":i.specialization_name})})}),this.props.formAccess.contract_type&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(x.a,{data:[{title:this.state.contract_type?this.state.contract_type:"",value:this.state.contract_type?this.state.contract_type:""}].concat(Object(r.a)(s.contract_types.map((function(e){return{value:e,title:e}})))),error:"contract_type"===this.state.error.target?this.state.error.msg:"",value:this.state.contract_type,onChange:function(e){return t.setState({contract_type:e.target.value,error:{target:null,msg:""}})},label:"Contract type",name:"staff_category",placeholder:"Select category"})}),this.props.formAccess.hired_date&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(g.a,{disabled:this.state.loading,label:"Date of hire (Date in education)",name:"hired_date",onChange:function(e){return t.setState({hired_date:e.target.value,error:{target:null,msg:""}})},value:this.state.hired_date,error:"hired_date"===this.state.error.target?this.state.error.msg:"",type:"date",placeholder:"Hired date",className:"p-2"})}),this.props.formAccess.education_certificate_id&&Object(P.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(P.jsx)(x.a,{data:n,error:"education_certificate_id"===this.state.error.target?this.state.error.msg:"",value:this.state.education_certificate_id,onChange:function(e){return t.setState({education_certificate_id:e.target.value,error:{target:null,msg:""}})},label:"Education certificate",name:"education_certificate_id",placeholder:"Select a value"})})]}),Object(P.jsxs)("div",{className:"px-6 text-right flex",children:[Object(P.jsx)("div",{className:"flex-1",children:null!==this.state.error.target&&"main-error"!==this.state.error.target&&"main-success"!==this.state.error.target&&Object(P.jsx)("div",{className:"text-sm text-red-400 pr-4",children:"Some fields are required!"})}),Object(P.jsx)("div",{className:"",children:Object(P.jsx)(N.a,{type:"submit",size:"lg",loading:this.state.loading,children:"Update staff details"})})]})]})]}),Object(P.jsx)(j.a,{children:Object(P.jsx)("div",{className:"bg-gray-100 py-1 mt-4 rounded",children:""!==this.state.staff_code?Object(P.jsx)(G,{allowEdit:!0,staff_code:this.state.staff_code,full_name:this.state.full_name}):Object(P.jsx)("div",{className:"bg-gray-100 rounded-md px-6 py-3 font-extrabold text-gray-500 text-center text-2xl",children:"Loading, please wait..."})})})]})}}]),a}(u.a.Component),V=Object(m.b)((function(e){return{auth:e.auth,basic:e.basic}}),{FC_GetRegistrationAssets:p.eb,FC_GetUserDetailsInfo:p.Cb})(J),Y=a(448),Q=a(374),W=a(26),K=function(e,t){return null!==e?e.filter((function(a){return a.qualification_name===t.qualification&&null!==e})):[]},X=function(e){var t=Object(d.useState)(null),a=Object(I.a)(t,2),s=a[0],r=a[1],i=Object(d.useState)(!1),n=Object(I.a)(i,2),c=n[0],o=n[1],l=Object(d.useState)(""),u=Object(I.a)(l,2),h=u[0],m=u[1],_=Object(d.useState)(null),j=Object(I.a)(_,2),f=j[0],x=j[1],g=function(){var t=Object(C.a)(Object(w.a)().mark((function t(){var a,r,i;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.auth.user||""===h){t.next=22;break}if(o(!0),null===e.basic.positions){t.next=18;break}return t.prev=3,t.next=6,z.a.post("".concat(H.e,"/user/assign/position"),{user_id:e.user.user_id,school_code:e.school.school_code,position_code:h,qualification_id:null===(a=e.basic.positions.find((function(e){return e.position_code===h})))||void 0===a?void 0:a.qualification_id});case 6:r=t.sent,null!==s&&void 0!==(i=s.find((function(e){return e.position_code===h})))&&(x(i.position_name),e.updateUserPosition(e.user.user_id,i.position_name)),console.log("Success: ",r),e.close&&e.close(),alert("User position assignment done successfully!"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log("Err: ",t.t0);case 16:t.next=19;break;case 18:alert("Wait for positions to be loaded!");case 19:o(!1),t.next=23;break;case 22:alert("Please select a position!");case 23:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(){return t.apply(this,arguments)}}();return Object(d.useEffect)((function(){null===s&&e.basic.academic_calender&&Object(p.nb)(e.school.school_code,e.basic.academic_calender.academic_year_id,(function(e,t,a){o(!0),!0===e&&null!==t&&(r(t.school_positions),o(!1))}))})),null!==s&&0===K(s,e.user).length?Object(P.jsx)("div",{className:"p-7 mb-7",children:Object(P.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[Object(P.jsx)("div",{children:Object(P.jsx)(b.c,{className:"text-8xl text-gray-300"})}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"text-accent-900 font-extrabold text- text-3xl flex flex-row items-center gap-3",children:[Object(P.jsx)("span",{children:"Missing positions for "}),Object(P.jsx)("div",{className:"font-extrabold bg-accent-900 text-white px-1 rounded-md w-max text-2xl",children:e.user.qualification})]}),Object(P.jsx)("div",{className:"text-gray-600 text- text-lg",children:"There are no available positions for selected qualification in the school. Please, you need to add positions first before assigning to a staff!"}),Object(P.jsx)("div",{className:"flex items-center justify-cente mt-4",children:Object(P.jsx)(W.b,{to:"/assign-school-position",children:Object(P.jsx)("div",{className:"bg-primary-800 text-white rounded text-base font-bold text-center px-3 py-2 cursor-pointer w-max",children:"Click to add school positions"})})})]})]})}):Object(P.jsxs)("div",{className:"px-4 pb-4 bg-gray-50 border-t rounded-b",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{children:"School name: "}),Object(P.jsxs)("div",{className:"text-xl font-bold",children:[e.school.school_name," (",e.school.school_code,")"]})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{children:"Teacher: "}),Object(P.jsxs)("div",{className:"text-xl font-bold text-primary-800",children:[e.user.first_name," ",e.user.last_name," (",e.user.role,")"]})]}),!0===c?Object(P.jsx)("div",{className:"flex flex-col items-center justify-center w-full p-3 rounded",children:Object(P.jsx)(v.a,{})}):null!==f?Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{children:"Submitted position: "}),Object(P.jsx)("div",{className:"text-xl font-bold text-green-700 bg-green-100 rounded-lg px-4 py-2",children:f})]}):null!==e.user.position&&Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{children:"Current position: "}),Object(P.jsx)("div",{className:"text-xl font-bold text-green-700 bg-green-100 rounded-lg px-4 py-2",children:e.user.position})]}),!0===c||null===s||!0===e.loading?Object(P.jsx)("div",{className:"text-2xl font-bold text-yellow-700 text-center",children:"Loading, Please wait..."}):Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{children:[null===e.user.position?"Choose position for (".concat(e.user.qualification,")"):"Update position for (".concat(e.user.qualification,")"),":"," "]}),Object(P.jsx)("div",{children:0===K(s,e.user).length?Object(P.jsxs)("div",{className:"bg-red-100 text-red-900 font-bold px-4 py-2 text-xl rounded",children:["No available posts on your qualification (",e.user.qualification,")"]}):Object(P.jsxs)("select",{value:h,onChange:function(e){return m(e.target.value)},className:"px-3 py-2 rounded-md w-full border-2 border-primary-900",children:[Object(P.jsx)("option",{value:"",children:"Choose school position"}),K(s,e.user).filter((function(t){return t.position_name!==e.user.position})).map((function(e,t){return Object(P.jsx)("option",{value:e.position_code,children:e.position_name+" ("+e.qualification_name+")"},t+1)}))]})})]}),!1===c&&Object(P.jsxs)("div",{className:"flex flex-row justify-between mt-2",children:[Object(P.jsx)("div",{onClick:function(){return e.close&&e.close()},className:"bg-gray-200 text-black px-4 py-2 rounded cursor-pointer w-max",children:"Cancel"}),Object(P.jsx)("div",{onClick:function(){g()},className:"bg-primary-800 text-white px-4 py-2 rounded cursor-pointer w-max",children:"Submit"})]})]})},Z=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).submitLogin=function(e){e.preventDefault()},s.componentDidMount=function(){s.startApp()},s.DisableUser=function(e){console.log("deleting candidate"),!0===window.confirm("Are you sure you want to deactivate this user?")&&(s.setState({disable_user_loading:!0}),s.props.FC_DisableUser(e,(function(t,a){!0===t?s.setState({data:s.state.data.filter((function(t){return t.user_id!==e})),disable_user_loading:!1}):s.setState({disable_user_loading:!1,error:{target:"main-error",msg:a}})})))},s.startApp=function(){if(null===s.props.basic.academic_calender)s.setState({error:{target:"main-error",msg:"failed to load data, please reload the page (Refresh)"}});else if(null===s.props.auth.school&&void 0===s.props.school_code)s.setState({error:{target:"main-error",msg:"No school assigned to you"}});else{var e,t=void 0===s.props.school_code?null===(e=s.props.auth.school)||void 0===e?void 0:e.school_code:s.props.school_code;if(s.setState({error:{target:null,msg:""},loading_data:!0}),void 0===t)return s.setState({error:{target:"main-error",msg:"Invalid school ID"}});Object(p.ub)(t,(function(e,a,r){if(!0===e&&null!==a){var i=a.staff.filter((function(e){return"Active"===e.status}));s.setState({loading_data:!1,data:i,roles:a.role}),Object(p.qb)(t+"",(function(e,t,a){!0===e?s.setState({schools_positions:t,school_positions_loading:!1}):s.setState({schools_positions:[],school_positions_loading:!1,error:{msg:a,target:"main-error"}})}))}else s.setState({loading_data:!1,error:{msg:r,target:"main-error"}})}))}},s.state={disable_user_loading:!1,loading:!1,data:[],roles:[],error:{target:null,msg:""},loading_data:!0,selected_role:"",selected_request_id:"",selected_value:"0",selected_comment:"",selected_auto_level:"",search:"",selected_qualification:"",edit_staff_id:"",addUserPositions:null,view_staff_id:"",change_teacher_post:null,school_register_assets:null,school_register_assets_loading:!0,selected_position_id:"",selected_qualification_id:"",selected_school_code:"",selected_check_validation:"",schools_positions:[],school_positions_loading:!1},s}return Object(c.a)(a,[{key:"render",value:function(){var e,t,a,n,c=this;if("main-error"===this.state.error.target)return Object(P.jsx)(_.a,{theme:"danger",fixed:!0,children:this.state.error.msg});var o=""===this.state.selected_role?this.state.data:this.state.data.filter((function(e){return e.role_id===c.state.selected_role}));return o=""===this.state.selected_qualification?o:o.filter((function(e){return e.qualification===c.state.selected_qualification})),o=Object(A.v)(o,this.state.search,{email:!0,first_name:!0,full_name:!0,last_name:!0,phone_numbers:!0,qualification:!0,role:!0,role_id:!0,status:!0,user_id:!0,username:!0,nid:!0}),!0===this.state.loading_data?Object(P.jsx)("div",{className:"p-8 text-center",children:Object(P.jsx)("div",{className:"mx-auto",children:Object(P.jsx)(v.a,{})})}):""!==this.state.edit_staff_id?Object(P.jsx)(V,{user_id:this.state.edit_staff_id,school_code:this.props.school_code?this.props.school_code:(null===(e=this.props.auth.school)||void 0===e?void 0:e.school_code)+"",success:function(e,t){c.setState({data:c.state.data.map((function(a){return a.user_id===e?Object(i.a)(Object(i.a)({},a),{},{email:t.email,first_name:t.first_name,full_name:t.full_name,last_name:t.last_name,phone_numbers:t.phone_numbers,username:t.username}):a}))})},formAccess:{first_name:!0,middle_name:!0,last_name:!0,full_name:!0,phone_numbers:!0,email:!0,username:!0,staff_code:!0,sex:!0,martial_status:!0,highest_qualification_id:!0,dob:!0,rssb_number:!0,nationality_id:!0,bank_account:!0,bank_id:!0,specialization_id:!0,village_code:!1,contract_type:!0,education_domain_id:!0,education_sub_domain_id:!0,graduation_date:!0,hired_date:!1,staff_category_id:!0,education_certificate_id:!0,teaching_level_id:!0},required:{first_name:!0,middle_name:!1,last_name:!0,full_name:!0,phone_numbers:!0,email:!1,username:!0,staff_code:!0,sex:!0,martial_status:!0,highest_qualification_id:!0,dob:!0,rssb_number:!0,nationality_id:!0,bank_account:!0,bank_id:!0,specialization_id:!0,village_code:!1,contract_type:!0,education_domain_id:!0,education_sub_domain_id:!0,graduation_date:!0,hired_date:!1,staff_category_id:!0,education_certificate_id:!0,teaching_level_id:!0},close:function(){return c.setState({edit_staff_id:""})}}):!Object(A.r)(this.state.view_staff_id)&&null===this.state.addUserPositions&&Object(A.r)(this.state.edit_staff_id)?Object(P.jsx)(Y.UserProfile,{isExternal:!0,user_id:this.state.view_staff_id,close:function(){return c.setState({view_staff_id:""})},setEditStaff:function(e){return c.setState({edit_staff_id:e})},user_data:o.find((function(e){return e.user_id===c.state.view_staff_id})),setAddUserPositions:function(e){return c.setState({addUserPositions:e})},DisableUser:function(e){return c.DisableUser(e)}}):Object(P.jsxs)(d.Fragment,{children:[Object(P.jsxs)(P.Fragment,{children:["main-success"===this.state.error.target&&Object(P.jsx)(_.a,{theme:"success",fixed:!0,children:this.state.error.msg}),"main-success"===this.state.error.target&&Object(P.jsx)(_.a,{theme:"success",fixed:!0,children:this.state.error.msg}),!0===this.state.disable_user_loading&&Object(P.jsx)(_.a,{theme:"info",fixed:!0,children:Object(P.jsx)("span",{className:"animate__animated animate__fadeIn animate__infinite",children:"Disabling..."})}),Object(P.jsxs)(j.a,{children:["main"===this.state.error.target&&Object(P.jsx)(_.a,{theme:"danger",children:this.state.error.msg}),"loading-update-error"===this.state.error.target&&Object(P.jsx)(_.a,{theme:"danger",children:this.state.error.msg}),Object(P.jsxs)("div",{className:"flex items-center",children:[Object(P.jsxs)("div",{className:"flex-1",children:[Object(P.jsx)(f.a,{children:"Staff list"}),Object(P.jsx)("p",{className:"opacity-60 text-lg -mt-1 font-bold text-accent-900 dark:text-accent-800",children:null===(t=this.props.auth.school)||void 0===t?void 0:t.school_name})]}),Object(P.jsx)("div",{className:""})]}),Object(P.jsxs)("div",{className:"mt-3",children:[Object(P.jsxs)("div",{className:"border border-t mt-2 mb-1 flex items-center pl-3 pr-2 rounded",children:[Object(P.jsx)("div",{className:"flex-1 pr-2",children:Object(P.jsx)(g.a,{error:"",label:"Search",name:"",type:"search",onChange:function(e){return c.setState({search:e.target.value})},placeholder:"Search by name, nid",value:this.state.search,size:"sm"})}),!this.props.auth.school&&Object(P.jsx)("div",{className:"",children:Object(P.jsx)(x.a,{data:[{title:"All Occupations",value:""}].concat(Object(r.a)(this.state.roles.map((function(e){return{title:e.role,value:e.role_id}})))),error:"",name:"select_role",onChange:function(e){return c.setState({selected_role:e.target.value})},label:"Occupation",placeholder:"Select Occupation",value:this.state.selected_role,size:"sm"})}),null!==this.props.basic.qualifications&&Object(P.jsx)("div",{className:"px-2",children:Object(P.jsx)(x.a,{data:[{title:"All",value:""}].concat(Object(r.a)(this.props.basic.qualifications.filter((function(e){return"HIGH"!==e.qualification_status})).map((function(e){return{title:e.qualification_name,value:e.qualification_name}})))),error:"",name:"select_qualification",onChange:function(e){return c.setState({selected_qualification:e.target.value})},label:"Qualification",placeholder:"Select Qualification",value:this.state.selected_qualification,size:"sm"})}),Object(P.jsxs)("div",{className:"p-2 px-3 ml-3 bg-accent-800 bg-opacity-30 rounded",children:[Object(P.jsx)("label",{className:"",children:"Results:"}),Object(P.jsx)("h4",{className:"text-2xl -mt-1 font-bold",children:o.length})]})]}),Object(P.jsxs)("table",{className:"w-full text-left table-auto",children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{className:"p-2 border",children:"#"}),Object(P.jsx)("th",{className:"p-2 border",children:"NID"}),Object(P.jsx)("th",{className:"p-2 border",children:"Passport"}),Object(P.jsx)("th",{className:"p-2 border",children:"Staff code"}),Object(P.jsx)("th",{className:"p-2 border",children:"Names"}),Object(P.jsx)("th",{className:"p-2 border",children:"Phone number"}),Object(P.jsx)("th",{className:"p-2 border",children:"Position"}),Object(P.jsx)("th",{className:"p-2 border",children:"Occupation"}),Object(P.jsx)("th",{className:"p-2 border",children:"Validated"}),Object(P.jsx)("th",{className:"p-2 border"}),null!==this.props.auth.role&&"2"!==this.props.auth.role.role_id&&"1"!==this.props.auth.role.role_id&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("th",{className:"p-2 border",children:"Qualification"}),Object(P.jsx)("th",{className:"p-2 border",children:"School"})]}),void 0===this.props.school_code&&Object(P.jsx)("th",{})]})}),Object(P.jsx)("tbody",{children:o.length<=0?Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:8,className:"p-8 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:Object(P.jsx)(f.a,{size:"md",className:"opacity-60 font-light",children:"No results found"})})}):o.map((function(e,t){var a,s=Object(Q.b)(e),n=Object(Q.a)(e,c.state.schools_positions);return!1===n.match_position&&(s=Object(i.a)(Object(i.a)({},s),{},{errors:[].concat(Object(r.a)(s.errors),["Position: ".concat(n.position.position_name," is not assigned to this school")])})),Object(P.jsxs)(d.Fragment,{children:[Object(P.jsxs)("tr",{className:"group border rounded hover:bg-yellow-600 hover:bg-opacity-10 text-sm",children:[Object(P.jsx)("td",{className:"p-2 border",children:t+1},t),Object(P.jsx)("td",{className:"p-2 border",children:e.nid}),Object(P.jsx)("td",{className:"p-2 border",children:(null===e||void 0===e?void 0:e.passport)||""}),Object(P.jsx)("td",{className:"p-2 border",children:e.staff_code}),Object(P.jsx)("td",{className:"p-2 border",children:e.full_name}),Object(P.jsx)("td",{className:"p-2 border",children:e.phone_numbers}),Object(P.jsx)("td",{className:"p-2 border",children:e.position}),Object(P.jsx)("td",{className:"p-2 border",children:e.role}),Object(P.jsx)("td",{className:"w-24 text-center parent-hide-child",children:!1===s.validated?Object(P.jsx)("button",{onClick:function(){return c.setState({selected_check_validation:e.user_id})},className:"text-xs bg-red-400 text-white p-0.5 rounded-full",children:"Non-Validated"}):Object(P.jsx)("span",{className:"text-xs bg-green-500 text-white p-0.5 rounded-full",children:"Validated"})}),null!==c.props.auth.role&&"2"!==c.props.auth.role.role_id&&"1"!==c.props.auth.role.role_id&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("td",{className:"p-2 border",children:e.qualification}),Object(P.jsx)("td",{className:"p-2 border",children:null===(a=e.school)||void 0===a?void 0:a.school_name})]}),void 0===c.props.school_code&&Object(P.jsx)("td",{className:"p-1 border",children:Object(P.jsx)("button",{onClick:function(){return c.setState({view_staff_id:e.user_id})},className:"opacity-80 group-hover:opacity-100 bg-accent-800 bg-opacity-0 hover:bg-opacity-100 hover:text-white text-accent-900 font-semibold py-2 px-4 rounded",children:"View"})})]}),c.state.selected_check_validation===e.user_id&&Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:10,className:"pb-5",children:Object(P.jsxs)("div",{className:"pb-2 rounded-b-lg -mt-1 animate__animated animate__zoomIn animate__faster border bg-red-100",children:[Object(P.jsxs)("div",{className:"p-1 px-2 flex bg-red-200",children:[Object(P.jsx)("h2",{className:"flex-1 text-lg font-bold",children:"Please validate"}),Object(P.jsx)(N.a,{className:"",size:"sm",theme:"danger-light",onClick:function(){return c.setState({selected_check_validation:""})},children:"Close"})]}),Object(P.jsx)("div",{className:"px-2 gap-1 rounded grid md:grid-cols-2 lg:grid-cols-3 pt-2",children:s.errors.map((function(e,t){return Object(P.jsxs)("div",{className:"border rounded full mb-1 mx-2 border-red-300 bg-white p-1 flex",children:[Object(P.jsx)(h.Rb,{className:"pr-1 text-xl inline-block text-yellow-600"})," ",Object(P.jsx)("p",{children:e})]},t)}))})]})})})]},t)}))})]})]})]})]}),Object(y.c)(null===(a=this.props.auth)||void 0===a||null===(n=a.role)||void 0===n?void 0:n.access,y.b.EDIT_USERS_POSITION)&&null!==this.state.addUserPositions&&null!==this.props.auth.school&&Object(P.jsx)(O.d,{backDrop:!0,theme:O.c.default,close:function(){c.setState({addUserPositions:null})},backDropClose:null!==this.state.addUserPositions.qualification&&""!==this.state.addUserPositions.qualification,widthSizeClass:O.b.large,displayClose:null!==this.state.addUserPositions.qualification&&""!==this.state.addUserPositions.qualification,title:null===this.state.addUserPositions.qualification||""===this.state.addUserPositions.qualification?"":Object(P.jsx)("div",{className:"text-2xl w-full text-primary-800 -mb-2",children:"ADD USER POSITION"}),padding:{title:!0},children:null===this.state.addUserPositions.qualification||""===this.state.addUserPositions.qualification?Object(P.jsxs)("div",{className:"p-7",children:[Object(P.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[Object(P.jsx)("div",{children:Object(P.jsx)(b.c,{className:"text-8xl text-gray-300"})}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"text-accent-900 font-extrabold text- text-3xl",children:"Staff qualification is missing"}),Object(P.jsx)("div",{className:"text-black text- text-lg",children:"Please assign qualification. Go to staff profile, then click on change school/position to add qualification"})]})]}),Object(P.jsx)("div",{className:"flex items-center justify-center mt-4",children:Object(P.jsx)("div",{onClick:function(){return c.setState({addUserPositions:null})},className:"bg-primary-800 text-white rounded text-base font-bold text-center px-3 py-2 cursor-pointer w-max",children:"Click to add qualification"})})]}):Object(P.jsx)(X,{user:this.state.addUserPositions,school:this.props.auth.school,auth:this.props.auth,loading:this.state.loading,basic:this.props.basic,close:function(){return c.setState({addUserPositions:null})},updateUserPosition:function(e,t){var a,r=[],i=Object(s.a)(c.state.data);try{for(i.s();!(a=i.n()).done;){var n=a.value;n.user_id===e?r.push({email:n.email,first_name:n.first_name,full_name:n.full_name,last_name:n.last_name,phone_numbers:n.phone_numbers,qualification:n.qualification,role:n.role,role_id:n.role_id,status:n.status,user_id:n.user_id,position:t,username:n.username,bank_account:n.bank_account,dob:n.dob,marital_status:n.marital_status,nationality_id:n.nationality_id,nid:n.nid,passport:n.passport,rssb_number:n.rssb_number,location:n.location,school:n.school,sex:n.sex,specialization:n.specialization,staff_category:n.staff_category,staff_code:n.staff_code,start_date_in_the_school:n.start_date_in_the_school,teacher_hierarch:n.teacher_hierarch,position_code:n.position_code}):r.push(n)}}catch(o){i.e(o)}finally{i.f()}c.setState({data:r})}})})]})}}]),a}(u.a.Component),$=Object(m.b)((function(e){return{auth:e.auth,basic:e.basic}}),{FC_DisableUser:p.x})(Z)},573:function(e,t,a){"use strict";a.r(t),a.d(t,"TeachersList",(function(){return i}));a(4);var s=a(447),r=a(1),i=function(){return Object(r.jsx)(s.a,{})}}}]);
//# sourceMappingURL=35.b5dc9c1d.chunk.js.map