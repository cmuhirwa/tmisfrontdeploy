(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[32],{403:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var r=s(1),a=function(e){var t=e.button;return Object(r.jsxs)("div",{className:"bg-gray-100 rounded-md p-3 py-6 text-center",children:[Object(r.jsx)("div",{className:"font-bold text-xl",children:void 0===e.title?"No result found!":e.title}),Object(r.jsx)("div",{className:"text-sm text-gray-500",children:void 0===e.description?"Try another keyword to view the result!":e.description}),Object(r.jsx)("div",{className:"flex flex-row items-center justify-center",children:void 0!==t&&Object(r.jsx)("div",{onClick:e.onClick,children:t})})]})}},429:function(e,t,s){"use strict";s.d(t,"c",(function(){return o})),s.d(t,"b",(function(){return j})),s.d(t,"a",(function(){return x}));var r=s(3),a=s(9),i=s(6),n=s(7),c=s.n(n),l=s(12),d=s(16),o=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,s){var i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,null),e.prev=1,e.next=4,c.a.get("".concat(l.k,"/district/training/").concat(t));case 4:(i=e.sent)&&s(!1,{data:i.data,type:"success",msg:"Data loaded successfully"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),s(!1,{data:null,type:"error",msg:Object(d.t)(e.t0)}),console.log("Err: ",Object(a.a)({},e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,s){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,s){var i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,null),e.prev=1,e.next=4,c.a.get("".concat(l.k,"/training/trainee/request/total/").concat(t));case 4:(i=e.sent)&&s(!1,{data:i.data,type:"success",msg:"Data loaded successfully"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),s(!1,{data:null,type:"error",msg:Object(d.t)(e.t0)}),console.log("Err: ",Object(a.a)({},e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,s){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,s){var i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,null),e.prev=1,e.next=4,c.a.post("".concat(l.k,"/school/request"),{is_approved:t.is_approved,training_request_id:parseInt(t.training_request_id)});case 4:i=e.sent,console.log("Training status changed: ",i),i&&s(!1,{type:"success",msg:!0===t.is_approved?"Training request approved successfully!":"Training request undo successfully!"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),s(!1,{type:"error",msg:Object(d.t)(e.t0)}),console.log("Err: ",Object(a.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,s){return e.apply(this,arguments)}}()},613:function(e,t,s){"use strict";s.r(t),s.d(t,"TrainingTraineesRequests",(function(){return V}));var r=s(41),a=s(29),i=s(19),n=s(20),c=s(21),l=s(22),d=s(4),o=s(60),j=s(24),x=s(42),b=s(94),h=s(15),u=s(63),p=s(36),m=s(13),g=s(429),_=s(23),f=s(26),v=s(27),O=s(402),y=s(16),N=s(363),w=s(449),T=s(1),S=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).GetParticipantUnique=function(e){var t,s=[],r=Object(a.a)(e);try{var i=function(){var e=t.value;void 0===s.find((function(t){return t.id===e.id}))&&s.push(e)};for(r.s();!(t=r.n()).done;)i()}catch(n){r.e(n)}finally{r.f()}return s},r.LoadParticipants=function(){r.setState({loading:!0}),Object(N.f)(r.props.training_id,""===r.props.selected_training_request.school_code?null===r.props.selected_district_code?"":r.props.selected_district_code.district_code:r.props.selected_training_request.school_code,(function(e,t){r.setState({loading:e}),null!==t&&"success"===t.type&&r.setState({trainees:null===t.data?null:r.GetParticipantUnique(t.data),loading:!1}),null!==t&&"error"===t.type&&r.setState({trainees:[],loading:!1,error:t.msg})}))},r.componentDidMount=function(){null===r.state.trainees&&r.LoadParticipants()},r.state={loading:!1,trainees:null,error:"",search_data:"",view_subjects:null},r}return Object(n.a)(s,[{key:"render",value:function(){var e,t,s=this;return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"text-xl font-bold",children:"Trainings List"}),Object(T.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2",children:[Object(T.jsx)("div",{className:"flex flex-row items-center gap-2",children:Object(T.jsxs)("div",{className:"flex flex-row items-center justify-between gap-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("div",{onClick:this.props.onGoBack,className:"h-11 w-11 cursor-pointer bg-accent-400 text-accent-900 hover:bg-accent-500 flex items-center justify-center rounded-full",children:Object(T.jsx)(j.a,{className:"text-2xl"})})}),Object(T.jsxs)("div",{className:"bg-primary-100 rounded-md flex flex-col w-max px-3 py-1 text-primary-800 my-2",children:[Object(T.jsx)("span",{className:"text-sm",children:"Selected school/district"}),Object(T.jsxs)("span",{className:"font-bold text-base",children:[""!==this.props.selected_training_request.school_code?this.props.selected_training_request.school_code:null===(e=this.props.selected_district_code)||void 0===e?void 0:e.district_code," ","-"," ",""!==this.props.selected_training_request.school_name?this.props.selected_training_request.school_name:null===(t=this.props.selected_district_code)||void 0===t?void 0:t.district_name]})]})]})}),Object(T.jsx)("div",{className:"flex flex-row items-center justify-end gap-2",children:Object(T.jsxs)("div",{className:" px-4 py-0 text-right",children:[Object(T.jsx)("div",{className:"text-sm",children:"Total trainees"}),Object(T.jsxs)("div",{className:"text-lg -mt-1 font-bold",children:[null===this.state.trainees?"...":this.state.trainees.length," ","of ",this.props.selected_training_request.total]})]})})]}),""!==this.state.error&&Object(T.jsxs)("div",{onClick:function(){return s.setState({error:""})},className:"bg-red-100 text-red-700 px-3 py-2 rounded cursor-pointer flex flex-row items-center justify-between gap-2 my-3 animate__animated animate__shakeX",children:[Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("span",{className:"text-lg font-bold",children:"Error occurred:"}),Object(T.jsx)("span",{children:this.state.error})]}),Object(T.jsx)("div",{children:Object(T.jsx)(h.r,{className:"text-2xl"})})]}),Object(T.jsxs)("div",{className:"relative w-full mt-3",children:[Object(T.jsx)("div",{className:"absolute px-3 py-2",children:Object(T.jsx)(u.e,{className:"text-2xl text-gray-600"})}),Object(T.jsx)("input",{type:"search",className:"font-normal bg-gray-100 w-full px-3 pl-12 py-2 rounded",placeholder:"Search...",value:this.state.search_data,onChange:function(e){return s.setState({search_data:e.target.value})}})]}),Object(T.jsx)("div",{className:"w-full overflow-x-auto",children:null===this.state.trainees?Object(T.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-gray-100 rounded my-4",children:[Object(T.jsx)(f.a,{}),Object(T.jsx)("div",{className:"text-center font-light text-lg",children:"Loading, please wait..."})]}):0===this.state.trainees.length?Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"text-center p-5 bg-gray-100 rounded-md mt-3 flex flex-col items-center justify-center w-full",children:[Object(T.jsx)("div",{className:"text-xl font-bold",children:"No trainees found!"}),Object(T.jsxs)("div",{className:"text-sm text-gray-500",children:["No trainees assigned to the selected training from the school or district ",this.props.selected_training_request.school_name]}),Object(T.jsx)("div",{className:"mt-4",children:Object(T.jsx)("div",{className:"bg-white hover:bg-gray-300 border border-gray-300 px-3 py-2 rounded w-max cursor-pointer italic",onClick:this.props.onGoBack,children:"Go back to the list"})})]})}):Object(T.jsx)("div",{className:"mt-3 w-full overflow-x-auto",children:Object(T.jsxs)("table",{className:"min-w-full text-left text-sm animate__animated animate__fadeIn",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{className:"text-primary-800 truncate",children:[Object(T.jsx)("th",{className:"px-2 py-2 border border-gray-300 text-center",children:"#"}),Object(T.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"Full name"}),Object(T.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"National ID"}),Object(T.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"Teaching level"}),Object(T.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"Qualification"}),Object(T.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"Position"}),Object(T.jsx)("th",{className:"px-2 py-2 border border-gray-300 text-right",children:"Subjects taught"})]})}),Object(T.jsx)("tbody",{children:0===Object(y.u)(this.state.trainees,this.state.search_data).length?Object(T.jsx)("tr",{children:Object(T.jsx)("td",{colSpan:8,className:"p-6 text-lg font-light text-center",children:Object(T.jsx)("div",{className:"animate__animated animate__shakeX text-center",children:"No result found!"})})}):Object(y.u)(this.state.trainees,this.state.search_data).map((function(e,t){return Object(T.jsxs)("tr",{className:"group",children:[Object(T.jsx)("td",{className:"px-2 py-2 border border-gray-300 text-center",children:t+1}),Object(T.jsxs)("td",{className:"px-2 py-2 border border-gray-300",children:[e.first_name," ",e.last_name]}),Object(T.jsx)("td",{className:"px-2 py-2 border border-gray-300",children:e.nid}),Object(T.jsx)("td",{className:"px-2 py-2 border border-gray-300",children:e.teaching_level}),Object(T.jsx)("td",{className:"px-2 py-2 border border-gray-300",children:e.qualification_name}),Object(T.jsx)("td",{className:"px-2 py-2 border border-gray-300",children:void 0===e.position_name?e.role:e.position_name}),Object(T.jsxs)("td",{className:"px-1 py-1 border border-gray-300",children:[void 0!==e.subjects&&e.subjects.length>0?Object(T.jsxs)("div",{onClick:function(){return s.setState({view_subjects:e})},className:"bg-gray-100 px-2 py-2 rounded cursor-pointer hover:text-primary-800 text-sm w-max hover:bg-primary-100 float-right",children:["View subjects (",Object(w.b)(e.subjects).length,")"]}):Object(T.jsx)("div",{className:"px-3"}),null!==s.state.view_subjects&&s.state.view_subjects.nid===e.nid&&Object(T.jsxs)("div",{className:"bg-white border rounded-md shadow-lg absolute right-5 animate__animated animate__zoomIn animate__faster",style:{zIndex:9},children:[Object(T.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 p-2 px-3",children:[Object(T.jsx)("span",{className:"font-bold text-lg",children:"Subjects taught"}),Object(T.jsx)("div",{children:Object(T.jsx)("div",{onClick:function(){return s.setState({view_subjects:null})},className:"h-8 w-8 rounded-full bg-red-100 text-red-700 cursor-pointer hover:bg-red-200 flex items-center justify-center",children:Object(T.jsx)(h.r,{className:"text-2xl"})})})]}),Object(T.jsx)("div",{className:"p-2",children:Object(T.jsxs)("table",{className:"w-full text-sm text-left",children:[Object(T.jsxs)("thead",{children:[Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300 font-bold",children:"#"}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300 font-bold",children:"Course code"}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300 font-bold",children:"Course name"})]}),Object(T.jsx)("tbody",{children:Object(w.b)(s.state.view_subjects.subjects).map((function(e,t){return Object(T.jsxs)("tr",{className:"",children:[Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:t+1}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.course_code}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.course_name})]},t+1)}))})]})})]})]})]},t+1)}))})]})})})]})}}]),s}(d.Component),q=s(69),C=s(68),G=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).ReturnFilterTrainings=function(){var e=r.props.trainings_list;return null!==r.state.selected_training_provider_id&&(e=e.filter((function(e){return null!==r.state.selected_training_provider_id&&e.development_partner_id.toString()===r.state.selected_training_provider_id.training_provider_id.toString()}))),Object(y.u)(e,r.state.search_data)},r.GetTotalRequired=function(){var e,t=0,s=Object(a.a)(r.props.trainings_list);try{for(s.s();!(e=s.n()).done;){var i=e.value;t+=r.props.GetTotalRequiredTrainees(i.training_id)}}catch(n){s.e(n)}finally{s.f()}return t},r.GetTrainingProviders=function(){var e,t=[],s=Object(a.a)(r.props.trainings_list);try{var i=function(){var s=e.value;void 0===t.find((function(e){return e.training_provider_id.toString()===s.development_partner_id.toString()}))&&t.push({training_provider_id:s.development_partner_id,training_provider_name:s.development_partner_name})};for(s.s();!(e=s.n()).done;)i()}catch(n){s.e(n)}finally{s.f()}return t},r.state={loading:!1,search_data:"",openSelectTrainingProvider:!1,selected_training_provider_id:null},r}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-3 lg:justify-between px-2 py-2 pb-4",children:[Object(T.jsxs)("div",{className:"flex flex-row items-center gap-3 w-full",children:[Object(T.jsx)("div",{children:Object(T.jsx)("div",{onClick:this.props.onGoBack,className:"p-1 rounded-full bg-accent-400 h-12 w-12 flex items-center justify-center cursor-pointer",children:Object(T.jsx)(j.a,{className:"text-3xl text-accent-900 animate__animated animate__zoomIn"})})}),Object(T.jsxs)("div",{className:"truncate",children:[Object(T.jsx)("div",{className:"text-xl font-bold",children:"Trainings list"}),Object(T.jsx)("div",{className:"text-gray-500",children:"Choose or select a training from the list"})]})]}),Object(T.jsx)("div",{className:"flex flex-row items-center justify-end gap-2",children:Object(T.jsxs)("div",{className:"flex flex-col items-center justify-center bg-primary-100 p-2 px-3 rounded",children:[Object(T.jsx)("div",{className:"truncate text-sm text-primary-700",children:"Total required trainees"}),Object(T.jsx)("div",{className:"font-bold text-xl text-primary-700",children:Object(y.i)(this.GetTotalRequired())})]})})]}),Object(T.jsxs)("div",{className:"flex flex-row items-center gap-2 justify-between w-full",children:[Object(T.jsxs)("div",{className:"relative w-full rounded bg-primary-100 -mt-3 text-primary-700 cursor-pointer hover:bg-primary-100",children:[Object(T.jsxs)("div",{onClick:function(){return e.setState({openSelectTrainingProvider:!e.state.openSelectTrainingProvider})},className:"flex flex-row items-center justify-between gap-2 w-full py-2 px-3",children:[Object(T.jsx)("div",{className:"font-bold",children:null!==this.state.selected_training_provider_id?this.state.selected_training_provider_id.training_provider_name:Object(T.jsx)("span",{className:"text-primary-800",children:"Filter by training provider"})}),Object(T.jsx)("div",{children:!1===this.state.openSelectTrainingProvider?Object(T.jsx)(j.b,{className:"text-2xl"}):Object(T.jsx)(x.m,{className:"text-2xl text-yellow-700"})})]}),!0===this.state.openSelectTrainingProvider&&Object(T.jsx)("div",{className:"absolute pt-2 animate__animated animate__zoomIn animate__faster text-black",children:Object(T.jsx)(C.a,{loading:this.state.loading,id:"training_provider_id",title:"training_provider_name",close:function(){return e.setState({openSelectTrainingProvider:!1})},data:this.GetTrainingProviders(),click:function(t){e.setState({selected_training_provider_id:t,openSelectTrainingProvider:!1})}})})]}),null!==this.state.selected_training_provider_id&&Object(T.jsx)("div",{title:"Reset",className:"py-1 px-2 border border-accent-500 text-yellow-600 h-11 bg-accent-400 rounded-md -mt-3 hover:bg-accent-500 cursor-pointer flex items-center justify-center animate__animated animate__zoomIn animate__faster",onClick:function(){return e.setState({selected_training_provider_id:null})},children:Object(T.jsx)(q.d,{className:"text-3xl"})}),Object(T.jsxs)("div",{className:"relative w-full mb-3",children:[Object(T.jsx)("div",{className:"absolute px-3 py-2",children:Object(T.jsx)(u.e,{className:"text-2xl text-gray-600"})}),Object(T.jsx)("input",{type:"search",className:"font-normal bg-gray-100 w-full px-3 pl-12 py-2 rounded border border-gray-100",placeholder:"Search...",value:this.state.search_data,onChange:function(t){return e.setState({search_data:t.target.value})}})]})]}),0===this.props.trainings_list.length?Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"flex flex-col items-center justify-center bg-gray-100 rounded-md p-6",children:[Object(T.jsx)("div",{className:"mb-2",children:Object(T.jsx)(j.g,{className:"text-6xl text-gray-300 animate__animated animate__shakeX"})}),Object(T.jsx)("div",{className:"text-xl font-bold",children:"No trainings available"}),Object(T.jsx)("div",{className:"text-sm",children:"No trainings available for the selected district to be approved"})]})}):Object(T.jsx)("div",{children:Object(T.jsxs)("table",{className:"w-full text-sm text-left",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"#"}),Object(T.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"Training title"}),Object(T.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"Training provider"}),Object(T.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"Topic"}),Object(T.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"Start date"}),Object(T.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"End date"}),Object(T.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"Total required"}),Object(T.jsx)("th",{className:"px-3 py-2 border border-gray-300"})]})}),Object(T.jsx)("tbody",{children:this.ReturnFilterTrainings().map((function(t,s){return Object(T.jsxs)("tr",{className:"cursor-pointer hover:bg-yellow-50 hover:text-accent-900 group",onClick:function(){return null!==e.props.selected_training&&e.props.selected_training.id===t.id?e.props.onGoBack():e.props.onSelected(t)},children:[Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:s+1}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:t.title}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:t.development_partner_name}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:t.topic_name}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:Object(y.a)(t.start_date)}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:Object(y.a)(t.end_date)}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:Object(y.i)(e.props.GetTotalRequiredTrainees(t.training_id.toString()))}),Object(T.jsx)("td",{className:"px-1 py-1 border border-gray-300 w-10",children:null!==e.props.selected_training&&e.props.selected_training.id===t.id?Object(T.jsx)("div",{className:"bg-white px-2 py-1 border wounded-md cursor-not-allowed rounded-md text-gray-500",children:"Selected"}):Object(T.jsxs)("div",{className:"px-2 py-1 rounded bg-accent-400 text-accent-900 text-sm flex flex-row items-center justify-center gap-2 w-max float-right group-hover:bg-accent-900 group-hover:text-white font-bold",children:[Object(T.jsx)("div",{children:"Select"}),Object(T.jsx)("div",{children:Object(T.jsx)(j.b,{className:"text-2xl"})})]})})]},s+1)}))})]})})]})}}]),s}(d.Component),k=s(403),I=s(28);function R(e){var t=Object(d.useState)(0),s=Object(I.a)(t,2),r=s[0],a=s[1];Object(d.useEffect)((function(){var t=setInterval((function(){r<e.value&&a((function(t){return t+(e.maxValue<=15?1:e.maxValue<=200?e.maxValue/80:e.maxValue/100)}))}),50);return function(){clearInterval(t)}}),[e,r]);var i=100*r/e.maxValue;return Object(T.jsxs)("div",{className:"flex flex-row items-center gap-1 w-full",children:[Object(T.jsx)("div",{className:"".concat(void 0===e.backgroundClass?"bg-white":e.backgroundClass," h-4 w-full rounded-full overflow-hidden"),children:Object(T.jsx)("div",{className:"".concat(0===e.value?"bg-red-600":i>=100&&e.maxValue<=e.value?"bg-green-500":i>=50?"bg-primary-600":i>=40?"bg-blue-300":i>=30?"bg-gray-400":"bg-accent-800"," h-full transition"),style:{width:"".concat(0===e.value?1:i,"%"),transition:"width 0.3s"}})}),Object(T.jsxs)("div",{className:"text-xs font-bold",children:[isNaN(i)?0:i===1/0?"":i>=100&&e.maxValue!==e.value?99:Math.ceil(i)>100?100:Math.ceil(i),"%"]})]})}var B=s(401),D=s.n(B),A=s(54),P=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).GetCohorts=function(){var e=[];if(n.props.selectedTrainingTotals.length>0){var t,s=Object(a.a)(n.props.selectedTrainingTotals);try{var i=function(){var s=t.value;void 0===e.find((function(e){return e.cohort_id===s.cohort_id}))&&(e=[].concat(Object(r.a)(e),Object(r.a)(s.cohort)))};for(s.s();!(t=s.n()).done;)i()}catch(c){s.e(c)}finally{s.f()}}return e},n.state={},n}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return Object(T.jsxs)("div",{className:"p-2 px-3",children:[Object(T.jsxs)("div",{className:"border-b pb-3 mb-2",children:[Object(T.jsxs)("div",{className:"font-bold text-primary-700 text-lg mb-2 flex flex-row items-center justify-between gap-2",children:[Object(T.jsx)("div",{children:"Training summary"}),Object(T.jsxs)("div",{className:"w-max px-2 rounded-full text-xs bg-accent-900 text-white",children:[Object(y.d)(new Date(this.props.selectedTraining.start_date),new Date(this.props.selectedTraining.end_date))," ","days"]})]}),Object(T.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(T.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(T.jsx)("div",{children:Object(T.jsx)(j.h,{className:"text-gray-300 text-2xl"})}),Object(T.jsxs)("div",{className:"text-sm font-bold",children:[Object(T.jsx)("div",{className:"text-xs text-gray-400 font-normal",children:"Start date"}),Object(T.jsx)("div",{children:Object(y.a)(this.props.selectedTraining.start_date)})]})]}),Object(T.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(T.jsx)("div",{children:Object(T.jsx)(j.h,{className:"text-gray-300 text-2xl"})}),Object(T.jsxs)("div",{className:"text-sm font-bold",children:[Object(T.jsx)("div",{className:"text-xs text-gray-400 font-normal",children:"Closing date"}),Object(T.jsx)("div",{children:Object(y.a)(this.props.selectedTraining.end_date)})]})]})]}),Object(T.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 mt-3",children:[Object(T.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:"h-7 w-7 rounded-full border border-gray-300 flex items-center justify-center",children:Object(T.jsx)(x.g,{className:"text-gray-300"})})}),Object(T.jsx)("div",{children:"Total cohorts"})]}),Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"w-max px-2 rounded-full text-xs bg-primary-700 text-white",children:[this.GetCohorts().length," cohort",this.GetCohorts().length>1?"s":""]})})]})]}),Object(T.jsx)("div",{className:"pt-2",children:0===this.GetCohorts().length?Object(T.jsx)(k.a,{title:"Training cohorts",description:"No cohorts available for this training"}):this.GetCohorts().map((function(t,s){return Object(T.jsxs)("div",{className:"".concat(e.props.selectedCohortId===t.cohort_id?"bg-accent-200 border-accent-800 animate__animated animate__fadeIn":"bg-gray-100 hover:bg-accent-200 border-gray-300 hover:border-accent-800 animate__animated animate__zoomIn"," rounded-lg p-3 px-4 cursor-pointer mb-3 border"),onClick:function(){return e.props.setSelectCohort(t.cohort_id)},children:[Object(T.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 w-full pb-3 mb-3 border-b border-gray-300",children:[Object(T.jsxs)("div",{className:"font-bold text-sm truncate",children:[Object(T.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Cohort name"}),Object(T.jsx)("div",{children:t.cohort_name})]}),Object(T.jsxs)("div",{className:"px-2 w-max bg-primary-700 text-white text-sm rounded-lg font-bold",children:[Object(y.i)(e.props.getTotalAssignedByCohort(t.cohort_id))," ","of"," ",Object(y.i)(e.props.getTotalRequestsByCohort(t.cohort_id))]})]}),Object(T.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(T.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(T.jsx)("div",{children:Object(T.jsx)(j.h,{className:"text-gray-400 text-2xl"})}),Object(T.jsxs)("div",{className:"text-sm font-bold",children:[Object(T.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Start date"}),Object(T.jsx)("div",{children:Object(y.a)(t.cohort_start_date)})]})]}),Object(T.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(T.jsx)("div",{children:Object(T.jsx)(j.h,{className:"text-gray-400 text-2xl"})}),Object(T.jsxs)("div",{className:"text-sm font-bold",children:[Object(T.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Closing date"}),Object(T.jsx)("div",{children:Object(y.a)(t.cohort_end_date)})]})]})]}),Object(T.jsx)("div",{className:"pt-3",children:Object(T.jsx)(R,{value:e.props.getTotalAssignedByCohort(t.cohort_id),maxValue:e.props.getTotalRequestsByCohort(t.cohort_id)})})]},s+1)}))}),Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"border border-primary-500 rounded-md py-4 pt-2",children:[Object(T.jsxs)("div",{className:"px-3",children:[Object(T.jsx)("div",{className:"font-bold text-black text-lg",children:"Schools & Districts"}),Object(T.jsx)("div",{className:"text-xs text-gray-500 -mt-1",children:"Schools/Districts submissions Rate"})]}),Object(T.jsx)(D.a,{options:{chart:{width:380,type:"pie"},labels:["Ongoing","Completed","Not started"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},series:[this.props.getTotalSchoolsInProgress(),this.props.getTotalSchoolsCompleted(),this.props.getTotalSchoolsNotStarted()],type:"pie"}),Object(T.jsxs)("div",{className:"flex flex-col items-center gap-3 px-3 mt-3",children:[Object(T.jsxs)("div",{className:"rounded-md border border-accent-600 bg-accent-200 p-2 w-full flex flex-row items-center gap-2",children:[Object(T.jsx)("div",{children:Object(T.jsx)(A.p,{className:"text-accent-600 text-5xl"})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"text-sm",children:"Total Pending"}),Object(T.jsx)("div",{className:"text-3xl font-bold text-accent-900",children:Object(y.i)(this.props.getTotalSchoolsNotStarted())})]})]}),Object(T.jsxs)("div",{className:"rounded-md border bg-primary-100 border-primary-500 p-2 w-full flex flex-row items-center gap-2",children:[Object(T.jsx)("div",{children:Object(T.jsx)(h.nb,{className:"text-primary-500 text-5xl"})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"text-sm",children:"In Progress"}),Object(T.jsx)("div",{className:"text-3xl font-bold text-primary-700",children:Object(y.i)(this.props.getTotalSchoolsInProgress())})]})]}),Object(T.jsxs)("div",{className:"rounded-md border border-green-400 bg-green-50 p-2 w-full flex flex-row items-center gap-2",children:[Object(T.jsx)("div",{className:"px-1 pl-2",children:Object(T.jsx)(j.j,{className:"text-green-400 text-4xl"})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"text-sm",children:"Completed"}),Object(T.jsx)("div",{className:"text-3xl font-bold text-green-500",children:Object(y.i)(this.props.getTotalSchoolsCompleted())})]})]})]})]})})]})}}]),s}(d.Component),F=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).FilteredData=function(){return null===r.props.districts?[]:Object(y.u)(r.props.districts,r.state.searchData)},r.state={searchData:""},r}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return null===this.props.districts?Object(T.jsx)("div",{className:"p-4",children:Object(T.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 py-8 border rounded-lg",children:[Object(T.jsx)(f.a,{}),Object(T.jsx)("div",{className:"text-xl text-gray-600 font-light animate__animated animate__fadeIn animate__infinite mt-2",children:"Loading districts, please wait..."})]})}):Object(T.jsxs)("div",{className:"p-3 animate__animated animate__fadeIn animate__fast",children:[Object(T.jsx)("div",{className:"font-bold mb-2 text-lg",children:"Choose District"}),Object(T.jsxs)("div",{className:"relative w-full",children:[Object(T.jsx)("div",{className:"absolute px-3 py-3",children:Object(T.jsx)(u.e,{className:"text-xl text-gray-600"})}),Object(T.jsx)("input",{type:"search",className:"font-normal bg-gray-100 w-full px-3 pl-12 py-2 h-11 rounded-md border-2 border-gray-100",placeholder:"Search...",value:this.state.searchData,onChange:function(t){return e.setState({searchData:t.target.value})}})]}),Object(T.jsx)("div",{className:"mt-3",children:0===this.props.districts.length?Object(T.jsx)("div",{children:Object(T.jsx)(k.a,{title:"No districts found",description:"No list of districts found, please try again"})}):0===this.FilteredData().length?Object(T.jsx)(k.a,{}):Object(T.jsx)("div",{className:"grid grid-cols-12 gap-3",children:this.FilteredData().map((function(t,s){var r,a;return Object(T.jsxs)("div",{className:"col-span-12 md:col-span-".concat(12!==e.props.colSpan?"6":"12"," lg:col-span-").concat(e.props.colSpan," flex flow-row items-center justify-between gap-2 p-2 pl-4 rounded-md hover:bg-accent-400 cursor-pointer ").concat((null===(r=e.props.selectedDistrict)||void 0===r?void 0:r.district_code)===t.district_code?"bg-accent-400 text-accent-900 animate__animated animate__bounceIn":"border hover:border-white animate__animated animate__fadeIn animate__slow"),onClick:function(){return e.props.onSelectDistrict(t)},children:[Object(T.jsx)("div",{children:t.district_name}),(null===(a=e.props.selectedDistrict)||void 0===a?void 0:a.district_code)===t.district_code?Object(T.jsx)("div",{children:Object(T.jsx)(j.i,{className:"text-accent-900 text-xl"})}):""]},s+1)}))})})]})}}]),s}(d.Component),L=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).LoadTotalTrainingAssignedTrainees=function(e){n.setState({loading:!0}),Object(g.b)(e,(function(e,t){n.setState({loading:e}),null!==t&&"success"===t.type&&null!==t.data&&n.setState({loading:!1,selected_training_assigned_totals:t.data}),null!==t&&"error"===t.type&&n.setState({loading:!1,selected_training_assigned_totals:[],error:t.msg})}))},n.GetDistrictsList=function(){n.setState({loading:!0}),Object(m.L)((function(e,t,s){!0===e&&n.setState({loading:!1,districts_list:t.map((function(e){return{district_code:e.district_code,district_name:e.district_name,province_code:""}})),error:""})}))},n.FC_GetTrainingsListToBeApproved=function(e){Object(g.c)(e.district_code,(function(e,t){n.setState({loading:e}),null!==t&&"success"===t.type&&null!==t.data&&n.setState({trainings_list:null!==n.props.auth.stakeholder?t.data.filter((function(e){var t;return e.development_partner_id.toString()===(null===(t=n.props.auth.stakeholder)||void 0===t?void 0:t.development_partner_id.toString())})):t.data,loading:!1,chooseTrainingProvider:!0}),null!==t&&"error"===t.type&&n.setState({trainings_list:[],loading:!1,error:t.msg})}))},n.FC_GetTrainingsList=function(){if(null!==n.state.trainings_list){var e,t=[],s=Object(a.a)(n.state.trainings_list);try{var i=function(){var s=e.value;void 0===t.find((function(e){return e.training_id.toString()===s.training_id.toString()}))&&(t=[].concat(Object(r.a)(t),[{description:s.description,development_partner_id:s.development_partner_id,development_partner_name:s.development_partner_name,end_date:s.end_date,id:s.id,implementation_status:s.implementation_status,intervantion_area:s.intervantion_area,intervation_id:s.intervation_id,start_date:s.start_date,sub_area_id:s.sub_area_id,subarea_name:s.subarea_name,title:s.title,topic_id:s.topic_id,topic_name:s.topic_name,training_id:s.training_id}]))};for(s.s();!(e=s.n()).done;)i()}catch(c){s.e(c)}finally{s.f()}return t}return[]},n.FC_GetTrainingSchools=function(){if(null===n.state.selected_training||null===n.state.trainings_list)return[];var e=[];if(null!==n.state.selected_training){var t,s=Object(a.a)(n.state.trainings_list.filter((function(e){return null!==n.state.selected_training&&e.training_id.toString()===n.state.selected_training.training_id.toString()})));try{for(s.s();!(t=s.n()).done;){var r=t.value;e.push({request_id:r.id.toString(),school_code:null===r.school_code?"":r.school_code.toString(),school_name:null===r.school_name?"":r.school_name,total:null===r.total?0:r.total,is_approved:r.is_approved,cohort_id:r.cohort_id})}}catch(i){s.e(i)}finally{s.f()}}return""!==n.state.selectedCohortId?e.filter((function(e){return e.cohort_id===n.state.selectedCohortId})):e},n.GetTotalRequiredTrainees=function(){var e,t=0,s=Object(a.a)(n.FC_GetTrainingSchools());try{for(s.s();!(e=s.n()).done;){t+=e.value.total}}catch(r){s.e(r)}finally{s.f()}return t},n.GetTotalRequiredByRequestId=function(e){var t,s=0,r=Object(a.a)(n.FC_GetTrainingSchools().filter((function(t){return t.request_id.toString()===e.toString()})));try{for(r.s();!(t=r.n()).done;){s+=t.value.total}}catch(i){r.e(i)}finally{r.f()}return s},n.GetTotalSchools=function(){return n.FC_GetTrainingSchools().filter((function(e){return e.school_code.length>0})).length},n.GetTotalDistricts=function(){return n.FC_GetTrainingSchools().filter((function(e){return 0===e.school_code.length})).length},n.GetTotalAssignedByRequestId=function(e){if(null!==n.state.selected_training_assigned_totals){var t=n.state.selected_training_assigned_totals.find((function(t){return t.trainee_request_id.toString()===e.toString()}));if(void 0!==t)return t.total}return 0},n.GetTotalAssignedTrainees=function(){var e,t,s=0,r=Object(a.a)((null!==(e=n.state.selected_training_assigned_totals)&&void 0!==e?e:[]).filter((function(e){return n.FC_GetTrainingSchools().find((function(t){return t.request_id.toString()===e.trainee_request_id.toString()}))})));try{for(r.s();!(t=r.n()).done;){s+=t.value.total}}catch(i){r.e(i)}finally{r.f()}return s},n.getTotalSchoolsCompleted=function(){var e,t=0,s=Object(a.a)(n.FC_GetTrainingSchools());try{for(s.s();!(e=s.n()).done;){var r=e.value;n.GetTotalRequiredByRequestId(r.request_id)===n.GetTotalAssignedByRequestId(r.request_id)&&(t+=1)}}catch(i){s.e(i)}finally{s.f()}return t},n.getTotalSchoolsNotStarted=function(){var e,t=0,s=Object(a.a)(n.FC_GetTrainingSchools());try{for(s.s();!(e=s.n()).done;){var r=e.value;0===n.GetTotalAssignedByRequestId(r.request_id)&&(t+=1)}}catch(i){s.e(i)}finally{s.f()}return t},n.getTotalSchoolsInProgress=function(){var e,t=0,s=Object(a.a)(n.FC_GetTrainingSchools());try{for(s.s();!(e=s.n()).done;){var r=e.value;n.GetTotalAssignedByRequestId(r.request_id)>0&&n.GetTotalRequiredByRequestId(r.request_id)>n.GetTotalAssignedByRequestId(r.request_id)&&(t+=1)}}catch(i){s.e(i)}finally{s.f()}return t},n.FC_ApproveTrainingRequest=function(e){n.setState({approve_training_request:null,loading:!0}),Object(g.a)({is_approved:1===e.is_approved,training_request_id:e.request_id},(function(t,s){if(n.setState({loading:t}),null!==s&&"success"===s.type){if(null!==n.state.trainings_list){var r,i=[],c=Object(a.a)(n.state.trainings_list);try{for(c.s();!(r=c.n()).done;){var l=r.value;l.id.toString()===e.request_id.toString()?i.push({description:l.description,development_partner_id:l.development_partner_id,development_partner_name:l.development_partner_name,end_date:l.end_date,id:l.id,implementation_status:l.implementation_status,intervantion_area:l.intervantion_area,intervation_id:l.intervation_id,is_approved:1===l.is_approved?0:1,school_code:l.school_code,school_name:l.school_name,start_date:l.start_date,sub_area_id:l.sub_area_id,subarea_name:l.subarea_name,title:l.title,topic_id:l.topic_id,topic_name:l.topic_name,total:l.total,training_id:l.training_id,cohort_id:l.cohort_id}):i.push(l)}}catch(d){c.e(d)}finally{c.f()}n.setState({selected_status:0===i.filter((function(e){return 0===e.is_approved})).length?1:0,trainings_list:i})}n.setState({success:s.msg,error:"",loading:!1})}null!==s&&"error"===s.type&&n.setState({success:"",error:s.msg,loading:!1})}))},n.getTotalRequestsByCohort=function(e){var t=0;if(null!==n.state.selected_training_assigned_totals){var s,r=Object(a.a)(n.FC_GetTrainingSchools().filter((function(t){return t.cohort_id.toString()===e.toString()})));try{for(r.s();!(s=r.n()).done;){t+=s.value.total}}catch(i){r.e(i)}finally{r.f()}}return t},n.getTotalAssignedByCohort=function(e){var t=0;if(null!==n.state.selected_training_assigned_totals){var s,r=Object(a.a)(n.state.selected_training_assigned_totals.filter((function(t){return t.cohort_id.toString()===e.toString()})));try{for(r.s();!(s=r.n()).done;){var i=s.value;t+=n.GetTotalRequiredByRequestId(i.trainee_request_id)}}catch(c){r.e(c)}finally{r.f()}}return t},n.state={loading:!1,error:"",districts_list:null,selected_district:n.props.auth.district,chooseTrainingProvider:!1,trainings_list:null,selected_training:null,selected_training_assigned_totals:null,search_data:"",selected_training_request:null,selected_status:null,approve_training_request:null,success:"",selectedCohortId:"",openSelectDistrict:!1},n}return Object(n.a)(s,[{key:"componentDidMount",value:function(){this.GetDistrictsList(),null===this.state.selected_district&&this.setState({openSelectDistrict:!0}),null===this.state.trainings_list&&null!==this.state.selected_district&&this.FC_GetTrainingsListToBeApproved(this.state.selected_district)}},{key:"render",value:function(){var e=this;return!0===this.state.openSelectDistrict||null!==this.state.trainings_list&&0===this.state.trainings_list.length?Object(T.jsx)("div",{className:"container mx-auto p-3 relative h-full",children:Object(T.jsx)("div",{className:"h-full w-full bg-white rounded-md",children:Object(T.jsx)(F,{districts:this.state.districts_list,selectedDistrict:this.state.selected_district,colSpan:3,onSelectDistrict:function(t){e.setState({selected_district:t,openSelectDistrict:!1}),e.FC_GetTrainingsListToBeApproved(t)}})})}):Object(T.jsxs)("div",{className:"container mx-auto p-3 relative h-full",children:[Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:"bg-white rounded p-2",children:Object(T.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between gap-2 w-full",children:[Object(T.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full lg:w-1/2",children:[Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:"h-14 w-14 rounded-md bg-accent-400 text-accent-900 flex items-center justify-center",children:Object(T.jsx)(h.bb,{className:"text-5xl"})})}),Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("span",{className:"text-xl font-bold",children:"Training participants"}),Object(T.jsx)("span",{className:"text-sm text-gray-500",children:"View list of selected participants for the training"})]})]}),Object(T.jsx)("div",{className:"w-full lg:w-1/2",children:Object(T.jsxs)("div",{onClick:function(){return!1===e.state.loading&&e.setState({chooseTrainingProvider:!e.state.chooseTrainingProvider,selectedCohortId:""})},className:"".concat(null!==this.state.selected_training?"bg-accent-400 border-accent-500":"bg-gray-100 border-white"," hover:bg-accent-400 border  hover:border-accent-500 w-full pl-3 py-1 pr-1 rounded flex flex-row items-center justify-between gap-20 group cursor-pointer animate__animated animate__fadeIn"),children:[null!==this.state.selected_training?Object(T.jsx)("div",{className:"flex flex-row items-center gap-2",children:Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("span",{className:"text-black text-sm",children:"Selected training"}),Object(T.jsx)("div",{className:"font-bold text-yellow-700",children:this.state.selected_training.title})]})}):Object(T.jsx)("div",{className:"text-lg font-normal pl-2 text-gray-500",children:"No training selected!"}),Object(T.jsx)("div",{className:"",children:Object(T.jsx)("div",{className:"bg-white group-hover:bg-accent-900 group-hover:text-white rounded p-1 flex items-center justify-center",children:Object(T.jsx)(b.h,{className:"text-4xl text-accent-900 group-hover:text-white"})})})]})})]})})}),Object(T.jsxs)("div",{className:"h-full",children:[""!==this.state.error&&Object(T.jsxs)("div",{onClick:function(){return e.setState({error:"",success:""})},className:"bg-red-50 text-red-700 font-bold px-3 py-2 my-3",children:[Object(T.jsx)("div",{children:"Error occurred!"}),Object(T.jsx)("div",{className:"font-normal",children:this.state.error})]}),""!==this.state.success&&Object(T.jsxs)("div",{onClick:function(){return e.setState({success:"",error:""})},className:"bg-green-50 text-green-700 font-bold px-3 py-2 my-3 animate__animated animate__zoomIn rounded-md border-2 border-white",children:[Object(T.jsx)("div",{children:"Action succeeded!"}),Object(T.jsx)("div",{className:"font-normal",children:this.state.success})]}),!1===this.state.loading?null===this.state.selected_training?Object(T.jsx)("div",{children:null!==this.state.selected_district&&null!==this.state.trainings_list&&this.state.trainings_list.length>0?Object(T.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white rounded-md p-6 mt-3",children:[Object(T.jsx)("div",{className:"mb-2",children:Object(T.jsx)(x.d,{className:"text-6xl text-gray-300 animate__animated animate__shakeX"})}),Object(T.jsx)("div",{className:"text-xl font-bold",children:"Select training"}),Object(T.jsx)("div",{className:"text-sm",children:"No training selected, click to select training"}),Object(T.jsx)(_.a,{onClick:function(){return!1===e.state.loading&&e.setState({chooseTrainingProvider:!e.state.chooseTrainingProvider})},className:"mt-3",children:"Select training"})]}):Object(T.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white rounded-md p-6 mt-3",children:[Object(T.jsx)("div",{className:"mb-2",children:Object(T.jsx)(x.d,{className:"text-6xl text-gray-300 animate__animated animate__shakeX"})}),Object(T.jsx)("div",{className:"text-xl font-bold",children:"No district selected"}),Object(T.jsx)("div",{className:"text-sm",children:"Please click the following district to view trainings available"}),Object(T.jsx)(_.a,{onClick:function(){return!1===e.state.loading&&e.setState({openSelectDistrict:!0})},className:"mt-3",children:"Select district"})]})}):Object(T.jsxs)("div",{className:"grid grid-cols-12 gap-3",children:[Object(T.jsx)("div",{className:"col-span-12 md:col-span-8",children:Object(T.jsxs)("div",{className:"bg-white rounded my-2 p-2 h-full animate__animated animate__fadeIn",children:[Object(T.jsxs)("div",{className:"mb-3 flex flex-col lg:flex-row items-center justify-between gap-2",children:[Object(T.jsx)("div",{className:"flex flex-row items-center justify-start gap-2 h-full w-full",children:Object(T.jsxs)("div",{className:"rounded-md bg-white p-4 py-1 flex flex-row justify-center items-center gap-2 border border-gray-300",children:[Object(T.jsxs)("div",{className:"pr-4",children:[Object(T.jsx)("div",{className:"text-sm text-gray-500",children:"Districts"}),Object(T.jsx)("div",{className:"font-bold text-xl",children:Object(y.i)(this.GetTotalDistricts())})]}),Object(T.jsxs)("div",{className:"pr-4",children:[Object(T.jsx)("div",{className:"text-sm text-gray-500",children:"Schools"}),Object(T.jsx)("div",{className:"font-bold text-xl",children:Object(y.i)(this.GetTotalSchools())})]}),Object(T.jsxs)("div",{className:"",children:[Object(T.jsx)("div",{className:"text-sm text-gray-500",children:"Trainees"}),Object(T.jsx)("div",{className:"font-bold text-xl",children:Object(y.i)(this.GetTotalRequiredTrainees())})]})]})}),Object(T.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 w-full",children:[Object(T.jsxs)("div",{className:"rounded-md bg-green-50 text-green-700 p-1 px-5 flex flex-col justify-center border border-green-300",style:{borderColor:"#afd9cc"},children:[Object(T.jsx)("div",{className:"text-sm",children:"Assigned trainees"}),Object(T.jsx)("div",{className:"font-bold text-xl",children:Object(y.i)(this.GetTotalAssignedTrainees())})]}),Object(T.jsxs)("div",{className:"rounded-md bg-red-50 text-red-700 p-1 px-5 flex flex-col justify-center border border-red-300",children:[Object(T.jsx)("div",{className:"text-sm",children:"Not assigned trainees"}),Object(T.jsx)("div",{className:"font-bold text-xl",children:Object(y.i)(this.GetTotalRequiredTrainees()-this.GetTotalAssignedTrainees())})]})]})]}),Object(T.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full mb-3",children:[Object(T.jsx)("div",{className:"relative w-1/3",children:Object(T.jsxs)("div",{onClick:function(){return null===e.props.auth.district&&e.setState({openSelectDistrict:!0})},className:"w-full flex items-center justify-between gap-2 p-2 font-bold rounded-md bg-white border border-accent-600 hover:bg-accent-200 cursor-pointer",children:[Object(T.jsx)("div",{className:"truncate",children:null!==this.state.selected_district?"".concat(this.state.selected_district.district_code," - ").concat(this.state.selected_district.district_name):Object(T.jsx)("span",{className:"italic font-light",children:"Click to choose district"})}),Object(T.jsx)("div",{children:Object(T.jsx)(A.a,{className:"text-gray-400"})})]})}),Object(T.jsxs)("div",{className:"relative w-2/3",children:[Object(T.jsx)("div",{className:"absolute px-3 py-3",children:Object(T.jsx)(u.e,{className:"text-xl text-gray-600"})}),Object(T.jsx)("input",{type:"search",className:"font-normal bg-gray-100 w-full px-3 pl-12 py-2 h-11 rounded-md border-2 border-gray-100",placeholder:"Search...",value:this.state.search_data,onChange:function(t){return e.setState({search_data:t.target.value})}})]})]}),Object(T.jsx)("div",{className:"text-xl font-light",children:Object(T.jsxs)("table",{className:"w-full text-left text-sm",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{className:"border-b border-gray-300",children:[Object(T.jsx)("th",{className:"px-3 py-3 border border-gray-300",children:"#"}),Object(T.jsx)("th",{className:"px-3 py-3 border border-gray-300",children:"School/District code"}),Object(T.jsx)("th",{className:"px-3 py-3 border border-gray-300",children:"School/District name"}),Object(T.jsx)("th",{className:"px-3 py-3 border border-gray-300",children:"Requests"}),Object(T.jsx)("th",{className:"px-3 py-3 border border-gray-300",children:"Assigned"}),Object(T.jsx)("th",{className:"px-3 py-3 border border-gray-300",children:"Remaining"})]})}),Object(T.jsx)("tbody",{children:0===Object(y.u)(this.FC_GetTrainingSchools().filter((function(t){return null===e.state.selected_status||t.is_approved===e.state.selected_status})),this.state.search_data).length?Object(T.jsx)("tr",{children:Object(T.jsx)("td",{colSpan:6,className:"py-3 text-center text-xl font-light",children:"No result found!"})}):Object(y.u)(this.FC_GetTrainingSchools().filter((function(t){return null===e.state.selected_status||t.is_approved===e.state.selected_status})),this.state.search_data).map((function(t,s){var r,a;return Object(T.jsxs)("tr",{onClick:function(){return e.setState({selected_training_request:t})},className:"".concat(0===e.GetTotalAssignedByRequestId(t.request_id)&&e.GetTotalAssignedTrainees()>0?"text-yellow-700 font-bold bg-accent-200":"hover:bg-primary-50 hover:text-primary-800"," cursor-pointer"),title:"Click to view participants",children:[Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:s+1}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:""===t.school_code?null===(r=e.state.selected_district)||void 0===r?void 0:r.district_code:t.school_code}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:""===t.school_name?null===(a=e.state.selected_district)||void 0===a?void 0:a.district_name:t.school_name}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300 text-center",children:Object(y.i)(e.GetTotalRequiredByRequestId(t.request_id))}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300 text-center",children:Object(y.i)(e.GetTotalAssignedByRequestId(t.request_id))}),Object(T.jsx)("td",{className:"px-3 py-2 border border-gray-300 w-10 font-bold",children:Object(T.jsx)("div",{className:"flex flex-row items-center justify-center gap-2",children:0===e.GetTotalAssignedByRequestId(t.request_id)?Object(T.jsx)("div",{title:"No any participant assigned",className:"animate__animated animate__fadeIn animate__slower animate__infinite",children:Object(T.jsx)(A.d,{className:"text-2xl text-yellow-600"})}):e.GetTotalRequiredByRequestId(t.request_id)-e.GetTotalAssignedByRequestId(t.request_id)>0?Object(T.jsx)("div",{children:Object(y.i)(e.GetTotalRequiredByRequestId(t.request_id)-e.GetTotalAssignedByRequestId(t.request_id))}):Object(T.jsx)("div",{children:Object(T.jsx)(j.j,{className:"text-xl text-green-600"})})})})]},s+1)}))})]})})]})}),Object(T.jsx)("div",{className:"col-span-12 md:col-span-4",children:Object(T.jsx)("div",{className:"bg-white rounded my-2 p-2 h-full animate__animated animate__fadeIn",children:null!==this.state.selected_training_assigned_totals&&Object(T.jsx)(P,{training_requests:this.FC_GetTrainingSchools(),selectedTraining:this.state.selected_training,selectedTrainingTotals:this.state.selected_training_assigned_totals,getTotalRequestsByCohort:this.getTotalRequestsByCohort,getTotalAssignedByCohort:this.getTotalAssignedByCohort,openSelect:this.state.chooseTrainingProvider,setSelectCohort:function(t){return e.setState({selectedCohortId:t===e.state.selectedCohortId?"":t})},selectedCohortId:this.state.selectedCohortId,getTotalSchoolsCompleted:this.getTotalSchoolsCompleted,getTotalSchoolsNotStarted:this.getTotalSchoolsNotStarted,getTotalSchoolsInProgress:this.getTotalSchoolsInProgress})})})]}):Object(T.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-white rounded my-4",children:[Object(T.jsx)(f.a,{}),Object(T.jsx)("div",{className:"text-center font-light text-lg",children:"Loading, please wait..."})]})]}),!0===this.state.chooseTrainingProvider&&null!==this.state.trainings_list&&Object(T.jsx)(O.a,{className:"p-3 px-4",children:Object(T.jsx)(G,{onGoBack:function(){return e.setState({chooseTrainingProvider:!1})},trainings_list:this.FC_GetTrainingsList(),selected_training:this.state.selected_training,onSelected:function(t){e.setState({chooseTrainingProvider:!1,selected_training:t}),e.LoadTotalTrainingAssignedTrainees(t.training_id)},GetTotalRequiredTrainees:this.GetTotalRequiredTrainees,GetTotalRequiredByRequestId:this.GetTotalRequiredByRequestId})}),null!==this.state.selected_training&&null!==this.state.selected_training_request&&Object(T.jsx)(O.a,{className:"p-3 px-4",children:Object(T.jsx)(S,{selected_district_code:null===this.props.auth.district?null:this.props.auth.district,training_id:this.state.selected_training.training_id,selected_training_request:this.state.selected_training_request,onGoBack:function(){return e.setState({selected_training_request:null})},GetTotalRequiredByRequestId:this.GetTotalRequiredByRequestId,onSubmitApproval:function(t){null!==e.state.selected_training_request&&e.setState({approve_training_request:{is_approved:1,request_id:e.state.selected_training_request.request_id,school_code:e.state.selected_training_request.school_code,school_name:e.state.selected_training_request.school_name,total:e.state.selected_training_request.total},selected_training_request:null})}})}),null!==this.state.approve_training_request&&Object(T.jsx)(v.d,{backDrop:!0,close:function(){return e.setState({approve_training_request:null})},backDropClose:!0,displayClose:!1,widthSizeClass:v.b.large,padding:{title:void 0,body:!0,footer:void 0},children:Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"text-2xl font-bold pb-3 mb-3 ".concat(1===this.state.approve_training_request.is_approved?"text-green-700":"text-accent-900"," flex flex-row items-center gap-3"),children:[Object(T.jsx)("div",{children:1===this.state.approve_training_request.is_approved?Object(T.jsx)(j.y,{className:"text-3xl"}):Object(T.jsx)(o.g,{className:"text-3xl"})}),Object(T.jsx)("span",{children:1===this.state.approve_training_request.is_approved?"Training trainees approval":"Undo training approval"})]}),Object(T.jsxs)("div",{className:"",children:[Object(T.jsx)("div",{children:"School/District name"}),Object(T.jsxs)("div",{className:"font-bold text-lg",children:[this.state.approve_training_request.school_code," -"," ",this.state.approve_training_request.school_name]})]}),Object(T.jsxs)("div",{className:"rounded-md my-3 flex flex-row items-center justify-between gap-3",children:[Object(T.jsxs)("div",{className:"rounded-md p-1 flex flex-row items-center gap-3 border border-accent-600 w-full bg-accent-40 animate__animated animate__fadeIn",children:[Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:"h-14 w-14 rounded-md bg-accent-400 flex items-center justify-center text-accent-900",children:Object(T.jsx)(x.q,{className:"text-4xl"})})}),Object(T.jsxs)("div",{className:"flex flex-col ",children:[Object(T.jsx)("span",{className:"",children:"Total required trainees"}),Object(T.jsx)("span",{className:"font-bold text-2xl text-accent-900",children:Object(y.i)(this.state.approve_training_request.total)})]})]}),Object(T.jsxs)("div",{className:"rounded-md p-1 flex flex-row items-center gap-3 border w-full bg-accent-40 group animate__animated animate__fadeIn",style:{borderColor:"#afd9cc"},children:[Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:"h-14 w-14 rounded-md bg-green-100 flex items-center justify-center text-green-600",children:Object(T.jsx)(x.d,{className:"text-4xl"})})}),Object(T.jsxs)("div",{className:"flex flex-col w-full",children:[Object(T.jsx)("span",{className:"",children:"Total Assigned trainees"}),Object(T.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 w-full",children:[Object(T.jsx)("span",{className:"font-bold text-2xl text-green-600",children:Object(y.i)(this.GetTotalAssignedByRequestId(this.state.approve_training_request.request_id))}),Object(T.jsx)("div",{onClick:function(){null!==e.state.approve_training_request&&e.setState({selected_training_request:{is_approved:1===e.state.approve_training_request.is_approved?0:1,request_id:e.state.approve_training_request.request_id,school_code:e.state.approve_training_request.school_code,school_name:e.state.approve_training_request.school_name,total:e.state.approve_training_request.total},approve_training_request:null})},className:"cursor-pointer px-2 py-1 rounded text-sm bg-gray-100 font-bold w-max float-right group-hover:bg-accent-400 group-hover:text-accent-900",children:"View trainees"})]})]})]})]}),Object(T.jsx)("div",{className:"font-light",children:Object(T.jsx)("div",{children:"Are you sure do you want to confirm?"})}),Object(T.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2",children:[Object(T.jsx)(_.a,{onClick:function(){return e.setState({approve_training_request:null})},theme:"default",children:"Cancel"}),Object(T.jsx)(_.a,{onClick:function(){null!==e.state.approve_training_request&&e.FC_ApproveTrainingRequest(e.state.approve_training_request)},theme:1===this.state.approve_training_request.is_approved?"success":"accent",className:"animate__animated animate__zoomIn",children:1===this.state.approve_training_request.is_approved?"Approve training trainees":"Undo training approval"})]})]})})]})}}]),s}(d.Component),V=Object(p.b)((function(e){return{basic:e.basic,auth:e.auth}}),{})(L)}}]);
//# sourceMappingURL=32.2253eb4f.chunk.js.map