{"version":3,"sources":["containers/SwappingTwoTeachers/SwappingResultItem.tsx","containers/SwappingTwoTeachers/SwappingTwoTeachers.tsx"],"names":["SwappingResultItem","data","className","nid","full_name","school_code","school_name","position_code","position_name","qualification_name","role","district_name","ErrorDefault","target","msg","_SwappingTwoTeachers","props","searchTeachers","e","preventDefault","auth","district","district_code","setState","error","district_id","state","nid_1","length","nid_2","search_loading","FC_SearchTeachersNID","nid_one","nid_two","status","console","log","validateSwapping","results_success","success","teacher_one","teacher_two","qualification_id","role_id","submitTeachersSwapping","basic","academic_calender","academic_year_id","window","confirm","swap_loading","FC_SendSubmitSwappingData","school_one","school_two","user_one","user_id","user_two","data_res","DashboardContainer","Heading","this","onSubmit","TextInput","onChange","value","label","placeholder","name","disabled","type","Button","size","loading","theme","onClick","Alert","React","Component","SwappingTwoTeachers","connect"],"mappings":"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","file":"static/js/59.95c80792.chunk.js","sourcesContent":["// SwappingResultItem.tsx\nimport React, { FC, ReactElement } from \"react\";\nimport { FaSchool } from \"react-icons/fa\";\nimport { MdAccountBox } from \"react-icons/md\";\nimport { UserSwapping } from \"../../actions\";\n\ntype SwappingResultItemProps = {\n  data: UserSwapping;\n};\n\nconst SwappingResultItem: FC<SwappingResultItemProps> = ({\n  data,\n}): ReactElement => {\n  return (\n    <div className=\"p-2 border rounded\">\n      <div className=\"flex\">\n        <div className=\"pr-2 text-5xl text-accent-900 opacity-50\">\n          <MdAccountBox />\n        </div>\n        <div className=\"flex-1\">\n          <div className=\"border-b border-gray-100 p-1\">\n            <label className=\" text-gray-500 mb-0\">National ID: </label>\n            <b className=\" text-lg \">{data.nid}</b>\n          </div>\n          <div className=\"border-b border-gray-100 p-1\">\n            <label className=\" text-gray-500 mb-0\">Full name: </label>\n            <b className=\"\">{data.full_name}</b>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex pt-3 border-t\">\n        <div className=\"lg:pr-2 text-5xl text-accent-900 opacity-50\">\n          <FaSchool />\n        </div>\n        <div className=\"flex-1\">\n          <div className=\"border-b border-gray-100 p-1\">\n            <label className=\" text-gray-500 mb-0\">School code: </label>\n            <b className=\"\">{data.school_code}</b>\n          </div>\n          <div className=\"border-b border-gray-100 p-1\">\n            <label className=\" text-gray-500 mb-0\">School name: </label>\n            <b className=\"\">{data.school_name}</b>\n          </div>\n          <div className=\"border-b border-gray-100 p-1\">\n            <label className=\" text-gray-500 mb-0\">Position code: </label>\n            <b className=\"\">{data.position_code}</b>\n          </div>\n          <div className=\"border-b border-gray-100 p-1\">\n            <label className=\" text-gray-500 mb-0\">Position: </label>\n            <b className=\"\">{data.position_name}</b>\n          </div>\n          <div className=\"border-b border-gray-100 p-1\">\n            <label className=\" text-gray-500 mb-0\">Qualification: </label>\n            <b className=\"\">{data.qualification_name}</b>\n          </div>\n          <div className=\"border-b border-gray-100 p-1\">\n            <label className=\" text-gray-500 mb-0\">Role: </label>\n            <b className=\"\">{data.role}</b>\n          </div>\n\n          <div className=\"border-b border-gray-100 p-1 mt-4\">\n            <label className=\" text-gray-500 mb-0\">District: </label>\n            <b className=\"\">{data.district_name}</b>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default SwappingResultItem;\n","import React from \"react\";\nimport { MdArrowRightAlt } from \"react-icons/md\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  Basic,\n  FC_SearchTeachersNID,\n  FC_SendSubmitSwappingData,\n  RES_UserSwapping,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\nimport Button from \"../../components/Buttons/Button\";\nimport DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport Heading from \"../../components/Heading/Heading\";\nimport TextInput from \"../../components/Inputs/TextInput\";\nimport { StoreState } from \"../../reducers\";\nimport SwappingResultItem from \"./SwappingResultItem\";\n// import Alert, { AlertInterface } from \"../../components/Alert/Alert\";\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n  basic: Basic;\n}\n\ninterface ErrorType {\n  target:\n    | \"TEACHER-1\"\n    | \"TEACHER-2\"\n    | \"MAIN-ERROR\"\n    | \"MAIN-SUCCESS\"\n    | \"SEARCH-ERROR\"\n    | \"NID-INPUT-ERROR-1\"\n    | \"NID-INPUT-ERROR-2\"\n    | null;\n  msg: string;\n}\n\ninterface AppState {\n  search_loading: boolean;\n  swap_loading: boolean;\n  nid_1: string;\n  nid_2: string;\n  error: ErrorType;\n  data: RES_UserSwapping | null;\n  results_success: boolean;\n}\nconst ErrorDefault = {\n  target: null,\n  msg: \"\",\n};\nclass _SwappingTwoTeachers extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      error: ErrorDefault,\n      nid_1: \"\",\n      nid_2: \"\",\n      search_loading: false,\n      data: null,\n      results_success: false,\n      swap_loading: false,\n    };\n  }\n\n  searchTeachers = (e: any) => {\n    e.preventDefault();\n\n    if (!this.props.auth.district?.district_code)\n      return this.setState({\n        error: {\n          target: \"MAIN-ERROR\",\n          msg: \"You have no district assigned to you\",\n        },\n      });\n\n    let district_id = this.props.auth.district.district_code;\n\n    // Validate NID 1\n    if (this.state.nid_1.length !== 16)\n      return this.setState({\n        error: {\n          target: \"NID-INPUT-ERROR-1\",\n          msg: \"NID must be 16 digits\",\n        },\n      });\n\n    if (this.state.nid_2.length !== 16)\n      return this.setState({\n        error: {\n          target: \"NID-INPUT-ERROR-2\",\n          msg: \"NID must be 16 digits\",\n        },\n      });\n\n    if (this.state.nid_1 === this.state.nid_2)\n      return this.setState({\n        error: {\n          target: \"NID-INPUT-ERROR-2\",\n          msg: \"Both NID can't be the same\",\n        },\n      });\n\n    this.setState({\n      search_loading: true,\n    });\n\n    FC_SearchTeachersNID(\n      {\n        district_code: district_id,\n        nid_one: this.state.nid_1,\n        nid_two: this.state.nid_2,\n      },\n      (status, data, msg) => {\n        console.log({ status, data, msg });\n\n        if (status === true) {\n          let error: { success: boolean; error: ErrorType } =\n            this.validateSwapping(data, district_id);\n\n          // console.log({ error });\n\n          this.setState({\n            search_loading: false,\n            data: data,\n            error: error.error,\n            results_success: error.success,\n          });\n        } else {\n          this.setState({\n            search_loading: false,\n            error: {\n              target: \"MAIN-ERROR\",\n              msg: `Error: ${msg}`,\n            },\n          });\n        }\n      }\n    );\n  };\n\n  validateSwapping = (\n    data: RES_UserSwapping | null,\n    district_code: string\n  ): { success: boolean; error: ErrorType } => {\n    if (data === null)\n      return {\n        success: false,\n        error: {\n          target: \"MAIN-ERROR\",\n          msg: \"Users are not exists\",\n        },\n      };\n\n    if (data.teacher_one === null && data.teacher_two === null)\n      return {\n        success: false,\n        error: {\n          target: \"MAIN-ERROR\",\n          msg: \"Both NID does not found in the system\",\n        },\n      };\n\n    if (data.teacher_one === null)\n      return {\n        success: false,\n        error: {\n          target: \"TEACHER-1\",\n          msg: `Nid: ${this.state.nid_1} does not found!`,\n        },\n      };\n\n    if (data.teacher_two === null)\n      return {\n        success: false,\n        error: {\n          target: \"TEACHER-2\",\n          msg: `Nid: ${this.state.nid_2} does not found!`,\n        },\n      };\n\n    // Check districts\n    if (data.teacher_two.district_code !== data.teacher_one.district_code)\n      return {\n        success: false,\n        error: {\n          target: \"SEARCH-ERROR\",\n          msg: `Teachers have different districts`,\n        },\n      };\n\n    if (data.teacher_two.district_code !== district_code)\n      return {\n        success: false,\n        error: {\n          target: \"SEARCH-ERROR\",\n          msg: `These teachers does not belong in your district`,\n        },\n      };\n\n    if (data.teacher_two.position_code !== data.teacher_one.position_code)\n      return {\n        success: false,\n        error: {\n          target: \"SEARCH-ERROR\",\n          msg: `Positions does not match.`,\n        },\n      };\n\n    if (data.teacher_two.qualification_id !== data.teacher_one.qualification_id)\n      return {\n        success: false,\n        error: {\n          target: \"SEARCH-ERROR\",\n          msg: `Qualifications does not match.`,\n        },\n      };\n\n    if (+data.teacher_two.school_code === +data.teacher_one.school_code)\n      return {\n        success: false,\n        error: {\n          target: \"SEARCH-ERROR\",\n          msg: `Both teachers are on the same schools.`,\n        },\n      };\n\n    if (+data.teacher_two.role_id !== +data.teacher_one.role_id)\n      return {\n        success: false,\n        error: {\n          target: \"SEARCH-ERROR\",\n          msg: `Both candidates must have same roles on their schools.`,\n        },\n      };\n\n    // All the data are here\n    return {\n      success: true,\n      error: ErrorDefault,\n    };\n  };\n\n  submitTeachersSwapping = () => {\n    if (!this.props.auth.district?.district_code)\n      return this.setState({\n        error: {\n          target: \"MAIN-ERROR\",\n          msg: \"No district assigned to you\",\n        },\n      });\n\n    if (!this.props.basic.academic_calender?.academic_year_id)\n      return this.setState({\n        error: {\n          target: \"MAIN-ERROR\",\n          msg: \"No academic calendar found\",\n        },\n      });\n\n    if (\n      this.validateSwapping(\n        this.state.data,\n        this.props.auth.district?.district_code\n      ).success\n    ) {\n      if (\n        this.state.data !== null &&\n        this.state.data.teacher_one !== null &&\n        this.state.data.teacher_two !== null\n      ) {\n        if (\n          window.confirm(\n            `Are you sure you want to send \\n ${this.state.data.teacher_one.full_name} to ${this.state.data.teacher_two.school_name} \\n and \\n ${this.state.data.teacher_two.full_name} to ${this.state.data.teacher_one.school_name}`\n          ) === true\n        ) {\n          this.setState({\n            swap_loading: true,\n          });\n          FC_SendSubmitSwappingData(\n            {\n              academic_year_id:\n                this.props.basic.academic_calender?.academic_year_id,\n              district_code: this.props.auth.district?.district_code,\n              position_code: this.state.data.teacher_one.position_code,\n              qualification_id: this.state.data.teacher_one.qualification_id,\n              role_id: this.state.data.teacher_one.role_id,\n              school_one: this.state.data.teacher_one.school_code, //* Swap teachers\n              school_two: this.state.data.teacher_two.school_code, //* Swap teachers\n              user_one: this.state.data.teacher_one.user_id,\n              user_two: this.state.data.teacher_two.user_id,\n            },\n            (status, data, msg) => {\n              if (status === true) {\n                let data_res = this.state.data;\n\n                if (data_res !== null)\n                  data_res = {\n                    ...data_res,\n                    teacher_one:\n                      data_res.teacher_one !== null\n                        ? {\n                            ...data_res.teacher_one,\n                            school_code: data_res.teacher_two\n                              ? data_res.teacher_two.school_code\n                              : data_res.teacher_one.school_code,\n                            school_name: data_res.teacher_two\n                              ? data_res.teacher_two.school_name\n                              : data_res.teacher_one.school_name,\n                          }\n                        : data_res.teacher_one,\n                    teacher_two:\n                      data_res.teacher_two !== null\n                        ? {\n                            ...data_res.teacher_two,\n                            school_code: data_res.teacher_one\n                              ? data_res.teacher_one?.school_code\n                              : data_res.teacher_two.school_code,\n                            school_name: data_res.teacher_one\n                              ? data_res.teacher_one.school_name\n                              : data_res.teacher_two.school_name,\n                          }\n                        : data_res.teacher_two,\n                  };\n\n                this.setState({\n                  swap_loading: false,\n                  error: {\n                    target: \"MAIN-SUCCESS\",\n                    msg: `Success: ${data?.msg}`,\n                  },\n                  data: data_res,\n                });\n              } else {\n                this.setState({\n                  swap_loading: false,\n                  error: {\n                    target: \"MAIN-ERROR\",\n                    msg: `Error: ${msg}`,\n                  },\n                });\n              }\n            }\n          );\n        }\n      }\n    }\n  };\n\n  render() {\n    return (\n      <DashboardContainer>\n        <div className=\"py-2 border-b\">\n          <Heading>District Internal permutation</Heading>\n          <p className=\"opacity-50\">\n            Changing two teachers who are in the same district\n          </p>\n        </div>\n        {(this.state.data === null ||\n          this.state.data.teacher_one === null ||\n          this.state.data.teacher_two === null) && (\n          <form onSubmit={this.searchTeachers} className=\"mt-4\">\n            <div className=\"flex gap-2 w-full\">\n              <div className=\"p-1 flex-1\">\n                <TextInput\n                  onChange={(e) =>\n                    this.setState({\n                      nid_1: e.target.value,\n                      error: ErrorDefault,\n                    })\n                  }\n                  value={this.state.nid_1}\n                  error={\n                    this.state.error.target === \"NID-INPUT-ERROR-1\"\n                      ? this.state.error.msg\n                      : \"\"\n                  }\n                  label={\"First NID\"}\n                  placeholder={\n                    \"National Identification (Indangamuntu yambere) \"\n                  }\n                  name={\"nid-input-1\"}\n                  disabled={this.state.search_loading}\n                  type=\"number\"\n                />\n              </div>\n\n              <div className=\"p-1 flex-1\">\n                <TextInput\n                  onChange={(e) =>\n                    this.setState({\n                      nid_2: e.target.value,\n                      error: ErrorDefault,\n                    })\n                  }\n                  value={this.state.nid_2}\n                  error={\n                    this.state.error.target === \"NID-INPUT-ERROR-2\"\n                      ? this.state.error.msg\n                      : \"\"\n                  }\n                  label={\"Second NID\"}\n                  placeholder={\n                    \"National Identification (Indangamuntu yakabiri) \"\n                  }\n                  name={\"nid-input-1\"}\n                  disabled={this.state.search_loading}\n                  type=\"number\"\n                />\n              </div>\n              <div className=\"p-1\">\n                <div className=\"block pb-1.5 opacity-0\"> search</div>\n                <Button\n                  size=\"lg\"\n                  type=\"submit\"\n                  loading={this.state.search_loading}\n                >\n                  Search\n                </Button>\n              </div>\n            </div>\n          </form>\n        )}\n\n        {this.state.data !== null && this.state.search_loading === false && (\n          <div className=\"\">\n            <div className=\"border flex p-2 bg-gray-100 rounded\">\n              <section className=\"flex-1\">\n                <h1 className=\"text-xl font-bold\">Search results</h1>\n                <p className=\"text-gray-400 -mt-1 text-sm\">\n                  Check if the information are correct and place the teachers\n                </p>\n              </section>\n              <section>\n                <Button\n                  theme=\"danger-light\"\n                  onClick={() => {\n                    this.setState({\n                      data: null,\n                      error: ErrorDefault,\n                    });\n                  }}\n                >\n                  Cancel\n                </Button>\n              </section>\n            </div>\n\n            {this.state.error.target === \"MAIN-ERROR\" && (\n              <Alert theme=\"danger\">{this.state.error.msg}</Alert>\n            )}\n            {this.state.error.target === \"MAIN-SUCCESS\" && (\n              <Alert theme=\"success\">{this.state.error.msg}</Alert>\n            )}\n\n            <div className=\"lg:flex gap-4 w-full  my-2 rounded\">\n              <div className=\"flex-1 \">\n                {this.state.error.target === \"TEACHER-1\" && (\n                  <Alert theme=\"danger\">{this.state.error.msg}</Alert>\n                )}\n\n                {this.state.data.teacher_one !== null && (\n                  <SwappingResultItem data={this.state.data.teacher_one} />\n                )}\n              </div>\n              <div className=\"flex-1\">\n                {this.state.error.target === \"TEACHER-2\" && (\n                  <Alert theme=\"danger\">{this.state.error.msg}</Alert>\n                )}\n\n                {this.state.data.teacher_two !== null && (\n                  <SwappingResultItem data={this.state.data.teacher_two} />\n                )}\n              </div>\n            </div>\n\n            <div className=\"lg:flex w-full text-right\">\n              <div className=\"flex-1\">\n                {this.state.error.target === \"SEARCH-ERROR\" && (\n                  <Alert theme=\"danger\">{this.state.error.msg}</Alert>\n                )}\n              </div>\n              {this.state.results_success &&\n                this.state.error.target !== \"MAIN-SUCCESS\" && (\n                  <div className=\"w-full flex flex-1 items-center p-2 rounded bg-green-100 \">\n                    <div className=\" text-left text-sm flex-1 pr-3 pl-3\">\n                      <p className=\"m-0 \">\n                        <b>{this.state.data?.teacher_one?.full_name}</b>{\" \"}\n                        <MdArrowRightAlt className=\"inline opacity-60\" />{\" \"}\n                        <b>{this.state.data?.teacher_two?.school_name}</b>\n                      </p>\n                      <p className=\"m-0 \">\n                        <b>{this.state.data?.teacher_two?.full_name}</b>{\" \"}\n                        <MdArrowRightAlt className=\"inline opacity-60\" />{\" \"}\n                        <b>{this.state.data?.teacher_one?.school_name}</b>\n                      </p>\n                    </div>\n                    <Button\n                      size=\"lg\"\n                      theme=\"success\"\n                      onClick={this.submitTeachersSwapping}\n                      loading={this.state.swap_loading}\n                    >\n                      <span className=\"font-normal text-2xl\">\n                        Yes, I Approve\n                      </span>\n                    </Button>\n                  </div>\n                )}\n            </div>\n          </div>\n        )}\n      </DashboardContainer>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  basic,\n}: StoreState): { auth: Auth; basic: Basic } => {\n  return { auth: auth, basic: basic };\n};\n\nexport const SwappingTwoTeachers = connect(\n  mapStateToProps,\n  {}\n)(_SwappingTwoTeachers);\n"],"sourceRoot":""}