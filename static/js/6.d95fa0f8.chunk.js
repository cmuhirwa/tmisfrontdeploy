(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[6],{356:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return h}));var n=a(3),i=a(6),s=a(7),c=a.n(s),r=a(13),l=a(12),d=a(8),o=a(11),j=function(e,t){return t(!0,null,""),function(){var a=Object(i.a)(Object(n.a)().mark((function a(i){var s,j;return Object(n.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i({type:r.a.GET_ALL_TRANSFER,payload:[]}),Object(d.a)(),a.next=5,c.a.get("".concat(l.e,"/teachertransfers/requesteddde/").concat(e));case 5:s=a.sent,j=s.data.filter((function(e){return"APPROVED"===e.requested_status})),i({type:r.a.GET_ALL_TRANSFER,payload:j}),t(!1,j,""),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t(!1,null,Object(o.a)(a.t0));case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},b=function(){var e=Object(i.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!1,[{district_code:"11",district_name:"Nyarugenge"},{district_code:"12",district_name:"Gasabo"},{district_code:"13",district_name:"Kicukiro"},{district_code:"21",district_name:"Nyanza"},{district_code:"22",district_name:"Gisagara"},{district_code:"23",district_name:"Nyaruguru"},{district_code:"24",district_name:"Huye"},{district_code:"25",district_name:"Nyamagabe"},{district_code:"26",district_name:"Ruhango"},{district_code:"27",district_name:"Muhanga"},{district_code:"28",district_name:"Kamonyi"},{district_code:"31",district_name:"Karongi"},{district_code:"32",district_name:"Rutsiro"},{district_code:"33",district_name:"Rubavu"},{district_code:"34",district_name:"Nyabihu"},{district_code:"35",district_name:"Ngororero"},{district_code:"36",district_name:"Rusizi"},{district_code:"37",district_name:"Nyamasheke"},{district_code:"41",district_name:"Rulindo"},{district_code:"42",district_name:"Gakenke"},{district_code:"43",district_name:"Musanze"},{district_code:"44",district_name:"Burera"},{district_code:"45",district_name:"Gicumbi"},{district_code:"51",district_name:"Rwamagana"},{district_code:"52",district_name:"Nyagatare"},{district_code:"53",district_name:"Gatsibo"},{district_code:"54",district_name:"Kayonza"},{district_code:"55",district_name:"Kirehe"},{district_code:"56",district_name:"Ngoma"},{district_code:"57",district_name:"Bugesera"}],"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(i.a)(Object(n.a)().mark((function e(t,a){var i,s,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0,i=0,null,""),e.prev=2,Object(d.a)(),(s=new FormData).append("teacher_supporting_document",t),e.next=8,c.a.post("".concat(l.e,"/teachertransfers/uploadSupportingDocument"),s,{onUploadProgress:function(e){i=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,a(!0,i,null,"")}});case 8:r=e.sent,console.log("Uploaded document: ",r.data),a(!1,i,r.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),a(!1,i,"",Object(o.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}(),h=function(e,t,a){a(!0,"");return function(){var s=Object(i.a)(Object(n.a)().mark((function i(s){var j,b;return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(!0,""),console.log("==================doc_title=================="),console.log({doc_title:""}),console.log("==================doc_title=================="),a(!0,""),(j=new FormData).append("teacher_transfer_id",e),j.append("mayor_letter",t),console.log("==================*********************=================="),console.log({doc_title:""}),console.log("==================*********************=================="),n.prev=11,Object(d.a)(),n.next=15,c.a.post("".concat(l.e,"/teachertransfers/outgoing"),j);case 15:b=n.sent,console.log("Uploaded document: ",b.data),s({type:r.a.UPLOAD_SIGNED_DOCUMENT,payload:{teacher_transfer_id:e,mayor_letter:b.data.mayor_letter}}),a(!1,""),n.next=25;break;case 21:n.prev=21,n.t0=n.catch(11),console.error(n.t0),a(!1,Object(o.a)(n.t0));case 25:case"end":return n.stop()}}),i,null,[[11,21]])})));return function(e){return s.apply(this,arguments)}}()}},378:function(e,t,a){"use strict";a(4);var n=a(15),i=a(69),s=a(1);t.a=function(e){var t=e.onChange,a=e.value,c=e.placeholder,r=e.disabled,l=void 0!==r&&r,d=e.name,o=e.Input_className,j=void 0===o?"":o,b=e.InputContainer_className,u=void 0===b?"":b,h=e.MainContainer_className,x=void 0===h?"":h,m=e.size,g=void 0===m?"md":m,O=e.max;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"w-full my-2 ".concat(x),children:Object(s.jsx)("div",{className:"rounded relative ".concat(u," "),children:Object(s.jsxs)("div",{className:"flex p-1 px-2 rounded-lg items-center border bg-gray-100",children:[Object(s.jsx)("label",{htmlFor:d,className:"text-3xl text-gray-700",children:Object(s.jsx)(n.Eb,{})}),Object(s.jsx)("input",{type:"search",name:d,id:d,placeholder:c,onChange:t,className:" outline-none bg-transparent flex-1\n                w-full text-lg \n                ".concat(Object(i.a)(g),"\n                px-3 ").concat(j),value:a,disabled:l,maxLength:O})]})})})})}},453:function(e,t,a){"use strict";a(4);var n=a(15),i=a(19),s=a(17),c=a(1),r=void 0;t.a=function(e){var t=e.training,a=e.viewDetails,l=e.editTraining,d=e.deleteTraining,o=e.delete_loading,j=e.update_loading,b=e.i;return t.title||t.implementation_status&&"DRAFT"!==t.implementation_status?Object(c.jsxs)("tr",{onClick:null===a||void 0===a?void 0:a.bind(r,t.id),className:"text-left hover:bg-yellow-50 cursor-pointer",children:[Object(c.jsx)("td",{className:"p-2 border",children:b+1}),Object(c.jsx)("td",{className:"p-2 border",children:null===t||void 0===t?void 0:t.title}),Object(c.jsx)("td",{className:"p-2 border",children:null===t||void 0===t?void 0:t.development_partner_name}),Object(c.jsx)("td",{className:"p-2 border",children:null===t||void 0===t?void 0:t.intervention_area}),Object(c.jsx)("td",{className:"p-2 border",children:Object(s.a)(null===t||void 0===t?void 0:t.start_date)}),Object(c.jsx)("td",{className:"p-2 border",children:Object(s.a)(null===t||void 0===t?void 0:t.end_date)}),Object(c.jsx)("td",{className:"p-2 border text-center",children:Object(c.jsx)("label",{className:"px-2 py-1 font-bold  ".concat("APPROVED"===t.evaluation_status?"text-green-900 bg-green-100":"text-accent-900 bg-accent-500"," text-xs rounded-full"),children:"DRAFT"===t.implementation_status?t.implementation_status:t.evaluation_status})})]},t.id):Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text-center border",children:b+1}),Object(c.jsx)("td",{className:"bg-red-50 bg-opacity-50 p-3 border",colSpan:12,children:Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("div",{className:"text-4xl pr-3 text-accent-900",children:Object(c.jsx)(n.Nb,{})}),Object(c.jsxs)("div",{className:"flex-1",children:[Object(c.jsx)("h4",{className:"font-bold text-accent-900",children:"This training application is missing some info"}),Object(c.jsxs)("h4",{className:"text-sm",children:["Please click on ",Object(c.jsx)("u",{children:"Edit training application"})," and add more information or delete the draft if you created it accidentally."," "]})]}),Object(c.jsx)("div",{className:"pr-4",children:l&&Object(c.jsx)(i.a,{size:"sm",onClick:l.bind(r,t.id),disabled:null!==j,loading:(null===j||void 0===j?void 0:j.toString())===t.id.toString(),children:"Edit training application"})}),Object(c.jsx)("div",{className:"",children:d&&Object(c.jsx)(i.a,{size:"sm",onClick:d.bind(r,t.id),theme:"danger-light",disabled:null!==o,loading:(null===o||void 0===o?void 0:o.toString())===t.id.toString(),children:"Delete training request"})})]})})]})}},480:function(e,t,a){"use strict";a.d(t,"a",(function(){return ge}));var n=a(41),i=a(10),s=a(20),c=a(21),r=a(22),l=a(23),d=a(4),o=a.n(d),j=a(36),b=a(13),u=a(47),h=a(19),x=a(53),m=a(92),g=a(24),O=a(27),p=a(138),_=a(378),v=a(39),f=a(25),N=a(17),y=a(141),S=a(1),C=void 0,R={target:null,msg:""},E=function(e){var t=e.close,a=e.training_id,s=e.successHandler,c=(e.centers,e.selectedCenter),r=Object(d.useState)(!1),l=Object(O.a)(r,2),o=l[0],j=l[1],x=Object(d.useState)([]),m=Object(O.a)(x,2),E=m[0],A=m[1],T=Object(d.useState)([]),I=Object(O.a)(T,2),k=I[0],w=I[1],D=Object(d.useState)(!0),M=Object(O.a)(D,2),z=M[0],U=M[1],G=Object(d.useState)(R),P=Object(O.a)(G,2),F=P[0],L=P[1],q=Object(d.useState)(""),B=Object(O.a)(q,2),Y=B[0],H=B[1],V=Object(d.useState)(""),K=Object(O.a)(V,2),W=K[0],J=K[1],Q=Object(d.useState)(""),Z=Object(O.a)(Q,2),$=Z[0],X=Z[1],ee=Object(d.useState)(!1),te=Object(O.a)(ee,2),ae=te[0],ne=te[1],ie=Object(d.useState)(null),se=Object(O.a)(ie,2),ce=se[0],re=se[1],le=Object(d.useState)(!1),de=Object(O.a)(le,2),oe=de[0],je=de[1],be=Object(d.useState)(null),ue=Object(O.a)(be,2),he=ue[0],xe=ue[1],me=Object(d.useState)(""),ge=Object(O.a)(me,2),Oe=ge[0],pe=ge[1],_e=Object(d.useState)(10),ve=Object(O.a)(_e,2),fe=ve[0],Ne=ve[1];Object(d.useEffect)((function(){Object(b.K)((function(e,t,a){e||L({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),U(!1),w(t)})),void 0!==c&&null!==c&&(H(c.district_id+""),re({center_id:c.center_id+"",center_type_id:c.center_type_id+"",center_type_name:c.center_name+"",district_id:c.district_id+"",district_name:c.district_name+"",id:c.center_id+"",name:c.center_name+"",status:"ACTIVE"}),he||ye())}),[c,he]);var ye=function(){je(!0),Object(y.n)((function(e,t,a){e&&t?xe(t):L({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),je(!1)}))},Se=E||[];return""!==W.toString()&&(Se=Se.filter((function(e){return e.center_type_id.toString()===W.toString()}))),Se=Object(N.n)(Se||[],$,{name:!0,center_type_name:!0,district_name:!0}),Object(S.jsx)("div",{children:Object(S.jsxs)(f.c,{backDrop:!0,close:t,backDropClose:!1,displayClose:!0,title:"Add center the training",padding:{title:!0,body:void 0,footer:void 0},children:[Object(S.jsxs)("div",{className:"border-t p-2 px-3",children:["MAIN-SUCCESS"===F.target&&Object(S.jsx)(u.a,{theme:"success",children:F.msg}),"MAIN-ERROR"===F.target&&Object(S.jsx)(u.a,{theme:"danger",children:F.msg}),null===ce&&Object(S.jsxs)("div",{className:"lg:flex gap-3 border-b",children:[Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(p.a,{onChange:function(e){var t;H(e.target.value),t=e.target.value,j(!0),he||ye(),A([]),Object(y.o)(t,(function(e,t,a){j(!1),e||L({msg:"Error: ".concat(a),target:"MAIN-ERROR"}),A(t)}))},value:Y,error:"",label:"Select a district",placeholder:"select district",name:"",data:[{title:"",value:""}].concat(Object(n.a)(k.map((function(e){return{title:e.district_name,value:e.district_code}})))),disabled:z||o})}),Object(S.jsx)("div",{className:"flex-1",children:E&&(null===he||void 0===he?void 0:he.center_types)&&Object(S.jsx)(p.a,{onChange:function(e){J(e.target.value)},value:W,error:"",label:"Select a center type",placeholder:"select center type",name:"",data:[{title:"All",value:""}].concat(Object(n.a)(null===he||void 0===he?void 0:he.center_types.map((function(e){return{title:e.name||"",value:e.id||""}})))),disabled:z||o})})]}),z&&Object(S.jsx)("div",{className:"py-2 text-center mx-auto text-gray-600 animate__animated animate__fadeIn animate__infinite",children:"Loading assets ..."}),Object(S.jsx)("div",{className:"mx-auto",children:oe&&Object(S.jsx)("div",{className:"py-2 text-center",children:Object(S.jsx)(g.a,{})})}),Y&&Object(S.jsx)(S.Fragment,{children:null===ce&&Object(S.jsxs)("div",{className:"p-1 rounded bg-white border animate__animated animate__zoomIn animate__faster",children:[Object(S.jsxs)("div",{className:"flex items-center border-b px-2",children:[Object(S.jsx)("h4",{className:"text-xl flex-1 font-bold ",children:"Training centers"}),Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(_.a,{onChange:function(e){return X(e.target.value)},value:$,placeholder:"Search for a center",name:"",size:"sm"})})]}),Object(S.jsx)("div",{className:"h-96 border p-1 rounded",children:Object(S.jsxs)("table",{className:"w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"border p-1",children:"#"}),Object(S.jsx)("th",{className:"border p-1",children:"Center"}),Object(S.jsx)("th",{className:"border p-1",children:"Center type"}),Object(S.jsx)("th",{className:"border p-1",children:"District"}),Object(S.jsx)("th",{className:"border p-1 w-4"})]})}),Object(S.jsx)("tbody",{children:o?Object(S.jsx)("tr",{children:Object(S.jsx)("td",{className:"py-4 text-center",colSpan:12,children:Object(S.jsx)("div",{className:"mx-auto text-center",children:Object(S.jsx)(g.a,{})})})}):E.length<=0?Object(S.jsx)("tr",{children:Object(S.jsx)("td",{className:"py-6 text-center text-2xl text-gray-400",colSpan:12,children:Object(S.jsx)("div",{className:"mx-auto",children:"No centers found!"})})}):Se.length<=0?Object(S.jsx)("tr",{children:Object(S.jsx)("td",{className:"py-6 text-center text-2xl text-gray-400",colSpan:12,children:Object(S.jsx)("div",{className:"mx-auto",children:"No results for your search found!"})})}):Se.map((function(e,t){return Object(S.jsxs)("tr",{className:"hover:bg-accent-400",children:[Object(S.jsx)("td",{className:"border p-1 text-center",children:t+1}),Object(S.jsx)("td",{className:"border p-1 font-bold pl-2",children:e.center_name}),Object(S.jsx)("td",{className:"border p-1",children:e.center_type_name}),Object(S.jsx)("td",{className:"border p-1",children:e.district_name}),Object(S.jsx)("td",{className:"border p-1",children:Object(S.jsx)(h.a,{size:"sm",theme:"accent-light",onClick:re.bind(C,e),children:"Select"})})]},t)}))})]})})]})}),null!==ce&&Object(S.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster",children:[Object(S.jsx)("div",{className:"p-1 flex w-full border",children:Object(S.jsxs)("div",{className:"flex-1 ",children:[Object(S.jsxs)("div",{className:"flex items-center pr-2 pb-1 mb-1 border-b",children:[Object(S.jsxs)("section",{className:" p-2 flex-1",children:[Object(S.jsx)("label",{className:"text-sm text-gray-700",children:"Center name:"}),Object(S.jsx)("h2",{className:"font-bold",children:ce.name})]}),Object(S.jsx)("section",{children:Object(S.jsx)(h.a,{theme:"danger-light",onClick:re.bind(C,null),children:"Change center"})})]}),Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsxs)("section",{className:" p-2 flex-1",children:[Object(S.jsx)("label",{className:"text-sm text-gray-700",children:"Center type:"}),Object(S.jsx)("h2",{className:"font-bold",children:ce.center_type_name})]}),Object(S.jsxs)("section",{className:" p-2 flex-1",children:[Object(S.jsx)("label",{className:"text-sm text-gray-700",children:"District:"}),Object(S.jsx)("h2",{className:"font-bold",children:ce.district_name})]})]})]})}),Object(S.jsxs)("div",{className:"flex gap-4",children:[Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(p.a,{onChange:function(e){return pe(e.target.value)},value:Oe,error:"ROOM-TYPE"===F.target?F.msg:"",label:"Select training center",placeholder:"Room",name:"",data:[{title:"",value:""}].concat(Object(n.a)((null===he||void 0===he?void 0:he.center_room_type.map((function(e){var t,a;return{title:null===(t=e.name)||void 0===t?void 0:t.toString(),value:(null===(a=e.id)||void 0===a?void 0:a.toString())||""}})))||[])),disabled:ae})}),Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(v.a,{onChange:function(e){return Ne(+e.target.value)},value:fe,error:"CAPACITY"===F.target?F.msg:"",label:"Capacity",placeholder:"Room capacity",name:"",disabled:ae})})]}),Object(S.jsx)("div",{className:"pt-3 text-right",children:Object(S.jsx)(h.a,{loading:ae,onClick:function(){try{if(L(R),null===ce)return L({target:"MAIN-ERROR",msg:"No selected center"});if(""===Oe)return L({target:"ROOM-TYPE",msg:"Please select a group type"});if(fe<=0)return L({target:"CAPACITY",msg:"Please provide a number"});ne(!0),Object(y.a)({training_id:a,center_id:ce.id.toString(),group_id:Oe.toString(),number_of_trainees:fe.toString(),name:""},(function(e,n,i){var c,r;!0===e&&n?(ne(!1),L({target:"MAIN-SUCCESS",msg:"a Group has been added to this training"}),X(""),s({id:n,number_of_trainees:fe,training_id:a,center_id:(null===ce||void 0===ce||null===(c=ce.center_id)||void 0===c?void 0:c.toString())||(null===ce||void 0===ce||null===(r=ce.id)||void 0===r?void 0:r.toString()),center_name:(null===ce||void 0===ce?void 0:ce.center_name)||(null===ce||void 0===ce?void 0:ce.name),center_type_id:+(null===ce||void 0===ce?void 0:ce.id),center_type_name:(null===ce||void 0===ce?void 0:ce.center_type_name)||"",district_id:+(null===ce||void 0===ce?void 0:ce.district_id),district_name:null===ce||void 0===ce?void 0:ce.district_name,group_id:n,group_name:"",status:"ACTIVE"}),re(null),setTimeout((function(){L(R),t()}),2e3)):(ne(!1),L({target:"MAIN-ERROR",msg:"Error: ".concat(i)}))}))}catch(F){console.log("THis is the error"),console.log(Object(i.a)({},F))}},size:"lg",children:"Add center to the training"})})]})]}),null===ce&&Object(S.jsxs)("div",{className:"py-3 border-t",children:[Object(S.jsx)("h4",{className:"text-xl text-center font-bold",children:"Can't find it?"}),Object(S.jsxs)("p",{className:"text-center text-sm text-gray-500 pb-2",children:["If you can't find the item you are looking for ",Object(S.jsx)("br",{}),"Contact REB, they will add it here"]})]})]})})},A=a(15),T=function(e){var t=e.close,a=e.title,i=e.existing_data,s=e.path_url,c=e.submit,r=e.submit_loading,l=e.success_msg,o=e.error_msg,j=Object(d.useState)(!0),b=Object(O.a)(j,2),x=b[0],m=b[1],p=Object(d.useState)(""),_=Object(O.a)(p,2),v=_[0],N=_[1],C=Object(d.useState)([]),R=Object(O.a)(C,2),E=R[0],T=R[1],I=Object(d.useState)([]),k=Object(O.a)(I,2),w=k[0],D=k[1];Object(d.useEffect)((function(){x&&Object(y.v)(s,(function(e,t,a){m(!1),e||N("Error: ".concat(a)),T(t)}))}),[E,s,x]);return Object(S.jsx)("div",{children:Object(S.jsxs)(f.c,{backDrop:!0,close:t,backDropClose:!1,displayClose:!0,title:a,padding:{title:!0,body:void 0,footer:void 0},children:[Object(S.jsxs)("div",{className:"border-t p-2 px-3",children:[""!==l&&Object(S.jsx)(u.a,{theme:"success",children:l}),""!==o&&Object(S.jsx)(u.a,{theme:"danger",children:o}),Object(S.jsx)("p",{className:"text-center text-gray-500 pb-2",children:"Choose one or more items"}),""!==v&&Object(S.jsx)(u.a,{theme:"danger",children:v}),!0===x&&Object(S.jsx)("div",{className:"py-8 text-center",children:Object(S.jsx)(g.a,{})}),E.map((function(e,t){var a=i.find((function(t){var a,n;return(null===(a=t.id)||void 0===a?void 0:a.toString())===(null===(n=e.id)||void 0===n?void 0:n.toString())})),s=w.find((function(t){var a,n;return(null===(a=t.id)||void 0===a?void 0:a.toString())===(null===(n=e.id)||void 0===n?void 0:n.toString())}));return Object(S.jsxs)("div",{className:"".concat(s?"bg-blue-50":"bg-white","  border rounded p-2 mb-2 flex items-center cursor-pointer ").concat(a?"opacity-60":""),onClick:function(){a||function(e){if(r)return null;var t=w.find((function(t){var a,n;return(null===(a=t.id)||void 0===a?void 0:a.toString())===(null===(n=e.id)||void 0===n?void 0:n.toString())}));D(t?w.filter((function(t){var a,n;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==(null===(n=e.id)||void 0===n?void 0:n.toString())})):[].concat(Object(n.a)(w),[e]))}(e)},children:[Object(S.jsx)("div",{className:"text-3xl pr-2",children:a?Object(S.jsx)("b",{className:"text-green-300",children:Object(S.jsx)(A.o,{})}):s?Object(S.jsx)("span",{className:"text-blue-600",children:Object(S.jsx)(A.m,{})}):Object(S.jsx)("b",{className:"text-gray-700",children:Object(S.jsx)(A.n,{})})}),Object(S.jsxs)("div",{className:"flex-1",children:[Object(S.jsx)("h4",{className:"font-bold",children:e.name}),(null===e||void 0===e?void 0:e.description)&&Object(S.jsx)("p",{className:"text -mt-1",children:null===e||void 0===e?void 0:e.description})]}),Object(S.jsx)("div",{children:a&&Object(S.jsx)("span",{className:"text-xs px-1 py-0.5 bg-green-200 font-bold text-green-800 rounded-full",children:"Selected"})})]},t)})),E.length<=0&&!1===x&&Object(S.jsx)("div",{children:Object(S.jsx)(u.a,{theme:"info",children:"No results found!"})}),w.length>=1&&""===l&&""===o&&Object(S.jsx)("div",{className:"text-right pt-3",children:Object(S.jsxs)(h.a,{onClick:c.bind(undefined,w),theme:"success",size:"lg",loading:r,children:["Add ",w.length," items the list"]})})]}),E.length>=1&&Object(S.jsxs)("div",{className:"py-3 border-t",children:[Object(S.jsx)("h4",{className:"text-xl text-center font-bold",children:"Can't find it?"}),Object(S.jsxs)("p",{className:"text-center text-sm text-gray-500 pb-2",children:["If you can't find the item you are looking for ",Object(S.jsx)("br",{}),"Contact REB, they will add it here"]})]})]})})},I=function(e){var t=e.number,a=e.title,n=e.description,i=e.theme,s=e.active,c=e.priority,r=e.onClick;return Object(S.jsxs)("div",{onClick:r,className:"p-1 lg:p-1  lg:border-t-transparent lg:rounded-t-md cursor-pointer lg:border-b-4 flex text-center lg:text-left flex-row items-center lg:border-".concat(i,"-500 ").concat(!0===s?"bg-".concat(i,"-100"):""," ").concat(!1===c?"opacity-60":""),children:[Object(S.jsx)("section",{className:"p-1 lg:p-1 rounded-full border-4 ".concat("bg-".concat(i,"-500")," 0 ").concat("border-".concat(i,"yellow"===i?"-600":"-200"),"  ").concat("yellow"===i?"text-black":"text-white"," sm:px-2 lg:w-12 lg:h-12 flex items-center text-center"),children:Object(S.jsx)("h3",{className:"text-center w-full lg:text-2xl font-bold ",children:t})}),Object(S.jsxs)("section",{className:"pl-2 text-left",children:[Object(S.jsx)("h3",{className:"lg:text-lg font-bold",children:a}),Object(S.jsx)("p",{className:"text-gray-400 -mt-1 text-sm",children:n})]})]})},k=a(140),w=a(67),D=function(e){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"h-20"}),Object(S.jsxs)("div",{className:"fixed bottom-0 right-0 flex left-0 bg-white shadow-lg border-t-2 px-3 items-center",children:[Object(S.jsx)("div",{className:"main-side-spacer"}),Object(S.jsx)("div",{className:"flex-1 p-2",children:Object(S.jsx)("div",{className:"",children:e.children})})]})]})},M=void 0,z=function(e){var t=e.Icon,a=e.title,n=e.description,i=e.onCreate,s=e.create_btn_label,c=e.onUpdate,r=e.onDelete,l=e.data,d=e.createLading,o=e.deleteLoading,j=e.updateLading,b=e.error;return Object(S.jsxs)("div",{className:"rounded bg-gray-200  flex-1 ".concat(""!==b?"border-2 border-red-500":"border"),children:[Object(S.jsxs)("div",{className:"flex items-center p-2 border-b bg-gray-50",children:[Object(S.jsx)("div",{className:"text-5xl pr-2 text-blue-900 text-opacity-80",children:Object(S.jsx)(t,{})}),Object(S.jsxs)("div",{className:"flex-1",children:[Object(S.jsx)("h1",{className:"text-lg font-bold",children:a}),Object(S.jsx)("p",{className:"text-gray-500 -mt-1 text-sm",children:n})]}),Object(S.jsx)("div",{className:"",children:s&&i&&Object(S.jsx)(h.a,{type:"button",theme:"primary-light",onClick:i,loading:d,children:s})})]}),Object(S.jsxs)("div",{className:"p-2 bg-gray-200",children:[0===l.length&&Object(S.jsxs)("div",{className:"py-4 text-center",children:[Object(S.jsx)("h6",{className:"inline text-8xl text-gray-500",children:Object(S.jsx)(t,{className:"mx-auto"})}),Object(S.jsx)("h4",{className:"text-lg -mt-3 text-gray-500",children:"Nothing yet selected!"})]}),l.map((function(e,t){return Object(S.jsxs)("div",{className:"p-1 border bg-white hover:bg-blue-100 rounded mb-2 items-center hover:border-blue-600 flex",children:[Object(S.jsxs)("section",{className:"px-2 text-blue-900 text-opacity-70 text-xl",children:["#",t+1]}),Object(S.jsxs)("section",{className:"flex-1",children:[Object(S.jsx)("h1",{className:"text-lg font-bold",children:e.name}),Object(S.jsx)("p",{className:"-mt-1 text-gray-500 text-sm",children:e.name})]}),c&&e.id&&Object(S.jsx)("section",{className:"pr-2",children:Object(S.jsx)(h.a,{size:"sm",theme:"primary-light",type:"button",onClick:c.bind(M,e.id),loading:!!j&&j.toString()===e.id.toString(),disabled:null!==j&&void 0!==j,children:Object(S.jsx)("section",{className:"text-2xl",title:"Update this item",children:Object(S.jsx)(A.R,{})})})}),r&&e.id&&Object(S.jsx)("section",{className:"pr-2",children:Object(S.jsx)(h.a,{onClick:r.bind(M,e.id),size:"sm",theme:"danger-light",type:"button",loading:!!o&&o.toString()===e.id.toString(),disabled:null!==o&&void 0!==o,children:Object(S.jsx)("div",{className:"text-2xl",title:"Delete this item",children:Object(S.jsx)(A.u,{})})})})]},t)}))]}),""!==b&&Object(S.jsx)("p",{className:"text-center text-red-500",children:b})]})},U={target:null,msg:""},G=function(e){var t=e.sub_area_id,a=e.successData,n=e.trainee_category,i=e.trainer_institutions,s=e.removeTraineeCategory,c=e.removeTrainerInstitution,r=e.loadingTraineeCategoryRemove,l=e.loadingTrainersInstitutionRemove,o=e.addTraineeCategory,j=e.addTrainerInstitution,b=e.loadingStepOneSave,u=e.step_one__title,m=e.step_one__description,g=e.step_one__start_date,p=e.step_one__end_date,_=e.step_one__sub_area,f=e.step_one__budget,N=e.setStepOne__title,C=e.setStepOne__description,R=e.setStepOne__start_date,E=e.setStepOne__end_date,T=e.setStepOne__sub_area,I=e.setStepOne__budget,M=e.setStepOne__topic,G=e.step_one__topic,P=Object(d.useState)([]),F=Object(O.a)(P,2),L=F[0],q=F[1],B=Object(d.useState)([]),Y=Object(O.a)(B,2),H=Y[0],V=Y[1],K=Object(d.useState)(!0),W=Object(O.a)(K,2),J=W[0],Q=W[1],Z=Object(d.useState)(!0),$=Object(O.a)(Z,2),X=$[0],ee=$[1],te=Object(d.useState)(!1),ae=Object(O.a)(te,2),ne=ae[0],ie=ae[1],se=Object(d.useState)(!1),ce=Object(O.a)(se,2),re=ce[0],le=ce[1],de=L.find((function(e){return e.id+""===_+""})),oe=H.find((function(e){return e.id+""===G+""})),je=Object(d.useState)(U),be=Object(O.a)(je,2),ue=be[0],he=be[1];Object(d.useEffect)((function(){!0===J&&0===L.length&&(Q(!1),Object(y.v)(y.Q,(function(e,t,a){!1===e&&he({target:"SUB_AREA",msg:"Error: ".concat(a)}),q(t),Q(!1)})),Object(y.v)(y.S,(function(e,t,a){!1===e&&he({target:"TOPICS",msg:"Error: ".concat(a)}),V(t),ee(!1)})))}),[t,J,L.length]);var xe=function(){return setTimeout((function(){return he(U)}),3e3)};return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),u.length<=4?(xe(),he({target:"TITLE",msg:"Please provide the title"})):m.length<=4?(xe(),he({target:"DESCRIPTION",msg:"Please provide the description"})):de?oe?0===+f?(xe(),he({target:"BUDGET",msg:"Budget is required"})):""===g?(xe(),he({target:"START_DATE",msg:"Please provide the start date"})):""===p?(xe(),he({target:"END_DATE",msg:"Please provide the end date"})):new Date(g).getTime()>new Date(p).getTime()?(xe(),he({target:"END_DATE",msg:"This (end date) must be later than (start date)"})):""===p?(xe(),he({target:"END_DATE",msg:"Please provide the end date"})):0===i.length?(xe(),he({target:"TRAINING_INSTITUTION",msg:"You must provide at least one institution"})):0===n.length?(xe(),he({target:"TRAINEE_CATEGORY",msg:"You must provide at least one category"})):void a():(xe(),he({target:"TOPICS",msg:"Please select a topic"})):(xe(),he({target:"SUB_AREA",msg:"Please select a sub-area"}))},children:[Object(S.jsx)(x.a,{className:"animate__animated animate__zoomIn animate__faster",children:Object(S.jsxs)("div",{className:"p-2",children:[Object(S.jsx)("div",{className:"pb-2",children:Object(S.jsx)(v.a,{onChange:function(e){N(e.target.value),he(U)},value:u,error:"TITLE"===ue.target?ue.msg:"",label:"Training Title",placeholder:"Title of the training",name:"",disabled:b})}),Object(S.jsx)("div",{className:"",children:Object(S.jsx)(k.a,{onChange:function(e){C(e.target.value),he(U)},value:m,error:"DESCRIPTION"===ue.target?ue.msg:"",label:"Description of the training",placeholder:"Description of the task",name:"",disabled:b})}),Object(S.jsxs)("div",{className:"lg:flex gap-6 py-2 w-full",children:[Object(S.jsxs)("div",{className:"pb-2 flex-1",children:[!ne&&Object(S.jsx)("section",{onClick:function(){return!b&&ie(!ne)},className:"cursor-pointer",children:Object(S.jsx)(v.a,{onChange:function(e){},value:"".concat(J?"Loading...":de?"".concat(null===de||void 0===de?void 0:de.name," - ( ").concat(null===de||void 0===de?void 0:de.intervention_area,")"):""),error:"SUB_AREA"===ue.target?ue.msg:"",label:"Select sub Area",placeholder:"",name:"",disabled:!0})}),ne&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{className:"block text-gray-400",children:"Select sub area"}),Object(S.jsx)(w.a,{loading:J,id:"id",title:"name",close:function(){return ie(!ne)},data:L,click:function(e){T(e.id),ie(!ne)}})]})]}),Object(S.jsxs)("div",{className:"pb-2 flex-1",children:[!re&&Object(S.jsx)("section",{onClick:function(){return!b&&le(!re)},className:"cursor-pointer",children:Object(S.jsx)(v.a,{onChange:function(e){},value:"".concat(X?"Loading...":oe?"".concat(null===oe||void 0===oe?void 0:oe.name):""),error:"TOPICS"===ue.target?ue.msg:"",label:"Select topic",placeholder:"",name:"",disabled:!0})}),re&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{className:"text-gray-400 block",children:"Select a topic"}),Object(S.jsx)(w.a,{loading:X,id:"id",title:"name",close:function(){return le(!re)},data:H,click:function(e){M(e.id),le(!re)}})]})]}),Object(S.jsx)("div",{className:"pb-2 flex-1",children:Object(S.jsx)(v.a,{onChange:function(e){I(e.target.value),he(U)},value:f,error:"BUDGET"===ue.target?ue.msg:"",label:"Budget",placeholder:"Budget of the training",name:""})})]}),Object(S.jsxs)("div",{className:"border lg:p-2 lg:px-4 rounded bg-gray-50",children:[Object(S.jsxs)("section",{className:"flex items-center text-yellow-800",children:[Object(S.jsx)(A.t,{className:"text-3xl"}),Object(S.jsx)("h4",{className:"font-bold text-lg pl-1",children:"Training dates"})]}),Object(S.jsxs)("div",{className:"lg:flex gap-4",children:[Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)(v.a,{onChange:function(e){R(e.target.value),he(U)},value:g,type:"date",error:"START_DATE"===ue.target?ue.msg:"",label:"Start Date",placeholder:"Start date",name:"",disabled:b})}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)(v.a,{onChange:function(e){E(e.target.value),he(U)},value:p,type:"date",error:"END_DATE"===ue.target?ue.msg:"",label:"End Date",placeholder:"End date",name:"",disabled:b})})]})]}),Object(S.jsxs)("div",{className:"lg:flex py-4 lg:gap-4",children:[Object(S.jsx)(z,{Icon:A.E,title:"Assign training institution",description:"Institution which will help to train",data:i,create_btn_label:"Add institution",createLading:!1,updateLading:null,deleteLoading:l,onCreate:j,onDelete:c,error:"TRAINING_INSTITUTION"===ue.target?ue.msg:""}),Object(S.jsx)(z,{Icon:A.E,title:"Assign trainee category",description:"Assign the type of users you are about to train",data:n,create_btn_label:"Add category",deleteLoading:r,onCreate:o,onDelete:s,error:"TRAINEE_CATEGORY"===ue.target?ue.msg:""})]})]})}),Object(S.jsx)(D,{children:Object(S.jsx)("div",{className:"text-right flex-1 ",children:Object(S.jsx)(h.a,{loading:b,children:"Save and Continue"})})})]})})},P=a(28),F=function(e){e.click;return Object(S.jsx)(x.a,{className:"animate__animated animate__zoomIn animate__faster",children:Object(S.jsx)("div",{className:"p-2 py-8",children:Object(S.jsxs)("div",{className:"text-center",children:[Object(S.jsx)("div",{className:"mx-auto",children:Object(S.jsxs)("div",{className:"text-gray-400 bg-gray-100 inline-block rounded-xl text-8xl mx-auto  text-center",children:[Object(S.jsx)(A.Ib,{className:"inline"}),Object(S.jsx)(A.O,{className:"inline"})]})}),Object(S.jsx)("h1",{className:"text-xl lg:text-3xl font-bold mb-1 mt-2 text-gray-700",children:"Add center, with the trainers"}),Object(S.jsx)("p",{className:"text-gray-500",children:"It looks like you haven't created a center yet, click on the button bellow"})]})})})},L=function(e){var t=e.click;return Object(S.jsx)("div",{className:"p-2 py-8",children:Object(S.jsxs)("div",{className:"text-center",children:[Object(S.jsx)("div",{className:"mx-auto",children:Object(S.jsx)("div",{className:"text-gray-400 bg-gray-100 inline-block rounded-xl text-6xl mx-auto  text-center",children:Object(S.jsx)(A.E,{className:"inline"})})}),Object(S.jsx)("h1",{className:"text-xl lg:text-2xl font-bold mb-1 mt-2 text-gray-700",children:"Add groups, with the trainers"}),Object(S.jsxs)("p",{className:"text-gray-500",children:["It looks like you haven't yet added a group on this center, ",Object(S.jsx)("br",{}),"click on the button bellow to add a group"]}),Object(S.jsx)("div",{className:"py-3",children:Object(S.jsx)(h.a,{onClick:function(){return t()},children:"Add a group to this center"})})]})})},q=void 0,B={target:null,msg:""},Y=function(e){var t=e.addTraineeToGroup,a=e.group,n=e.trainers,s=e.deleteCenterGroup,c=e.delete_group_loading,r=e.updatedRoomCapacity,l=e.loading_delete_trainer,o=e.removeTrainerHandler,j=Object(d.useState)(0),b=Object(O.a)(j,2),x=b[0],m=b[1],g=Object(d.useState)(!1),p=Object(O.a)(g,2),_=p[0],f=p[1],N=Object(d.useState)(B),C=Object(O.a)(N,2),R=C[0],E=C[1],T=Object(d.useState)(null),I=Object(O.a)(T,2),k=I[0],w=I[1],D=n.filter((function(e){var t;return e.group_id.toString()===(null===a||void 0===a||null===(t=a.group_id)||void 0===t?void 0:t.toString())})),M=function(){return E(B)},z=function(){return setTimeout((function(){E(B)}),2e3)};return console.log({trainersList:D,group:a,trainers:n}),Object(S.jsxs)(S.Fragment,{children:["MAIN-ERROR"===R.target&&Object(S.jsx)(u.a,{theme:"danger",children:R.msg}),"MAIN-SUCCESS"===R.target&&Object(S.jsx)(u.a,{theme:"success",children:R.msg}),Object(S.jsxs)("div",{className:"p-2 rounded mb-2 hover:border-yellow-500 hover:border-2 hover:border bg-white flex border border-rounded",children:[Object(S.jsxs)("div",{className:"flex w-44",children:[null!==k&&Object(S.jsxs)("div",{className:"p-2 rounded items-center border mr-1 animate__animated animate__zoomIn animate__faster",children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("section",{className:"flex-1 ",children:Object(S.jsx)("h2",{className:"text-lg font-bold",children:"Update"})}),Object(S.jsx)("section",{children:Object(S.jsx)(h.a,{size:"sm",theme:"danger-light",onClick:w.bind(q,null),disabled:_,children:"close"})})]}),Object(S.jsxs)("div",{className:"pt-2",children:[Object(S.jsx)(v.a,{onChange:function(e){return m(+e.target.value)},value:x,error:"",label:"Trainee capacity",placeholder:"",name:""})," ",Object(S.jsx)("section",{className:"text-right pt-2",children:Object(S.jsx)(h.a,{onClick:function(){return k?x<=0?(M(),z(),E({target:"TRAINING-CAPACITY",msg:"The capacity must be greater than zero"})):(f(!0),void Object(y.I)({id:k.id.toString(),number_of_trainees:x,training_id:k.training_id},(function(e,t){f(!1),e?(E({target:"MAIN-SUCCESS",msg:"Data Updated successfully"}),r(Object(i.a)(Object(i.a)({},a),{},{number_of_trainees:x})),w(null)):E({target:"MAIN-ERROR",msg:"Error: ".concat(t)}),z()}))):(M(),z(),E({target:"TRAINING-CAPACITY",msg:"No room selected"}))},type:"button",theme:"success",loading:_,children:"Update capacity"})})]})]}),null===k&&Object(S.jsxs)("div",{className:"pl-2",children:[Object(S.jsxs)("div",{className:"flex-1 border-b pb-1",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Group:"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:a.group_name})]}),Object(S.jsxs)("div",{className:"flex-1 border-b py-1",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Center capacity"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:a.number_of_trainees})]}),Object(S.jsxs)("div",{className:"pt-2 pr-2",children:[Object(S.jsx)(h.a,{theme:"primary-light",onClick:function(){w(a),m(+a.number_of_trainees)},className:"w-full mb-2",children:"Edit capacity"}),Object(S.jsx)(h.a,{theme:"danger-light",className:"w-full",onClick:function(){return s({training_id:a.training_id,id:a.id.toString()})},disabled:null!==c,loading:(null===c||void 0===c?void 0:c.toString())===a.id.toString(),children:"Remove room"})]})]})]}),Object(S.jsxs)("div",{className:"flex-1 rounded p-2 border",children:[Object(S.jsxs)("div",{className:"flex items-center p-0.5 px-1 mb-1 rounded bg-gray-200",children:[Object(S.jsx)("section",{className:"flex-1 pl-2",children:Object(S.jsx)("h3",{className:"text-lg font-bold",children:"Trainers"})}),Object(S.jsx)("section",{className:"text-right",children:Object(S.jsxs)(h.a,{onClick:t.bind(q,a),children:["Add a trainer to Group: ",a.group_name]})})]}),Object(S.jsxs)("table",{className:"border w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-left",children:[Object(S.jsx)("th",{className:"p-1.5 border",children:"#"}),Object(S.jsx)("th",{className:"p-1.5 border",children:"NID"}),Object(S.jsx)("th",{className:"p-1.5 border",children:"Names"}),Object(S.jsx)("th",{className:"p-1.5 border",children:"Phone number"}),Object(S.jsx)("th",{className:"p-1.5 border",children:"Email"}),Object(S.jsx)("th",{className:"p-1.5 border w-10"})]})}),Object(S.jsxs)("tbody",{children:[D.length<=0&&Object(S.jsx)("tr",{children:Object(S.jsxs)("td",{className:"py-3 text-center",colSpan:20,children:[Object(S.jsx)("section",{className:"mx-auto text-center text-6xl opacity-50",children:Object(S.jsx)(A.Ib,{className:"inline"})}),Object(S.jsxs)("h2",{className:"font-bold opacity-50",children:["Add trainer","(s)"," to this room"]})]})}),D.map((function(e,t){return Object(S.jsxs)("tr",{className:"hover:bg-yellow-100 text-sm",children:[Object(S.jsx)("td",{className:"p-2 border",children:t+1}),Object(S.jsx)("td",{className:"p-2 border",children:e.nid}),Object(S.jsxs)("td",{className:"p-2 border",children:[e.first_name," ",e.last_name]}),Object(S.jsx)("td",{className:"p-2 border",children:e.phone_numbers}),Object(S.jsx)("td",{className:"p-2 border",children:e.email}),Object(S.jsxs)("td",{className:"p-0.5 text-center border",children:[",",Object(S.jsx)(h.a,{size:"sm",theme:"danger-light",type:"button",onClick:o.bind(q,e.user_id.toString()),disabled:null!==l,loading:(null===l||void 0===l?void 0:l.toString())===e.user_id.toString(),children:"Remove"})]})]},t)}))]})]})]})]})]})},H=void 0,V=function(e){var t,a=e.addGroupHandler,n=e.center,i=e.selected,s=e.selectHandler,c=e.trainers,r=e.groups,l=e.deleteCenterGroup,d=e.updatedRoomCapacity,o=e.delete_group_loading,j=e.setAddTrainer,b=e.loading_delete_trainer,u=e.removeTrainerHandler,x=r.filter((function(e){return e.center_id+""===n.center_id+""})),m=0,g=Object(P.a)(x);try{for(g.s();!(t=g.n()).done;){m+=+t.value.number_of_trainees}}catch(O){g.e(O)}finally{g.f()}return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:" rounded-lg overflow-hidden hover:border-yellow-700 bg-white border mb-3 items-center",children:[Object(S.jsxs)("div",{className:"lg:flex sm:grid sm:grid-cols-2 w-full items-center py-2",children:[Object(S.jsx)("div",{className:" text-yellow-700 pl-2",children:Object(S.jsx)("label",{className:"text-4xl",children:Object(S.jsx)(A.ib,{})})}),Object(S.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Center type"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===n||void 0===n?void 0:n.center_type_name})]}),Object(S.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Center name"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===n||void 0===n?void 0:n.center_name})]}),Object(S.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"District"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===n||void 0===n?void 0:n.district_name})]}),Object(S.jsxs)("div",{className:"pl-2 w-36 border-r",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Center capacity"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:m})]}),Object(S.jsxs)("div",{className:"pl-2 w-36",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Total Trainers"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:"40"})]}),Object(S.jsxs)("div",{className:"text-right flex pr-2",children:[i.toString()===n.id.toString()?Object(S.jsx)("div",{className:"flex gap-2",children:Object(S.jsx)(h.a,{theme:"accent-light",onClick:a.bind(H,n),disabled:null!==o,children:"Add a group"})}):Object(S.jsx)(h.a,{theme:"primary-light",onClick:function(){return s(n.id.toString())},disabled:null!==o,children:"Open"}),Object(S.jsx)("div",{className:"text-right pl-2 pr-2",children:i.toString()===n.id.toString()&&Object(S.jsx)(h.a,{theme:"default",onClick:function(){return s("")},disabled:null!==o,children:"Close"})})]})]}),i.toString()===n.id.toString()&&Object(S.jsxs)("div",{className:"p-4 bg-gray-300 bg-opacity-25 border-t animate__animated animate__zoomIn animate__faster",children:[x.length>=1&&Object(S.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Groups list"}),x.map((function(e,t){return Object(S.jsx)(Y,{addTraineeToGroup:j,updatedRoomCapacity:d,group:e,trainers:c,deleteCenterGroup:l,delete_group_loading:o,loading_delete_trainer:b,removeTrainerHandler:u},t)})),x.length<=0&&Object(S.jsx)(L,{click:a.bind(H,n)})]})]})})},K=function(e){var t=e.search,a=e.setSearch,n=e.total_centers,i=e.total_groups,s=e.total_trainers,c=e.total_trainees,r=e.clickAction;return Object(S.jsx)(x.a,{className:"-mt-7 mb-4",children:Object(S.jsxs)("div",{className:"lg:flex gap-3 items-center w-full flex-items-center pt-3 bg-white ",children:[Object(S.jsxs)("section",{className:"pr-4",children:[Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Training Centers"}),Object(S.jsx)("p",{className:"text-sm text-gray-400 hidden lg:block -mt-1",children:"Location for your trainings"})]}),Object(S.jsxs)("div",{className:"flex gap-3 w-full lg:w-auto",children:[n&&Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total centers"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:n})]}),i&&Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total groups"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:i})]}),s&&Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total trainers"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:s})]}),c&&Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total trainers"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:c})]})]}),Object(S.jsx)("section",{className:"flex-1 lg:px-4",children:Object(S.jsx)(_.a,{onChange:function(e){return a(e.target.value)},value:t,placeholder:"Search a center",name:"input-containers-search",size:"sm"})}),r&&Object(S.jsx)("section",{className:"text-right flex-right ",children:Object(S.jsx)(h.a,{onClick:r,children:"add a center"})})]})})},W={target:null,msg:""},J=function(e){var t,a,i,s,c=e.training,r=e.addCenter,l=e.deleteCenterGroup,o=e.delete_group_loading,j=e.addGroupHandler,b=e.updatedRoomCapacity,m=e.nextStep,v=e.prevStep,C=e.successSubmitTrainer,R=e.removeTrainerSuccess,E=Object(d.useState)(W),A=Object(O.a)(E,2),T=A[0],I=A[1],k=Object(d.useState)(""),w=Object(O.a)(k,2),M=w[0],z=w[1],U=Object(d.useState)(""),G=Object(O.a)(U,2),L=G[0],q=G[1],B=Object(d.useState)(""),Y=Object(O.a)(B,2),H=Y[0],J=Y[1],Q=Object(d.useState)(null),Z=Object(O.a)(Q,2),$=Z[0],X=Z[1],ee=Object(d.useState)(""),te=Object(O.a)(ee,2),ae=te[0],ne=te[1],ie=Object(d.useState)(!1),se=Object(O.a)(ie,2),ce=se[0],re=se[1],le=Object(d.useState)(null),de=Object(O.a)(le,2),oe=de[0],je=de[1],be=Object(d.useState)([]),ue=Object(O.a)(be,2),he=ue[0],xe=ue[1],me=Object(d.useState)(null),ge=Object(O.a)(me,2),Oe=ge[0],pe=ge[1],_e=function(e){window.confirm("Are you sure you want remove this trainer to the training")&&(console.log("Delete: ",e),pe(e),Object(y.C)(e,c.id,(function(t,a){t?(I({target:"MAIN-SUCCESS",msg:"User has been removed to this training!"}),R(e)):I({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),Ce(),pe(null)})))},ve=[],fe=Object(P.a)(c.groups||[]);try{var Ne=function(){var e=s.value;void 0===ve.find((function(t){var a;return(null===(a=t.center_id)||void 0===a?void 0:a.toString())===e.center_id+""}))&&ve.push(e)};for(fe.s();!(s=fe.n()).done;)Ne()}catch(Ae){fe.e(Ae)}finally{fe.f()}var ye=Object(N.n)(he,ae,{nid:!0,first_name:!0,full_name:!0,last_name:!0,phone_numbers:!0,email:!0}),Se=Object(N.n)(ve||[],M,{name:!0,district_name:!0,center_type_name:!0}),Ce=function(){setTimeout((function(){I(W)}),3e3)},Re=function(e){window.confirm("Are you sure you want to add ".concat(e.full_name," to this training?"))&&(je(e),Object(y.d)({training_id:c.id+"",training_to_group_id:(null===$||void 0===$?void 0:$.id)+"",user_id:e.user_id},(function(t,a){t?(I({target:"MAIN-SUCCESS",msg:"Candidate has been added to the training"}),C({email:e.email,group_id:(null===$||void 0===$?void 0:$.group_id)+"",id:(null===$||void 0===$?void 0:$.id)+"",phone_numbers:e.phone_numbers,training_to_group_id:(null===$||void 0===$?void 0:$.id)+"",status:"ACTIVE",user_id:e.user_id,first_name:e.first_name,full_name:e.full_name,last_name:e.last_name,nid:e.nid,staff_code:e.staff_code,training_id:c.id})):I({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),je(null),Ce()})))},Ee=[{title:"",value:""}].concat(Object(n.a)(c.trainer_institution?c.trainer_institution.map((function(e){return{title:e.name+"",value:e.id+""}})):[]));return Object(S.jsxs)(S.Fragment,{children:["MAIN-SUCCESS"===T.target&&Object(S.jsx)(u.a,{theme:"success",fixed:!0,children:T.msg}),"MAIN-ERROR"===T.target&&Object(S.jsx)(u.a,{theme:"danger",fixed:!0,children:T.msg}),null!==$&&Object(S.jsx)(f.c,{backDrop:!0,close:function(){return X(null)},backDropClose:!1,displayClose:!0,widthSizeClass:f.a.large,padding:{title:!0,body:void 0,footer:void 0},title:"Add trainer to training",children:null!==oe?Object(S.jsxs)("div",{className:"py-6 text-center border-t",children:[Object(S.jsx)("section",{className:"inline-block",children:Object(S.jsx)(g.a,{})}),Object(S.jsxs)("h2",{className:"pt-3 text-xl",children:["Adding ",Object(S.jsx)("b",{children:oe.full_name})," to this training"]})]}):Object(S.jsxs)("div",{className:"border-t p-4",children:[Object(S.jsxs)("div",{className:"flex w-full gap-2 items-center",children:[Object(S.jsx)("section",{children:Object(S.jsx)(p.a,{onChange:function(e){return function(e){if(J(e),xe([]),null===e)return xe([]),void I(W);re(!0),Object(y.z)({end_date:c.end_date+"",start_date:c.start_date+"",training_institution_id:e},(function(e,t,a){e||(I({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),Ce()),re(!1),xe(t)}))}(e.target.value)},value:H,error:"",label:"Training institution",placeholder:"",name:"",data:Ee,disabled:ce})}),Object(S.jsx)("section",{className:"flex-1 pt-3",children:Object(S.jsx)(_.a,{onChange:function(e){return ne(e.target.value)},value:ae,placeholder:"",name:""})})]}),ce&&Object(S.jsx)("div",{className:"text-center py-4",children:Object(S.jsx)(g.a,{})}),""===H&&Object(S.jsx)("div",{className:"py-5 text-center border-t",children:Object(S.jsxs)("h2",{className:"text-2xl text-gray-400 ",children:["Please select an institution, ",Object(S.jsx)("br",{})," in order to get the list of trainers"]})}),!ce&&""!==H&&Object(S.jsxs)("table",{className:"border w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"p-2 border",children:"#"}),Object(S.jsx)("th",{className:"p-2 border",children:"Nid"}),Object(S.jsx)("th",{className:"p-2 border",children:"Names"}),Object(S.jsx)("th",{className:"p-2 border",children:"Email"}),Object(S.jsx)("th",{className:"p-2 border",children:"Phone"}),Object(S.jsx)("th",{className:"p-2 border w-10"})]})}),Object(S.jsxs)("tbody",{children:[ye.length<=0&&Object(S.jsx)("tr",{children:Object(S.jsx)("td",{className:"py-5 text-center",colSpan:12,children:Object(S.jsx)("h2",{className:"text-2xl text-gray-600",children:"No results found!"})})}),ye.map((function(e,t){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"p-2 border",children:t+1}),Object(S.jsx)("td",{className:"p-2 border",children:e.nid}),Object(S.jsx)("td",{className:"p-2 border",children:e.full_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.email}),Object(S.jsx)("td",{className:"p-2 border",children:e.phone_numbers}),Object(S.jsx)("td",{className:"p-1 border",children:Object(S.jsx)(h.a,{size:"sm",onClick:Re.bind(undefined,e),children:"Open"})})]},t)}))]})]})]})}),Object(S.jsx)(K,{search:M,clickAction:r,setSearch:z,total_centers:null===(t=c.centers)||void 0===t?void 0:t.length,total_groups:null===(a=c.groups)||void 0===a?void 0:a.length,total_trainees:1e3,total_trainers:null===(i=c.trainers)||void 0===i?void 0:i.length}),Object(S.jsx)(x.a,{transparent:!0,className:"-mt-7",children:Object(S.jsx)("div",{className:"",children:Object(S.jsxs)("div",{className:"",children:[ve&&ve.length<=0&&Object(S.jsx)(F,{click:function(){}}),Se.map((function(e,t){return Object(S.jsx)(V,{updatedRoomCapacity:b,deleteCenterGroup:l,addGroupHandler:j,center:e,selectHandler:function(e){return q(e)},selected:L,trainers:c.trainers||[],groups:c.groups?c.groups:[],delete_group_loading:o,setAddTrainer:function(e){return X(e)},loading_delete_trainer:Oe,removeTrainerHandler:_e},t)}))]})})}),Object(S.jsx)(D,{children:Object(S.jsxs)("div",{className:"text-right  flex-1 flex",children:[v&&Object(S.jsx)("section",{className:"flex-1 text-left",children:Object(S.jsx)(h.a,{theme:"default",onClick:v,loading:!1,children:"Previous"})}),m&&Object(S.jsx)("section",{className:"flex-1 text-right",children:Object(S.jsx)(h.a,{loading:!1,onClick:m,children:"Next"})})]})})]})},Q=a(96),Z=a(356),$=function(e){var t=e.title,a=e.title_key,n=e.description,i=e.addButton,s=e.disable;return Object(S.jsxs)("div",{className:"p-2 border rounded bg-white",children:[Object(S.jsxs)("div",{className:"flex items-center border-b pb-1",children:[Object(S.jsxs)("section",{className:"flex-1",children:[Object(S.jsx)("h3",{className:"text-lg font-bold",children:t}),Object(S.jsx)("p",{className:"text-sm text-gray-500",children:n})]}),Object(S.jsx)("section",{children:i&&Object(S.jsxs)(h.a,{onClick:i,theme:"accent-light",disabled:s,children:["Add ",a]})})]}),Object(S.jsx)("div",{className:"py-2 h-44 overflow-auto",children:e.children})]})},X=function(e){var t=e.title,a=e.removeItem,n=e.el,i=e.loadingRemove,s=e.id;return Object(S.jsxs)("div",{className:"flex p-1 mb-2 bg-gray-100 rounded border items-center",children:[Object(S.jsx)("section",{className:"pr-2 text-gray-400",children:n}),Object(S.jsx)("section",{className:"flex-1 font-bold",children:Object(S.jsx)("h4",{children:t})}),Object(S.jsx)("section",{children:Object(S.jsx)(h.a,{size:"sm",theme:"danger-light",disabled:null!==i,loading:i===s.toString(),onClick:a,children:"Remove"})})]})},ee=void 0,te={msg:"",target:null},ae={districts:[],levels:[],positions:[],qualifications:[],sectors:[],strict:0,subjects:[],education_certificate:[],training_id:""},ne=function(e){var t=e.training,a=e.successCriterial,s=e.nextStep,c=e.prevStep,r=Object(d.useState)(ae),l=Object(O.a)(r,2),o=l[0],j=l[1],b=Object(d.useState)(!1),v=Object(O.a)(b,2),N=v[0],C=v[1],R=Object(d.useState)(te),E=Object(O.a)(R,2),T=E[0],I=E[1],k=Object(d.useState)(null),w=Object(O.a)(k,2),M=w[0],z=w[1],U=Object(d.useState)(!1),G=Object(O.a)(U,2),P=G[0],F=G[1],L=Object(d.useState)(!1),q=Object(O.a)(L,2),B=q[0],Y=q[1],H=Object(d.useState)(!1),V=Object(O.a)(H,2),K=V[0],W=V[1],J=Object(d.useState)(!1),ne=Object(O.a)(J,2),ie=ne[0],se=ne[1],ce=Object(d.useState)(!1),re=Object(O.a)(ce,2),le=re[0],de=re[1],oe=Object(d.useState)(!1),je=Object(O.a)(oe,2),be=je[0],ue=je[1],he=Object(d.useState)(!1),xe=Object(O.a)(he,2),me=xe[0],ge=xe[1],Oe=Object(d.useState)(!1),pe=Object(O.a)(Oe,2),_e=pe[0],ve=pe[1],fe=Object(d.useState)(!1),Ne=Object(O.a)(fe,2),ye=Ne[0],Se=Ne[1],Ce=Object(d.useState)(!1),Re=Object(O.a)(Ce,2),Ee=Re[0],Ae=Re[1],Te=Object(d.useState)(""),Ie=Object(O.a)(Te,2),ke=Ie[0],we=Ie[1],De=Object(d.useState)([]),Me=Object(O.a)(De,2),ze=Me[0],Ue=Me[1],Ge=Object(d.useState)(""),Pe=Object(O.a)(Ge,2),Fe=Pe[0],Le=Pe[1],qe=Object(d.useState)(!1),Be=Object(O.a)(qe,2),Ye=Be[0],He=Be[1],Ve=Object(d.useState)([]),Ke=Object(O.a)(Ve,2),We=Ke[0],Je=Ke[1],Qe=Object(d.useState)([]),Ze=Object(O.a)(Qe,2),$e=Ze[0],Xe=Ze[1];Object(d.useEffect)((function(){var e;t&&null!==(e=t.trainee_criteria)&&void 0!==e&&e.training_id&&!1===B&&(j(t.trainee_criteria),Y(!0)),Object(Z.b)((function(e,t,a){t&&Xe(t)}))}),[t,B]);var et=function(e){window.confirm("Are you sure you want to remove this item")&&j(Object(i.a)(Object(i.a)({},o),{},{subjects:o.subjects.filter((function(t){return t.course_code.toString()!==e.toString()}))}))},tt=function(){M||(C(!0),Object(y.p)((function(e,t,a){e&&t?z(t):I({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),C(!1)})))},at=function(e,t){j(Object(i.a)(Object(i.a)({},o),{},Object(Q.a)({},t,[].concat(Object(n.a)(o[t]),[e]))))},nt=function(e,t){window.confirm("Are you sure you want to remove this item")&&j(Object(i.a)(Object(i.a)({},o),{},Object(Q.a)({},t,o[t].filter((function(t){var a;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==e})))))},it=function(e){j(Object(i.a)(Object(i.a)({},o),{},{subjects:[].concat(Object(n.a)(o.subjects),[e])}))};return Object(S.jsxs)(S.Fragment,{children:[me&&Object(S.jsxs)(f.c,{backDrop:!0,close:ge.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add subjects",children:[Object(S.jsx)("div",{className:"p-2 border-b",children:Object(S.jsx)(p.a,{onChange:function(e){we(e.target.value),function(e){if(""===e)return Ue([]);Ae(!0),Object(y.w)(e,(function(e,t,a){t&&Ue(t),e||I({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),Ae(!1)}))}(e.target.value)},value:ke,error:"",label:"",placeholder:"",name:"",data:[{title:"",value:""}].concat(Object(n.a)(o.levels.map((function(e){return{title:e.name+"",value:e.id+""}})))),disabled:Ee})}),Object(S.jsxs)("div",{className:"border-t p-2",children:[Ee&&Object(S.jsx)("div",{className:"py-8 text-center",children:Object(S.jsx)("div",{className:"inline-block",children:Object(S.jsx)(g.a,{})})}),ze.map((function(e,t){var a=o.subjects.find((function(t){return t.course_code+""===e.course_code+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsxs)("b",{children:[e.course_code," - ",e.course_name," - ",e.level_name]})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(h.a,{onClick:et.bind(ee,e.course_code),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:it.bind(ee,e),children:"Add"})})]},e.course_code)}))]})]}),P&&Object(S.jsx)(f.c,{backDrop:!0,close:F.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add district",children:Object(S.jsx)("div",{className:"border-t p-2",children:$e.map((function(e,t){var a=o.districts.find((function(t){return t.id+""===e.district_code+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.district_name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(h.a,{onClick:nt.bind(ee,e.district_code,"districts"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,{name:e.district_name,id:e.district_code.toString()},"districts"),children:"Add"})})]},e.district_code)}))})}),ie&&Object(S.jsxs)(f.c,{backDrop:!0,close:se.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add levels",children:[N&&Object(S.jsx)("div",{className:"text-center py-2",children:Object(S.jsx)(g.a,{className:"inline-block"})}),Object(S.jsx)("div",{className:"border-t p-2",children:M&&M.school_level.map((function(e,t){var a=o.levels.find((function(t){return t.id+""===e.level_code+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.level_name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(h.a,{onClick:nt.bind(ee,e.level_code,"levels"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,{name:e.level_name,id:e.level_code.toString()},"levels"),children:"Add"})})]},e.level_name)}))})]}),le&&Object(S.jsxs)(f.c,{backDrop:!0,close:de.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add Qualification",children:[N&&Object(S.jsx)("div",{className:"text-center py-2",children:Object(S.jsx)(g.a,{className:"inline-block"})}),Object(S.jsx)("div",{className:"border-t p-2",children:M&&M.qualifications.map((function(e,t){var a=o.qualifications.find((function(t){return t.id+""===e.id+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(h.a,{onClick:nt.bind(ee,e.id+"","qualifications"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,e,"qualifications"),children:"Add"})})]},e.id)}))})]}),_e&&Object(S.jsxs)(f.c,{backDrop:!0,close:ve.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add Education certificates",children:[N&&Object(S.jsx)("div",{className:"text-center py-2",children:Object(S.jsx)(g.a,{className:"inline-block"})}),Object(S.jsx)("div",{className:"border-t p-2",children:M&&M.education_certificate.map((function(e,t){var a=o.qualifications.find((function(t){return t.id+""===e.id+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(h.a,{onClick:nt.bind(ee,e.id+"","qualifications"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,e,"education_certificate"),children:"Add"})})]},e.id)}))})]}),K&&Object(S.jsxs)(f.c,{backDrop:!0,close:W.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},widthSizeClass:f.a.large,title:"Add Positions",children:[Object(S.jsx)("div",{className:"px-2 py-0.5 border-t border-p",children:Object(S.jsx)(_.a,{onChange:function(e){},value:"",placeholder:"Search by position or code",name:"",size:"sm"})}),Object(S.jsxs)("div",{className:"border-t p-2 h-80vh overflow-auto",children:[N&&Object(S.jsx)("div",{className:"text-center py-2",children:Object(S.jsx)(g.a,{className:"inline-block"})}),M&&M.positions.map((function(e,t){var a=o.positions.find((function(t){return t.id+""===e.id+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(h.a,{onClick:nt.bind(ee,e.id+"","positions"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,e,"positions"),children:"Add"})})]},t)}))]})]}),be&&Object(S.jsxs)(f.c,{backDrop:!0,close:ue.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},widthSizeClass:f.a.large,title:"Add Sector(s)",children:[Object(S.jsx)("div",{className:"px-2 py-0.5 border-t border-p flex gap-3",children:Object(S.jsx)("section",{children:Object(S.jsx)(p.a,{onChange:function(e){return function(e){if(Le(e),""===e)return Je([]);He(!0),Object(y.u)(e,(function(e,t,a){t&&Je(t),e||I({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),He(!1)}))}(e.target.value)},value:Fe,error:"",label:"Select Sector",placeholder:"",name:"",data:[{title:"Select district",value:""}].concat(Object(n.a)(o.districts.map((function(e){return{title:e.name+"",value:e.id+""}}))))})})}),Object(S.jsxs)("div",{className:"border-t p-2 h-80vh overflow-auto",children:[Ye&&Object(S.jsx)("div",{className:"text-center py-2",children:Object(S.jsx)("section",{className:"inline",children:Object(S.jsx)(g.a,{})})}),We.map((function(e,t){var a=o.sectors.find((function(t){return t.id+""===e.id+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(h.a,{onClick:nt.bind(ee,e.id+"","sectors"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,e,"sectors"),children:"Add"})})]},t)}))]})]}),"MAIN-ERROR"===T.target&&Object(S.jsx)(u.a,{theme:"danger",fixed:!0,children:T.msg}),"MAIN-SUCCESS"===T.target&&Object(S.jsx)(u.a,{theme:"success",fixed:!0,children:T.msg}),Object(S.jsxs)(x.a,{transparent:!0,children:[Object(S.jsxs)("div",{className:"p-2 border bg-white flex items-center",children:[Object(S.jsx)("section",{className:"text-4xl pr-2",children:Object(S.jsx)(A.ob,{})}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)(m.a,{size:"md",children:"Add training criterial"})}),Object(S.jsxs)("section",{className:"flex items-center pl-2 rounded-lg overflow-hidden bg-gray-100",children:[Object(S.jsx)("section",{children:1===o.strict?Object(S.jsxs)("p",{className:"m-0 pr-2 animate__animated animate__fadeIn animate__faster",children:["All the candidates ",Object(S.jsx)("br",{})," Must have the selected criteria"]}):Object(S.jsxs)("p",{className:"m-0 pr-2 animate__animated animate__fadeIn animate__faster",children:["All the candidates ",Object(S.jsx)("br",{}),"May or may not have the selected criteria"]})}),Object(S.jsx)(h.a,{theme:"default",size:"sm",type:"button",onClick:function(){j(Object(i.a)(Object(i.a)({},o),{},{strict:1===o.strict?0:1}))},children:Object(S.jsx)("h4",{className:"text-5xl",children:o.strict?Object(S.jsx)(A.sb,{className:"text-green-600"}):Object(S.jsx)(A.rb,{className:"text-red-500"})})})]})]}),Object(S.jsxs)("div",{className:"grid lg:grid-cols-2 gap-4 pt-3",children:[Object(S.jsxs)($,{description:"A trainee without one of these district (s) will not attend",title:"Districts",title_key:"district",addButton:function(){F(!0),tt()},disable:ye,children:[o.districts.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.districts.map((function(e,t){return Object(S.jsx)(X,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:nt.bind(ee,e.id+"","districts"),title:e.name},t)}))]}),Object(S.jsxs)($,{description:"A trainee without one of these district (s) will not attend",title:"Levels",title_key:"level",addButton:function(){se(!0),tt()},disable:ye,children:[o.levels.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.levels.map((function(e,t){return Object(S.jsx)(X,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:nt.bind(ee,e.id+"","levels"),title:e.name},t)}))]}),Object(S.jsxs)($,{disable:ye,description:"A trainee without one of these qualifications (s) will not attend",title:"Qualifications",title_key:"qualification",addButton:function(){de(!0),tt()},children:[o.qualifications.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.qualifications.map((function(e,t){return Object(S.jsx)(X,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:nt.bind(ee,e.id+"","qualifications"),title:e.name},t)}))]}),Object(S.jsxs)($,{disable:ye,description:"A trainee without one of these positions (s) will not attend",title:"Position",title_key:"position",addButton:function(){W(!0),tt()},children:[o.positions.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.positions.map((function(e,t){return Object(S.jsx)(X,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:nt.bind(ee,e.id+"","positions"),title:e.name},t)}))]}),Object(S.jsxs)($,{disable:ye,description:"A trainee without one of these subjects (s) will not attend",title:"Subjects",title_key:"subject",addButton:function(){ge(!0)},children:[o.subjects.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.subjects.map((function(e,t){return Object(S.jsx)(X,{el:t+1,id:e.course_code+"",loadingRemove:null,removeItem:et.bind(ee,e.course_code),title:"".concat(e.course_code," - ").concat(e.course_name," - ").concat(e.level_name)},t)}))]}),Object(S.jsxs)($,{disable:ye,description:"",title:"Education certified",title_key:"education certificate type",addButton:function(){ve(!0),tt()},children:[o.education_certificate.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.education_certificate.map((function(e,t){return Object(S.jsx)(X,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:nt.bind(ee,e.id+"","education_certificate"),title:"".concat(e.name," ")},t)}))]}),(o.districts&&o.districts.length>=1||o.sectors.length>=1)&&Object(S.jsxs)($,{disable:ye,description:"A trainee must come from one of these sector(s) will not attend",title:"Sectors",title_key:"sector",addButton:function(){ue(!0)},children:[o.sectors.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.sectors.map((function(e,t){return Object(S.jsx)(X,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:nt.bind(ee,e.id+"","sectors"),title:"".concat(e.name," ")},t)}))]})]})]}),Object(S.jsx)(D,{children:Object(S.jsxs)("div",{className:"text-right  flex-1 flex",children:[c&&Object(S.jsx)("section",{className:"flex-1 text-left",children:Object(S.jsx)(h.a,{theme:"default",onClick:c,loading:!1,children:"Previous"})}),s&&Object(S.jsx)("section",{className:"flex-1 text-right",children:Object(S.jsx)(h.a,{loading:ye,theme:"success",onClick:function(){t&&(Se(!0),Object(y.H)({districts:o.districts,levels:o.levels,positions:o.positions,qualifications:o.qualifications,sectors:o.sectors,subjects:o.subjects,strict:1,training_id:null===t||void 0===t?void 0:t.id,education_certificate:o.education_certificate},(function(e,t){e?(I({target:"MAIN-SUCCESS",msg:"Criterial updated successfully"}),a(o)):I({target:"MAIN-ERROR",msg:"Error: ".concat(t)}),setTimeout((function(){null===s||void 0===s||s()}),1e3),Se(!1)})))},children:"Update & Continue"})})]})})]})},ie=a(3),se=a(6),ce=a(560),re=a(8),le=a(7),de=a.n(le),oe=a(11),je=a(94),be=a(12),ue={target:null,msg:""},he=function(e){var t=e.training,a=e.submitTrainingResource,i=e.loading_materials,s=e.uploadFileSuccess,c=e.prevStep,r=e.stake_holder_id,l=Object(d.useState)([]),o=Object(O.a)(l,2),j=o[0],b=o[1],g=Object(d.useState)(!1),p=Object(O.a)(g,2),_=p[0],N=p[1],C=Object(d.useState)(ue),R=Object(O.a)(C,2),E=R[0],T=R[1],I=Object(d.useState)(""),k=Object(O.a)(I,2),w=k[0],M=k[1],z=Object(d.useState)(""),U=Object(O.a)(z,2),G=U[0],P=U[1],F=Object(d.useState)(""),L=Object(O.a)(F,2),q=L[0],B=L[1],Y=Object(d.useState)(!1),H=Object(O.a)(Y,2),V=H[0],K=H[1],W=Object(d.useState)(null),J=Object(O.a)(W,2),Q=J[0],Z=J[1],$=Object(d.useState)(0),X=Object(O.a)($,2),ee=X[0],te=X[1],ae=Object(d.useState)(!1),ne=Object(O.a)(ae,2),le=ne[0],he=ne[1];Object(d.useEffect)((function(){null!==t&&void 0!==t&&t.material_links&&b(null===t||void 0===t?void 0:t.material_links)}),[t]);var xe=function(){return setTimeout((function(){T(ue)}),3e3)},me=function(e){if(window.confirm("Are you sure you want to remove this resource??")){var t=j.filter((function(t){var a;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==e}));a(t),b(t),N(!1)}},ge=function(){var e=Object(se.a)(Object(ie.a)().mark((function e(){var a;return Object(ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.prev=1,(a=new FormData).append("development_partner_id",r),a.append("id",(null===t||void 0===t?void 0:t.id)+""),a.append("agenda_file_name",Q[0]),Object(re.a)(),e.next=9,de.a.patch(y.db,a,{onUploadProgress:function(e){var t=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100;te(t)}});case 9:Z(null),te(0),T({target:"MAIN-SUCCESS",msg:"Document uploaded successfully!"}),s(Q[0].name),setTimeout((function(){T(ue)}),3e3),K(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),T({target:"MAIN-ERROR",msg:"Error: ".concat(Object(oe.a)(e.t0))}),K(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:["MAIN-SUCCESS"===E.target&&Object(S.jsx)(u.a,{theme:"success",fixed:!0,children:E.msg}),"MAIN-ERROR"===E.target&&Object(S.jsx)(u.a,{theme:"danger",fixed:!0,children:E.msg}),_&&Object(S.jsx)(f.c,{backDrop:!0,close:function(){return N(!1)},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add training Material(s) ",children:Object(S.jsxs)("div",{className:"border-t p-2",children:[Object(S.jsx)("section",{className:"p-2",children:Object(S.jsx)(v.a,{onChange:function(e){return M(e.target.value)},value:w,error:"",label:"Title",placeholder:"",disabled:i,name:""})}),Object(S.jsx)("section",{className:"p-2",children:Object(S.jsx)(v.a,{onChange:function(e){return P(e.target.value)},value:G,error:"",label:"Description",placeholder:"",name:"",disabled:i})}),Object(S.jsx)("section",{className:"p-2",children:Object(S.jsx)(v.a,{onChange:function(e){return B(e.target.value)},value:q,error:"",label:"Material link from e-learning",placeholder:"",name:"",disabled:i})}),Object(S.jsx)("div",{className:"p-2 text-right",children:Object(S.jsx)(h.a,{type:"button",onClick:function(){if(w.length<=1)return xe(),T({target:"MAIN-ERROR",msg:"Please provide a name"});if(q.length<=1)return xe(),T({target:"MAIN-ERROR",msg:"Please provide a link"});var e={description:G,title:w,url:q,id:Object(ce.a)()};a([].concat(Object(n.a)(j),[e])),b([].concat(Object(n.a)(j),[e])),N(!1),M(""),P(""),B("")},loading:i,children:"Add material"})})]})}),le&&Object(S.jsx)(f.c,{widthSizeClass:f.a.maxWidth,backDrop:!0,close:function(){return he(!1)},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Agenda file preview",children:Object(S.jsx)("div",{className:"border-t",children:Object(S.jsx)(je.a,{file_url:"".concat(be.a).concat(null===t||void 0===t?void 0:t.agenda_file_name),class_name:"w-full h-100vh",frame_title:"",setLoadingFile:function(){}})})}),Object(S.jsxs)(x.a,{children:[Object(S.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(S.jsx)("section",{className:"text-5xl pr-2",children:Object(S.jsx)(A.j,{})}),Object(S.jsxs)("section",{children:[Object(S.jsx)(m.a,{size:"md",children:"Add training resource"}),Object(S.jsx)("p",{className:"text-gray-500",children:"Add the training plan and the resources"})]})]}),Object(S.jsxs)("div",{className:"p-2 flex w-full gap-4",children:[Object(S.jsx)("div",{className:"flex-1 py-4 text-center flex items-center bg-gray-100 rounded",children:!0===V?Object(S.jsxs)("div",{className:"text-center w-full",children:[Object(S.jsx)("section",{className:"text-8xl text-gray-500 pb-2 mx-auto animate__animated animate__fadeIn animate__infinite animate__slow",children:Object(S.jsx)(A.C,{className:"inline-block"})}),Object(S.jsxs)("div",{className:"px-5",children:[Object(S.jsx)("div",{className:"p-1  bg-blue-200 w-full rounded-full text-center",children:Object(S.jsxs)("section",{style:{width:"".concat(ee,"%")},className:" rounded-full w-6 bg-blue-600 text-center text-white py-0.5 font-bold text-xs",children:[ee.toFixed(0),"%"]})}),Object(S.jsx)("h2",{className:"pt-2 font-bold text-lg text-gray-400 text-center",children:"Uploading agenda"})]})]}):Object(S.jsx)("div",{className:"text-center w-full",children:Object(S.jsxs)("section",{children:[null!==t&&void 0!==t&&t.agenda_file_name&&t.agenda_file_name.length>=1?Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"flex border m-2 mx-4 bg-white p-1",children:[Object(S.jsx)("section",{className:"text-6xl text-blue-500 pb-2 mx-auto",children:Object(S.jsx)(A.I,{className:"inline-block"})}),Object(S.jsxs)("section",{className:"text-left pt-2 flex-1 pl-2",children:[Object(S.jsx)("h4",{className:"text-lg font-bold",children:t.agenda_file_name}),Object(S.jsx)("button",{onClick:function(){return he(!0)},className:"p-2 px-0 text-blue-700 font-bold hover:underline",children:"Preview agenda document"})]})]}),Object(S.jsx)("p",{className:"text-gray-500 mb-3",children:"You can replace the agenda document by uploading the new one"})]}):Object(S.jsxs)("section",{children:[Object(S.jsx)("section",{className:"text-8xl text-gray-500 pb-2 mx-auto",children:Object(S.jsx)(A.x,{className:"inline-block"})}),Object(S.jsx)("h2",{className:"text-2xl font-bold",children:"Upload agenda document"}),Object(S.jsx)("p",{className:"text-gray-500 mb-3",children:Object(S.jsx)("b",{children:"1MB max"})})]}),Object(S.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),Q.length<=0)return T({target:"MAIN-ERROR",msg:"Pease provide a file"}),void xe();ge()},children:Object(S.jsxs)("div",{className:"flex gap-3 bg-blue-100 items-center p-2 m-2 rounded",children:[Object(S.jsx)("div",{className:"flex-1 ",children:Object(S.jsx)("input",{type:"file",className:"p-2 border rounded bg-white w-full text-xl",onChange:function(e){return Z(e.target.files)}})}),Object(S.jsx)(h.a,{theme:"primary",size:"lg",children:"Upload"})]})})," "]})})}),Object(S.jsxs)("div",{className:"flex-1 rounded border p-2",children:[Object(S.jsxs)("section",{className:"text-center border-b p-2 flex items-center",children:[Object(S.jsx)("section",{className:"text-2xl p-2 inline-block rounded-lg bg-blue-100 text-blue-600",children:Object(S.jsx)(A.hb,{className:"block"})}),Object(S.jsx)("h3",{className:"text-xl flex-1 font-bold text-left pl-2",children:"E-learning material links"}),Object(S.jsx)("section",{children:Object(S.jsx)(h.a,{theme:"success-light",onClick:function(){return N(!0)},children:"Add material"})})]}),Object(S.jsx)("div",{className:"p-3",children:j.map((function(e,t){return Object(S.jsxs)("section",{className:"p-2 border mb-2 rounded items-center border-blue-600 bg-blue-50 bg-opacity-40 hover:bg-blue-50 flex",children:[Object(S.jsx)("section",{className:"text-4xl pr-1 text-blue-600",children:Object(S.jsx)(A.hb,{className:"block"})}),Object(S.jsxs)("section",{className:"flex-1",children:[Object(S.jsx)("h2",{className:"font-bold hover:text-blue-500 hover:underline",children:e.title}),Object(S.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),Object(S.jsx)("section",{children:Object(S.jsx)(h.a,{theme:"danger-light",size:"sm",onClick:me.bind(undefined,e.id+""),disabled:i,children:Object(S.jsx)("h3",{className:"text-2xl",children:Object(S.jsx)(A.u,{})})})})]},t)}))})]})]})]}),Object(S.jsx)(D,{children:Object(S.jsxs)("div",{className:"text-right  flex-1 flex",children:[c&&Object(S.jsx)("section",{className:"flex-1 text-left",children:Object(S.jsx)(h.a,{theme:"default",onClick:c,loading:!1,children:"Previous"})}),Object(S.jsx)("section",{className:"flex-1 text-right",children:Object(S.jsx)(h.a,{loading:!1,children:"Next"})})]})})]})},xe={target:null,msg:""},me=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(s.a)(this,a),(c=t.call(this,e)).updatedRoomCapacity=function(e){console.log({update_room:e}),c.state.training&&c.state.training.groups&&c.setState({training:Object(i.a)(Object(i.a)({},c.state.training),{},{groups:c.state.training.groups.map((function(t){var a;return t.id.toString()===(null===e||void 0===e||null===(a=e.id)||void 0===a?void 0:a.toString())?Object(i.a)(Object(i.a)({},t),{},{number_of_trainees:e.number_of_trainees}):t}))})})},c.setStepOne__title=function(e){return c.setState({step_one__title:e})},c.setStepOne__description=function(e){return c.setState({step_one__description:e})},c.setStepOne__start_date=function(e){return c.setState({step_one__start_date:e})},c.setStepOne__end_date=function(e){return c.setState({step_one__end_date:e})},c.setStepOne__sub_area=function(e){return c.setState({step_one__sub_area:e})},c.setStepOne__budget=function(e){return c.setState({step_one__budget:e})},c.setStepOne__topic=function(e){return c.setState({step_one__topic:e})},c.AddTrainingInstitution=function(e){var t;c.state.training&&window.confirm("Are you sure you want to save changes")&&(c.setState({alert:xe,loading__add_training_institution:!0}),Object(b.e)({training_id:null===(t=c.state.training)||void 0===t?void 0:t.id,data:e},(function(e,t,a){!0===e?(c.setState({alert:{target:"SUCCESS-ADD-TRAINING-INSTITUTION",msg:"The new institution has been added"},training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{trainer_institution:c.state.training.trainer_institution?[].concat(Object(n.a)(c.state.training.trainer_institution),Object(n.a)(t)):Object(n.a)(t)}):c.state.training,loading__add_training_institution:!1}),c.cleanError(),setTimeout((function(){c.setState({add_training_institution:!1})}),3500)):c.setState({alert:{target:"ERROR-ADD-TRAINING-INSTITUTION",msg:"Error: ".concat(a)},loading__add_training_institution:!1}),c.cleanError()})))},c.AddTraineeCategory=function(e){c.state.training&&window.confirm("Are you sure you want to save changes")&&(c.setState({alert:xe,loading__add_trainee_category:!0}),Object(b.c)({training_id:c.state.training.id,data:e},(function(e,t,a){!0===e?(c.setState({alert:{target:"SUCCESS-ADD-TRAINEE-CATEGORY",msg:"The new trainee categories has been added"},training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{trainee_category:c.state.training.trainee_category?[].concat(Object(n.a)(c.state.training.trainee_category),Object(n.a)(t)):Object(n.a)(t)}):c.state.training,loading__add_trainee_category:!1}),c.cleanError(),setTimeout((function(){c.setState({add_trainee_category:!1})}),3500)):c.setState({alert:{target:"ERROR-ADD-TRAINEE-CATEGORY",msg:"Error: ".concat(a)},loading__add_trainee_category:!1})})))},c.DeleteTrainingInstitution=function(e){c.state.training&&window.confirm("Are you sure you want to remove the institution to this training?")&&(c.setState({delete_training_institution:e,alert:xe}),Object(b.w)({training_id:c.state.training.id,id:e.toString()},(function(t,a){t?(c.setState({delete_training_institution:null,alert:{target:"MAIN-SUCCESS",msg:"Training institution has been removed to this training"},training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{trainer_institution:c.state.training.trainer_institution?c.state.training.trainer_institution.filter((function(t){return(null===t||void 0===t?void 0:t.id)+""!==e+""})):c.state.training.trainer_institution}):c.state.training}),c.cleanError()):c.setState({delete_training_institution:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)}})})))},c.DeleteTraineeCategory=function(e){c.state.training&&window.confirm("Are you sure you want to remove the trainee category to this training?")&&(c.setState({delete_trainee_category:e,alert:xe}),Object(b.u)({training_id:c.state.training.id,id:e.toString()},(function(t,a){t?c.setState({delete_trainee_category:null,alert:{target:"MAIN-SUCCESS",msg:"Trainee category has been removed to this training"},training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{trainee_category:c.state.training.trainee_category?c.state.training.trainee_category.filter((function(t){var a;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==e.toString()})):c.state.training.trainee_category}):c.state.training}):c.setState({delete_trainee_category:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)}})})))},c.saveStepOneData=function(){var e,t;c.state.training&&(c.setState({loadingStepOneSave:!0}),Object(b.ac)({agenda_file_name:"this is the file name",budget:+c.state.step_one__budget,description:c.state.step_one__description,development_partner_id:(null===(e=c.props.auth.stakeholder)||void 0===e?void 0:e.development_partner_id)+"",end_date:c.state.step_one__start_date,id:null===(t=c.state.training)||void 0===t?void 0:t.id,material_links:[{title:"doc"},{title:""}],start_date:c.state.step_one__start_date,sub_area_id:c.state.step_one__sub_area,title:c.state.step_one__title,topic_id:c.state.step_one__topic,total:0},(function(e,t){e?c.setState({loadingStepOneSave:!1,alert:{target:"MAIN-SUCCESS",msg:"Data updated successfully"},step:2}):c.setState({loadingStepOneSave:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}}),c.cleanError()})))},c.deleteCenterGroup=function(e){var t=e.training_id,a=e.id;window.confirm("Are you sure you want to remove this center")&&(c.setState({delete_group_loading:a}),Object(b.r)(a,t,(function(e,t){var n;e?c.setState({delete_group_loading:null,alert:{target:"MAIN-SUCCESS",msg:"the center has bee removed"},training:c.state.training&&Object(i.a)(Object(i.a)({},c.state.training),{},{groups:null===(n=c.state.training.groups)||void 0===n?void 0:n.filter((function(e){return e.id.toString()!==a.toString()}))})||c.state.training}):c.setState({delete_group_loading:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}});c.cleanError()})))},c.addGroupHandler=function(e){c.state.training&&c.setState({open_add_group:e,addCenter:!0})},c.addRoomToCenterData=function(e){c.state.training&&c.setState({training:Object(i.a)(Object(i.a)({},c.state.training),{},{groups:[].concat(Object(n.a)(c.state.training.groups||[]),[e])}),open_add_group:null})},c.updateCriterial=function(e){c.state.training&&c.setState({training:Object(i.a)(Object(i.a)({},c.state.training),{},{trainee_criteria:Object(i.a)({},e)}),open_add_group:null,step:4})},c.updateMaterials=function(e){var t,a;c.state.training&&(c.setState({loading_materials:!0}),Object(b.ac)({agenda_file_name:"this is the file name",budget:+c.state.step_one__budget,description:c.state.step_one__description,development_partner_id:(null===(t=c.props.auth.stakeholder)||void 0===t?void 0:t.development_partner_id)+"",end_date:c.state.step_one__start_date,id:null===(a=c.state.training)||void 0===a?void 0:a.id,material_links:e,start_date:c.state.step_one__start_date,sub_area_id:c.state.step_one__sub_area,title:c.state.step_one__title,topic_id:c.state.step_one__topic,total:0},(function(t,a){t?c.setState({loading_materials:!1,alert:{target:"MAIN-SUCCESS",msg:"Material links updated successfully"},training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{material_links:e}):c.state.training}):c.setState({loading_materials:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)}}),c.cleanError()})))},c.uploadFileSuccess=function(e){c.state.training&&c.setState({training:Object(i.a)(Object(i.a)({},c.state.training),{},{agenda_file_name:e})})},c.successSubmitTrainer=function(e){c.setState({training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{trainers:c.state.training.trainers?[].concat(Object(n.a)(c.state.training.trainers),[e]):c.state.training.trainers}):c.state.training})},c.removeTrainerSuccess=function(e){c.setState({training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{trainers:c.state.training.trainers?c.state.training.trainers.filter((function(t){return t.user_id!==e})):c.state.training.trainers}):c.state.training})},c.state={loading:!0,step:1,loading_submit:!1,training:null,alert:xe,add_training_institution:!1,delete_training_institution:null,loading__add_training_institution:!1,add_trainee_category:!1,loading__add_trainee_category:!1,delete_trainee_category:null,loadingStepOneSave:!1,step_one__title:"",step_one__description:"",step_one__start_date:"",step_one__end_date:"",step_one__sub_area:"",step_one__budget:"",step_one__topic:"",addCenter:!1,addCenter_loading:!1,delete_group_loading:null,open_add_group:null,loading_add_group:!1,loading_materials:!1,delete_loading:null},c}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;if(null===(e=this.props.auth.stakeholder)||void 0===e||!e.development_partner_id)return this.setState({loading:!1,alert:{msg:"Failed to authenticate you",target:"MAIN-ERROR"}});Object(b.wb)(this.props.training_id,(function(e,a,n){var i,s;e?t.setState({loading:!1,alert:xe,training:a,step_one__title:(null===a||void 0===a?void 0:a.title)||"",step_one__description:(null===a||void 0===a?void 0:a.description)||"",step_one__start_date:Object(N.a)((null===a||void 0===a?void 0:a.start_date)+"","YYYY-MM-DD"),step_one__end_date:Object(N.a)((null===a||void 0===a?void 0:a.end_date)+"","YYYY-MM-DD"),step_one__sub_area:(null===a||void 0===a?void 0:a.sub_area_id)||"",step_one__budget:(null===a||void 0===a||null===(i=a.budget)||void 0===i?void 0:i.toString())||"",step_one__topic:(null===a||void 0===a||null===(s=a.topic_id)||void 0===s?void 0:s.toString())+""}):t.setState({loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(n)},training:a})}))}},{key:"cleanError",value:function(){var e=this;setTimeout((function(){e.setState({alert:xe})}),3e3)}},{key:"render",value:function(){var e,t,a,s,c,r=this;return this.state.loading?Object(S.jsx)("div",{className:"py-8 text-center",children:Object(S.jsx)(g.a,{})}):Object(S.jsxs)(S.Fragment,{children:[!0===this.state.add_training_institution&&Object(S.jsx)(T,{close:function(){return r.setState({add_training_institution:!1})},path_url:b.Jc,submit:this.AddTrainingInstitution,submit_loading:this.state.loading__add_training_institution,title:"Add Training institution(s)",existing_data:(null===(e=this.state.training)||void 0===e?void 0:e.trainer_institution)||[],error_msg:"ERROR-ADD-TRAINING-INSTITUTION"===this.state.alert.target?this.state.alert.msg:"",success_msg:"SUCCESS-ADD-TRAINING-INSTITUTION"===this.state.alert.target?this.state.alert.msg:""}),!0===this.state.add_trainee_category&&Object(S.jsx)(T,{close:function(){return r.setState({add_trainee_category:!1})},path_url:b.Hc,submit:this.AddTraineeCategory,submit_loading:this.state.loading__add_trainee_category,title:"Add Trainee category",existing_data:(null===(t=this.state.training)||void 0===t?void 0:t.trainee_category)||[],error_msg:"ERROR-ADD-TRAINEE-CATEGORY"===this.state.alert.target?this.state.alert.msg:"",success_msg:"SUCCESS-ADD-TRAINEE-CATEGORY"===this.state.alert.target?this.state.alert.msg:""}),!0===this.state.addCenter&&this.state.training&&Object(S.jsx)(E,{training_id:null===(a=this.state.training)||void 0===a?void 0:a.id,close:function(){return r.setState({addCenter:!1,open_add_group:null})},selectedCenter:this.state.open_add_group,centers:(null===(s=this.state.training)||void 0===s?void 0:s.centers)||[],successHandler:function(e){return r.setState({training:r.state.training&&Object(i.a)(Object(i.a)({},r.state.training),{},{groups:[].concat(Object(n.a)(r.state.training.groups||[]),[e])})||r.state.training})}}),"MAIN-SUCCESS"===this.state.alert.target&&Object(S.jsx)(u.a,{theme:"success",fixed:!0,children:this.state.alert.msg}),"MAIN-ERROR"===this.state.alert.target&&Object(S.jsx)(u.a,{theme:"danger",fixed:!0,children:this.state.alert.msg}),Object(S.jsx)("div",{className:"lg:sticky top-3 z-50 ",children:Object(S.jsxs)(x.a,{children:[Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(m.a,{size:"lg",className:" py-2 lg:pb-3 lg:pt-2 font-light text-left text-gray-500",children:this.state.training?"".concat(this.state.training.title||"Training application request"):"Training request"})}),!1===this.state.loading_submit&&Object(S.jsx)(h.a,{size:"md",theme:"danger-light",onClick:function(){return window.confirm("Are you sure you want to stop the request process \n All your previous choices will be lost")&&r.props.close()},children:"Close"})]}),Object(S.jsx)("div",{className:"grid overflow-hidden grid-cols-2 lg:grid-cols-4 border rounded-md",children:[{step:1,title:"Basic info",description:"Basic information",active:!0},{step:2,title:"Training area",description:"Centers & groups & Trainers"},{step:3,title:"Targeted group & Criterial",description:"Users and criterial"},{step:4,title:"Documents & Resources",description:"Required documents"}].map((function(e,t){return Object(S.jsx)(I,{onClick:function(){r.setState({step:e.step})},active:e.step===r.state.step,description:e.description,number:e.step,theme:e.step===r.state.step?"yellow":r.state.step>e.step?"green":"gray",title:e.title,priority:e.step<=r.state.step},t)}))})]})}),1===this.state.step&&this.state.training&&Object(S.jsx)(G,{loadingStepOneSave:this.state.loadingStepOneSave,sub_area_id:this.state.training.sub_area_id||"",successData:this.saveStepOneData,trainee_category:this.state.training.trainee_category?this.state.training.trainee_category:[],trainer_institutions:this.state.training.trainer_institution?this.state.training.trainer_institution:[],addTraineeCategory:function(){return r.setState({add_trainee_category:!0})},addTrainerInstitution:function(){return r.setState({add_training_institution:!0})},loadingTraineeCategory:!1,loadingTrainerInstitution:!1,removeTraineeCategory:this.DeleteTraineeCategory,removeTrainerInstitution:this.DeleteTrainingInstitution,loadingTraineeCategoryRemove:this.state.delete_trainee_category,loadingTrainersInstitutionRemove:this.state.delete_training_institution,step_one__title:this.state.step_one__title,step_one__description:this.state.step_one__description,step_one__start_date:this.state.step_one__start_date,step_one__end_date:this.state.step_one__end_date,step_one__sub_area:this.state.step_one__sub_area,step_one__budget:this.state.step_one__budget,setStepOne__title:this.setStepOne__title,setStepOne__description:this.setStepOne__description,setStepOne__start_date:this.setStepOne__start_date,setStepOne__end_date:this.setStepOne__end_date,setStepOne__sub_area:this.setStepOne__sub_area,setStepOne__budget:this.setStepOne__budget,step_one__topic:this.state.step_one__topic,setStepOne__topic:this.setStepOne__topic}),2===this.state.step&&this.state.training&&Object(S.jsx)(J,{training:this.state.training,addCenter:function(){return r.setState({addCenter:!0})},deleteCenterGroup:this.deleteCenterGroup,delete_group_loading:this.state.delete_group_loading,addGroupHandler:this.addGroupHandler,updatedRoomCapacity:this.updatedRoomCapacity,prevStep:function(){return r.setState({step:1})},nextStep:function(){r.setState({step:3})},successSubmitTrainer:this.successSubmitTrainer,removeTrainerSuccess:this.removeTrainerSuccess}),3===this.state.step&&this.state.training&&Object(S.jsx)(ne,{training:this.state.training,successCriterial:this.updateCriterial,prevStep:function(){return r.setState({step:2})},nextStep:function(){return r.setState({step:4})}}),4===this.state.step&&this.state.training&&Object(S.jsx)(he,{training:this.state.training,submitTrainingResource:this.updateMaterials,loading_materials:this.state.loading_materials,uploadFileSuccess:this.uploadFileSuccess,prevStep:function(){return r.setState({step:2})},stake_holder_id:(null===(c=this.props.auth.stakeholder)||void 0===c?void 0:c.development_partner_id)+""})]})}}]),a}(o.a.Component),ge=Object(j.b)((function(e){return{auth:e.auth}}),{})(me)},481:function(e,t,a){"use strict";a.d(t,"a",(function(){return q}));var n,i=a(10),s=a(20),c=a(21),r=a(22),l=a(23),d=a(4),o=a.n(d),j=a(15),b=a(36),u=a(13),h=a(47),x=a(19),m=a(53),g=a(92),O=a(140),p=a(24),_=a(25),v=a(94),f=a(12),N=a(17),y=a(28),S=a(41),C=a(27),R=a(378),E=a(141),A=a(356),T=a(138),I=a(39),k=a(1),w={target:null,msg:""},D=function(e){var t=e.successHandler,a=e.close,n=e.training,i=e.training_schools,s=(e.remaining,Object(d.useState)(w)),c=Object(C.a)(s,2),r=c[0],l=c[1],o=Object(d.useState)([]),j=Object(C.a)(o,2),b=j[0],m=j[1],g=Object(d.useState)(""),O=Object(C.a)(g,2),v=O[0],f=O[1],y=Object(d.useState)(""),D=Object(C.a)(y,2),M=D[0],z=D[1],U=Object(d.useState)(!1),G=Object(C.a)(U,2),P=G[0],F=G[1],L=Object(d.useState)(0),q=Object(C.a)(L,2),B=q[0],Y=q[1],H=Object(d.useState)([]),V=Object(C.a)(H,2),K=V[0],W=V[1],J=Object(d.useState)(null),Q=Object(C.a)(J,2),Z=Q[0],$=Q[1],X=Object(d.useState)(!1),ee=Object(C.a)(X,2),te=ee[0],ae=ee[1],ne=Object(d.useState)(0),ie=Object(C.a)(ne,2),se=ie[0],ce=ie[1],re=Object(d.useState)(!1),le=Object(C.a)(re,2),de=le[0],oe=le[1];Object(d.useEffect)((function(){var e,t,a;null!==(e=n.trainee_criteria)&&void 0!==e&&e.districts&&(null===(t=n.trainee_criteria)||void 0===t?void 0:t.districts.length)>=1?m(null===(a=n.trainee_criteria)||void 0===a?void 0:a.districts.map((function(e){return{district_code:e.id+"",district_name:e.name}}))):Object(A.b)((function(e,t,a){t?(m(t),l(w)):l({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),je()}))}),[n]);var je=function(){return setTimeout((function(){l(w)}),3e3)},be=Object(N.n)(K,M,{school_code:!0,school_name:!0});return Object(k.jsx)(_.c,{backDrop:!0,close:a,backDropClose:!1,displayClose:!0,widthSizeClass:_.a.extraLarge,padding:{title:!0,body:void 0,footer:void 0},title:"Add school",children:Object(k.jsxs)("div",{className:"border-t p-2",children:["MAIN-SUCCESS"===r.target&&Object(k.jsx)(h.a,{theme:"success",fixed:!0,children:r.msg}),"MAIN-ERROR"===r.target&&Object(k.jsx)(h.a,{theme:"danger",fixed:!0,children:r.msg}),null!==Z?Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"border p-2 rounded items-center flex",children:[Object(k.jsx)("section",{children:Object(k.jsx)(x.a,{type:"button",theme:"default",onClick:function(){return $(null)},children:"Back"})}),Object(k.jsxs)("section",{className:"pl-4 flex-1",children:[Object(k.jsx)("label",{className:"text-gray-400 text-sm",children:"Selected school"}),Object(k.jsxs)("h2",{className:"font-bold text-lg",children:[Z.school_code," ",Z.school_name]})]})]}),Object(k.jsxs)("div",{className:"p-2",children:[te&&Object(k.jsx)("div",{className:"py-4 text-center",children:Object(k.jsx)("section",{className:"inline-block",children:Object(k.jsx)(p.a,{})})}),Object(k.jsx)("div",{className:"my-2 p-2 rounded border flex-- items-center",children:Object(k.jsxs)("div",{className:"flex-1",children:[Object(k.jsx)("label",{className:"text-sm text-gray-600",children:"Total candidates available"}),Object(k.jsx)("h3",{className:"text-2xl font-bold",children:se})]})})," ",Object(k.jsx)("section",{className:"flex-1",children:Object(k.jsx)(I.a,{onChange:function(e){return Y(+e.target.value)},value:B,type:"number",error:"",label:"Total trainee needed on this school",placeholder:"",name:"",max:se})}),Object(k.jsx)("section",{className:"text-right",children:Object(k.jsx)(x.a,{size:"lg",type:"button",loading:de,onClick:function(){Z&&(se<B?l({target:"MAIN-ERROR",msg:"the number of teacher you are submitting is higher than tha available teachers on this school"}):(oe(!0),Object(E.G)({training_id:n.id,school_id:Z.school_code,district_id:null,sector_id:null,institution_id:null,total:B},(function(e,i){oe(!1),e?(t({approved_by:"",approved_date:"",available_trainee:0,district_id:v,district_name:"",group_id:"",id:"",institution_id:n.development_partner_id+"",school_code:null===Z||void 0===Z?void 0:Z.school_code,school_id:null===Z||void 0===Z?void 0:Z.school_id,school_name:null===Z||void 0===Z?void 0:Z.school_name,sector_id:"",total:B,training_id:n.id}),l({target:"MAIN-SUCCESS",msg:"The school submitted successfully"})):l({msg:"Error: ".concat(i),target:"MAIN-ERROR"}),je(),setTimeout((function(){a()}),3e3)}))))},children:"Add school to the list"})})]})]})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"p-2 border m-1 rounded flex items-center gap-2",children:[Object(k.jsx)("section",{children:Object(k.jsx)(T.a,{onChange:function(e){var t=e.target.value;f(t),""!==t&&(F(!0),Object(u.nb)(t,(function(e,t,a){e&&t?W(t):l({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),F(!1)})))},value:v,error:"",label:"",placeholder:"",name:"",data:[{title:"Select a district",value:""}].concat(Object(S.a)(b.map((function(e){return{title:e.district_name,value:e.district_code}}))))})}),Object(k.jsx)("section",{className:"flex-1",children:Object(k.jsx)(R.a,{onChange:function(e){return z(e.target.value)},size:"sm",value:M,placeholder:"Search for the school name or school code",name:""})})]}),""===v?Object(k.jsxs)("div",{className:"text-center py-6",children:[Object(k.jsx)("h2",{className:"text-2xl pb-1 text-gray-600",children:"Please select a district"}),Object(k.jsx)("p",{children:"You must select a district in order to see some results"})]}):Object(k.jsxs)("div",{className:"pt-2 mt-2 border-t",children:[P&&Object(k.jsx)("div",{className:"py-8 text-center",children:Object(k.jsx)("section",{className:"inline-block",children:Object(k.jsx)(p.a,{})})})," ",!P&&K.length<=0&&Object(k.jsx)("div",{className:"py-4 text-center",children:Object(k.jsx)("h3",{className:"text-2xl text-gray-600",children:"No results found"})}),!P&&be.length<=0&&Object(k.jsx)("div",{className:"h-80vh overflow-auto",children:Object(k.jsx)("div",{className:"py-4 text-center",children:Object(k.jsx)("h3",{className:"text-2xl text-gray-600",children:"No results found"})})}),be.length>=1&&K.length>=1&&Object(k.jsx)("div",{className:"h-80vh overflow-auto",children:Object(k.jsxs)("table",{className:"w-full",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"border p-2",children:"School code"}),Object(k.jsx)("th",{className:"border p-2",children:"School name"}),Object(k.jsx)("th",{className:"border p-2",children:"School Category"}),Object(k.jsx)("th",{className:"border p-2",children:"School status"}),Object(k.jsx)("th",{className:"border p-2",children:"##"})]})}),Object(k.jsx)("tbody",{children:be.map((function(e,t){var a=i.find((function(t){return t.school_code===e.school_code}));return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 border",children:e.school_code}),Object(k.jsx)("td",{className:"p-2 border",children:e.school_name}),Object(k.jsx)("td",{className:"p-2 border",children:e.school_category}),Object(k.jsx)("td",{className:"p-2 border",children:e.school_status}),Object(k.jsx)("td",{className:"p-2 border w-5",children:!a&&Object(k.jsx)(x.a,{size:"sm",type:"button",theme:"accent-light",onClick:function(){return function(e){if(console.log({submitt_school:e}),n){if(ce(0),!e)return $(null);$(e),ae(!0),Object(E.E)({criteria:n.trainee_criteria,end_date:n.end_date+"",start_date:n.start_date+"",school_code:e.school_code,sub_area_id:n.sub_area_id+"",topic:n.topic_id+"",training_id:n.id+""},(function(e,t,a){e||l({msg:"Error: ".concat(a),target:"MAIN-ERROR"}),je(),ae(!1),t&&ce(t.total)}))}}(e)},children:"Select"})})]},t)}))})]})})]})]})]})})},M=function(e){var t=e.close,a=e.school,n=e.remaining,s=e.training,c=e.success,r=Object(d.useState)(0),l=Object(C.a)(r,2),o=l[0],j=l[1],b=Object(d.useState)(!1),u=Object(C.a)(b,2),m=u[0],g=u[1],O=Object(d.useState)(""),v=Object(C.a)(O,2),f=v[0],N=v[1],y=Object(d.useState)(!0),S=Object(C.a)(y,2),R=S[0],A=S[1],T=Object(d.useState)(0),w=Object(C.a)(T,2),D=w[0],M=w[1];Object(d.useEffect)((function(){j(a.total),R&&s&&(M(0),A(!0),Object(E.E)({criteria:s.trainee_criteria,end_date:s.end_date+"",start_date:s.start_date+"",school_code:a.school_id+"",sub_area_id:s.sub_area_id+"",topic:s.topic_id+"",training_id:s.id+""},(function(e,t,a){e||N("Error: ".concat(a)),A(!1),t&&M(t.total)})))}),[a,R,s]);return Object(k.jsx)(_.c,{backDrop:!0,close:t,backDropClose:!1,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Update school number",children:Object(k.jsxs)("div",{className:"border-t p-4",children:[""!==f&&Object(k.jsx)(h.a,{theme:"danger",children:f}),R?Object(k.jsxs)("div",{className:"text-center",children:[Object(k.jsx)("section",{className:"inline-block",children:Object(k.jsx)(p.a,{})}),Object(k.jsx)("h2",{className:"text-lg pt-2",children:"Checking available on school"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"border p-2 rounded",children:[Object(k.jsx)("label",{className:"text-sm opacity-30",children:"School"}),Object(k.jsxs)("h2",{className:"text-lg font-bold",children:[a.school_code," ",a.school_name]})]}),Object(k.jsx)("div",{className:"py-2",children:Object(k.jsx)(I.a,{onChange:function(e){return j(+e.target.value)},value:o,error:"",label:"Set Teachers you need",placeholder:"Set Teachers you need",max:D,name:"",disabled:m})}),Object(k.jsx)("div",{className:"text-right",children:Object(k.jsx)(x.a,{type:"button",loading:m,onClick:function(){return N(""),o<=0?N("The total must not be less than zero"):o>D?N("The the maximum available candidates on this school is ".concat(D)):o>n?N("The remaining candidates on this training is ".concat(n)):(g(!0),void Object(E.J)({training_id:s.id,total:o,school_code:a.school_code},(function(e,t){e?c(Object(i.a)(Object(i.a)({},a),{},{total:o})):(N("Error: ".concat(t)),g(!1))})))},children:"Update numbers"})})]})]})})},z=void 0,U={target:null,msg:""},G=function(e){var t=e.close,a=e.training,n=Object(d.useState)([]),i=Object(C.a)(n,2),s=i[0],c=i[1],r=Object(d.useState)(U),l=Object(C.a)(r,2),o=l[0],j=l[1],b=Object(d.useState)(!0),u=Object(C.a)(b,2),g=u[0],O=u[1],_=Object(d.useState)(""),v=Object(C.a)(_,2),f=v[0],A=v[1],T=Object(d.useState)(!1),I=Object(C.a)(T,2),w=I[0],G=I[1],P=Object(d.useState)(null),F=Object(C.a)(P,2),L=F[0],q=F[1],B=Object(d.useState)(null),Y=Object(C.a)(B,2),H=Y[0],V=Y[1];Object(d.useEffect)((function(){g&&Object(E.t)((null===a||void 0===a?void 0:a.id)+"",(function(e,t,a){e||j({msg:"Error: ".concat(a),target:"MAIN-ERROR"}),O(!1),c(t)}))}),[g,a]);var K=function(){return setTimeout((function(){j(U)}),2e3)},W=function(e){window.confirm("Are you sure you want to remove this school to the request list?")&&(q(e.school_code),Object(E.i)(e.school_code,(null===a||void 0===a?void 0:a.id)+"",(function(t,a){t?(c(s.filter((function(t){var a;return(null===t||void 0===t||null===(a=t.school_code)||void 0===a?void 0:a.toString())!==e.school_code.toString()}))),j({target:"MAIN-SUCCESS",msg:"The school has been removed to the list"})):j({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),K(),q(null)})))};if(!a)return Object(k.jsx)(m.a,{children:Object(k.jsxs)("div",{className:"py-5 text-center",children:[Object(k.jsx)("h3",{className:"py-2 font-bold text-2xl",children:"No training found"}),Object(k.jsx)(x.a,{theme:"default",type:"button",size:"lg",onClick:t,children:"Back"})]})});var J,Q=Object(N.n)(s,f,{school_name:!0,district_name:!0}),Z=a.total_trainees||0,$=0,X=0,ee=Object(y.a)(s);try{for(ee.s();!(J=ee.n()).done;){X+=J.value.total,$+=+((null===a||void 0===a?void 0:a.total_available_trainee)||0)}}catch(ae){ee.e(ae)}finally{ee.f()}var te=Z-X;return Object(k.jsxs)(k.Fragment,{children:["MAIN-SUCCESS"===o.target&&Object(k.jsx)(h.a,{theme:"success",fixed:!0,children:o.msg}),"MAIN-ERROR"===o.target&&Object(k.jsx)(h.a,{theme:"danger",fixed:!0,children:o.msg}),w&&a&&Object(k.jsx)(D,{successHandler:function(e){c([].concat(Object(S.a)(s),[e]))},close:function(){return G(!1)},training:a,training_schools:s,remaining:te}),null!==H&&a&&Object(k.jsx)(M,{school:H,close:V.bind(z,null),success:function(e){c(s.map((function(t){return t.school_code===e.school_code?e:t}))),j({target:"MAIN-SUCCESS",msg:"School total updated successfully"}),K(),V(null)},remaining:te,training:a}),Object(k.jsxs)(m.a,{children:[Object(k.jsxs)("div",{className:"w-full border-b py-2 flex",children:[Object(k.jsx)("section",{children:Object(k.jsx)(x.a,{theme:"default",type:"button",size:"sm",onClick:t,children:"Back"})}),Object(k.jsx)("section",{className:"px-2 flex-1",children:Object(k.jsx)("h3",{className:"text-2xl font-bold text-gray-500",children:"Request training schools"})})]}),Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsxs)("div",{className:"p-2 flex-1",title:a.title+"",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500",children:"Training title:"}),Object(k.jsx)("h4",{className:"text-lg -mt-1 font-bold ",children:Object(N.o)(a.title+"",40)})]}),Object(k.jsxs)("section",{className:"px-2",children:[Object(k.jsx)("label",{className:"text-sm text-gray-400",children:"Start date"}),Object(k.jsx)("h3",{className:" font-bold text-gray-500",children:Object(N.a)(a.start_date)})]}),Object(k.jsxs)("section",{className:"px-2 ",children:[Object(k.jsx)("label",{className:"text-sm text-gray-400",children:"End date"}),Object(k.jsx)("h3",{className:" font-bold text-gray-500",children:Object(N.a)(a.start_date)})]})]}),Object(k.jsxs)("div",{className:"py-1 border-t pt-2 flex gap-3 pb-3",children:[Object(k.jsxs)("section",{className:"px-2 border rounded bg-blue-50 text-blue-700",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500",children:"Total trainees"}),Object(k.jsx)("h2",{className:"text-lg font-bold -mt-1",children:Z})]}),Object(k.jsxs)("section",{className:"px-2 border rounded bg-blue-50 text-blue-700",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500",children:"Total available"}),Object(k.jsx)("h2",{className:"text-lg font-bold -mt-1",children:$})]}),Object(k.jsxs)("section",{className:"px-2 border rounded bg-blue-50 text-blue-700",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500",children:"Total distributed"}),Object(k.jsx)("h2",{className:"text-lg font-bold -mt-1",children:X})]}),Object(k.jsxs)("section",{className:"px-2 border rounded bg-blue-50 text-blue-700",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500",children:"Total remaining"}),Object(k.jsx)("h2",{className:"text-lg font-bold -mt-1",children:te})]})]}),a.trainee_criteria&&Object(k.jsx)("div",{className:"gap-4 p-1 bg-gray-100 border rounded grid grid-cols-2",children:a.trainee_criteria.districts.length>=1&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"border p-1 bg-white rounded",children:[Object(k.jsx)("label",{className:"text-sm px-2 text-gray-500",children:"Training"}),Object(k.jsx)("div",{className:" -mt-1",children:a.trainee_criteria.districts.map((function(e,t){return Object(k.jsx)("span",{className:"inline-block p-1 px-2 m-1 bg-blue-100 text-blue-700 text-sm rounded-full",children:e.name},t)}))})]})})})]}),Object(k.jsxs)(m.a,{children:[Object(k.jsxs)("div",{className:"p-1 flex gap-2 items-center pb-2",children:[Object(k.jsx)("section",{className:"flex-1",children:Object(k.jsx)(R.a,{onChange:function(e){return A(e.target.value)},value:f,placeholder:"Search by a school name or district",name:"",size:"sm"})}),Object(k.jsx)("section",{className:"pl-2 flex gap-2",children:Object(k.jsx)(x.a,{onClick:function(){return G(!0)},children:"Request trainees"})})]}),Object(k.jsxs)("table",{className:"border w-full",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"text-left bg-gray-100",children:[Object(k.jsx)("th",{className:"p-2 border",children:"School code"}),Object(k.jsx)("th",{className:"p-2 border",children:"School name"}),Object(k.jsx)("th",{className:"p-2 border",children:"District name"}),Object(k.jsx)("th",{className:"p-2 border",children:"Total"}),Object(k.jsx)("th",{className:"p-2 border",children:"Available trainee"}),Object(k.jsx)("th",{className:"p-2 border"})]})}),Object(k.jsxs)("tbody",{children:[s.length<=0&&!1===g&&Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:12,className:"py-5 text-center",children:Object(k.jsx)("h2",{className:"text-4xl text-gray-400",children:"No data found"})})}),Q.length<=0&&!1===g&&0!==s.length&&Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:12,className:"py-5 text-center",children:Object(k.jsx)("h2",{className:"text-4xl text-gray-400",children:"No results found"})})}),g&&Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:12,className:"py-5 text-center",children:Object(k.jsx)("section",{className:"section",children:Object(k.jsx)(p.a,{})})})}),Q.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 border",children:e.school_code}),Object(k.jsx)("td",{className:"p-2 border",children:e.school_name}),Object(k.jsx)("td",{className:"p-2 border",children:e.district_name}),Object(k.jsx)("td",{className:"p-2 border",children:e.total}),Object(k.jsx)("td",{className:"p-2 border",children:e.available_trainee}),Object(k.jsx)("td",{className:"p-2 border w-10",children:Object(k.jsx)(x.a,{onClick:W.bind(z,e),size:"sm",type:"button",theme:"danger-light",disabled:null!==L,loading:L===e.school_code,children:"Remove"})})]},t)}))]})]})]})]})},P=function(e){var t=e.training,a=Object(E.Z)(t),n=Object(E.ab)(t),i=Object(E.bb)(t),s=Object(E.cb)(t);return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"p-2 -mt-3 rounded bg-gray-100 border ",children:Object(k.jsx)("div",{className:"border-t-2 mt-5 border-green-500 border-dashed",children:Object(k.jsxs)("div",{className:" -mt-5 grid grid-cols-4",children:[Object(k.jsx)("section",{className:"",children:a.status?Object(k.jsxs)("div",{children:[Object(k.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(k.jsx)(j.o,{})}),Object(k.jsx)("p",{className:"-mt-1 font-bold",children:"Basic info"})]}):Object(k.jsxs)("div",{title:"".concat(null===a||void 0===a?void 0:a.errors[0]),children:[Object(k.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(k.jsx)(j.Nb,{})}),Object(k.jsx)("p",{className:"-mt-1 font-bold",children:"Basic info"})]})}),Object(k.jsx)("div",{className:"text-center",children:n.status?Object(k.jsxs)("div",{children:[Object(k.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(k.jsx)(j.o,{})}),Object(k.jsx)("p",{className:"-mt-1 font-bold",children:"Training area"})]}):Object(k.jsxs)("div",{title:"".concat(null===n||void 0===n?void 0:n.errors[0]),children:[Object(k.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(k.jsx)(j.Nb,{})}),Object(k.jsx)("p",{className:"-mt-1 font-bold",children:"Training area"})]})}),Object(k.jsx)("section",{className:"text-center",children:i.status?Object(k.jsxs)("div",{children:[Object(k.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(k.jsx)(j.o,{})}),Object(k.jsx)("p",{className:"-mt-1 font-bold",children:"Criterial"})]}):Object(k.jsxs)("div",{title:"".concat(null===i||void 0===i?void 0:i.errors[0]),children:[Object(k.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(k.jsx)(j.Nb,{})}),Object(k.jsx)("p",{className:"-mt-1 font-bold",children:"Criterial"})]})}),Object(k.jsx)("section",{children:s.status?Object(k.jsxs)("div",{className:"text-right",children:[Object(k.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(k.jsx)(j.o,{})}),Object(k.jsx)("p",{className:"-mt-1 font-bold",children:"Plan & Materials"})]}):Object(k.jsxs)("div",{title:"".concat(null===s||void 0===s?void 0:s.errors[0]),className:"text-right",children:[Object(k.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(k.jsx)(j.Nb,{})}),Object(k.jsx)("p",{className:"-mt-1 font-bold",children:"Plan & Materials"})]})})]})})})})},F={target:null,msg:""};!function(e){e.DEFAULT="DEFAULT",e.CENTERS_TRAINERS="CENTERS_TRAINERS",e.TRAINING_CRITERIAL="TRAINING_CRITERIAL",e.TRAINEE="TRAINEE",e.PREVIEW_AGENDA="PREVIEW_AGENDA",e.TRAINING_MATERIALS="TRAINING_MATERIALS"}(n||(n={}));var L=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(s.a)(this,a),(c=t.call(this,e)).deleteTraining=function(e){window.confirm("Are you sure you want to delete this training")&&(c.setState({delete_loading:!0}),Object(u.v)(e,(function(e,t){e?(c.setState({delete_loading:!1,alert:{target:"MAIN-SUCCESS",msg:"Training removed successfully"}}),setTimeout((function(){c.props.deleteUpdate()}),2e3)):c.setState({delete_loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}})})))},c.changeDraftStatus=function(){if(window.confirm("Are you sure you want to change the training status")){if(!c.state.training)return c.setState({alert:{target:"MAIN-ERROR",msg:"No training provided"}});c.setState({loading_change_draft:!0}),Object(u.l)(c.state.training.id,u.Kc.READY_FOR_EVALUATION,(function(e,t){e?c.setState({loading:!1,alert:{target:"MAIN-SUCCESS",msg:"Training status updated"},loading_change_draft:!1,training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{implementation_status:u.Kc.READY_FOR_EVALUATION}):c.state.training}):c.setState({loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)},loading_change_draft:!1}),c.cleanError()}))}},c.evaluateTraining=function(e){var t;if(c.state.training&&window.confirm("Are you sure  you want to ".concat(e))){if(c.state.evaluation_comment.length<=0)return c.setState({alert:{target:"MAIN-ERROR",msg:"Please provide a comment"}});c.setState({loading_evaluation:!0}),Object(u.Pb)({training_id:null===(t=c.state.training)||void 0===t?void 0:t.id,status:e,evaluation_comment:c.state.evaluation_comment},(function(t,a){t?c.setState({alert:{target:"MAIN-SUCCESS",msg:"Training evaluated successfully"},loading_evaluation:!1,evaluation_comment:"",training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{evaluation_status:e,evaluation_comment:c.state.evaluation_comment}):c.state.training,evaluation_mode:!1}):c.setState({loading_evaluation:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)}}),c.cleanError()}))}},c.state={loading:!0,step:2,loading_submit:!1,training:null,alert:F,tab:n.DEFAULT,delete_loading:!1,centers_type:"CENTERS",change_training_status:!1,loading_training_status:!1,status_value:"DRAFT",loading_change_draft:!1,evaluation_mode:!1,evaluation_comment:"",loading_evaluation:!1,request_schools_candidate:!1},c}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(u.wb)(this.props.training_id,(function(t,a,n){t?e.setState({loading:!1,alert:F,training:a}):e.setState({loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(n)},training:a})}))}},{key:"cleanError",value:function(){var e=this;setTimeout((function(){e.setState({alert:F})}),3e3)}},{key:"render",value:function(){var e,t,a,i,s,c,r,l,d,o,b,y,S,C,R,E,A,T,I,w,D,M,z,U,F,L,q,B,Y,H,V,K,W,J=this;if(this.state.loading)return Object(k.jsx)("div",{className:"py-8 text-center",children:Object(k.jsx)(p.a,{})});var Q=this.state.training;return this.state.request_schools_candidate?Object(k.jsx)(G,{training:this.state.training,close:function(){return J.setState({request_schools_candidate:!1})}}):Object(k.jsxs)(k.Fragment,{children:["MAIN-SUCCESS"===this.state.alert.target&&Object(k.jsx)(h.a,{theme:"success",fixed:!0,children:this.state.alert.msg}),"MAIN-ERROR"===this.state.alert.target&&Object(k.jsx)(h.a,{theme:"danger",fixed:!0,children:this.state.alert.msg}),this.state.change_training_status&&Object(k.jsx)(_.c,{backDrop:!0,close:function(){return J.setState({change_training_status:!1})},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Change training",children:Object(k.jsxs)("div",{className:"border-t p-2",children:[Object(k.jsx)("section",{className:"p-2 pt-4",children:Object(k.jsx)(P,{training:Q})}),Object(k.jsx)("p",{className:"py-2 text-gray-600 px-2",children:"If you set this draft ready for review, REB will be able so see it and start the evaluation process"}),this.state.training&&this.state.training.implementation_status===u.Kc.DRAFT&&Object(k.jsx)("section",{className:"p-2",children:Object(k.jsx)(x.a,{type:"button",theme:"success",size:"lg",onClick:this.changeDraftStatus,loading:this.state.loading_change_draft,children:"Set draft ready for review"})})]})}),!0===this.state.evaluation_mode&&Object(k.jsxs)(_.c,{backDrop:!0,close:function(){return J.setState({evaluation_mode:!1})},backDropClose:!1,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Evaluate training",children:[Object(k.jsx)("div",{className:"border-t p-3",children:Object(k.jsx)(O.a,{onChange:function(e){return J.setState({evaluation_comment:e.target.value})},value:this.state.evaluation_comment,error:"",label:"",placeholder:"",name:""})}),Object(k.jsx)("div",{className:"p-2 text-right",children:this.state.loading_evaluation?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(x.a,{type:"button",theme:"default",loading:!0,children:"Reject training"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(x.a,{type:"button",theme:"danger",onClick:this.evaluateTraining.bind(this,u.Lc.REJECTED),children:"Reject training"})," ",Object(k.jsx)(x.a,{type:"button",theme:"success",onClick:this.evaluateTraining.bind(this,u.Lc.APPROVED),children:"Approve training"})]})})]}),Object(k.jsxs)(m.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(k.jsxs)("div",{className:"border-b p-2 flex items-center",children:[Object(k.jsx)("div",{className:"",children:Object(k.jsx)(x.a,{theme:"primary-light",size:"sm",onClick:this.props.close,children:"Back"})}),Object(k.jsx)("div",{className:"pl-2 text-2xl font-bold text-gray-500",children:"Training details"}),this.props.rebPreview&&Object(k.jsxs)("div",{className:"flex-1 text-right",children:[Object(k.jsx)(x.a,{onClick:function(){return J.setState({evaluation_mode:!0})},theme:"success-light",children:"Evaluate training"})," "]}),(!1===this.props.rebPreview||void 0===this.props.rebPreview)&&Object(k.jsxs)("div",{className:"flex-1 text-right",children:[(null===(e=this.state.training)||void 0===e?void 0:e.id)&&"APPROVED"!==this.state.training.evaluation_status&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(x.a,{onClick:this.props.editTraining.bind(this,null===(t=this.state.training)||void 0===t?void 0:t.id.toString()),theme:"primary-light",children:"Edit training"})," ",Object(u.Mc)(this.state.training).status&&Object(u.Nc)(this.state.training).status&&Object(u.Oc)(this.state.training).status&&this.state.training&&this.state.training.implementation_status===u.Kc.DRAFT&&Object(k.jsx)(x.a,{onClick:function(){J.setState({change_training_status:!0})},theme:"success-light",children:"Set training for review"})]})," ",(null===(a=this.state.training)||void 0===a?void 0:a.id)&&this.state.training.implementation_status===u.Kc.DRAFT&&Object(k.jsx)(x.a,{onClick:this.deleteTraining.bind(this,null===(i=this.state.training)||void 0===i?void 0:i.id.toString()),theme:"danger-light",children:"Delete training"})]})]}),Object(k.jsxs)("div",{className:"p-2 lg:flex",children:[Object(k.jsxs)("div",{className:"flex-1 lg:pr-3",children:[Object(k.jsx)("label",{className:"text-xs text-accent-900",children:"Training name:"}),Object(k.jsx)("h1",{className:"text-xl font-bold pb-1",children:null===Q||void 0===Q?void 0:Q.title}),Object(k.jsx)("label",{className:"text-xs text-accent-900 pt-2",children:"Training description:"}),Object(k.jsx)("p",{className:"-mt-1 text-gray-600",children:null===Q||void 0===Q?void 0:Q.description}),Object(k.jsx)("div",{className:"pt-8 ",children:Object(k.jsx)("div",{className:"flex",children:Object(k.jsx)("div",{className:"flex-1",children:Object(k.jsx)(P,{training:Q})})})})]}),Object(k.jsxs)("div",{className:"flex-2",children:[Object(k.jsx)("div",{className:"py-2 text-right gap-2"}),Object(k.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{title:"Trainees capacity",number:null===Q||void 0===Q?void 0:Q.total_trainees},{title:"Available Trainees",number:null===Q||void 0===Q?void 0:Q.total_trainees},{title:"Attended trainee",number:null===Q||void 0===Q?void 0:Q.total_trainee_capacity},{title:"Total Trainers",number:null===Q||void 0===Q?void 0:Q.total_trainers},{title:"Total Groups",number:null===Q||void 0===Q?void 0:Q.total_groups},{title:"Total Center",number:null===Q||void 0===Q?void 0:Q.total_centers}].map((function(e,t){return Object(k.jsxs)("div",{className:"py-1 px-2 text-center rounded border",children:[Object(k.jsx)("label",{className:"text-gray-500 text-sm",children:e.title}),Object(k.jsx)("h2",{className:"text-xl font-bold",children:e.number})]},t)}))}),!this.props.rebPreview&&"APPROVED"===(null===(s=this.state.training)||void 0===s?void 0:s.evaluation_status)&&Object(k.jsxs)("div",{className:"p-2 bg-green-100 rounded mt-2 flex items-center",children:[Object(k.jsxs)("section",{className:"flex-1 px-2 pr-3",children:[Object(k.jsx)("h4",{className:"text-lg font-bold text-green-800",children:"Request schools"}),Object(k.jsx)("p",{className:"text-sm -mt-1",children:"Your draft has been approved, you can start to required"})]}),Object(k.jsx)("section",{className:"",children:Object(k.jsx)(x.a,{theme:"success",type:"button",onClick:function(){return J.setState({request_schools_candidate:!0})},children:"Request schools"})})]})]})]}),Object(k.jsx)("div",{className:"border-b pt-3",children:Object(k.jsxs)("section",{className:"flex",children:[Object(k.jsx)("button",{onClick:function(){return J.setState({tab:n.DEFAULT})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.DEFAULT?"bg-accent-400 text-accent-900":""),children:"Details"}),Object(k.jsx)("button",{onClick:function(){return J.setState({tab:n.CENTERS_TRAINERS})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.CENTERS_TRAINERS?"bg-accent-400 text-accent-900":""),children:"Centers & Trainers"}),Object(k.jsx)("button",{onClick:function(){return J.setState({tab:n.TRAINING_CRITERIAL})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.TRAINING_CRITERIAL?"bg-accent-400 text-accent-900":""),children:"Training criteria"}),Object(k.jsx)("button",{onClick:function(){return J.setState({tab:n.TRAINEE})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.TRAINEE?"bg-accent-400 text-accent-900":""),children:"Trainee"}),Object(k.jsx)("button",{onClick:function(){return J.setState({tab:n.PREVIEW_AGENDA})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.PREVIEW_AGENDA?"bg-accent-400 text-accent-900":""),children:"Training agenda"}),Object(k.jsx)("button",{onClick:function(){return J.setState({tab:n.TRAINING_MATERIALS})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.TRAINING_MATERIALS?"bg-accent-400 text-accent-900":""),children:"Training materials"})]})}),Object(k.jsxs)("div",{className:"pt-2",children:[this.state.tab===n.DEFAULT&&Object(k.jsxs)("div",{className:"flex gap-4 w-full  animate__animated animate__zoomIn animate__faster",children:[Object(k.jsxs)("div",{className:"flex-1 p-3",children:[Object(k.jsxs)("div",{className:"border rounded p-1 px-2",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500",children:"Development partner"}),Object(k.jsx)("h4",{className:"font-bold",children:null===Q||void 0===Q?void 0:Q.development_partner_name})]}),Object(k.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500",children:"Sub area"}),Object(k.jsx)("h4",{className:"font-bold",children:null===Q||void 0===Q?void 0:Q.intervention_area})]}),Object(k.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500",children:"Sub area"}),Object(k.jsx)("h4",{className:"font-bold",children:null===Q||void 0===Q?void 0:Q.sub_area_name})]}),Object(k.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500 ",children:"Evaluation status"}),Object(k.jsx)("h4",{className:"font-bold text-accent-900",children:null===Q||void 0===Q?void 0:Q.evaluation_status})]}),Object(k.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500 ",children:"Implementation status"}),Object(k.jsx)("h4",{className:"font-bold text-accent-900",children:null===Q||void 0===Q?void 0:Q.implementation_status})]}),Object(k.jsxs)("div",{className:"border rounded p-1 px-2 mt-4",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500",children:"Training start date"}),Object(k.jsx)("h4",{className:"font-bold",children:Object(N.a)((null===Q||void 0===Q?void 0:Q.start_date)+"")})]}),Object(k.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(k.jsx)("label",{className:"text-sm text-gray-500",children:"Training end date"}),Object(k.jsx)("h4",{className:"font-bold",children:Object(N.a)((null===Q||void 0===Q?void 0:Q.start_date)+"")})]})]}),Object(k.jsxs)("div",{className:"flex-1 p-3",children:[Object(k.jsxs)("div",{className:"p-2 border rounded",children:[Object(k.jsx)("h1",{className:"text-xl font-bold",children:"Trainee category"}),Object(k.jsx)("p",{className:"text-gray-500",children:"Who you are going to train"}),Object(k.jsx)("div",{className:"pt-2",children:null===Q||void 0===Q||null===(c=Q.trainee_category)||void 0===c?void 0:c.map((function(e,t){return Object(k.jsxs)("div",{className:"p-2 mb-1 border border-blue-600 rounded font-bold text-lg bg-blue-50",children:[Object(k.jsxs)("span",{className:"text-gray-400",children:[t+1," - "]})," ",e.name]},t)}))}),(!(null!==Q&&void 0!==Q&&Q.trainee_category)||(null===Q||void 0===Q?void 0:Q.trainee_category.length)<=0)&&Object(k.jsx)("div",{className:"py-8 text-center opacity-25 bg-gray-100 rounded",children:Object(k.jsx)("h2",{className:"font-bold",children:"No trainees category "})})]}),Object(k.jsxs)("div",{className:"p-2 border rounded mt-4",children:[Object(k.jsx)("h1",{className:"text-xl font-bold",children:"Trainers institution"}),Object(k.jsx)("p",{className:"text-gray-500",children:"Who will help you to provide trainings"}),Object(k.jsxs)("div",{className:"pt-2",children:[null===Q||void 0===Q||null===(r=Q.trainer_institution)||void 0===r?void 0:r.map((function(e,t){return Object(k.jsxs)("div",{className:"p-2 mb-1 border border-blue-600 rounded font-bold text-lg bg-blue-50",children:[Object(k.jsxs)("span",{className:"text-gray-400",children:[t+1," - "]})," ",e.name]},t)})),(!(null!==Q&&void 0!==Q&&Q.trainer_institution)||(null===Q||void 0===Q?void 0:Q.trainer_institution.length)<=0)&&Object(k.jsx)("div",{className:"py-8 text-center opacity-25 bg-gray-100 rounded",children:Object(k.jsxs)("h2",{className:"font-bold",children:["No trainer institutions"," "]})})]})]})]})]}),this.state.tab===n.CENTERS_TRAINERS&&Object(k.jsxs)("div",{className:" animate__animated animate__zoomIn animate__faster",children:[Object(k.jsxs)("div",{className:"p-3 bg-gray-100 items-center rounded-t-md mt-2 flex",children:[Object(k.jsx)("section",{className:"flex-1",children:Object(k.jsx)(g.a,{size:"lg",children:"Centers & Trainers"})}),Object(k.jsxs)("section",{className:"p-1 flex gap-2 bg-blue-300 rounded",children:[Object(k.jsx)(x.a,{theme:"CENTERS"===this.state.centers_type?"primary":"primary-light",onClick:function(){return J.setState({centers_type:"CENTERS"})},children:"Centers"}),Object(k.jsx)(x.a,{theme:"TRAINERS"===this.state.centers_type?"primary":"primary-light",onClick:function(){return J.setState({centers_type:"TRAINERS"})},children:"Trainers"})]})]}),"CENTERS"===this.state.centers_type&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("table",{className:"w-full table-border",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"text-left",children:[Object(k.jsx)("th",{className:"p-2 border",children:"#"}),Object(k.jsx)("th",{className:"p-2 border",children:"Center name"}),Object(k.jsx)("th",{className:"p-2 border",children:"District"}),Object(k.jsx)("th",{className:"p-2 border",children:"Center type"}),Object(k.jsx)("th",{className:"p-2 border",children:"Group"}),Object(k.jsx)("th",{className:"p-2 border",children:"Total trainees"})]})}),Object(k.jsxs)("tbody",{children:[(!(null!==(l=this.state.training)&&void 0!==l&&l.groups)||(null===(d=this.state.training)||void 0===d||null===(o=d.groups)||void 0===o?void 0:o.length)<=0)&&Object(k.jsx)("tr",{children:Object(k.jsxs)("td",{className:"py-8 text-center",colSpan:12,children:[Object(k.jsx)("h1",{className:"text-2xl",children:"No trainings found"}),Object(k.jsx)("p",{children:"No trainings center assigned to this"})]})}),(null===(b=this.state.training)||void 0===b?void 0:b.groups)&&(null===(y=this.state.training)||void 0===y?void 0:y.groups.map((function(e,t){return Object(k.jsxs)("tr",{className:"hover:bg-accent-400",children:[Object(k.jsx)("td",{className:"p-2 border",children:t+1}),Object(k.jsx)("td",{className:"p-2 border font-bold",children:e.center_name}),Object(k.jsx)("td",{className:"p-2 border",children:e.district_name}),Object(k.jsx)("td",{className:"p-2 border",children:e.center_type_name}),Object(k.jsx)("td",{className:"p-2 border",children:e.group_name}),Object(k.jsx)("td",{className:"p-2 border",children:e.number_of_trainees})]},t)})))]})]})}),"TRAINERS"===this.state.centers_type&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("table",{className:"w-full table-border",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"text-left",children:[Object(k.jsx)("th",{className:"p-2 border",children:"#"}),Object(k.jsx)("th",{className:"p-2 border",children:"NID"}),Object(k.jsx)("th",{className:"p-2 border",children:"Names"}),Object(k.jsx)("th",{className:"p-2 border",children:"Phone"}),Object(k.jsx)("th",{className:"p-2 border",children:"Email"})]})}),Object(k.jsx)("tbody",{children:Object(k.jsx)("tr",{children:Object(k.jsxs)("td",{className:"py-9 text-center ",colSpan:10,children:[Object(k.jsx)("h2",{className:"text-4xl ",children:"No trainers found"}),Object(k.jsx)("h2",{className:"text-gray-500",children:"No trainers found on this training"})]})})})]})})]}),this.state.tab===n.TRAINING_CRITERIAL&&Object(k.jsxs)("div",{className:"p-4 rounded bg-gray-100 animate__animated animate__zoomIn animate__faster",children:[!(null!==(S=this.state.training)&&void 0!==S&&S.trainee_criteria)&&Object(k.jsx)("div",{className:"text-center py-5",children:Object(k.jsxs)("div",{className:"text-center py-8 opacity-60",children:[Object(k.jsx)("h1",{className:"text-8xl inline-block",children:Object(k.jsx)(j.Fb,{})}),Object(k.jsx)("h2",{className:"font-bold text-xl",children:"This training has no criterial"})]})}),(null===(C=this.state.training)||void 0===C?void 0:C.trainee_criteria)&&Object(k.jsxs)("div",{className:"grid sm:grid-cols-1 lg:grid-cols-2 gap-4",children:[(null===(R=this.state.training)||void 0===R?void 0:R.trainee_criteria.positions.length)>=1&&Object(k.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(k.jsx)("h1",{className:"text-xl font-bold pb-1",children:"Positions"}),Object(k.jsxs)("table",{className:"border w-full",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"text-left",children:[Object(k.jsx)("th",{className:"border p-2",children:"#"}),Object(k.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(k.jsxs)("tbody",{children:[(null===(E=this.state.training)||void 0===E?void 0:E.trainee_criteria.positions.length)<=0&&Object(k.jsx)("tr",{className:"",children:Object(k.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(k.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(A=this.state.training)||void 0===A?void 0:A.trainee_criteria.positions.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 border",children:e.id}),Object(k.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(T=this.state.training)||void 0===T?void 0:T.trainee_criteria.levels.length)>=1&&Object(k.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(k.jsx)("h1",{className:"text-xl font-bold",children:"Levels"}),Object(k.jsxs)("table",{className:"border w-full",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"text-left",children:[Object(k.jsx)("th",{className:"border p-2",children:"#"}),Object(k.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(k.jsxs)("tbody",{children:[(null===(I=this.state.training)||void 0===I?void 0:I.trainee_criteria.levels.length)<=0&&Object(k.jsx)("tr",{className:"",children:Object(k.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(k.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(w=this.state.training)||void 0===w?void 0:w.trainee_criteria.levels.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 border",children:e.id}),Object(k.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(D=this.state.training)||void 0===D?void 0:D.trainee_criteria.qualifications.length)>=1&&Object(k.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(k.jsx)("h1",{className:"text-xl font-bold",children:"Qualifications"}),Object(k.jsxs)("table",{className:"border w-full",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"text-left",children:[Object(k.jsx)("th",{className:"border p-2",children:"#"}),Object(k.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(k.jsxs)("tbody",{children:[(null===(M=this.state.training)||void 0===M?void 0:M.trainee_criteria.qualifications.length)<=0&&Object(k.jsx)("tr",{className:"",children:Object(k.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(k.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(z=this.state.training)||void 0===z?void 0:z.trainee_criteria.qualifications.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 border",children:e.id}),Object(k.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(U=this.state.training)||void 0===U?void 0:U.trainee_criteria.districts.length)>=1&&Object(k.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(k.jsx)("h1",{className:"text-xl font-bold",children:"Districts"}),Object(k.jsxs)("table",{className:"border w-full",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"text-left",children:[Object(k.jsx)("th",{className:"border p-2",children:"#"}),Object(k.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(k.jsxs)("tbody",{children:[(null===(F=this.state.training)||void 0===F?void 0:F.trainee_criteria.districts.length)<=0&&Object(k.jsx)("tr",{className:"",children:Object(k.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(k.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(L=this.state.training)||void 0===L?void 0:L.trainee_criteria.districts.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 border",children:e.id}),Object(k.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(q=this.state.training)||void 0===q?void 0:q.trainee_criteria.sectors.length)>=1&&Object(k.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(k.jsx)("h1",{className:"text-xl font-bold",children:"Sector"}),Object(k.jsxs)("table",{className:"border w-full",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"text-left",children:[Object(k.jsx)("th",{className:"border p-2",children:"#"}),Object(k.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(k.jsxs)("tbody",{children:[(null===(B=this.state.training)||void 0===B?void 0:B.trainee_criteria.sectors.length)<=0&&Object(k.jsx)("tr",{className:"",children:Object(k.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(k.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(Y=this.state.training)||void 0===Y?void 0:Y.trainee_criteria.sectors.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 border",children:e.id}),Object(k.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(H=this.state.training)||void 0===H?void 0:H.trainee_criteria.subjects.length)>=1&&Object(k.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(k.jsx)("h1",{className:"text-xl font-bold",children:"Subjects"}),Object(k.jsxs)("table",{className:"border w-full",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"text-left",children:[Object(k.jsx)("th",{className:"border p-2",children:"Code"}),Object(k.jsx)("th",{className:"border p-2",children:"Name"}),Object(k.jsx)("th",{className:"border p-2",children:"Level"})]})}),Object(k.jsxs)("tbody",{children:[(null===(V=this.state.training)||void 0===V?void 0:V.trainee_criteria.subjects.length)<=0&&Object(k.jsx)("tr",{className:"",children:Object(k.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(k.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(K=this.state.training)||void 0===K?void 0:K.trainee_criteria.subjects.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 border",children:e.course_code}),Object(k.jsx)("td",{className:"p-2 border",children:e.course_name}),Object(k.jsx)("td",{className:"p-2 border",children:e.level_name})]},e.course_code)}))]})]})]})]})]}),this.state.tab===n.TRAINEE&&Object(k.jsxs)("div",{className:" animate__animated animate__zoomIn animate__faster",children:[" ","TRAINEE"]}),this.state.tab===n.PREVIEW_AGENDA&&Object(k.jsx)("div",{className:" animate__animated animate__zoomIn animate__faster",children:Q&&Q.agenda_file_name?Object(k.jsx)(v.a,{file_url:"".concat(f.a).concat(null===Q||void 0===Q?void 0:Q.agenda_file_name),class_name:"w-full h-100vh",frame_title:"",setLoadingFile:function(){}}):Object(k.jsxs)("div",{className:"text-center py-8",children:[Object(k.jsx)("h1",{className:"text-8xl inline-block",children:Object(k.jsx)(j.I,{})}),Object(k.jsx)("h2",{children:"No training agenda found"})]})}),this.state.tab===n.TRAINING_MATERIALS&&Object(k.jsx)("div",{className:" animate__animated animate__zoomIn animate__faster",children:Q&&null!==Q&&void 0!==Q&&Q.material_links&&(null===Q||void 0===Q||null===(W=Q.material_links)||void 0===W?void 0:W.length)>=1?Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"px-3 py-1 flex bg-gray-100 rounded items-center ",children:[Object(k.jsx)("h2",{className:"text-6xl text-blue-600 font-bold",children:Object(k.jsx)(j.M,{})}),Object(k.jsx)("h2",{className:"text-2xl font-bold",children:"Training materials"})]}),Object(k.jsx)("div",{className:"p-3",children:Q&&Q.material_links&&Q.material_links.map((function(e,t){return Object(k.jsxs)("section",{className:"p-2 border mb-2 rounded items-center border-blue-600 bg-blue-50 bg-opacity-40 hover:bg-blue-50 flex",children:[Object(k.jsx)("section",{className:"text-4xl pr-1 text-blue-600",children:Object(k.jsx)(j.hb,{className:"block"})}),Object(k.jsxs)("section",{className:"flex-1",children:[Object(k.jsx)("h2",{className:"font-bold hover:text-blue-500 hover:underline",children:e.title}),Object(k.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),Object(k.jsx)("section",{})]},t)}))})]}):Object(k.jsxs)("div",{className:"text-center py-8",children:[Object(k.jsx)("h1",{className:"text-8xl inline-block opacity-50",children:Object(k.jsx)(j.M,{})}),Object(k.jsx)("h2",{className:"text-2xl font-bold opacity-50",children:"No resources found"})]})})]})]})]})}}]),a}(o.a.Component),q=Object(b.b)((function(e){return{auth:e.auth}}),{})(L)},560:function(e,t,a){"use strict";var n,i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}var c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var r=function(e){return"string"===typeof e&&c.test(e)},l=[],d=0;d<256;++d)l.push((d+256).toString(16).substr(1));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!r(a))throw TypeError("Stringified UUID is invalid");return a};t.a=function(e,t,a){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){a=a||0;for(var i=0;i<16;++i)t[a+i]=n[i];return t}return o(n)}}}]);
//# sourceMappingURL=6.d95fa0f8.chunk.js.map