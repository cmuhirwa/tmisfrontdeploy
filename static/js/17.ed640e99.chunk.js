(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[17],{337:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return f}));var n=r(4),a=r(8),s=r(9),c=r.n(s),i=r(16),o=r(15),l=r(11),d=r(13),u=function(e){return e(!0,null,""),function(){var t=Object(a.a)(Object(n.a)().mark((function t(r){var a,s;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(l.a)(),t.next=4,c.a.get("".concat(o.d,"/teachertransfers/requesteddde"));case 4:a=t.sent,console.log("===================================="),console.log({getAllTransfers:a}),console.log("===================================="),s=a.data.filter((function(e){return"APPROVED"===e.requested_status})),r({type:i.a.GET_ALL_TRANSFER,payload:s}),e(!1,s,""),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(d.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!1,[{district_code:"11",district_name:"Nyarugenge"},{district_code:"12",district_name:"Gasabo"},{district_code:"13",district_name:"Kicukiro"},{district_code:"21",district_name:"Nyanza"},{district_code:"22",district_name:"Gisagara"},{district_code:"23",district_name:"Nyaruguru"},{district_code:"24",district_name:"Huye"},{district_code:"25",district_name:"Nyamagabe"},{district_code:"26",district_name:"Ruhango"},{district_code:"27",district_name:"Muhanga"},{district_code:"28",district_name:"Kamonyi"},{district_code:"31",district_name:"Karongi"},{district_code:"32",district_name:"Rutsiro"},{district_code:"33",district_name:"Rubavu"},{district_code:"34",district_name:"Nyabihu"},{district_code:"35",district_name:"Ngororero"},{district_code:"36",district_name:"Rusizi"},{district_code:"37",district_name:"Nyamasheke"},{district_code:"41",district_name:"Rulindo"},{district_code:"42",district_name:"Gakenke"},{district_code:"43",district_name:"Musanze"},{district_code:"44",district_name:"Burera"},{district_code:"45",district_name:"Gicumbi"},{district_code:"51",district_name:"Rwamagana"},{district_code:"52",district_name:"Nyagatare"},{district_code:"53",district_name:"Gatsibo"},{district_code:"54",district_name:"Kayonza"},{district_code:"55",district_name:"Kirehe"},{district_code:"56",district_name:"Ngoma"},{district_code:"57",district_name:"Bugesera"}],"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t,r){var a,s,i;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,a=0,null,""),e.prev=2,Object(l.a)(),(s=new FormData).append("teacher_supporting_document",t),e.next=8,c.a.post("".concat(o.d,"/teachertransfers/uploadSupportingDocument"),s,{onUploadProgress:function(e){a=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,r(!0,a,null,"")}});case 8:i=e.sent,console.log("Uploaded document: ",i.data),r(!1,a,i.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),r(!1,a,"",Object(d.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(e,t,r){r(!0,"");return function(){var s=Object(a.a)(Object(n.a)().mark((function a(s){var u,p;return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(!0,""),console.log("==================doc_title=================="),console.log({doc_title:""}),console.log("==================doc_title=================="),r(!0,""),(u=new FormData).append("teacher_transfer_id",e),u.append("mayor_letter",t),console.log("==================*********************=================="),console.log({doc_title:""}),console.log("==================*********************=================="),n.prev=11,Object(l.a)(),n.next=15,c.a.post("".concat(o.d,"/teachertransfers/outgoing"),u);case 15:p=n.sent,console.log("Uploaded document: ",p.data),s({type:i.a.UPLOAD_SIGNED_DOCUMENT,payload:{teacher_transfer_id:e,mayor_letter:p.data.mayor_letter}}),r(!1,""),n.next=25;break;case 21:n.prev=21,n.t0=n.catch(11),console.error(n.t0),r(!1,Object(d.a)(n.t0));case 25:case"end":return n.stop()}}),a,null,[[11,21]])})));return function(e){return s.apply(this,arguments)}}()}},401:function(e,t,r){"use strict";var n=r(32),a=r(3),s=r(17),c=r(19),i=r(2);t.a=function(e){var t=Object(a.useState)(""),r=Object(n.a)(t,2),o=r[0],l=r[1];return Object(i.jsx)("div",{className:"absolute animate__animated animate__fadeIn animate__faster",style:{width:"500px"},children:Object(i.jsxs)("div",{className:"bg-white rounded shadow-xl mb-10",children:[Object(i.jsxs)("div",{className:"p-3 flex flex-row items-center justify-between gap-3",children:[Object(i.jsx)("input",{type:"search",value:o,onChange:function(e){return l(e.target.value)},placeholder:"Type district name...",className:"bg-white rounded px-3 py-2 border border-primary-800 w-full"}),Object(i.jsx)("div",{onClick:function(){return e.setVisibility(!1)},children:Object(i.jsx)("div",{className:"h-8 w-8 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center",children:Object(i.jsx)(s.l,{className:"text-red-600 text-2xl cursor-pointer"})})})]}),Object(i.jsx)("div",{className:"max-h-80 overflow-y-auto pb-3",children:0===Object(c.i)(e.districts,o).length?Object(i.jsx)("div",{className:"text-gray-500 font-extrabold text-xl text-center p-4",children:"No data found!"}):Object(c.i)(e.districts,o).map((function(t,r){return Object(i.jsx)("div",{onClick:function(){e.onChange(t.district_code),e.setVisibility(!1)},className:"border-b py-2 px-3 group ".concat(e.selected_district===t.district_code?"bg-blue-200 font-extrabold text-primary-800":""," hover:bg-primary-800 hover:text-white cursor-pointer hover:border-blue-500"),children:Object(i.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[Object(i.jsx)("div",{children:e.selected_district===t.district_code?Object(i.jsx)(s.k,{className:"text-2xl"}):Object(i.jsx)(s.cb,{className:"text-2xl"})}),Object(i.jsx)("div",{children:t.district_name})]})},r+1)}))})]})})}},426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var s=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},c=t.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&!(e instanceof Array)}))},i=t.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},o=t.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return new Set([].concat(a(e),a(t)))}),[]))},l=t.jsons2arrays=function(e,t){var r=t=t||o(e),n=t;c(t)&&(r=t.map((function(e){return e.label})),n=t.map((function(e){return e.key})));var s=e.map((function(e){return n.map((function(t){return d(t,e)}))}));return[r].concat(a(s))},d=t.getHeaderValue=function(e,t){var r=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,r,n){var a=e[t];if(void 0!==a&&null!==a)return a;n.splice(1)}),t);return void 0===r?e in t?t[e]:"":r},u=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},p=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return u(e)})).map((function(e){return""+r+e+r})).join(t)})).join("\n")},h=t.arrays2csv=function(e,t,r,n){return p(t?[t].concat(a(e)):e,r,n)},f=t.jsons2csv=function(e,t,r,n){return p(l(e,t),r,n)},b=t.string2csv=function(e,t,r,n){return t?t.join(r)+"\n"+e:e.replace(/"/g,'""')},m=t.toCSV=function(e,t,r,n){if(c(e))return f(e,t,r,n);if(i(e))return h(e,t,r,n);if("string"===typeof e)return b(e,t,r);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,r,n,a){var c=m(e,r,n,a),i=s()?"application/csv":"text/csv",o=new Blob([t?"\ufeff":"",c],{type:i}),l="data:"+i+";charset=utf-8,"+(t?"\ufeff":"")+c,d=window.URL||window.webkitURL;return"undefined"===typeof d.createObjectURL?l:d.createObjectURL(o)}},427:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var n,a=r(3),s=((n=a)&&n.__esModule,r(63));t.propTypes={data:(0,s.oneOfType)([s.string,s.array,s.func]).isRequired,headers:s.array,target:s.string,separator:s.string,filename:s.string,uFEFF:s.bool,onClick:s.func,asyncOnClick:s.bool,enclosingCharacter:s.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},455:function(e,t,r){e.exports=r(456)},456:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSVLink=t.CSVDownload=void 0;var n=s(r(457)),a=s(r(458));function s(e){return e&&e.__esModule?e:{default:e}}t.CSVDownload=n.default,t.CSVLink=a.default},457:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(3),c=(n=s)&&n.__esModule?n:{default:n},i=r(426),o=r(427);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildURI",value:function(){return i.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,r=e.headers,n=e.separator,a=e.enclosingCharacter,s=e.uFEFF,c=e.target,i=e.specs,o=e.replace;this.state.page=window.open(this.buildURI(t,s,r,n,a),c,i,o)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(c.default.Component);l.defaultProps=Object.assign(o.defaultProps,{target:"_blank"}),l.propTypes=o.propTypes,t.default=l},458:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(3),i=(n=c)&&n.__esModule?n:{default:n},o=r(426),l=r(427);var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.buildURI=r.buildURI.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"buildURI",value:function(){return o.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var r=this.props,n=r.data,a=r.headers,s=r.separator,c=r.filename,i=r.enclosingCharacter,l=r.uFEFF,d=t&&"function"===typeof n?n():n,u=new Blob([l?"\ufeff":"",(0,o.toCSV)(d,a,s,i)]);return window.navigator.msSaveBlob(u,c),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,(function(r){!1!==r?t.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.data,n=t.headers,s=t.separator,c=t.filename,o=t.uFEFF,l=t.children,d=(t.onClick,t.asyncOnClick,t.enclosingCharacter),u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),p="undefined"===typeof window?"":this.buildURI(r,o,n,s,d);return i.default.createElement("a",a({download:c},u,{ref:function(t){return e.link=t},target:"_self",href:p,onClick:this.handleClick()}),l)}}]),t}(i.default.Component);d.defaultProps=l.defaultProps,d.propTypes=l.propTypes,t.default=d},558:function(e,t,r){"use strict";r.r(t),r.d(t,"GetDistrictPostsRequests",(function(){return M})),r.d(t,"PostsRequestsReport",(function(){return F}));var n=r(41),a=r(28),s=r(29),c=r(30),i=r(31),o=r(4),l=r(7),d=r(8),u=r(9),p=r.n(u),h=r(3),f=r(57),b=r(71),m=r(27),_=r(24),j=r(337),x=r(51),y=r(2),v=function(e){var t=e.data.map((function(t,r){return e.rowFormat(t,r)}));return Object(y.jsxs)("div",{children:[e.tableHead,Object(y.jsxs)("table",{className:"striped bordered hover w-full text-sm mt-5",children:[e.thead,Object(y.jsx)("tbody",{children:t})]})]})},O=r(124),g=r.n(O),w=r(381),N=function(e){var t=[e.headerFormat];return Object(y.jsx)("button",{className:"bg-primary-800 hover:bg-blue-500 text-white px-3 py-2 rounded text-center w-max",onClick:function(r){return function(r,n,a){var s=w.a.json_to_sheet(t,{header:e.headers,skipHeader:!0});s["!cols"]=a,w.a.sheet_add_json(s,r,{header:e.headers,skipHeader:!0,origin:-1});var c={Sheets:{data:s},SheetNames:["data"]},i=Object(w.b)(c,{bookType:"xlsx",type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});g.a.saveAs(o,n+".xlsx")}(e.csvData,e.fileName,e.wscols)},children:"Export XLSX"})},k=r(455),S=function(e){return Object(y.jsx)(k.CSVLink,{headers:e.csvHeaders,data:e.csvData,filename:e.fileName,children:Object(y.jsx)("button",{className:"bg-accent-900 text-white rounded px-3 py-2 text-center w-max",type:"button",title:"Export excel CSV",children:"Export CSV"})})},C=r(48),D=r(15),q=r(6),R=r(11),P=r(19),E=r(401),M=function(){var e=Object(d.a)(Object(o.a)().mark((function e(t,r,n){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null),e.prev=1,Object(R.a)(),e.next=5,p.a.get("".concat(D.d,"/districtdistribution/peracademic/").concat(t,"/").concat(r));case 5:a=e.sent,console.log("District Requests: ",a.data),n(!1,a.data),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),n(!1,null),console.log("bb err: ",Object(l.a)({},e.t0)),console.log("bb err: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r,n){return e.apply(this,arguments)}}(),T=function(e){Object(c.a)(r,e);var t=Object(i.a)(r);function r(e){var n,s,c;return Object(a.a)(this,r),(c=t.call(this,e)).GetDistricts=function(e,t){M(e,t,(function(e,t){c.setState({loading:e,data:t}),null===t&&!1===e&&c.setState({loading:!1,data:null})}))},c.componentDidMount=function(){var e,t;"3"!==(null===(e=c.props.auth.role)||void 0===e?void 0:e.role_id)&&Object(j.b)((function(e,t,r){c.setState({loading:!0}),null!==t?c.setState({loading:!1,districts:t}):c.setState({loading:!1})})),null!==c.props.auth.district&&null!==c.props.basic.academic_calender&&"3"===(null===(t=c.props.auth.role)||void 0===t?void 0:t.role_id)&&c.GetDistricts(c.props.auth.district.district_code,c.props.basic.academic_calender.academic_year_id)},c.state={loading:!0,data:null,error:"",selected_district:null!==c.props.auth.district&&"3"===(null===(n=c.props.auth.role)||void 0===n?void 0:n.role_id)?c.props.auth.district.district_code:"",districts:null,showDistrictsList:!1,searchData:"",selectedSchool_code:null!==c.props.auth.school&&"2"===(null===(s=c.props.auth.role)||void 0===s?void 0:s.role_id)?c.props.auth.school.school_code:null},c}return Object(s.a)(r,[{key:"render",value:function(){var e,t,r,a,s,c,i,o,l,d=this,u=null===(e=this.props.auth.role)||void 0===e?void 0:e.access,p="3"===(null===(t=this.props.auth.role)||void 0===t?void 0:t.role_id)?null===(r=this.props.auth.district)||void 0===r?void 0:r.district_name:null===(a=this.state.districts)||void 0===a||null===(s=a.find((function(e){return e.district_code===d.state.selected_district})))||void 0===s?void 0:s.district_name;if(!1===Object(q.c)(u,q.b.POSTS_REQUESTS_REPORT))return Object(y.jsx)(_.a,{to:"/dashboard"});console.log("Last test: ",this.state.data);var h=null===this.state.data?[]:Object(P.i)(null===this.state.selected_district?this.state.data.academic_distributed:this.state.data.academic_distributed.filter((function(e){var t,r;return"3"===(null===(t=d.props.auth.role)||void 0===t?void 0:t.role_id)&&e.district_code===d.state.selected_district||"2"===(null===(r=d.props.auth.role)||void 0===r?void 0:r.role_id)&&e.school_code===d.state.selectedSchool_code})).map((function(e,t){return{id:(t+1).toString(),school_code:e.school_code,school_name:e.school_name,position_name:e.position_name+"( "+e.position_code+" )",qualification_name:e.qualification_name,existing_teachers:e.existing_post,new_requests:e.head_teacher_post_request,dde_requests:null===e.dde_post_request?"":e.dde_post_request,ht_request_reason:e.reason_name,dde_comment:null===e.dde_post_request_comment?"":e.dde_post_request_comment}})),this.state.searchData),m=[{wch:Math.max.apply(Math,Object(n.a)(h.map((function(e){return e.id.length}))))},{wch:Math.max.apply(Math,Object(n.a)(h.map((function(e){return e.school_code.length}))))},{wch:Math.max.apply(Math,Object(n.a)(h.map((function(e){return e.school_name.length}))))},{wch:Math.max.apply(Math,Object(n.a)(h.map((function(e){return e.position_name.length}))))},{wch:Math.max.apply(Math,Object(n.a)(h.map((function(e){return e.qualification_name.length}))))},{wch:Math.max.apply(Math,Object(n.a)(h.map((function(e){return e.existing_teachers.length}))))},{wch:Math.max.apply(Math,Object(n.a)(h.map((function(e){return e.new_requests.length}))))},{wch:Math.max.apply(Math,Object(n.a)(h.map((function(e){return e.ht_request_reason.length}))))},{wch:Math.max.apply(Math,Object(n.a)(h.map((function(e){return e.dde_requests.length}))))},{wch:Math.max.apply(Math,Object(n.a)(h.map((function(e){return e.dde_comment.length}))))}];return!0===this.state.loading?Object(y.jsxs)(x.a,{className:"flex flex-col items-center justify-center",children:[Object(y.jsx)(C.a,{}),Object(y.jsx)("div",{children:"Loading, please wait..."})]}):Object(y.jsx)("div",{children:Object(y.jsxs)(x.a,{children:[Object(y.jsxs)("div",{className:"text-primary-800 text-2xl font-extrabold mb-5 flex flex-col",children:["Posts requests Report in ",p," district",Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3 font-bold text-black text-base",children:[Object(y.jsx)("span",{children:"Academic year:"}),Object(y.jsx)("div",{className:"truncate",children:null===(c=this.props.basic.academic_calender)||void 0===c?void 0:c.academic_year_name})]})]}),Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3 justify-between",children:["3"!==(null===(i=this.props.auth.role)||void 0===i?void 0:i.role_id)&&Object(y.jsx)("div",{className:"flex flex-row items-center gap-3 w-full",children:null===this.state.districts?Object(y.jsx)("div",{className:"font-bold",children:"Loading, please wait..."}):Object(y.jsxs)("div",{className:"w-full",children:[Object(y.jsxs)("div",{onClick:function(){return d.setState({showDistrictsList:!d.state.showDistrictsList})},className:"border font-bold ".concat(!1===this.state.showDistrictsList?"border-gray-400 hover:border-primary-800 hover:bg-blue-100":"border"," hover:text-primary-800 w-full rounded px-3 py-2 bg-white cursor-pointer flex flex-row items-center gap-3 justify-between"),children:[Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[""!==this.state.selected_district&&Object(y.jsx)("div",{className:"rounded-full px-2 bg-blue-200 text-primary-800",children:p}),Object(y.jsx)("span",{children:""===this.state.selected_district?"Choose a district":"Change district"})]}),Object(y.jsx)("div",{children:!1===this.state.showDistrictsList?Object(y.jsx)(b.a,{className:"text-xl"}):Object(y.jsx)(b.b,{className:"text-xl"})})]}),!0===this.state.showDistrictsList&&Object(y.jsx)(E.a,{onChange:function(e){d.setState({selected_district:e}),null!==d.props.basic.academic_calender&&d.GetDistricts(e,d.props.basic.academic_calender.academic_year_id)},districts:this.state.districts,selected_district:this.state.selected_district,setVisibility:function(e){d.setState({showDistrictsList:e})}})]})}),Object(y.jsx)("input",{type:"search",value:this.state.searchData,onChange:function(e){return d.setState({searchData:e.target.value})},className:"bg-white rounded px-3 py-2 border border-gray-400 w-full",placeholder:"Search..."}),Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(y.jsx)(N,{csvData:h,fileName:"".concat(p,"_Posts_Requests_Report_xlsx"),wscols:m,headers:["id","school_code","school_name","position_name","qualification_name","existing_teachers","new_requests","ht_request_reason","dde_requests","dde_comment"],headerFormat:{id:"#",school_code:"School code",school_name:"School name",position_name:"Position name",qualification_name:"Qualification name",existing_teachers:"Existing teachers",new_requests:"New HT requests",ht_request_reason:"HT Requests reason",dde_requests:"DDE Requests",dde_comment:"DDE Comment"}}),Object(y.jsx)(S,{csvHeaders:[{label:"#",key:"id"},{label:"Position name",key:"position_name"},{label:"Qualification name",key:"qualification_name"},{label:"Existing teachers",key:"existing_teachers"},{label:"HT Requests",key:"new_requests"},{label:"HT Request reason",key:"ht_request_reason"},{label:"DDE Requests",key:"dde_requests"},{label:"DDE comment",key:"dde_comment"}],csvData:h,fileName:"".concat(p,"_Posts_Requests_Report_csv.csv")})]})]}),Object(y.jsxs)("div",{children:[console.log("TEST DATA: ",h),0===h.length?"3"===(null===(o=this.props.auth.role)||void 0===o?void 0:o.role_id)||""!==this.state.selected_district&&"2"!==(null===(l=this.props.auth.role)||void 0===l?void 0:l.role_id)?Object(y.jsx)("div",{className:"px-5 py-5 rounded-md mt-5 bg-gray-100 text-gray-400 font-extrabold text-center w-full text-2xl",children:"No data found!"}):Object(y.jsx)("div",{onClick:function(){return d.setState({showDistrictsList:!d.state.showDistrictsList})},className:"underline px-5 py-5 cursor-pointer rounded-md mt-5 bg-blue-50 text-gray-900 font-extrabold text-center w-full text-2xl",children:"No district selected!"}):Object(y.jsx)(v,{thead:Object(y.jsx)("thead",{className:"w-full text-left bg-blue-50",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"border p-1 px-2 border-blue-200",children:"#"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"School code"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"School_name"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"Position name"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"Qualification name"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"Existing teachers"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"HT Requests"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"HT Request reason"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"DDE Requests"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"DDE comment"})]})}),rowFormat:function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"px-2 py-1 border",children:t+1}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:Object(y.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[null===d.state.selectedSchool_code&&Object(y.jsx)("div",{className:"text-3xl",children:Object(y.jsx)("div",{className:"bg-blue-100 text-blue-700 hover:bg-blue-600 hover:text-white rounded-lg",children:null===d.state.selectedSchool_code?Object(y.jsx)(f.f,{}):Object(y.jsx)(f.g,{})})}),Object(y.jsx)("div",{children:e.school_code})]})}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.school_name}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.position_name}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.qualification_name}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.existing_teachers}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.new_requests}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.ht_request_reason}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.dde_requests}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.dde_comment})]},t)},data:h})]})]})})}}]),r}(h.Component),F=Object(m.b)((function(e){return{auth:e.auth,basic:e.basic}}),{})(T)}}]);
//# sourceMappingURL=17.ed640e99.chunk.js.map