(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[4],{361:function(e,t,s){"use strict";s(4);var a=s(1);t.a=function(e){var t=function(){for(var t=[],s=0;s<e.cols;s++)t.push(s);return t.map((function(e){return Object(a.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(a.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},228),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},22648),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},229768)]})}},366:function(e,t,s){"use strict";var a;s.d(t,"a",(function(){return a})),function(e){e.PENDING="PENDING TERMINATION",e.TERMINATED="TERMINATED",e.PENDING_SUSPENSION="PENDING SUSPENTION",e.SUSPENDED="SUSPENDED",e.REJECTED="REJECTED"}(a||(a={}))},384:function(e,t,s){"use strict";s(4);var a=s(45),n=s(12),i=s(23),r=s(1);t.a=function(e){var t="uploaded"===e.linkFor?"".concat(n.f,"/").concat(e.first_id):"".concat(n.e,"/generateletter/").concat(e.linkFor,"/").concat(e.first_id,"/").concat(e.last_id);return Object(r.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:Object(r.jsxs)(i.a,{theme:"primary-light",size:"sm",className:"flex items-center gap-1",children:[Object(r.jsx)(a.a,{}),Object(r.jsx)("span",{children:e.title})]})})}},392:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a,n=s(19),i=s(20),r=s(21),c=s(22),l=s(4),o=s(36),d=s(13),m=s(47),h=s(53),j=s(92),u=s(25),b=s(15),p=s(3),x=s(6),O=s(28),f=s(16),N=s(140),_=s(23),g=s(384),T=s(65),v=s(143),S=s(39),E=s(366),y=s(1),w=Object(o.b)(null,{FC_UpdateThisTermination:d.sc,FC_GetAllTermination:d.C})((function(e){var t=Object(l.useState)(!1),s=Object(O.a)(t,2),a=s[0],n=s[1],i=Object(l.useState)(null),r=Object(O.a)(i,2),c=r[0],o=r[1],d=Object(l.useState)(null),u=Object(O.a)(d,2),w=u[0],D=u[1],I=Object(l.useState)(""),P=Object(O.a)(I,2),C=P[0],F=P[1],R=Object(l.useState)("suspension"===e.thisViewIsFor&&e.thiTermination.requested_to_suspend_from?e.thiTermination.requested_to_suspend_from:""),k=Object(O.a)(R,2),U=k[0],q=k[1],G=Object(l.useState)("suspension"===e.thisViewIsFor&&e.thiTermination.requested_to_suspend_to?e.thiTermination.requested_to_suspend_to:""),V=Object(O.a)(G,2),A=V[0],M=V[1],z=Object(l.useState)(null),J=Object(O.a)(z,2),B=J[0],L=J[1],H=Object(l.useState)(0),K=Object(O.a)(H,2),Q=K[0],W=K[1],X=function(){var t=Object(x.a)(Object(p.a)().mark((function t(){var s,a;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=3;break}return D({element:"action",msg:"Action is required!"}),t.abrupt("return",n(!1));case 3:if("suspension"!==e.thisViewIsFor||c!==E.a.SUSPENDED||!Object(b.r)(U)){t.next=6;break}return D({element:"start_date",msg:"Required!"}),t.abrupt("return",n(!1));case 6:if("suspension"!==e.thisViewIsFor||c!==E.a.SUSPENDED||!Object(b.r)(A)){t.next=9;break}return D({element:"end_date",msg:"Required!"}),t.abrupt("return",n(!1));case 9:if(null!==B){t.next=12;break}return D({element:"approved_doc",msg:"Required!"}),t.abrupt("return",n(!1));case 12:if(!Object(b.r)(C)){t.next=15;break}return D({element:"comment",msg:"Required!"}),t.abrupt("return",n(!1));case 15:return s="",t.next=18,Object(N.c)(B,(function(e,t,a,i){n(e),e&&W(t),!e&&Object(b.r)(i)&&null!==a?s=a:e||Object(b.r)(i)||D({element:"main-error",msg:i})}));case 18:Object(b.r)(s)||(a={change_staff_status_id:e.thiTermination.change_staff_status_id,decision:c,decided_to_suspend_from:"suspension"===e.thisViewIsFor&&c===E.a.SUSPENDED?U:"",decided_to_suspend_to:"suspension"===e.thisViewIsFor&&c===E.a.SUSPENDED?A:"",decided_by_comment:C,mayor_letter:s},n(!0),e.FC_UpdateThisTermination(a,(function(e,t){D(e?{element:"main-success",msg:"Response has been successful sent!"}:{element:"main-error",msg:t})})),o(null),setTimeout((function(){D(null),F("")}),2e3),n(!1));case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log("==================props.thiTermination=================="),console.log({fff:e.thiTermination}),console.log("==================props.thiTermination=================="),Object(y.jsxs)(y.Fragment,{children:[w&&"main-success"===w.element&&Object(y.jsx)(m.a,{theme:"success",children:w.msg}),w&&"main-error"===w.element&&Object(y.jsx)(m.a,{theme:"danger",children:w.msg}),Object(y.jsxs)(h.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(y.jsxs)("div",{className:"py-2 flex items-center",children:[Object(y.jsx)("div",{className:"flex-1",children:Object(y.jsxs)(j.a,{children:["View ",e.thisViewIsFor," progress"]})}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)(_.a,{onClick:function(){return e.setThiTermination(null)},theme:"default",children:"Close"})})]}),Object(y.jsxs)("div",{className:"bg-white p-3 shadow-sm rounded-sm",children:[Object(y.jsxs)("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8",children:[Object(y.jsx)("span",{className:"text-primary-800",children:Object(y.jsx)(f.zb,{size:25})}),Object(y.jsx)("span",{className:"tracking-wide",children:"Staff info"})]}),Object(y.jsx)("div",{className:"text-gray-700",children:Object(y.jsxs)("div",{className:"grid md:grid-cols-2 text-sm",children:[Object(y.jsxs)("div",{className:"grid grid-cols-2",children:[Object(y.jsx)("div",{className:"px-4 py-2 font-semibold",children:"Full Name"}),Object(y.jsx)("div",{className:"px-4 py-2",children:e.thiTermination.techer_name})]}),Object(y.jsxs)("div",{className:"grid grid-cols-2",children:[Object(y.jsx)("div",{className:"px-4 py-2 font-semibold",children:"School"}),Object(y.jsx)("div",{className:"px-4 py-2",children:e.thiTermination.school_name})]}),Object(y.jsxs)("div",{className:"grid grid-cols-2",children:[Object(y.jsx)("div",{className:"px-4 py-2 font-semibold",children:"School code"}),Object(y.jsx)("div",{className:"px-4 py-2",children:e.thiTermination.school_code})]})]})})]}),Object(y.jsxs)("div",{className:"bg-white p-3 border rounded",children:[Object(y.jsxs)("div",{className:"flex items-center px-2 py-1 bg-gray-200 rounded",children:[Object(y.jsx)(f.fb,{className:"w-8"}),Object(y.jsx)("p",{children:e.thiTermination.reason_name})]}),Object(y.jsxs)("div",{className:"flex flex-col mt-3",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Comment:"}),Object(y.jsx)("p",{className:"text-base",children:e.thiTermination.requested_by_comment})]}),"suspension"===e.thisViewIsFor&&Object(y.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Start date:"}),Object(y.jsx)("p",{className:"text-base",children:e.thiTermination.requested_to_suspend_from&&!Object(b.r)(e.thiTermination.requested_to_suspend_from)?Object(b.a)(e.thiTermination.requested_to_suspend_from):"-"})]}),"suspension"===e.thisViewIsFor&&Object(y.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"End date:"}),Object(y.jsx)("p",{className:"text-base",children:e.thiTermination.requested_to_suspend_to&&!Object(b.r)(e.thiTermination.requested_to_suspend_to)?Object(b.a)(e.thiTermination.requested_to_suspend_to):"-"})]}),Object(y.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Request date:"}),Object(y.jsx)("p",{className:"text-base",children:Object(b.a)(e.thiTermination.requested_by_date)})]})]}),e.thiTermination.status!==E.a.PENDING&&e.thiTermination.status!==E.a.PENDING_SUSPENSION&&Object(y.jsxs)("section",{children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Feedback:"}),Object(y.jsxs)("div",{className:"bg-white p-3 border rounded",children:[Object(y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Decision:"}),Object(y.jsx)("p",{className:"text-base",children:e.thiTermination.status})]}),"suspension"===e.thisViewIsFor&&Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Start date:"}),Object(y.jsx)("p",{className:"text-base",children:e.thiTermination.decided_to_suspend_from&&!Object(b.r)(e.thiTermination.decided_to_suspend_from)?Object(b.a)(e.thiTermination.decided_to_suspend_from):"-"})]}),"suspension"===e.thisViewIsFor&&Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"End date:"}),Object(y.jsx)("p",{className:"text-base",children:e.thiTermination.decided_to_suspend_to&&!Object(b.r)(e.thiTermination.decided_to_suspend_to)?Object(b.a)(e.thiTermination.decided_to_suspend_to):"-"})]}),e.thiTermination.status!==E.a.REJECTED&&e.thiTermination.mayor_letter&&Object(y.jsx)(g.a,{linkFor:"uploaded",first_id:e.thiTermination.mayor_letter,last_id:"",title:"Confirmation letter"}),Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Comment:"}),Object(y.jsx)("p",{className:"text-base",children:e.thiTermination.decided_by_comment})]}),Object(y.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Done on:"}),Object(y.jsx)("p",{className:"text-base",children:e.thiTermination.decided_by_date?Object(b.a)(e.thiTermination.decided_by_date):"-"})]})]})]}),!c&&Object(y.jsxs)("section",{className:"flex items-center justify-between bg-gray-50 rounded mt-3",children:[Object(y.jsx)("div",{className:"mx-4 my-4",children:Object(y.jsx)("span",{className:"".concat(e.thiTermination.status===E.a.PENDING||e.thiTermination.status===E.a.PENDING_SUSPENSION?"text-yellow-700":e.thiTermination.status===E.a.REJECTED?"text-red-700":"text-green-700"," italic font-semibold"),children:e.thiTermination.status===E.a.PENDING||e.thiTermination.status===E.a.PENDING_SUSPENSION?"Pending":e.thiTermination.status===E.a.REJECTED?"Canceled":"Confirmed"})}),(e.thiTermination.status===E.a.PENDING||e.thiTermination.status===E.a.PENDING_SUSPENSION)&&Object(y.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[Object(y.jsx)(g.a,{first_id:e.thiTermination.change_staff_status_id,last_id:e.thiTermination.teacher_id,title:"suspension"===e.thisViewIsFor?"Suspension letter":"Termination letter",linkFor:e.thisViewIsFor}),Object(y.jsx)(_.a,{theme:"danger",type:"button",onClick:function(){o(E.a.REJECTED)},children:"Reject"}),Object(y.jsx)(_.a,{type:"button",theme:"success",onClick:function(){o("termination"===e.thisViewIsFor?E.a.TERMINATED:E.a.SUSPENDED)},children:"Accept"})]})]}),c&&Object(y.jsxs)("section",{className:"my-3 overflow-x-auto",children:[0!==Q&&Object(y.jsx)("div",{className:"p-2",children:Object(y.jsx)("div",{className:"bg-accent-400 appearance-none rounded w-full border-bg-accent-800 border-2 transition-all duration-500 ease-in-out",children:Object(y.jsx)("div",{className:"bg-accent-800 rounded-sm text-white text-center py-2 transition-all duration-500 ease-in-out",style:{width:Q+"%"},children:Object(y.jsx)("span",{className:"text-gray-700 mx-1",children:"Uploading..."})})})}),Object(y.jsxs)("div",{className:"italic text-gray-700 text-base mx-5",children:["Selected decision:"," ",Object(y.jsx)("span",{className:"font-semibold text-lg ".concat(c===E.a.TERMINATED||c===E.a.SUSPENDED?"text-blue-700":"text-yellow-800"),children:c===E.a.TERMINATED||c===E.a.SUSPENDED?"Approved":"Rejected"})]}),Object(y.jsx)("div",{className:"flex flex-col md:flex-row items-end md:items-start gap-1 w-full",children:Object(y.jsxs)("div",{className:"w-full px-2",children:["suspension"===e.thisViewIsFor&&c===E.a.SUSPENDED&&Object(y.jsxs)("div",{className:"flex flex-wrap",children:[Object(y.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(y.jsx)(S.a,{disabled:a,label:"Start date",name:"start_date",type:"date",value:U,placeholder:"Suspension starting date",className:"p-2",onChange:function(e){q(e.target.value),D(null)},error:w&&"start_date"===w.element?w.msg:""})}),Object(y.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(y.jsx)(S.a,{disabled:a,label:"End date",name:"end_date",type:"date",value:A,placeholder:"Suspension ending date",className:"p-2",onChange:function(e){M(e.target.value),D(null)},error:w&&"end_date"===w.element?w.msg:""})})]}),Object(y.jsx)("div",{className:"w-full py-1 px-2",children:Object(y.jsx)(T.b,{disabled:a,label:"Suspension document",name:"approved_doc",className:"p-2",onChange:function(e){return function(e){if(D(null),null===e.target.files)return L(null),D({msg:"Please select a valid file",element:"approved_doc"});var t=e.target.files[0];return"application/pdf"!==t.type?(L(null),D({msg:"The system accept pdf only",element:"approved_doc"})):t.size<=0?(L(null),D({msg:"Invalid file, Please choose a real file",element:"approved_doc"})):(L(t),void D(null))}(e)},error:w&&"approved_doc"===w.element?w.msg:"",type:"file",accept:T.a.PDF})}),Object(y.jsx)("div",{className:"w-full py-1 px-2",children:Object(y.jsx)(v.a,{disabled:a,label:"Comment",name:"comment",value:C,placeholder:"Reason of your decision...",className:"p-2",onChange:function(e){F(e.target.value),D(null)},error:w&&"comment"===w.element?w.msg:""})}),Object(y.jsxs)("div",{className:"flex items-center gap-1 max-w-full px-2 float-right",children:[Object(y.jsx)(_.a,{theme:"default",onClick:function(){F(""),o(null),D(null)},disabled:a,children:Object(y.jsx)("span",{children:"Back"})}),Object(y.jsx)(_.a,{disabled:a,theme:"primary",onClick:function(){return window.confirm("Are you sure you want to ".concat(c===E.a.TERMINATED?"terminate this staff?":c===E.a.SUSPENDED?"suspend this staff?":"rejected this request?"))&&X()},children:a?Object(y.jsx)("div",{className:"",children:"Loading..."}):Object(y.jsx)("span",{children:"Confirm"})})]})]})})]})]})]})})),D=s(139),I=s(361),P=function(e){Object(r.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).setThisStatus=function(e){a.setState({thisStatus:e})},a.filterTerminations=function(e,t){var s=e;return s=e.filter((function(e){return e.status!==E.a.PENDING&&e.status!==E.a.TERMINATED&&null!==e.requested_to_suspend_from})),"all"!==t&&(s=s.filter((function(e){return e.status===t}))),s},a.state={search:"",thisStatus:"all"},a}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"mt-3",children:[Object(y.jsxs)("div",{className:"border border-t mt-2 mb-1 flex items-center flex-col-reverse sm:flex-row pl-3 pr-2 rounded",children:[Object(y.jsx)("div",{className:"w-full sm:flex-1 pr-2",children:Object(y.jsx)(S.a,{error:"",label:"Search",name:"",type:"search",onChange:function(t){return e.setState({search:t.target.value})},placeholder:"Search by name, reason, date, status",value:this.state.search,size:"sm",disabled:null===this.props.suspensionItems||0===this.filterTerminations(this.props.suspensionItems,this.state.thisStatus).length})}),Object(y.jsx)("div",{className:"w-full sm:w-auto",children:Object(y.jsx)(D.a,{data:[{title:"All",value:"all"},{title:"Pending",value:E.a.PENDING_SUSPENSION},{title:"Suspended",value:E.a.SUSPENDED},{title:"Rejected",value:E.a.REJECTED}],error:"",name:"select_status",onChange:function(t){return e.setState({thisStatus:t.target.value})},label:"Status",placeholder:"Select status",value:this.state.thisStatus,size:"sm"})})]}),Object(y.jsx)("div",{className:"my-3 w-full overflow-x-auto",children:Object(y.jsxs)("table",{className:"w-full text-left table-auto",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"p-2",children:"#"}),Object(y.jsx)("th",{className:"p-2",children:"Names"}),Object(y.jsx)("th",{className:"p-2",children:"School"}),Object(y.jsx)("th",{className:"p-2",children:"Reason"}),Object(y.jsx)("th",{className:"p-2",children:"Date"}),Object(y.jsx)("th",{className:"p-2",children:"Status"}),Object(y.jsx)("th",{className:"p-2"})]})}),Object(y.jsx)("tbody",{children:this.props.loading?Object(y.jsx)(I.a,{cols:6}):null===this.props.suspensionItems||this.filterTerminations(this.props.suspensionItems,this.state.thisStatus).length<=0?Object(y.jsx)("tr",{children:Object(y.jsx)("td",{colSpan:8,className:"p-8 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:Object(y.jsx)(j.a,{size:"md",className:"opacity-60 font-light",children:"No results found"})})}):Object(b.v)(this.filterTerminations(this.props.suspensionItems,this.state.thisStatus),this.state.search).map((function(t,s){return Object(y.jsxs)("tr",{className:"group border-b border-t rounded hover:bg-accent-800 hover:bg-opacity-20 cursor-pointer",onClick:function(){return e.props.setThisTermination(t)},children:[Object(y.jsx)("td",{className:"p-2",children:s+1}),Object(y.jsx)("td",{className:"p-2",children:t.techer_name}),Object(y.jsx)("td",{className:"p-2",children:t.school_name}),Object(y.jsx)("td",{className:"p-2",children:t.reason_name}),Object(y.jsx)("td",{className:"p-2",children:t.status===E.a.PENDING_SUSPENSION?Object(b.a)(t.requested_by_date):t.decided_by_date&&Object(b.a)(t.decided_by_date)}),Object(y.jsx)("td",{className:"p-2",children:t.status}),Object(y.jsx)("td",{className:"p-1 text-center",children:Object(y.jsx)(_.a,{onClick:function(){return e.props.setThisTermination(t)},children:"View"})})]},s+t.change_staff_status_id)}))})]})})]})}}]),s}(l.Component),C=function(e){Object(r.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).setThisStatus=function(e){a.setState({thisStatus:e})},a.filterTerminations=function(e,t){console.log("===================================="),console.log({allData:e}),console.log("====================================");var s=e;return s=e.filter((function(e){return e.status!==E.a.PENDING_SUSPENSION&&e.status!==E.a.SUSPENDED&&(null===e.requested_to_suspend_from||Object(b.r)(e.requested_to_suspend_from))})),"all"!==t&&(s=s.filter((function(e){return e.status===t}))),s},a.state={search:"",thisStatus:"all"},a}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"mt-3",children:[Object(y.jsxs)("div",{className:"border border-t mt-2 mb-1 flex items-center flex-col-reverse sm:flex-row pl-3 pr-2 rounded",children:[Object(y.jsx)("div",{className:"w-full sm:flex-1 pr-2",children:Object(y.jsx)(S.a,{error:"",label:"Search",name:"",type:"search",onChange:function(t){return e.setState({search:t.target.value})},placeholder:"Search by name, reason, date, status",value:this.state.search,size:"sm",disabled:null===this.props.terminations||0===this.filterTerminations(this.props.terminations,this.state.thisStatus).length})}),Object(y.jsx)("div",{className:"w-full sm:w-auto",children:Object(y.jsx)(D.a,{data:[{title:"All",value:"all"},{title:"Pending",value:E.a.PENDING},{title:"Terminated",value:E.a.TERMINATED},{title:"Rejected",value:E.a.REJECTED}],error:"",name:"select_status",onChange:function(t){return e.setState({thisStatus:t.target.value})},label:"Status",placeholder:"Select status",value:this.state.thisStatus,size:"sm"})})]}),Object(y.jsx)("div",{className:"my-3 w-full overflow-x-auto",children:Object(y.jsxs)("table",{className:"w-full text-left table-auto",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"p-2",children:"#"}),Object(y.jsx)("th",{className:"p-2",children:"Names"}),Object(y.jsx)("th",{className:"p-2",children:"School"}),Object(y.jsx)("th",{className:"p-2",children:"Reason"}),Object(y.jsx)("th",{className:"p-2",children:"Date"}),Object(y.jsx)("th",{className:"p-2",children:"Status"}),Object(y.jsx)("th",{className:"p-2"})]})}),Object(y.jsx)("tbody",{children:this.props.loading?Object(y.jsx)(I.a,{cols:6}):null===this.props.terminations||this.filterTerminations(this.props.terminations,this.state.thisStatus).length<=0?Object(y.jsx)("tr",{children:Object(y.jsx)("td",{colSpan:8,className:"p-8 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:Object(y.jsx)(j.a,{size:"md",className:"opacity-60 font-light",children:"No results found"})})}):Object(b.v)(this.filterTerminations(this.props.terminations,this.state.thisStatus),this.state.search).map((function(t,s){return Object(y.jsxs)("tr",{className:"group border-b border-t rounded hover:bg-accent-800 hover:bg-opacity-20 cursor-pointer",onClick:function(){return e.props.setThisTermination(t)},children:[Object(y.jsx)("td",{className:"p-2",children:s+1}),Object(y.jsx)("td",{className:"p-2",children:t.techer_name}),Object(y.jsx)("td",{className:"p-2",children:t.school_name}),Object(y.jsx)("td",{className:"p-2",children:t.reason_name}),Object(y.jsx)("td",{className:"p-2",children:t.status===E.a.PENDING?Object(b.a)(t.requested_by_date):t.decided_by_date&&Object(b.a)(t.decided_by_date)}),Object(y.jsx)("td",{className:"p-2",children:t.status}),Object(y.jsx)("td",{className:"p-1 text-center",children:Object(y.jsx)(_.a,{onClick:function(){return e.props.setThisTermination(t)},children:"View"})})]},s+t.change_staff_status_id)}))})]})})]})}}]),s}(l.Component);!function(e){e.terminationTab="Staff Termination",e.suspensionTab="Staff Suspension"}(a||(a={}));var F=function(e){Object(r.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setError=function(e){a.setState({error:e})},a.setThisTermination=function(e){a.setState({thisTermination:e})},a.getTerminationById=function(e,t){return e.find((function(e){return e.change_staff_status_id===t}))},a.componentDidMount=function(){a.props.FC_GetAllTermination("hr",(function(e,t,s){a.setLoading(e),e||Object(b.r)(s)||a.setError({target:"main-error",msg:s})}))},a.state={loading:!0,error:{target:null,msg:""},thisTermination:null},a}return Object(i.a)(s,[{key:"render",value:function(){return this.state.loading?Object(y.jsx)("div",{className:"p-8 text-center",children:Object(y.jsx)("div",{className:"mx-auto",children:Object(y.jsx)(u.a,{})})}):Object(y.jsxs)(y.Fragment,{children:["main-success"===this.state.error.target&&Object(y.jsx)(m.a,{theme:"success",children:this.state.error.msg}),"main-error"===this.state.error.target&&Object(y.jsx)(m.a,{theme:"danger",children:this.state.error.msg}),null===this.state.thisTermination?Object(y.jsxs)(h.a,{children:[Object(y.jsx)(j.a,{children:this.props.thisPage}),this.props.thisPage===a.terminationTab?Object(y.jsx)(C,{terminations:this.props.terminations.allTermination,loading:this.state.loading,setThisTermination:this.setThisTermination}):Object(y.jsx)(P,{suspensionItems:this.props.terminations.allTermination,loading:this.state.loading,setThisTermination:this.setThisTermination})]}):Object(y.jsx)(w,{setThiTermination:this.setThisTermination,thiTermination:this.getTerminationById(this.props.terminations.allTermination,this.state.thisTermination.change_staff_status_id),thisViewIsFor:this.props.thisPage===a.terminationTab?"termination":"suspension"})]})}}]),s}(l.Component);t.b=Object(o.b)((function(e){return{auth:e.auth,basic:e.basic,terminations:e.terminations}}),{FC_GetAllTermination:d.C})(F)}}]);
//# sourceMappingURL=4.d1f8a215.chunk.js.map