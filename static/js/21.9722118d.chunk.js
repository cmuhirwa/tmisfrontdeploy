(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[21],{360:function(e,t,s){"use strict";var a;s.d(t,"a",(function(){return a})),function(e){e.PENDING="PENDING TERMINATION",e.TERMINATED="TERMINATED",e.PENDING_SUSPENSION="PENDING SUSPENTION",e.SUSPENDED="SUSPENDED",e.REJECTED="REJECTED"}(a||(a={}))},361:function(e,t,s){"use strict";s.d(t,"f",(function(){return o})),s.d(t,"d",(function(){return c})),s.d(t,"e",(function(){return l})),s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return u})),s.d(t,"c",(function(){return h}));var a,r,n,i=s(16),o=100;!function(e){e.GOVERNMENT_AIDED="GOVERNMENT_AIDED",e.PRIVATE="GOVERNMENT_AIDED",e.PUBLIC="PUBLIC"}(a||(a={})),function(e){e.EXIST="Exist",e.NEW="new"}(r||(r={})),function(e){e.role="role",e.district_name="district_name",e.full_name="full_name",e.phone_numbers="phone_numbers",e.email="email",e.sex="sex",e.dob="dob",e.marital_status="marital_status",e.nid="nid",e.position="position",e.specialization="specialization",e.qualification="qualification",e.status="status",e.school_code="school_code",e.school_name="school_name",e.school_category="school_category",e.school_status="school_status",e.subjects="subjects",e.grades="grades",e.date_in_school="date_in_school",e.date_of_hire="date_of_hire"}(n||(n={}));var c=[{key:n.full_name,title:"Staff Full Names",status:!0,isChangeAllowed:!0},{key:n.nid,title:"National ID",status:!0,isChangeAllowed:!1},{key:n.sex,title:"Sex",status:!0,isChangeAllowed:!0},{key:n.dob,title:"Date of Birth",status:!0,isChangeAllowed:!0},{key:n.marital_status,title:"Marital status",status:!0,isChangeAllowed:!0},{key:n.phone_numbers,title:"Staff Phone",status:!0,isChangeAllowed:!0},{key:n.email,title:"Staff Email",status:!0,isChangeAllowed:!0},{key:n.qualification,title:"Qualification",status:!0,isChangeAllowed:!0},{key:n.position,title:"Position",status:!0,isChangeAllowed:!0},{key:n.subjects,title:"Subjects",status:!0,isChangeAllowed:!0},{key:n.grades,title:"Grade (No of Group)",status:!0,isChangeAllowed:!0},{key:n.specialization,title:"Specialization",status:!0,isChangeAllowed:!0},{key:n.role,title:"Staff role",status:!0,isChangeAllowed:!0},{key:n.status,title:"Status",status:!0,isChangeAllowed:!0},{key:n.date_of_hire,title:"Date to hire",status:!0,isChangeAllowed:!0},{key:n.date_in_school,title:"Date in school",status:!0,isChangeAllowed:!0},{key:n.school_name,title:"School Name",status:!0,isChangeAllowed:!0},{key:n.school_code,title:"School Code",status:!0,isChangeAllowed:!0},{key:n.school_category,title:"School Category",status:!0,isChangeAllowed:!0},{key:n.school_status,title:"School Status",status:!0,isChangeAllowed:!0},{key:n.district_name,title:"District Name",status:!0,isChangeAllowed:!0}],l={system:["26","Admin"],country:["REB","4","RTB","300","MINECOFIN","27","26","Admin"],district:["DDE","3","Human Resource","25"],school:["Head Teacher","Teacher","2"]},d=function(e){return null===e?"":h(e)?Object(i.a)(e):e},u=function(e){var t="",s=[],a="",r={grade_names:[],grade_codes:[],courses:[],group:[]},n=0;if(e){var o=function(a){var o=e[a];if(s.includes(o.course_code)||(s.push(o.course_code),t+=Object(i.r)(t)?o.course_name:", "+o.course_name),r.grade_codes.includes(o.grade_code)){if(r.courses.findIndex((function(e){return e===o.course_code}))>=0){var c=r.courses.findIndex((function(e){return e===o.course_code}));r.group[c]+=JSON.parse(o.grade_group).length}}else r.grade_codes.push(o.grade_code),r.grade_names.push(o.grade_name),r.courses.push(o.course_code),r.group.push(Object(i.b)(JSON.parse(o.grade_group)));n+=Number(o.teaching_period)*JSON.parse(o.grade_group).length};for(var c in e)o(c);for(var l in r.courses)a+=Object(i.r)(a)?"".concat(r.grade_names[l]," (").concat(r.group[l],")"):", ".concat(r.grade_names[l]," (").concat(r.group[l],")")}return{courses:t,grades:a,periods:n.toString()}},h=function(e){if(null===e)return!1;var t=new Date(e);return!isNaN(t.getDate())}},374:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a,r=s(370),n=s(143),i=s(15),o=s(1);!function(e){e.RESTORE_DELETE="restore_delete",e.DELETE="delete",e.INFO="info",e.OTHER="other"}(a||(a={}));t.b=function(e){return Object(o.jsxs)("div",{className:"min-w-screen h-screen animated fadeIn faster  fixed  left-0 top-0 flex justify-center items-center inset-0 z-50 outline-none focus:outline-none bg-no-repeat bg-center bg-cover",id:"modal-id",children:[Object(o.jsx)("div",{className:"absolute bg-black opacity-80 inset-0 z-0"}),Object(o.jsx)("div",{className:"w-full  max-w-lg p-5 relative mx-auto my-auto rounded-xl shadow-lg bg-white animate__animated animate__zoomIn animate__faster",children:Object(o.jsxs)("div",{className:"",children:[Object(o.jsxs)("div",{className:"text-center p-5 flex-auto justify-center",children:[e.modalType===a.DELETE||e.modalType===a.RESTORE_DELETE&&Object(o.jsx)(r.a,{className:"w-4 h-4 -m-1 flex items-center text-red-500 mx-auto"}),e.modalType===a.DELETE?Object(o.jsx)(i.v,{className:"w-16 h-16 flex items-center text-red-500 mx-auto"}):e.modalType===a.RESTORE_DELETE?Object(o.jsx)(i.Fb,{className:"w-16 h-16 flex items-center text-yellow-800 mx-auto"}):e.modalType===a.INFO?Object(o.jsx)(n.a,{className:"w-16 h-16 flex items-center text-blue-500 mx-auto"}):Object(o.jsx)(n.a,{className:"w-16 h-16 flex items-center text-yellow-500 mx-auto"}),Object(o.jsx)("h2",{className:"text-xl font-bold py-4 ",children:"Are you sure?"}),Object(o.jsx)("p",{className:"text-sm text-gray-500 px-8",children:e.description})]}),Object(o.jsxs)("div",{className:"p-3  mt-2 text-center space-x-4 md:block",children:[Object(o.jsx)("button",{className:"mb-2 md:mb-0 bg-white px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-gray-600 rounded-full hover:shadow-lg hover:bg-gray-100",onClick:function(){return e.setModalAction(!1)},children:"Cancel"}),Object(o.jsx)("button",{className:"mb-2 md:mb-0 border px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg ".concat(e.modalType===a.DELETE?"border-red-500 hover:bg-red-600 bg-red-500":e.modalType===a.RESTORE_DELETE?"border-yellow-700 hover:bg-yellow-800 bg-yellow-700":e.modalType===a.INFO?"border-blue-500 hover:bg-blue-600 bg-blue-500":"border-yellow-500 hover:bg-yellow-600 bg-yellow-500"),onClick:function(){e.confirmFun(),e.setModalAction(!1)},children:"Confirm"})]})]})})]})}},391:function(e,t,s){"use strict";s.r(t),s.d(t,"UserProfile",(function(){return Q}));var a=s(19),r=s(20),n=s(21),i=s(22),o=s(4),c=s(36),l=s(13),d=s(47),u=s(3),h=s(6),m=s(7),f=s.n(m),b=s(12),j=s(8),p=s(11),x=function(){var e=Object(h.a)(Object(u.a)().mark((function e(t,s){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,null,""),e.prev=1,Object(j.a)(),e.next=5,f.a.get("".concat(b.e,"/profile/teacher/").concat(t));case 5:a=e.sent,console.log("=================FC_GetProfilesssss==================="),console.log({FC_GetProfile:a}),console.log("=================FC_GetProfilesssss==================="),s(!1,a.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),s(!1,null,Object(p.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,s){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(Object(u.a)().mark((function e(t,s){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,""),e.prev=1,Object(j.a)(),e.next=5,f.a.post("".concat(b.e,"/user/updateinfo/credential/").concat(t.user_id),{username:t.username,password:t.password});case 5:a=e.sent,console.log("=================FC_ResetPassword==================="),console.log({FC_ResetPassword:a}),console.log("=================FC_ResetPassword==================="),s(!1,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),s(!1,Object(p.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,s){return e.apply(this,arguments)}}(),O=s(16),_=s(53),N=s(92),v=s(23),y=s(15),S=s(360),I=s(1),w=function(e){return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(_.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(I.jsxs)("div",{className:"py-2 flex items-center",children:[Object(I.jsx)("div",{className:"flex-1",children:Object(I.jsxs)(N.a,{children:["View"," ",e.thiTermination.requested_to_suspend_from?"suspension":"termination"," ","progress"]})}),Object(I.jsx)("div",{className:"",children:Object(I.jsx)(v.a,{onClick:function(){return e.close(null)},theme:"default",children:"Close"})})]}),Object(I.jsxs)("div",{className:"bg-white p-3 shadow-sm rounded-sm",children:[Object(I.jsxs)("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8",children:[Object(I.jsx)("span",{className:"text-primary-800",children:Object(I.jsx)(y.zb,{size:25})}),Object(I.jsx)("span",{className:"tracking-wide",children:"Staff info"})]}),Object(I.jsx)("div",{className:"text-gray-700",children:Object(I.jsxs)("div",{className:"grid md:grid-cols-2 text-sm",children:[Object(I.jsxs)("div",{className:"grid grid-cols-2",children:[Object(I.jsx)("div",{className:"px-4 py-2 font-semibold",children:"Full Name"}),Object(I.jsx)("div",{className:"px-4 py-2",children:e.selectedStaff.full_name})]}),Object(I.jsxs)("div",{className:"grid grid-cols-2",children:[Object(I.jsx)("div",{className:"px-4 py-2 font-semibold",children:"Contact No."}),Object(I.jsx)("div",{className:"px-4 py-2",children:e.selectedStaff.phone_numbers})]}),Object(I.jsxs)("div",{className:"grid grid-cols-2",children:[Object(I.jsx)("div",{className:"px-4 py-2 font-semibold",children:"Email."}),Object(I.jsx)("div",{className:"px-4 py-2",children:Object(I.jsx)("a",{className:"text-blue-800",href:"mailto:jane@example.com",children:e.selectedStaff.email})})]})]})})]}),Object(I.jsxs)("div",{className:"bg-white p-3 border rounded",children:[Object(I.jsxs)("div",{className:"flex items-center px-2 py-1 bg-gray-200 rounded",children:[Object(I.jsx)(y.fb,{className:"w-8"}),Object(I.jsx)("p",{children:e.thiTermination.reason_name})]}),Object(I.jsxs)("div",{className:"flex flex-col mt-3",children:[Object(I.jsx)("span",{className:"text-sm text-gray-500",children:"Comment:"}),Object(I.jsx)("p",{className:"text-base",children:e.thiTermination.requested_by_comment})]}),Object(I.jsxs)("div",{className:"flex flex-col",children:[Object(I.jsx)("span",{className:"text-sm text-gray-500",children:"Date:"}),Object(I.jsx)("p",{className:"text-base",children:Object(O.a)(e.thiTermination.requested_by_date)})]})]}),e.thiTermination.status!==S.a.PENDING&&e.thiTermination.status!==S.a.PENDING_SUSPENSION&&Object(I.jsxs)("section",{children:[Object(I.jsx)("span",{className:"text-sm text-gray-500",children:"Feedback:"}),Object(I.jsxs)("div",{className:"bg-white p-3 border rounded",children:[Object(I.jsxs)("div",{className:"flex items-center gap-2",children:[Object(I.jsx)("span",{className:"text-sm text-gray-500",children:"Decision:"}),Object(I.jsx)("p",{className:"text-base font-semibold",children:e.thiTermination.status})]}),Object(I.jsxs)("div",{className:"flex items-center gap-2",children:[Object(I.jsx)("span",{className:"text-sm text-gray-500",children:"Start date:"}),Object(I.jsx)("p",{className:"text-base font-semibold",children:e.thiTermination.decided_to_suspend_from&&!Object(O.r)(e.thiTermination.decided_to_suspend_from)?Object(O.a)(e.thiTermination.decided_to_suspend_from):"-"})]}),Object(I.jsxs)("div",{className:"flex items-center gap-2",children:[Object(I.jsx)("span",{className:"text-sm text-gray-500",children:"End date:"}),Object(I.jsx)("p",{className:"text-base font-semibold",children:e.thiTermination.decided_to_suspend_to&&!Object(O.r)(e.thiTermination.decided_to_suspend_to)?Object(O.a)(e.thiTermination.decided_to_suspend_to):"-"})]}),Object(I.jsxs)("div",{className:"flex flex-col",children:[Object(I.jsx)("span",{className:"text-sm text-gray-500",children:"Comment:"}),Object(I.jsx)("p",{className:"text-base",children:e.thiTermination.decided_by_comment})]}),Object(I.jsxs)("div",{className:"flex items-center gap-2",children:[Object(I.jsx)("span",{className:"text-sm text-gray-500",children:"Done on:"}),Object(I.jsx)("p",{className:"text-base font-semibold",children:e.thiTermination.decided_by_date?Object(O.a)(e.thiTermination.decided_by_date):"-"})]})]})]})]})})},R=s(141),C=s(39),T=s(68),k=function(e){Object(n.a)(s,e);var t=Object(i.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).setLoading=function(e){r.setState({loading:e})},r.setSelectReason=function(e){r.setState({selectReason:e})},r.setLoadingRequest=function(e){r.setState({loadingRequest:e})},r.setAllReasons=function(e){r.setState({allReasons:e})},r.setThisReason=function(e){r.setState({thisReason:e})},r.setComment=function(e){r.setState({comment:e})},r.setStaffCode=function(e){r.setState({staffCode:e})},r.setStaffRegId=function(e){r.setState({staffRegId:e})},r.cleanToCLose=function(){r.props.close(null),r.setThisReason(null),r.setComment(""),r.setStaffCode(""),r.setStaffRegId(""),r.setState({error:{target:null,msg:""}})},r.getTerminationReasons=function(){var e=Object(h.a)(Object(u.a)().mark((function e(t){var s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!0,null,""),Object(j.a)(),e.next=5,f.a.get("".concat(b.e,"/changeStatusReasons/termination"));case 5:s=e.sent,console.log("===================================="),console.log({getTerminationReasons:s}),console.log("===================================="),t(!1,s.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),t(!1,null,Object(p.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),r.componentDidMount=function(){null===r.props.auth.school?r.setState({error:{target:"main-error",msg:"No school assigned to you"}}):null===r.state.allReasons&&r.getTerminationReasons((function(e,t,s){r.setLoading(e),!e&&Object(O.r)(s)&&t?r.setAllReasons(t):e||Object(O.r)(s)||r.setState({error:{target:"main-error",msg:s}})}))},r.submitTermination=function(){var e=Object(h.a)(Object(u.a)().mark((function e(t){var s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.props.auth.school){e.next=3;break}return e.abrupt("return",r.setState({error:{target:"main-error",msg:"No school assigned to you!"}}));case 3:if(r.props.auth.user){e.next=5;break}return e.abrupt("return",r.setState({error:{target:"main-error",msg:"Can't identify who you are!"}}));case 5:if(!Object(O.r)(r.props.auth.user.user_id)&&void 0!==r.props.auth.user.user_id){e.next=7;break}return e.abrupt("return",r.setState({error:{target:"main-error",msg:"Can't identify your code!"}}));case 7:if(null!==r.state.thisReason){e.next=9;break}return e.abrupt("return",r.setState({error:{target:"reason_id",msg:"Required!"}}));case 9:if(!Object(O.r)(r.state.comment)){e.next=11;break}return e.abrupt("return",r.setState({error:{target:"comment",msg:"Required!"}}));case 11:return e.prev=11,r.setLoadingRequest(!0),Object(j.a)(),e.next=16,f.a.post("".concat(b.e,"/changeteacherstatus/requestchangeteacherstatus"),{changeStatusType:"PENDING TERMINATION",staff_to_changestatus_id:r.props.selectedStaff.staff_code,school_code:r.props.auth.school.school_code,district_code:r.props.auth.school.school_code.substring(0,2),requested_by_reason_id:r.state.thisReason.termination_reason_id,requested_by_comment:r.state.comment});case 16:s=e.sent,console.log("===================================="),console.log({submitTermination:s}),console.log("===================================="),r.props.FC_GetAllTermination("hd",(function(e,t,s){r.setLoading(e),e||Object(O.r)(s)?(r.setState({loading:!1,thisReason:null,comment:"",error:{target:"main-success",msg:"Staff  termination requested successfully"}}),r.setLoadingRequest(!1),setTimeout((function(){r.cleanToCLose()}),2e3)):(console.log("===================================="),console.error({msg:s}),console.log("===================================="))})),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(11),console.error(e.t0),r.setState({loading:!1,error:{target:"main-error",msg:Object(p.a)(e.t0)}});case 27:case"end":return e.stop()}}),e,null,[[11,23]])})));return function(t){return e.apply(this,arguments)}}(),r.state={loading:!0,allReasons:null,loadingRequest:!1,thisReason:null,comment:"",error:{target:null,msg:""},staffRegId:"",staffCode:"",selectReason:!1},r}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return Object(I.jsxs)(I.Fragment,{children:["main-success"===this.state.error.target&&Object(I.jsx)(d.a,{theme:"success",children:this.state.error.msg}),"main-error"===this.state.error.target&&Object(I.jsx)(d.a,{theme:"danger",children:this.state.error.msg}),Object(I.jsxs)(_.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(I.jsxs)("div",{className:"py-2 flex items-center",children:[Object(I.jsx)("div",{className:"flex-1",children:Object(I.jsx)(N.a,{children:"Staff termination form"})}),Object(I.jsx)("div",{className:"",children:Object(I.jsx)(v.a,{onClick:function(){return e.cleanToCLose()},theme:"default",disabled:this.state.loadingRequest,children:"Close"})})]}),Object(I.jsxs)("form",{onSubmit:this.submitTermination,children:[Object(I.jsxs)("div",{className:"p-2 flex flex-wrap",children:[Object(I.jsx)("div",{className:"w-full py-1 px-3",children:Object(I.jsx)(C.a,{disabled:!0,label:"Full name",name:"full_name",type:"text",value:this.props.selectedStaff.full_name?this.props.selectedStaff.full_name:"",placeholder:"Full name",className:"p-2",onChange:function(){return null},error:""})}),Object(I.jsx)("div",{className:"w-full py-1 px-3",children:Object(I.jsxs)("div",{className:"w-full my-2",children:[Object(I.jsx)("label",{htmlFor:"login-form-email",className:"text-primary-900 dark:text-primary-100",children:"Termination reasons"}),this.state.selectReason?Object(I.jsx)(T.a,{title:"reason_name",id:"termination_reason_id",data:this.state.allReasons,loading:this.state.loading||this.state.loadingRequest,click:function(t){e.setThisReason(t),e.setSelectReason(!1)},close:function(){return e.setSelectReason(!1)}}):Object(I.jsxs)("div",{className:"rounded relative",children:[Object(I.jsx)("div",{className:"w-full text-lg rounded border-2 p-2 px-4 text-md ".concat(!this.state.thisReason&&"text-gray-500"," ").concat(this.state.allReasons?"cursor-pointer":"cursor-wait"," ").concat(this.state.error.target&&"reason_id"===this.state.error.target?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900"," px-3"),onClick:function(){return!e.state.loading&&!e.state.loadingRequest&&e.setSelectReason(!0)},children:this.state.thisReason?this.state.thisReason.reason_name:"Select termination reasons"}),this.state.error.target&&"reason_id"===this.state.error.target&&Object(I.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:this.state.error.msg})]})]})}),Object(I.jsx)("div",{className:"w-full py-1 px-3",children:Object(I.jsx)(R.a,{disabled:this.state.loading||this.state.loadingRequest,label:"Comment",name:"other_reason",value:this.state.comment,placeholder:"Other termination reason",className:"p-2",onChange:function(t){return e.setComment(t.target.value)},error:this.state.error.target&&"comment"===this.state.error.target?this.state.error.msg:""})})]}),Object(I.jsxs)("div",{className:"px-6 text-right flex",children:[Object(I.jsx)("div",{className:"flex-1",children:null!==this.state.error.target&&"main-error"!==this.state.error.target&&"main-success"!==this.state.error.target&&Object(I.jsx)("div",{className:"text-sm text-red-400 pr-4",children:"Some fields are required!"})}),Object(I.jsx)("div",{className:"",children:Object(I.jsx)(v.a,{type:"submit",size:"lg",loading:this.state.loading,children:"Send"})})]})]})]})]})}}]),s}(o.Component),D=Object(c.b)(null,{FC_GetAllTermination:l.C})(k),E=function(e){Object(n.a)(s,e);var t=Object(i.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).setLoading=function(e){r.setState({loading:e})},r.setSelectReason=function(e){r.setState({selectReason:e})},r.setLoadingRequest=function(e){r.setState({loadingRequest:e})},r.setAllReasons=function(e){r.setState({allReasons:e})},r.setThisReason=function(e){r.setState({thisReason:e})},r.setComment=function(e){r.setState({comment:e})},r.setStartDate=function(e){r.setState({startDate:e})},r.setEndDate=function(e){r.setState({endDate:e})},r.setStaffCode=function(e){r.setState({staffCode:e})},r.setStaffRegId=function(e){r.setState({staffRegId:e})},r.cleanToCLose=function(){r.props.close(null),r.setThisReason(null),r.setComment(""),r.setStaffCode(""),r.setStaffRegId(""),r.setStartDate(""),r.setEndDate(""),r.setState({error:{target:null,msg:""}})},r.getSuspensionReasons=function(){var e=Object(h.a)(Object(u.a)().mark((function e(t){var s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!0,null,""),Object(j.a)(),e.next=5,f.a.get("".concat(b.e,"/changeStatusReasons/suspension"));case 5:s=e.sent,console.log("===================================="),console.log({getSuspensionReasons:s}),console.log("===================================="),t(!1,s.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),t(!1,null,Object(p.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),r.componentDidMount=function(){null===r.props.auth.school?r.setState({error:{target:"main-error",msg:"No school assigned to you"}}):null===r.state.allReasons&&r.getSuspensionReasons((function(e,t,s){r.setLoading(e),!e&&Object(O.r)(s)&&t?r.setAllReasons(t):e||Object(O.r)(s)||r.setState({error:{target:"main-error",msg:s}})}))},r.submitSuspension=function(){var e=Object(h.a)(Object(u.a)().mark((function e(t){var s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.props.auth.school){e.next=3;break}return e.abrupt("return",r.setState({error:{target:"main-error",msg:"No school assigned to you!"}}));case 3:if(r.props.auth.user){e.next=5;break}return e.abrupt("return",r.setState({error:{target:"main-error",msg:"Can't identify who you are!"}}));case 5:if(!Object(O.r)(r.props.auth.user.user_id)&&void 0!==r.props.auth.user.user_id){e.next=7;break}return e.abrupt("return",r.setState({error:{target:"main-error",msg:"Can't identify your code!"}}));case 7:if(!Object(O.r)(r.state.startDate)){e.next=9;break}return e.abrupt("return",r.setState({error:{target:"start_date",msg:"Required!"}}));case 9:if(!Object(O.r)(r.state.endDate)){e.next=11;break}return e.abrupt("return",r.setState({error:{target:"end_date",msg:"Required!"}}));case 11:if(null!==r.state.thisReason){e.next=13;break}return e.abrupt("return",r.setState({error:{target:"reason_id",msg:"Required!"}}));case 13:if(!Object(O.r)(r.state.comment)){e.next=15;break}return e.abrupt("return",r.setState({error:{target:"comment",msg:"Required!"}}));case 15:return e.prev=15,r.setLoadingRequest(!0),Object(j.a)(),e.next=20,f.a.post("".concat(b.e,"/changeteacherstatus/requestchangeteacherstatus"),{changeStatusType:"PENDING SUSPENTION",staff_to_changestatus_id:r.props.selectedStaff.staff_code,school_code:r.props.auth.school.school_code,district_code:r.props.auth.school.school_code.substring(0,2),requested_by_reason_id:r.state.thisReason.suspension_reason_id,requested_by_comment:r.state.comment,requested_to_suspend_from:r.state.startDate,requested_to_suspend_to:r.state.endDate});case 20:s=e.sent,console.log("===================================="),console.log({submitSuspension:s}),console.log("===================================="),r.props.FC_GetAllTermination("hd",(function(e,t,s){r.setLoading(e),e||Object(O.r)(s)?(r.setState({loading:!1,thisReason:null,comment:"",error:{target:"main-success",msg:"Staff suspension requested successfully"}}),r.setLoadingRequest(!1),setTimeout((function(){r.cleanToCLose()}),2e3)):(console.log("===================================="),console.error({msg:s}),console.log("===================================="))})),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(15),console.error(e.t0),r.setState({loading:!1,error:{target:"main-error",msg:Object(p.a)(e.t0)}});case 31:case"end":return e.stop()}}),e,null,[[15,27]])})));return function(t){return e.apply(this,arguments)}}(),r.state={loading:!0,allReasons:null,loadingRequest:!1,thisReason:null,comment:"",error:{target:null,msg:""},staffRegId:"",staffCode:"",startDate:"",endDate:"",selectReason:!1},r}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return Object(I.jsxs)(I.Fragment,{children:["main-success"===this.state.error.target&&Object(I.jsx)(d.a,{theme:"success",children:this.state.error.msg}),"main-error"===this.state.error.target&&Object(I.jsx)(d.a,{theme:"danger",children:this.state.error.msg}),Object(I.jsxs)(_.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(I.jsxs)("div",{className:"py-2 flex items-center",children:[Object(I.jsx)("div",{className:"flex-1",children:Object(I.jsx)(N.a,{children:"Staff suspension form"})}),Object(I.jsx)("div",{className:"",children:Object(I.jsx)(v.a,{onClick:function(){return e.cleanToCLose()},theme:"default",disabled:this.state.loadingRequest,children:"Close"})})]}),Object(I.jsxs)("form",{onSubmit:this.submitSuspension,children:[Object(I.jsxs)("div",{className:"p-2 flex flex-wrap",children:[Object(I.jsx)("div",{className:"w-full py-1 px-3",children:Object(I.jsx)(C.a,{disabled:!0,label:"FUll name",name:"full_name",type:"text",value:this.props.selectedStaff.full_name?this.props.selectedStaff.full_name:"",placeholder:"Full name",className:"p-2",onChange:function(){return null},error:""})}),Object(I.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(I.jsx)(C.a,{disabled:this.state.loading||this.state.loadingRequest,label:"Start date",name:"start_date",type:"date",value:this.state.startDate,placeholder:"Suspension starting date",className:"p-2",onChange:function(t){e.setStartDate(t.target.value),e.setState({error:{target:null,msg:""}})},error:this.state.error.target&&"start_date"===this.state.error.target?this.state.error.msg:""})}),Object(I.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(I.jsx)(C.a,{disabled:this.state.loading||this.state.loadingRequest,label:"End date",name:"end_date",type:"date",value:this.state.endDate,placeholder:"Suspension ending date",className:"p-2",onChange:function(t){e.setEndDate(t.target.value),e.setState({error:{target:null,msg:""}})},error:this.state.error.target&&"end_date"===this.state.error.target?this.state.error.msg:""})}),Object(I.jsx)("div",{className:"w-full py-1 px-3",children:Object(I.jsxs)("div",{className:"w-full my-2",children:[Object(I.jsx)("label",{htmlFor:"login-form-email",className:"text-primary-900 dark:text-primary-100",children:"Suspension reasons"}),this.state.selectReason?Object(I.jsx)(T.a,{title:"reason_name",id:"suspension_reason_id",data:this.state.allReasons,loading:this.state.loading||this.state.loadingRequest,click:function(t){e.setThisReason(t),e.setState({error:{target:null,msg:""}}),e.setSelectReason(!1)},close:function(){return e.setSelectReason(!1)}}):Object(I.jsxs)("div",{className:"rounded relative",children:[Object(I.jsx)("div",{className:"w-full text-lg rounded border-2 p-2 px-4 text-md ".concat(!this.state.thisReason&&"text-gray-500"," ").concat(this.state.allReasons?"cursor-pointer":"cursor-wait"," ").concat(this.state.error.target&&"reason_id"===this.state.error.target?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900"," px-3"),onClick:function(){return!e.state.loading&&!e.state.loadingRequest&&e.setSelectReason(!0)},children:this.state.thisReason?this.state.thisReason.reason_name:"Select termination reasons"}),this.state.error.target&&"reason_id"===this.state.error.target&&Object(I.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:this.state.error.msg})]})]})}),Object(I.jsx)("div",{className:"w-full py-1 px-3",children:Object(I.jsx)(R.a,{disabled:this.state.loading||this.state.loadingRequest,label:"Comment",name:"other_reason",value:this.state.comment,placeholder:"Other suspension reason",className:"p-2",onChange:function(t){e.setComment(t.target.value),e.setState({error:{target:null,msg:""}})},error:this.state.error.target&&"comment"===this.state.error.target?this.state.error.msg:""})})]}),Object(I.jsxs)("div",{className:"px-6 text-right flex",children:[Object(I.jsx)("div",{className:"flex-1",children:null!==this.state.error.target&&"main-error"!==this.state.error.target&&"main-success"!==this.state.error.target&&Object(I.jsx)("div",{className:"text-sm text-red-400 pr-4",children:"Some fields are required!"})}),Object(I.jsx)("div",{className:"",children:Object(I.jsx)(v.a,{type:"submit",size:"lg",loading:this.state.loading,children:"Send"})})]})]})]})]})}}]),s}(o.Component),A=Object(c.b)(null,{FC_GetAllTermination:l.C})(E),q=s(26),P=s(385),F=s(361),L=s(374),U=s(60),G=s(69),M=s(63),z=s(393),B=s(5),H=s(42),J=function(e,t){return console.log("T: ",e),e.find((function(e){return e.teacher_id===t}))},V=function(e){Object(n.a)(s,e);var t=Object(i.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).setThisTermination=function(e){r.setState({thisTermination:e})},r.setUserInfo=function(e){r.setState({userInfo:e})},r.setLoading=function(e){r.setState({loading:e})},r.setError=function(e){r.setState({error:e})},r.setAction=function(e){r.setState({action:e})},r.componentDidMount=function(){var e=r.props.isExternal?r.props.user_id?r.props.user_id:"":r.props.auth.user?r.props.auth.user.user_id:"";x(e,(function(e,t,s){r.setLoading(e),e||Object(O.r)(s)?!e&&t&&r.setUserInfo(t):r.setError({target:"main-error",msg:s}),console.log("=================FC_GetProfile==================="),console.log({FC_GetProfile:t}),console.log("=================FC_GetProfile===================")})),r.props.FC_GetAllTermination("hd",(function(e,t,s){console.log("================FC_GetAllTermination===================="),console.log({FC_GetAllTermination:t}),console.log("================FC_GetAllTermination===================="),r.setLoading(e),e||Object(O.r)(s)||r.setError({target:"main-error",msg:s})}))},r.restUserCredential=function(e){g({user_id:e.user_id,username:e.username,password:"12345"},(function(e,t){r.setState({loadingRequest:e}),!1===e&&Object(O.r)(t)?r.setError({target:"main-success",msg:"Resetting credential complete successfully"}):!1===e&&r.setError({target:"main-error",msg:t})}))},r.state={openSuspensionModal:!1,operationActionType:"suspend",suspendStartDate:"",suspendEndDate:"",title:"",userInfo:null,comment:"",error:{target:null,msg:""},loading:!0,thisTermination:null,action:null,assign_to_school:!1,loadingRequest:!1,rest_this_user:null},r}return Object(r.a)(s,[{key:"render",value:function(){var e,t,s,a,r,n,i,o,c,l,u,h,m,f,b=this;return this.props.user_id&&!Object(O.r)(this.props.user_id)||!0!==this.props.isExternal||(y.J,this.props.isExternal&&(v.a,this.props.close)),!0===this.state.assign_to_school&&void 0!==this.props.user_id&&Object(B.c)(null===(e=this.props.auth.role)||void 0===e?void 0:e.access,B.b.CHANGE_TEACHER_SCHOOL_AND_POSITION)?Object(I.jsx)(P.a,{user_id:this.props.user_id,userDetails:{email:null===(t=this.state.userInfo)||void 0===t?void 0:t.staffDetails.basicInfo.email,full_name:null===(s=this.state.userInfo)||void 0===s?void 0:s.staffDetails.basicInfo.full_name,nid:null===(a=this.state.userInfo)||void 0===a?void 0:a.staffDetails.basicInfo.nid,staff_code:null===(r=this.state.userInfo)||void 0===r?void 0:r.staffDetails.basicInfo.staff_code},close:function(){return b.setState({assign_to_school:!1})},district_code:null===(n=this.state.userInfo)||void 0===n||null===(i=n.staffDetails.workInfo)||void 0===i?void 0:i.school_district,school_code:null===(o=this.state.userInfo)||void 0===o||null===(c=o.staffDetails.workInfo)||void 0===c?void 0:c.school_code,school_name:null===(l=this.state.userInfo)||void 0===l||null===(u=l.staffDetails.workInfo)||void 0===u?void 0:u.school_name}):this.state.loading?Object(I.jsx)("div",{className:"p-8 text-center",children:Object(I.jsx)("div",{className:"mx-auto",children:Object(I.jsx)(q.a,{})})}):null===this.state.userInfo||this.state.userInfo.staffDetails&&this.state.userInfo.staffDetails.basicInfo?this.state.thisTermination&&!this.state.action&&this.state.userInfo?Object(I.jsx)(w,{selectedStaff:this.state.userInfo.staffDetails.basicInfo,close:function(e){return b.setThisTermination(e)},thiTermination:this.state.thisTermination}):this.state.userInfo&&this.state.action&&"TERMINATION"===this.state.action?Object(I.jsx)(D,{selectedStaff:this.state.userInfo.staffDetails.basicInfo,auth:this.props.auth,close:function(){b.setAction(null)}}):this.state.userInfo&&this.state.action&&"SUSPENSION"===this.state.action?Object(I.jsx)(A,{selectedStaff:this.state.userInfo.staffDetails.basicInfo,auth:this.props.auth,close:function(){b.setAction(null)}}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"flex items-center gap-1 justify-between px-3 mt-3 container mx-auto",children:[Object(I.jsxs)("div",{className:"flex items-center w-full",children:[Object(I.jsx)("section",{className:"flex-1",children:Object(I.jsx)(N.a,{className:"text-blue-800 flex-1",children:this.props.isExternal?"Staff Profile":"My Profile"})}),Object(I.jsx)("section",{})]}),this.props.close&&Object(I.jsx)("div",{className:"",children:Object(I.jsxs)(v.a,{className:"flex items-center gap-1 w-max",onClick:this.props.close,theme:"danger-light",disabled:this.state.loadingRequest,children:[Object(I.jsx)(M.a,{}),"Close"]})})]}),this.state.userInfo&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(_.a,{children:["main-success"===this.state.error.target&&Object(I.jsx)(d.a,{theme:"success",fixed:!0,children:this.state.error.msg}),"main-error"===this.state.error.target&&Object(I.jsx)(d.a,{theme:"danger",fixed:!0,children:this.state.error.msg}),Object(I.jsxs)("div",{className:"px-3 py-1 flex justify-between items-center gap-2",children:[Object(I.jsx)("span",{className:"text-xl font-bold uppercase",children:"Basic information"}),this.props.auth.role&&F.e.school.includes(this.props.auth.role.role)&&this.props.user_id&&!Object(O.r)(this.props.user_id)&&this.props.setEditStaff&&this.props.setAddUserPositions&&this.props.DisableUser&&this.props.user_data&&Object(I.jsxs)(v.a,{className:"flex items-center gap-1 w-max",theme:"accent-light",onClick:function(){return b.props.user_id&&b.props.setEditStaff(b.props.user_id)},disabled:this.state.loading||this.state.loadingRequest,children:[Object(I.jsx)(y.y,{}),"Edit info"]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-12 gap-6 py-2",children:[Object(I.jsx)("div",{className:"col-span-12 md:col-span-6 lg:col-span-3 flex items-center justify-center",children:Object(I.jsxs)("div",{className:"w-full h-full p-2 rounded-lg bg-primary-50 flex flex-col items-center justify-center",children:[Object(I.jsx)("div",{children:Object(I.jsx)(H.n,{className:"text-9xl text-primary-300"})}),Object(I.jsx)("div",{className:"pt-3 font-bold",children:this.state.userInfo.staffDetails.basicInfo.full_name}),Object(I.jsxs)("div",{className:"mt-1 font-bold bg-white border text-sm border-primary-100 text-primary-700 rounded-full w-max text-center px-4 py-1",children:["CODE:"," ",this.state.userInfo.staffDetails.basicInfo.staff_code]})]})}),Object(I.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-9 w-full",children:[Object(I.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-4 md:grid-cols-3 gap-3",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Staff code"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.staff_code})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Staff names"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.full_name})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Gender"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.gender?Object(O.h)(this.state.userInfo.staffDetails.basicInfo.gender.toLocaleLowerCase()):""})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Birthday"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:Object(O.a)(this.state.userInfo.staffDetails.basicInfo.dob)})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Nationality"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.nationality_id})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"RSSB Number"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.rssb_number})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Passport"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.passport})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"National ID"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.nid})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Passport Number"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold"})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Contact number"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.phone_numbers})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Email"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.email})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Hired date"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.hired_date})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Martial Status"}),Object(I.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.marital_status})]})]}),Object(I.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[Object(B.c)(null===(h=this.props.auth.role)||void 0===h?void 0:h.access,B.b.CHANGE_TEACHER_SCHOOL_AND_POSITION)&&Object(I.jsx)(v.a,{onClick:function(){b.setState({assign_to_school:!0})},disabled:this.state.loading||this.state.loadingRequest,children:"Change School/ Position"}),this.props.auth.role&&this.props.isExternal&&Object(I.jsxs)("div",{className:"dropdown inline-block relative",children:[Object(I.jsxs)("button",{className:"opacity-80 group-hover:opacity-100 bg-accent-800 bg-opacity-0 border border-accent-600 hover:bg-opacity-10 text-accent-900 font-semibold py-2 px-4 rounded-md inline-flex items-center",children:[Object(I.jsx)("span",{className:"mr-1",children:"Manage"}),Object(I.jsxs)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[Object(I.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})," "]})]}),Object(I.jsxs)("ul",{className:"dropdown-menu absolute hidden bg-white shadow text-gray-700 z-50 p-2 rounded",children:[F.e.school.includes(this.props.auth.role.role)&&this.props.user_id&&!Object(O.r)(this.props.user_id)&&this.props.setEditStaff&&this.props.setAddUserPositions&&this.props.DisableUser&&this.props.user_data&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("li",{className:"p-0.5",children:Object(I.jsxs)("button",{onClick:function(){return b.props.setAddUserPositions(b.props.user_data)},disabled:this.state.loading||this.state.loadingRequest,className:"rounded flex items-center gap-1 bg-blue-200 hover:bg-gray-800 text-blue-900 hover:text-white py-2 px-4 w-full",children:[Object(I.jsx)(y.Tb,{}),"Position"]})}),Object(I.jsx)("li",{className:"p-0.5",children:Object(I.jsxs)("button",{className:"rounded flex items-center gap-1 bg-red-500 hover:bg-red-800 text-white py-2 px-4 w-full",onClick:function(){return b.props.DisableUser(b.props.user_id)},disabled:this.state.loading||this.state.loadingRequest,children:[Object(I.jsx)(y.Ab,{}),"Remove"]})})]}),this.props.auth.role&&this.props.isExternal&&F.e.school.includes(this.props.auth.role.role)&&this.props.terminations.allTermination&&this.state.userInfo.staffDetails.basicInfo.staff_code&&!J(this.props.terminations.allTermination,this.state.userInfo.staffDetails.basicInfo.staff_code)&&Object(I.jsx)("li",{className:"p-0.5",children:Object(I.jsxs)(v.a,{className:"flex items-center gap-1 w-full",onClick:function(){return b.setAction("SUSPENSION")},disabled:this.state.loading||this.state.loadingRequest,children:[Object(I.jsx)(y.wb,{}),"Suspend"]})}),this.props.auth.role&&this.props.isExternal&&F.e.school.includes(this.props.auth.role.role)&&this.props.terminations.allTermination&&this.state.userInfo.staffDetails.basicInfo.staff_code&&!J(this.props.terminations.allTermination,this.state.userInfo.staffDetails.basicInfo.staff_code)&&Object(I.jsx)("li",{className:"p-0.5",children:Object(I.jsxs)(v.a,{className:"flex items-center gap-1 w-full",theme:"accent-light",onClick:function(){return b.setAction("TERMINATION")},disabled:this.state.loading||this.state.loadingRequest,children:[Object(I.jsx)(U.a,{}),"Terminate"]})}),this.props.auth.role&&this.props.isExternal&&F.e.school.includes(this.props.auth.role.role)&&this.props.terminations.allTermination&&this.state.userInfo.staffDetails.basicInfo.staff_code&&J(this.props.terminations.allTermination,this.state.userInfo.staffDetails.basicInfo.staff_code)&&Object(I.jsx)("li",{className:"p-0.5",children:Object(I.jsxs)(v.a,{className:"flex items-center gap-1 w-max",onClick:function(){b.state.userInfo.staffDetails.basicInfo.staff_code&&b.setThisTermination(J(b.props.terminations.allTermination,b.state.userInfo.staffDetails.basicInfo.staff_code))},disabled:this.state.loading||this.state.loadingRequest,children:[Object(I.jsx)(y.Bb,{}),"View request"]})})]})]}),this.props.auth.role&&this.props.isExternal&&F.e.system.includes(this.props.auth.role.role)&&this.props.user_info&&this.props.user_info.user_id&&this.props.user_info.username&&Object(I.jsxs)(v.a,{className:"flex items-center gap-1 w-max",theme:"danger-light",onClick:function(){var e,t;return b.setState({rest_this_user:{user_id:null===(e=b.props.user_info)||void 0===e?void 0:e.user_id,username:null===(t=b.props.user_info)||void 0===t?void 0:t.username}})},loading:this.state.loadingRequest,disabled:this.state.loading||this.state.loadingRequest,children:[Object(I.jsx)(G.d,{}),"Reset"]})]})]})]})]}),!1===this.props.isExternal&&Object(I.jsx)(_.a,{children:Object(I.jsx)(z.a,{auth:this.props.auth,FC_UpdateUserDocuments:this.props.FC_UpdateUserDocuments})}),this.state.userInfo.staffDetails.workInfo&&this.state.userInfo.staffDetails.workInfo.school_code&&!Object(O.r)(this.state.userInfo.staffDetails.workInfo.school_code)&&Object(I.jsxs)(_.a,{className:"rounded bg-white divide-y-2 py-1",children:[Object(I.jsxs)("div",{className:"px-3 py-1 flex justify-between items-center gap-2",children:[Object(I.jsx)("span",{className:"text-2xl font-bold uppercase",children:"School information"}),Object(B.c)(null===(m=this.props.auth)||void 0===m||null===(f=m.role)||void 0===f?void 0:f.access,B.b.EDIT_USERS_POSITION)&&Object(I.jsx)(I.Fragment,{children:this.props.auth.role&&F.e.school.includes(this.props.auth.role.role)&&this.props.user_id&&!Object(O.r)(this.props.user_id)&&this.props.setEditStaff&&this.props.setAddUserPositions&&this.props.DisableUser&&this.props.user_data&&Object(I.jsxs)(v.a,{className:"flex items-center gap-1 w-max",theme:"accent-light",onClick:function(){return b.props.setAddUserPositions(b.props.user_data)},disabled:this.state.loading||this.state.loadingRequest,children:[Object(I.jsx)(y.y,{}),"Edit position"]})})]}),Object(I.jsxs)("div",{className:"grid grid-rows-3 grid-flow-col gap-y-0 gap-x-32 px-3",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"School name"}),Object(I.jsx)("h4",{className:"text-black text-lg font-semibold",children:this.state.userInfo.staffDetails.workInfo.school_name})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"School location"}),Object(I.jsxs)("h4",{className:"text-black text-lg font-semibold",children:[this.state.userInfo.staffDetails.workInfo.school_district+" district ","-"," ",this.state.userInfo.staffDetails.workInfo.school_sector+" sector"]})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"School code"}),Object(I.jsx)("h4",{className:"text-black text-lg font-semibold",children:this.state.userInfo.staffDetails.workInfo.school_code})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Qualification"}),Object(I.jsx)("h4",{className:"text-black text-lg font-semibold",children:this.state.userInfo.staffDetails.workInfo.paid_qualification})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Position"}),Object(I.jsx)("h4",{className:"text-black text-lg font-semibold",children:this.state.userInfo.staffDetails.workInfo.position})]})]})]})]}),null!==this.state.rest_this_user&&Object(I.jsx)(L.b,{modalType:L.a.OTHER,confirmFun:function(){return b.restUserCredential(b.state.rest_this_user)},setModalAction:function(e){return!e&&b.setState({rest_this_user:null})},description:"Are you sure you want to reset the user's credential?"})]}):Object(I.jsx)("div",{className:"py-10 px-10",children:Object(I.jsxs)("div",{className:"bg-yellow-50 text-yellow-900 border border-yellow-900 rounded flex flex-col items-center justify-center p-6 my-8",children:[Object(I.jsx)(y.J,{className:"text-6xl md:text-9xl"}),Object(I.jsxs)("div",{className:"text-center flex flex-col",children:[Object(I.jsx)("span",{className:"text-2xl md:text-4xl font-extrabold",children:"Profile not found!"}),Object(I.jsx)("span",{className:"text-lg",children:"Please try again there must be an error, or invalid staff code!"}),this.props.isExternal&&Object(I.jsx)(v.a,{theme:"primary-light",className:"mt-4",onClick:this.props.close,children:"Back"})]})]})})}}]),s}(o.Component),Q=Object(c.b)((function(e){return{auth:e.auth,basic:e.basic,terminations:e.terminations}}),{FC_GetAllTermination:l.C,FC_UpdateUserDocuments:l.tc})(V)}}]);
//# sourceMappingURL=21.9722118d.chunk.js.map