(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[20],{337:function(e,t,s){"use strict";s(4);var a=s(120),c=s(2);t.a=function(e){var t=e.onChange,s=e.value,l=e.error,r=e.label,o=e.placeholder,n=e.disabled,i=void 0!==n&&n,d=e.name,h=e.Input_className,b=void 0===h?"":h,j=e.Label_className,m=void 0===j?"":j,u=e.InputContainer_className,p=void 0===u?"":u,x=e.MainContainer_className,O=void 0===x?"":x,_=e.size,v=void 0===_?"md":_,N=e.data;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"w-full my-2 ".concat(O),children:[r&&Object(c.jsx)("label",{htmlFor:"login-form-email",className:"text-primary-900 dark:text-primary-100 ".concat(m),children:r}),Object(c.jsxs)("div",{className:"rounded relative ".concat(p),children:[Object(c.jsx)("select",{name:d,placeholder:o,onChange:t,className:"\n                     w-full text-lg rounded border-2 \n                     ".concat(Object(a.a)(v),"\n                     ").concat(""!==l?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                     px-3 ").concat(b),value:s,disabled:i,children:N.map((function(e,t){return Object(c.jsx)("option",{value:e.value,children:e.title},t)}))}),""!==l&&Object(c.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:l})]})]})})}},342:function(e,t,s){"use strict";var a=s(4),c=s.n(a),l=s(121),r=s(360),o=s(339),n=s(2),i=function(e){var t=e.fileData,s=e.fileName,a=e.btnName,c=void 0===a?"Excel":a,i=e.className,d=void 0===i?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":i,h=e.showIcon,b=void 0===h||h;return Object(n.jsxs)("button",{onClick:function(e){return function(e,t){var s={Sheets:{data:r.a.json_to_sheet(e)},SheetNames:["data"]},a=r.b(s,{bookType:"xlsx",type:"array"}),c=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});l.saveAs(c,t+".xlsx")}(t,s)},className:d,children:[b&&Object(n.jsx)(o.c,{}),c]})};t.a=c.a.memo(i)},345:function(e,t,s){"use strict";s.d(t,"f",(function(){return o})),s.d(t,"d",(function(){return n})),s.d(t,"e",(function(){return i})),s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return h})),s.d(t,"c",(function(){return b}));var a,c,l,r=s(18),o=100;!function(e){e.GOVERNMENT_AIDED="GOVERNMENT_AIDED",e.PRIVATE="GOVERNMENT_AIDED",e.PUBLIC="PUBLIC"}(a||(a={})),function(e){e.EXIST="Exist",e.NEW="new"}(c||(c={})),function(e){e.role="role",e.district_name="district_name",e.full_name="full_name",e.first_name="first_name",e.last_name="last_name",e.phone_numbers="phone_numbers",e.email="email",e.sex="sex",e.dob="dob",e.marital_status="marital_status",e.nid="nid",e.rssb_number="rssb_number",e.bank_account="bank_account",e.position="position",e.specialization="specialization",e.qualification="qualification",e.staff_category="staff_category",e.staff_code="staff_code",e.status="status",e.school_code="school_code",e.school_name="school_name",e.school_category="school_category",e.school_status="school_status",e.region_code="region_code",e.village_name="village_name",e.cell_name="cell_name",e.cell_code="cell_code",e.sector_name="sector_name",e.sector_code="sector_code",e.district_code="district_code",e.province_name="province_name",e.province_code="province_code",e.subjects="subjects",e.grades="grades",e.periods="periods",e.date_in_school="date_in_school",e.date_of_hire="date_of_hire",e.nationality="nationality",e.middle_name="middle_name",e.bank_name="bank_name"}(l||(l={}));var n=[{key:l.staff_code,title:"Staff code",status:!0,isChangeAllowed:!1},{key:l.nid,title:"National ID",status:!0,isChangeAllowed:!1},{key:l.full_name,title:"Staff Full Names",status:!0,isChangeAllowed:!0},{key:l.first_name,title:"Staff First Name",status:!0,isChangeAllowed:!0},{key:l.middle_name,title:"Staff Middle Name",status:!0,isChangeAllowed:!0},{key:l.last_name,title:"Staff Last Name",status:!0,isChangeAllowed:!0},{key:l.phone_numbers,title:"Staff Phone",status:!0,isChangeAllowed:!0},{key:l.email,title:"Staff Email",status:!0,isChangeAllowed:!0},{key:l.dob,title:"Date of Birth",status:!0,isChangeAllowed:!0},{key:l.sex,title:"Sex",status:!0,isChangeAllowed:!0},{key:l.marital_status,title:"Marital status",status:!0,isChangeAllowed:!0},{key:l.qualification,title:"Qualification",status:!0,isChangeAllowed:!0},{key:l.specialization,title:"Specialization",status:!0,isChangeAllowed:!0},{key:l.rssb_number,title:"RSSB",status:!0,isChangeAllowed:!0},{key:l.bank_name,title:"Bank name",status:!0,isChangeAllowed:!0},{key:l.bank_account,title:"Bank account",status:!0,isChangeAllowed:!0},{key:l.position,title:"Position",status:!0,isChangeAllowed:!0},{key:l.role,title:"Staff role",status:!0,isChangeAllowed:!0},{key:l.district_code,title:"District Code",status:!0,isChangeAllowed:!0},{key:l.district_name,title:"District Name",status:!0,isChangeAllowed:!0},{key:l.school_code,title:"School Code",status:!0,isChangeAllowed:!0},{key:l.school_name,title:"School Name",status:!0,isChangeAllowed:!0},{key:l.school_category,title:"School Category",status:!0,isChangeAllowed:!0},{key:l.school_status,title:"School Status",status:!0,isChangeAllowed:!0},{key:l.nationality,title:"Nationality",status:!0,isChangeAllowed:!0},{key:l.date_of_hire,title:"Date to hire",status:!0,isChangeAllowed:!0},{key:l.date_in_school,title:"Date in school",status:!0,isChangeAllowed:!0},{key:l.subjects,title:"Subjects",status:!0,isChangeAllowed:!0},{key:l.grades,title:"Grade (No of Group)",status:!0,isChangeAllowed:!0},{key:l.periods,title:"Periods",status:!0,isChangeAllowed:!0}],i={system:["26","Admin"],country:["REB","4","RTB","300","MINECOFIN","27","26","Admin"],district:["DDE","3","Human Resource","25"],school:["Head Teacher","Teacher","2"]},d=function(e){return null===e?"":b(e)?Object(r.a)(e):e},h=function(e){var t="",s=[],a="",c={grade_names:[],grade_codes:[],courses:[],group:[]},l=0;if(e){var o=function(a){var o=e[a];if(s.includes(o.course_code)||(s.push(o.course_code),t+=Object(r.h)(t)?o.course_name:", "+o.course_name),c.grade_codes.includes(o.grade_code)){if(c.courses.findIndex((function(e){return e===o.course_code}))>=0){var n=c.courses.findIndex((function(e){return e===o.course_code}));c.group[n]+=JSON.parse(o.grade_group).length}}else c.grade_codes.push(o.grade_code),c.grade_names.push(o.grade_name),c.courses.push(o.course_code),c.group.push(Object(r.b)(JSON.parse(o.grade_group)));l+=Number(o.teaching_period)*JSON.parse(o.grade_group).length};for(var n in e)o(n);for(var i in c.courses)a+=Object(r.h)(a)?"".concat(c.grade_names[i]," (").concat(c.group[i],")"):", ".concat(c.grade_names[i]," (").concat(c.group[i],")")}return{courses:t,grades:a,periods:l.toString()}},b=function(e){if(null===e)return!1;var t=new Date(e);return!isNaN(t.getDate())}},366:function(e,t,s){"use strict";s(4);var a=s(345),c=s(79),l=s(2);t.a=function(e){var t=e.placement_list,s=e.footer,r=e.header;return Object(l.jsx)("div",{className:"fixed top-0 bottom-0 right-0 left-0 animate__animated animate__fadeIn  bg-black bg-opacity-95 z-60 overflow-auto",children:Object(l.jsxs)("div",{className:"w-full mx-auto bg-white px-3 py-8 animate__animated animate__zoomIn animate__faster",children:[r&&r,Object(l.jsx)("div",{className:"overflow-auto ",children:Object(l.jsxs)("table",{className:"border w-full ",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{className:"text-left",children:[Object(l.jsx)("th",{className:"p-1 border",children:"No"}),Object(l.jsx)("th",{className:"p-1 border",children:"District Code"}),Object(l.jsx)("th",{className:"p-1 border",children:"District Name"}),Object(l.jsx)("th",{className:"p-1 border",children:"School Code"}),Object(l.jsx)("th",{className:"p-1 border",children:"School Name"}),Object(l.jsx)("th",{className:"p-1 border",children:"School Category"}),Object(l.jsx)("th",{className:"p-1 border",children:"School Status"}),Object(l.jsx)("th",{className:"p-1 border",children:"Staff Category"}),Object(l.jsx)("th",{className:"p-1 border",children:"Staff Code"}),Object(l.jsx)("th",{className:"p-1 border",children:"NID"}),Object(l.jsx)("th",{className:"p-1 border",children:"Names"}),Object(l.jsx)("th",{className:"p-1 border",children:"First name"}),Object(l.jsx)("th",{className:"p-1 border",children:"Middle name"}),Object(l.jsx)("th",{className:"p-1 border",children:"Last name"}),Object(l.jsx)("th",{className:"p-1 border",children:"Phone Number"}),Object(l.jsx)("th",{className:"p-1 border",children:"Email"}),Object(l.jsx)("th",{className:"p-1 border",children:"DOB"}),Object(l.jsx)("th",{className:"p-1 border",children:"Sex"}),Object(l.jsx)("th",{className:"p-1 border",children:"Nationality"}),Object(l.jsx)("th",{className:"p-1 border",children:"Martial Status"}),Object(l.jsx)("th",{className:"p-1 border",children:"Qualification"}),Object(l.jsx)("th",{className:"p-1 border",children:"Position"}),Object(l.jsx)("th",{className:"p-1 border",children:"Specialization"}),Object(l.jsx)("th",{className:"p-1 border",children:"Date in Education"}),Object(l.jsx)("th",{className:"p-1 border",children:"Subjects"}),Object(l.jsx)("th",{className:"p-1 border",children:"Periods"}),Object(l.jsx)("th",{className:"p-1 border",children:"Grades"}),Object(l.jsx)("th",{className:"p-1 border",children:"RSSB"}),Object(l.jsx)("th",{className:"p-1 border",children:"Bank Account"}),Object(l.jsx)("th",{className:"p-1 border",children:"Bank Name"}),Object(l.jsx)("th",{className:"p-1 border",children:"Status"})]})}),Object(l.jsx)("tbody",{children:t.filter((function(e){return"Active"===e.status})).map((function(e,t){var s,c,r,o,n,i,d=Object(a.a)(e.teacher_hierarch);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{className:"p-1 border",children:t+1}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(s=e.location)||void 0===s?void 0:s.district_code}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(c=e.location)||void 0===c?void 0:c.district_name}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(r=e.school)||void 0===r?void 0:r.school_code}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(o=e.school)||void 0===o?void 0:o.school_name}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(n=e.school)||void 0===n?void 0:n.school_category}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(i=e.school)||void 0===i?void 0:i.school_status}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.staff_category}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.staff_code}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.nid}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.full_name}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.first_name}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.middle_name}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.last_name}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.phone_numbers}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.email}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.dob}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.sex}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.nationality}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.marital_status}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.qualification}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.position}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.specialization}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.hired_date}),Object(l.jsx)("th",{className:"p-1 border",children:d.courses}),Object(l.jsx)("th",{className:"p-1 border",children:d.periods}),Object(l.jsx)("th",{className:"p-1 border",children:d.grades}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.rssb_number}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.bank_account}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.bank_name}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.status})]},t)}))})]})}),Object(l.jsx)("br",{}),Object(l.jsx)(c.a,{className:"text-center",children:"Others candidates on placement list"}),Object(l.jsx)("div",{className:"overflow-auto ",children:Object(l.jsxs)("table",{className:"border w-full ",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{className:"text-left",children:[Object(l.jsx)("th",{className:"p-1 border",children:"No"}),Object(l.jsx)("th",{className:"p-1 border",children:"District Code"}),Object(l.jsx)("th",{className:"p-1 border",children:"District Name"}),Object(l.jsx)("th",{className:"p-1 border",children:"School Code"}),Object(l.jsx)("th",{className:"p-1 border",children:"School Name"}),Object(l.jsx)("th",{className:"p-1 border",children:"School Category"}),Object(l.jsx)("th",{className:"p-1 border",children:"School Status"}),Object(l.jsx)("th",{className:"p-1 border",children:"Staff Category"}),Object(l.jsx)("th",{className:"p-1 border",children:"Staff Code"}),Object(l.jsx)("th",{className:"p-1 border",children:"NID"}),Object(l.jsx)("th",{className:"p-1 border",children:"Names"}),Object(l.jsx)("th",{className:"p-1 border",children:"First name"}),Object(l.jsx)("th",{className:"p-1 border",children:"Last name"}),Object(l.jsx)("th",{className:"p-1 border",children:"Middle name"}),Object(l.jsx)("th",{className:"p-1 border",children:"Phone Number"}),Object(l.jsx)("th",{className:"p-1 border",children:"Email"}),Object(l.jsx)("th",{className:"p-1 border",children:"DOB"}),Object(l.jsx)("th",{className:"p-1 border",children:"Sex"}),Object(l.jsx)("th",{className:"p-1 border",children:"Nationality"}),Object(l.jsx)("th",{className:"p-1 border",children:"Martial Status"}),Object(l.jsx)("th",{className:"p-1 border",children:"Qualification"}),Object(l.jsx)("th",{className:"p-1 border",children:"Position"}),Object(l.jsx)("th",{className:"p-1 border",children:"Specialization"}),Object(l.jsx)("th",{className:"p-1 border",children:"Date in Education"}),Object(l.jsx)("th",{className:"p-1 border",children:"Date to School"}),Object(l.jsx)("th",{className:"p-1 border",children:"Subjects"}),Object(l.jsx)("th",{className:"p-1 border",children:"Periods"}),Object(l.jsx)("th",{className:"p-1 border",children:"Grades"}),Object(l.jsx)("th",{className:"p-1 border",children:"RSSB"}),Object(l.jsx)("th",{className:"p-1 border",children:"Bank Account"}),Object(l.jsx)("th",{className:"p-1 border",children:"Bank Name"}),Object(l.jsx)("th",{className:"p-1 border",children:"Status"})]})}),Object(l.jsx)("tbody",{children:t.filter((function(e){return"Active"!==e.status})).map((function(e,t){var s,a,c,r,o,n;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{className:"p-1 border",children:t+1}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(s=e.location)||void 0===s?void 0:s.district_code}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.district_name}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(c=e.school)||void 0===c?void 0:c.school_code}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(r=e.school)||void 0===r?void 0:r.school_name}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(o=e.school)||void 0===o?void 0:o.school_category}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(n=e.school)||void 0===n?void 0:n.school_status}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.staff_category}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.staff_code}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.nid}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.full_name}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.first_name}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.last_name}),Object(l.jsx)("th",{className:"p-1 border"}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.phone_numbers}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.email}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.dob}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.sex}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.nationality_id}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.marital_status}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.qualification}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.position}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.specialization}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.start_date_in_the_school}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.start_date_in_the_school}),Object(l.jsx)("th",{className:"p-1 border"}),Object(l.jsx)("th",{className:"p-1 border"}),Object(l.jsx)("th",{className:"p-1 border"}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.rssb_number}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.bank_account}),Object(l.jsx)("th",{className:"p-1 border"}),Object(l.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.status})]},t)}))})]})}),Object(l.jsx)("div",{className:"",children:s&&s})]})})}},567:function(e,t,s){"use strict";s.r(t),s.d(t,"PlacementListDDE",(function(){return k}));var a=s(43),c=s(8),l=s(26),r=s(27),o=s(28),n=s(29),i=s(4),d=s.n(i),h=s(17),b=s(32),j=s(13),m=s(54),u=s(38),p=s(53),x=s(79),O=s(337),_=s(61),v=s(36),N=s(366),g=s(6),f=s(18),y=s(342),S=s(2),w=function(e){e.close;var t=e.schools,s=e.title;return Object(S.jsxs)(p.a,{children:[Object(S.jsxs)("div",{className:"flex w-full pb-4 pt-2 items-center",children:[Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)("h2",{className:"text-2xl font-bold",children:s})}),Object(S.jsx)("div",{className:"text-right",children:t.length>=1&&Object(S.jsx)(y.a,{fileData:t,fileName:"".concat(s," - ").concat((new Date).toISOString()),btnName:"Download EXCEL"})})]}),Object(S.jsxs)("table",{className:"w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-left",children:[Object(S.jsx)("th",{className:"border p-1 ",children:"#"}),Object(S.jsx)("th",{className:"border p-1 ",children:"School code"}),Object(S.jsx)("th",{className:"border p-1 ",children:"School name"}),Object(S.jsx)("th",{className:"border p-1 ",children:"Region code"}),Object(S.jsx)("th",{className:"border p-1 ",children:"School status"}),Object(S.jsx)("th",{className:"border p-1 ",children:"Has report"})]})}),Object(S.jsxs)("tbody",{children:[t.map((function(e,t){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"border p-1 ",children:t+1}),Object(S.jsx)("td",{className:"border p-1 ",children:e.school_code}),Object(S.jsx)("td",{className:"border p-1 ",children:e.school_name}),Object(S.jsx)("td",{className:"border p-1 ",children:e.region_code}),Object(S.jsx)("td",{className:"border p-1 ",children:e.school_status}),Object(S.jsx)("td",{className:"border p-1 text-center",children:!0===e.has_report?Object(S.jsx)("span",{className:"p-0.5 text-xs rounded-full bg-green-100 text-green-600 px-3",children:"Report found"}):Object(S.jsx)("span",{className:"p-0.5 text-xs rounded-full bg-red-100 text-red-600 px-3",children:"No Report"})})]})})),t.length<=0&&Object(S.jsx)("tr",{children:Object(S.jsx)("td",{colSpan:10,className:"py-8 text-center",children:Object(S.jsx)("h2",{className:"text-3xl text-gray-500",children:"No results found!"})})})]})]})]})},C=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).selectItem=function(e){var t,s,c,l,r,o;return a.setState({selected:e,dde_comment:null===e?"":null===e.dde_comment||""===e.dde_comment?"I,  ".concat(null===(t=a.props.auth.user)||void 0===t?void 0:t.first_name," ").concat(null===(s=a.props.auth.user)||void 0===s?void 0:s.middle_name," ").concat(null===(c=a.props.auth.user)||void 0===c?void 0:c.last_name," with Staff code: ").concat(null===(l=a.props.auth.user)||void 0===l?void 0:l.staff_code," and with NID: ").concat(null===(r=a.props.auth.user)||void 0===r?void 0:r.nid,", DDE of ").concat(null===(o=a.props.auth.district)||void 0===o?void 0:o.district_name," district confirm that the list of teachers displayed on the teacher placement report from ").concat(null===e||void 0===e?void 0:e.school_name," school for ").concat(f.c[(new Date).getMonth()],", on ").concat(Object(f.a)(new Date)," is valid. I also confirm that every teacher is assigned to his/her teaching qualification as per their appointment letters."):e.dde_comment,error:{target:null,msg:""}})},a.submitLogin=function(e){e.preventDefault()},a.componentDidMount=function(){var e;Object(g.a)(null===(e=a.props.auth.role)||void 0===e?void 0:e.access,g.b.DDE_VIEW_PLACEMENT_LIST,(function(){a.startApp()}))},a.startApp=function(){if(null===a.props.basic.academic_calender)a.setState({error:{target:"main-error",msg:"failed to load data, please reload the page (Refresh)"}});else if(null===a.props.auth.district)a.setState({error:{target:"main-error",msg:"No school assigned to you"}});else{var e=a.props.auth.district.district_code;a.setState({error:{target:null,msg:""},selected_month:f.c[(new Date).getMonth()]}),a.props.FC_GetPlacementByDistrict({district_code:e,academic_id:a.props.basic.academic_calender.academic_year_id},(function(t,s){!0===t?(console.log({status:t,msg:s}),a.setState({loading:!1}),a.loadAllSchools(e)):a.setState({loading:!1,error:{msg:s,target:"main-error"}})}))}},a.changeTab=function(e){return a.setState({tab:e})},a.loadAllSchools=function(e){a.setState({loading_schools:!0}),Object(j.T)(e,(function(e,t,s){!0===e&&null!==t?a.setState({loading_schools:!1,all_schools:t.map((function(e){var t=a.props.placement.placements.find((function(t){return t.school_code+""===e.school_code+""}));return Object(c.a)(Object(c.a)({},e),{},{has_report:void 0!==t})}))}):a.setState({loading_schools:!1,error:{target:"loading-schools-error",msg:"Error: ".concat(s)}})}))},a.calculatePlacementList=function(e){a.setState((function(t){return{selected_month:e}}))},a.state={loading:!1,data:[],error:{target:null,msg:""},selected:null,search:"",selected_month:"",selected_status:"",dde_comment:"",approve_loading:!1,accepted_changes:!1,all_schools:[],loading_schools:!0,tab:"placement"},a}return Object(r.a)(s,[{key:"approvePlacementList",value:function(e){var t=this;if(null!==this.state.selected&&window.confirm("Are you sure you want to approve this list")){this.setState({approve_loading:!0});var s=this.state.dde_comment;this.props.FC_ApprovePlacementList({dde_comment:s,placement_id:e},(function(e,s){!0===e?t.setState({approve_loading:!1,error:{target:"placement-success",msg:s},selected:null===t.state.selected?null:Object(c.a)(Object(c.a)({},t.state.selected),{},{dde_approval_status:"1",dde_comment:t.state.dde_comment})}):t.setState({approve_loading:!1,error:{target:"placement-error",msg:s}})}))}}},{key:"rejectPlacementList",value:function(e){var t=this;if(null!==this.state.selected&&window.confirm("Are you sure you want to reject this list")){this.setState({approve_loading:!0});var s=this.state.dde_comment;this.props.FC_RejectPlacementList({dde_comment:s,placement_id:e},(function(a,l){!0===a?(console.log({dde_comment:s,placement_id:e,data:t.state.data}),t.setState({approve_loading:!1,error:{target:"placement-success",msg:l},selected:null===t.state.selected?null:Object(c.a)(Object(c.a)({},t.state.selected),{},{dde_approval_status:"0",dde_comment:t.state.dde_comment})})):t.setState({approve_loading:!1,error:{target:"placement-error",msg:l}})}))}}},{key:"render",value:function(){var e,t,s=this,l=this.state.all_schools.map((function(e){var t=s.props.placement.placements.find((function(t){return t.school_code+""===e.school_code+""&&t.month.toLowerCase()===s.state.selected_month.toLowerCase()}));return Object(c.a)(Object(c.a)({},e),{},{has_report:void 0!==t})})),r=l.filter((function(e){return!0===e.has_report})),o=l.filter((function(e){return!1===e.has_report})),n=this.props.placement.placements;if(n=""===this.state.selected_month?n:n.filter((function(e){return e.month.toLowerCase()===s.state.selected_month.toLowerCase()})),n=""===this.state.selected_status?n:n.filter((function(e){return e.dde_approval_status===s.state.selected_status})),n=Object(f.k)(n,this.state.search,{school_code:!0,school_name:!0,dde_name:!0,ht_comment:!0,month:!0,district_name:!0,head_teacher_name:!0}),!0===this.state.loading)return Object(S.jsx)("div",{className:"p-8 text-center",children:Object(S.jsx)("div",{className:"mx-auto",children:Object(S.jsx)(v.a,{})})});if("main-error"===this.state.error.target)return Object(S.jsx)(m.a,{theme:"danger",fixed:!0,children:this.state.error.msg});if(null!==this.state.selected){var d,b=JSON.parse(this.state.selected.list);return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(N.a,{placement_list:b||[],header:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsxs)("div",{className:"text-xl flex-1",children:[Object(S.jsxs)("h2",{children:["School code: ",Object(S.jsx)("b",{children:this.state.selected.school_code})]}),Object(S.jsxs)("h2",{children:["School name: ",Object(S.jsx)("b",{children:this.state.selected.school_name})]}),Object(S.jsxs)("h2",{children:["Done by: ",Object(S.jsx)("b",{children:this.state.selected.head_teacher_name})]})]}),Object(S.jsx)("div",{className:"flex-1 text-right",children:Object(S.jsx)(u.a,{theme:"danger-light",onClick:this.selectItem.bind(this,null),children:"Close"})})]}),Object(S.jsxs)("h1",{className:"text-center text-3xl font-bold mb-4 my-3",children:["Placement list for ",Object(S.jsx)("b",{children:this.state.selected.month})]})]}),footer:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"py-3",children:[Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsxs)("h5",{children:[Object(S.jsx)("b",{children:"Headteacher comment: "}),this.state.selected.ht_comment]}),Object(S.jsxs)("h5",{children:[Object(S.jsx)("b",{children:"DDE comment: "}),this.state.selected.dde_comment]}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{})]}),"main-success"===this.state.error.target&&Object(S.jsx)(m.a,{theme:"success",fixed:!0,children:this.state.error.msg}),"placement-error"===this.state.error.target&&Object(S.jsx)(m.a,{theme:"danger",children:this.state.error.msg}),"placement-success"===this.state.error.target&&Object(S.jsx)(m.a,{theme:"success",children:this.state.error.msg}),Object(S.jsx)("div",{className:"pt-5 text-right",children:!1===Object(g.c)(null===(d=this.props.auth.role)||void 0===d?void 0:d.role,g.b.DDE_APPROVE_PLACEMENT_LIST)&&Object(S.jsxs)(S.Fragment,{children:["0"===this.state.selected.dde_approval_status&&Object(S.jsxs)("div",{className:"flex border-t mt-2 pt-2",children:[Object(S.jsx)("div",{className:"flex-1"}),Object(S.jsxs)("div",{className:"flex-1 mt-2",children:[Object(S.jsx)("span",{className:"block text-left",children:"Comment:"}),Object(S.jsx)("div",{className:"w-full  border-2 bg-blue-200 rounded p-2 text-left",children:this.state.dde_comment}),Object(S.jsxs)("div",{onClick:function(){return s.setState({accepted_changes:!s.state.accepted_changes})},className:"flex my-2 p-1 bg-gray-100 rounded gap-2 cursor-pointer ".concat(!0===this.state.accepted_changes?"text-green-600":"text-gray-800"),children:[Object(S.jsx)("div",{className:"",children:!0===this.state.accepted_changes?Object(S.jsx)(h.j,{className:"text-3xl"}):Object(S.jsx)(h.k,{className:"text-3xl"})}),Object(S.jsx)("div",{className:"flex-1 ",children:Object(S.jsx)("p",{className:"text-xl text-left",children:"I have read and agree/agreed with the comment."})})]}),!0===this.state.accepted_changes&&Object(S.jsx)(u.a,{size:"lg",theme:"success",className:"ml-2",loading:this.state.approve_loading,onClick:this.approvePlacementList.bind(this,this.state.selected.placement_list_approval_id),children:"Approve list"})]})]}),Object(S.jsx)(u.a,{theme:"danger-light",className:"ml-2",loading:this.state.approve_loading,onClick:this.rejectPlacementList.bind(this,this.state.selected.placement_list_approval_id),children:"Reject placement list"})]})})]})})})}return Object(S.jsxs)(S.Fragment,{children:["main-success"===this.state.error.target&&Object(S.jsx)(m.a,{theme:"success",fixed:!0,children:this.state.error.msg}),!0===this.state.loading_schools&&Object(S.jsx)(p.a,{transparent:!0,children:Object(S.jsx)(m.a,{theme:"info",children:Object(S.jsx)("span",{className:"animate__animated animate__fadeIn animate__infinite ",children:"Searching non submitted schools..."})})}),!1===this.state.loading_schools&&this.state.all_schools.length>=1&&Object(S.jsx)(p.a,{transparent:!0,children:Object(S.jsxs)("div",{className:"w-full flex items-center",children:[Object(S.jsxs)("div",{className:" flex gap-2",children:[Object(S.jsxs)("section",{className:"p-1 bg-white rounded shadow px-4",children:[Object(S.jsx)("span",{className:"text-sm text-gray-600",children:"Total schools"}),Object(S.jsx)("h1",{className:"font-bold text-2xl -mt-1",children:this.state.all_schools.length})]}),Object(S.jsxs)("section",{className:"p-1 bg-green-100 text-green-600 rounded shadow px-4",children:[Object(S.jsx)("span",{className:"text-sm opacity-80",children:"Reported schools"}),Object(S.jsx)("h1",{className:"font-bold text-2xl -mt-1",children:r.length})]}),Object(S.jsxs)("section",{className:"p-1 bg-red-50 text-red-600 rounded shadow px-4",children:[Object(S.jsx)("span",{className:"text-sm  opacity-80",children:"Non Reported"}),Object(S.jsx)("h1",{className:"font-bold text-2xl -mt-1",children:o.length})]})]}),Object(S.jsx)("div",{className:"flex-1 text-right",children:Object(S.jsxs)("div",{className:"p-1 inline-block bg-white rounded-lg",children:[Object(S.jsx)("button",{onClick:this.changeTab.bind(this,"placement"),className:"p-1 rounded-lg hover:bg-yellow-100 ".concat("placement"===this.state.tab?"bg-yellow-500 bg-opacity-30 text-yellow-700 font-bold":"","  px-4 py-2"),children:"Placement reports"}),Object(S.jsx)("button",{onClick:this.changeTab.bind(this,"reported-schools"),className:"p-1 rounded-lg hover:bg-yellow-100 ".concat("reported-schools"===this.state.tab?"bg-yellow-500 bg-opacity-30 text-yellow-700 font-bold":"","  px-4 py-2"),children:"Reported schools"}),Object(S.jsx)("button",{onClick:this.changeTab.bind(this,"non-reported-schools"),className:"p-1 rounded-lg hover:bg-yellow-100 ".concat("non-reported-schools"===this.state.tab?"bg-yellow-500 bg-opacity-30 text-yellow-700 font-bold":"","  px-4 py-2"),children:"Non Reported schools"})]})}),Object(S.jsx)("div",{className:"flex pl-4",children:Object(S.jsx)(O.a,{data:Object(a.a)(f.c.map((function(e){return{title:e,value:e}}))),onChange:function(e){s.calculatePlacementList(e.target.value)},value:this.state.selected_month,error:"",label:"Month",placeholder:"Select a month",name:"month",size:"sm"})})]})}),"placement"===this.state.tab&&Object(S.jsxs)(p.a,{children:[Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsxs)("div",{className:"flex-1",children:[Object(S.jsxs)(x.a,{children:["Placement List for ",null===(e=this.props.auth.district)||void 0===e?void 0:e.district_name]}),Object(S.jsx)("p",{className:"opacity-60 text-lg -mt-1 font-bold text-accent-900 dark:text-accent-800",children:Object(S.jsxs)("b",{children:[null===(t=this.props.basic.academic_calender)||void 0===t?void 0:t.academic_year_name," "]})})]}),Object(S.jsx)("div",{className:"flex",children:Object(S.jsxs)("div",{className:"",children:[Object(S.jsx)("p",{className:"m-0",children:"Total"}),Object(S.jsx)("h2",{className:"text-3xl font-bold -mt-1",children:this.props.placement.placements.length})]})})]}),Object(S.jsxs)("div",{className:"mt-3",children:[Object(S.jsxs)("div",{className:"mb-2 border-opacity-30 border rounded flex px-3 items-center",children:[Object(S.jsx)("div",{className:"flex-1 mx-3",children:Object(S.jsx)(_.a,{onChange:function(e){return s.setState({search:e.target.value})},value:this.state.search,error:"",label:"Search",placeholder:"School name",name:"search",size:"sm"})}),Object(S.jsx)("div",{className:"",children:Object(S.jsx)(O.a,{data:[{title:"All",value:""},{title:"Approved",value:"1"},{title:"Waiting",value:"0"}],onChange:function(e){return s.setState({selected_status:e.target.value})},value:this.state.selected_status,error:"",label:"Status",placeholder:"Select status",name:"month",size:"sm"})})]}),Object(S.jsxs)("table",{className:"w-full text-left table-auto border",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{}),Object(S.jsx)("th",{children:"School Code"}),Object(S.jsx)("th",{children:"School Name"}),Object(S.jsx)("th",{children:"Month"}),Object(S.jsx)("th",{children:"Created by"}),Object(S.jsx)("th",{children:"Approved by"}),Object(S.jsx)("th",{children:"Approved date"}),Object(S.jsx)("th",{children:"Status"}),Object(S.jsx)("th",{})]})}),Object(S.jsx)("tbody",{children:n.length<=0?Object(S.jsx)("tr",{children:Object(S.jsx)("td",{colSpan:8,className:"p-8 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:Object(S.jsx)(x.a,{size:"md",className:"opacity-60 font-light",children:"No results found"})})}):n.map((function(e,t){return Object(S.jsx)(i.Fragment,{children:Object(S.jsxs)("tr",{className:"group border rounded hover:bg-blue-500 hover:bg-opacity-20  ",children:[Object(S.jsx)("td",{className:"p-1 border cursor-pointer text-center",children:t+1},t),Object(S.jsx)("td",{className:"p-2 border",children:e.school_code}),Object(S.jsx)("td",{className:"p-2 border",children:e.school_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.month}),Object(S.jsx)("td",{className:"p-2 border",children:e.head_teacher_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.dde_name}),Object(S.jsx)("td",{className:"p-2 border",children:null===e||void 0===e?void 0:e.approved_date}),Object(S.jsx)("td",{className:"p-2 border",children:"1"===e.dde_approval_status?Object(S.jsx)("span",{className:"p-0.5 text-sm rounded-full px-2 bg-green-200 font-bold text-green-700",children:"Approved"}):Object(S.jsx)("span",{className:"p-0.5 font-bold text-sm rounded-full px-2 bg-gray-200 text-gray-700",children:"Waiting"})}),Object(S.jsx)("td",{className:"p-2 w-28 text-right",children:Object(S.jsx)(u.a,{size:"sm",className:"w-full",onClick:s.selectItem.bind(s,e),theme:"accent-light",children:"View list"})})]})},t)}))})]})]})]}),"non-reported-schools"===this.state.tab&&Object(S.jsx)(w,{schools:o,close:this.changeTab.bind(this,"placement"),title:"Non Reported schools"}),"reported-schools"===this.state.tab&&Object(S.jsx)(w,{schools:r,close:this.changeTab.bind(this,"placement"),title:"Reported schools"}),Object(S.jsx)("div",{className:"h-24"})]})}}]),s}(d.a.Component),k=Object(b.b)((function(e){return{auth:e.auth,basic:e.basic,placement:e.placement}}),{FC_GetPlacementByDistrict:j.G,FC_ApprovePlacementList:j.e,FC_RejectPlacementList:j.qb})(C)}}]);
//# sourceMappingURL=20.5476c901.chunk.js.map