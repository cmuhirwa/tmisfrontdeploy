(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[6],{351:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return h}));var n=a(3),i=a(6),s=a(7),c=a.n(s),r=a(13),l=a(12),d=a(10),o=a(11),j=function(e,t){return t(!0,null,""),function(){var a=Object(i.a)(Object(n.a)().mark((function a(i){var s,j;return Object(n.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i({type:r.a.GET_ALL_TRANSFER,payload:[]}),Object(d.a)(),a.next=5,c.a.get("".concat(l.e,"/teachertransfers/requesteddde/").concat(e));case 5:s=a.sent,j=s.data.filter((function(e){return"APPROVED"===e.requested_status})),i({type:r.a.GET_ALL_TRANSFER,payload:j}),t(!1,j,""),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t(!1,null,Object(o.a)(a.t0));case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},b=function(){var e=Object(i.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!1,[{district_code:"11",district_name:"Nyarugenge"},{district_code:"12",district_name:"Gasabo"},{district_code:"13",district_name:"Kicukiro"},{district_code:"21",district_name:"Nyanza"},{district_code:"22",district_name:"Gisagara"},{district_code:"23",district_name:"Nyaruguru"},{district_code:"24",district_name:"Huye"},{district_code:"25",district_name:"Nyamagabe"},{district_code:"26",district_name:"Ruhango"},{district_code:"27",district_name:"Muhanga"},{district_code:"28",district_name:"Kamonyi"},{district_code:"31",district_name:"Karongi"},{district_code:"32",district_name:"Rutsiro"},{district_code:"33",district_name:"Rubavu"},{district_code:"34",district_name:"Nyabihu"},{district_code:"35",district_name:"Ngororero"},{district_code:"36",district_name:"Rusizi"},{district_code:"37",district_name:"Nyamasheke"},{district_code:"41",district_name:"Rulindo"},{district_code:"42",district_name:"Gakenke"},{district_code:"43",district_name:"Musanze"},{district_code:"44",district_name:"Burera"},{district_code:"45",district_name:"Gicumbi"},{district_code:"51",district_name:"Rwamagana"},{district_code:"52",district_name:"Nyagatare"},{district_code:"53",district_name:"Gatsibo"},{district_code:"54",district_name:"Kayonza"},{district_code:"55",district_name:"Kirehe"},{district_code:"56",district_name:"Ngoma"},{district_code:"57",district_name:"Bugesera"}],"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(i.a)(Object(n.a)().mark((function e(t,a){var i,s,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0,i=0,null,""),e.prev=2,Object(d.a)(),(s=new FormData).append("teacher_supporting_document",t),e.next=8,c.a.post("".concat(l.e,"/teachertransfers/uploadSupportingDocument"),s,{onUploadProgress:function(e){i=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,a(!0,i,null,"")}});case 8:r=e.sent,console.log("Uploaded document: ",r.data),a(!1,i,r.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),a(!1,i,"",Object(o.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}(),h=function(e,t,a){a(!0,"");return function(){var s=Object(i.a)(Object(n.a)().mark((function i(s){var j,b;return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(!0,""),console.log("==================doc_title=================="),console.log({doc_title:""}),console.log("==================doc_title=================="),a(!0,""),(j=new FormData).append("teacher_transfer_id",e),j.append("mayor_letter",t),console.log("==================*********************=================="),console.log({doc_title:""}),console.log("==================*********************=================="),n.prev=11,Object(d.a)(),n.next=15,c.a.post("".concat(l.e,"/teachertransfers/outgoing"),j);case 15:b=n.sent,console.log("Uploaded document: ",b.data),s({type:r.a.UPLOAD_SIGNED_DOCUMENT,payload:{teacher_transfer_id:e,mayor_letter:b.data.mayor_letter}}),a(!1,""),n.next=25;break;case 21:n.prev=21,n.t0=n.catch(11),console.error(n.t0),a(!1,Object(o.a)(n.t0));case 25:case"end":return n.stop()}}),i,null,[[11,21]])})));return function(e){return s.apply(this,arguments)}}()}},394:function(e,t,a){"use strict";var n=a(28),i=a(4),s=a(50),c=a(1);t.a=function(e){var t=Object(i.useState)(!0),a=Object(n.a)(t,2),r=a[0],l=a[1],d=Object(i.useState)(null),o=Object(n.a)(d,2),j=o[0],b=o[1];return Object(i.useEffect)((function(){var t;r&&(null===(t=e.file_url)||null!==t.match(/^ *$/)?b({element:"PDF_FILE",msg:"File url is required"}):null!==j&&b(null),l(!1))}),[j,r,e.file_url]),Object(c.jsx)("div",{className:"w-full",children:j?Object(c.jsx)(s.a,{theme:"danger",children:j.msg}):Object(c.jsx)("object",{data:e.file_url,type:"application/pdf",className:e.class_name,onLoad:function(){return e.setLoadingFile(!1)},children:Object(c.jsx)("iframe",{src:"https://docs.google.com/viewer?url=".concat(e.file_url,"&embedded=true"),className:e.class_name,title:e.frame_title,onLoad:function(){return e.setLoadingFile(!1)},children:Object(c.jsx)("p",{className:"text-2xl opacity-50",children:"This browser does not support PDF!"})})})})}},442:function(e,t,a){"use strict";a(4);var n=a(16),i=a(23),s=a(17),c=a(1),r=void 0;t.a=function(e){var t=e.training,a=e.viewDetails,l=e.editTraining,d=e.deleteTraining,o=e.delete_loading,j=e.update_loading;return t.title||t.implementation_status&&"DRAFT"!==t.implementation_status?Object(c.jsx)("div",{onClick:null===a||void 0===a?void 0:a.bind(r,t.id),className:"mb-2 pl-4 bg-white p-2 rounded border cursor-pointer hover:border-2  hover:border-yellow-700",children:Object(c.jsxs)("div",{className:"flex  items-center",children:[Object(c.jsxs)("div",{className:"flex-1",children:[Object(c.jsx)("h2",{className:"text-xl font-bold hover:underline cursor-pointer",children:null===t||void 0===t?void 0:t.title}),Object(c.jsx)("p",{className:"text-accent-900 -mt-1",children:t.development_partner_name})]}),Object(c.jsxs)("div",{className:"px-4 text-gray-500 lg:border-r border-l",children:[Object(c.jsxs)("section",{children:["Area of intervention"," ",Object(c.jsx)("b",{className:"text-black",children:t.intervention_area})]}),Object(c.jsxs)("section",{children:["Sub area",Object(c.jsx)("b",{className:"text-black",children:t.sub_area_name})," -"," ",Object(c.jsx)("b",{className:"text-black",children:t.topic})]})]}),Object(c.jsxs)("div",{className:"px-2 text-sm",children:[Object(c.jsxs)("p",{children:["Start date: ",Object(c.jsx)("b",{children:Object(s.a)(t.start_date)})]}),Object(c.jsxs)("p",{children:["End date: ",Object(c.jsx)("b",{children:Object(s.a)(t.end_date)})]})]}),Object(c.jsx)("div",{className:"px-2",children:Object(c.jsx)("label",{className:"px-2 py-1 font-bold text-green-500 bg-green-100 rounded-lg",children:"DRAFT"})})]})},t.id):Object(c.jsx)("div",{className:"mb-2 pl-4 bg-white p-2 rounded border hover:border-2  hover:border-yellow-700",children:Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("div",{className:"text-5xl pr-3 text-accent-900",children:Object(c.jsx)(n.Jb,{})}),Object(c.jsxs)("div",{className:"flex-1",children:[Object(c.jsx)("h4",{className:"font-bold text-lg text-accent-900",children:"This draft looks empty"}),Object(c.jsxs)("h4",{children:["Please click on ",Object(c.jsx)("u",{children:"edit draft"})," and add more information or delete the draft if you created ot accidentally."," "]})]}),Object(c.jsx)("div",{className:"pr-4",children:l&&Object(c.jsx)(i.a,{onClick:l.bind(r,t.id),disabled:null!==j,loading:(null===j||void 0===j?void 0:j.toString())===t.id.toString(),children:"Edit Draft Draft"})}),Object(c.jsx)("div",{className:"",children:d&&Object(c.jsx)(i.a,{onClick:d.bind(r,t.id),theme:"danger-light",disabled:null!==o,loading:(null===o||void 0===o?void 0:o.toString())===t.id.toString(),children:"Delete Draft"})})]})})}},469:function(e,t,a){"use strict";a.d(t,"a",(function(){return Oe}));var n=a(40),i=a(9),s=a(19),c=a(20),r=a(21),l=a(22),d=a(4),o=a.n(d),j=a(36),b=a(13),u=a(50),h=a(23),x=a(53),m=a(89),g=a(25),O=a(28),p=a(133),_=a(16),v=a(69),f=a(1),N=function(e){var t=e.onChange,a=e.value,n=e.placeholder,i=e.disabled,s=void 0!==i&&i,c=e.name,r=e.Input_className,l=void 0===r?"":r,d=e.InputContainer_className,o=void 0===d?"":d,j=e.MainContainer_className,b=void 0===j?"":j,u=e.size,h=void 0===u?"md":u,x=e.max;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"w-full my-2 ".concat(b),children:Object(f.jsx)("div",{className:"rounded relative ".concat(o," "),children:Object(f.jsxs)("div",{className:"flex p-1 px-2 rounded-lg items-center border bg-gray-100",children:[Object(f.jsx)("label",{htmlFor:c,className:"text-3xl text-gray-700",children:Object(f.jsx)(_.Ab,{})}),Object(f.jsx)("input",{type:"search",name:c,id:c,placeholder:n,onChange:t,className:" outline-none bg-transparent flex-1\n                w-full text-lg \n                ".concat(Object(v.a)(h),"\n                px-3 ").concat(l),value:a,disabled:s,maxLength:x})]})})})})},y=a(47),S=a(24),C=a(17),R=a(137),A=void 0,E={target:null,msg:""},T=function(e){var t=e.close,a=e.training_id,s=e.successHandler,c=(e.centers,e.selectedCenter),r=Object(d.useState)(!1),l=Object(O.a)(r,2),o=l[0],j=l[1],x=Object(d.useState)([]),m=Object(O.a)(x,2),_=m[0],v=m[1],T=Object(d.useState)([]),I=Object(O.a)(T,2),w=I[0],k=I[1],D=Object(d.useState)(!0),M=Object(O.a)(D,2),G=M[0],U=M[1],P=Object(d.useState)(E),z=Object(O.a)(P,2),F=z[0],L=z[1],B=Object(d.useState)(""),q=Object(O.a)(B,2),Y=q[0],V=q[1],H=Object(d.useState)(""),J=Object(O.a)(H,2),W=J[0],K=J[1],Q=Object(d.useState)(""),$=Object(O.a)(Q,2),X=$[0],Z=$[1],ee=Object(d.useState)(!1),te=Object(O.a)(ee,2),ae=te[0],ne=te[1],ie=Object(d.useState)(null),se=Object(O.a)(ie,2),ce=se[0],re=se[1],le=Object(d.useState)(!1),de=Object(O.a)(le,2),oe=de[0],je=de[1],be=Object(d.useState)(null),ue=Object(O.a)(be,2),he=ue[0],xe=ue[1],me=Object(d.useState)(""),ge=Object(O.a)(me,2),Oe=ge[0],pe=ge[1],_e=Object(d.useState)(10),ve=Object(O.a)(_e,2),fe=ve[0],Ne=ve[1];Object(d.useEffect)((function(){Object(b.J)((function(e,t,a){e||L({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),U(!1),k(t)})),void 0!==c&&null!==c&&(V(c.district_id+""),re({center_id:c.center_id+"",center_type_id:c.center_type_id+"",center_type_name:c.center_name+"",district_id:c.district_id+"",district_name:c.district_name+"",id:c.center_id+"",name:c.center_name+"",status:"ACTIVE"}),he||ye())}),[c,he]);var ye=function(){je(!0),Object(R.l)((function(e,t,a){e&&t?xe(t):L({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),je(!1)}))},Se=_||[];return""!==W.toString()&&(Se=Se.filter((function(e){return e.center_type_id.toString()===W.toString()}))),Se=Object(C.n)(Se||[],X,{name:!0,center_type_name:!0,district_name:!0}),Object(f.jsx)("div",{children:Object(f.jsxs)(S.c,{backDrop:!0,close:t,backDropClose:!1,displayClose:!0,title:"Add center the training",padding:{title:!0,body:void 0,footer:void 0},children:[Object(f.jsxs)("div",{className:"border-t p-2 px-3",children:["MAIN-SUCCESS"===F.target&&Object(f.jsx)(u.a,{theme:"success",children:F.msg}),"MAIN-ERROR"===F.target&&Object(f.jsx)(u.a,{theme:"danger",children:F.msg}),null===ce&&Object(f.jsxs)("div",{className:"lg:flex gap-3 border-b",children:[Object(f.jsx)("div",{className:"flex-1",children:Object(f.jsx)(p.a,{onChange:function(e){var t;V(e.target.value),t=e.target.value,j(!0),he||ye(),v([]),Object(R.m)(t,(function(e,t,a){j(!1),e||L({msg:"Error: ".concat(a),target:"MAIN-ERROR"}),v(t)}))},value:Y,error:"",label:"Select a district",placeholder:"select district",name:"",data:[{title:"",value:""}].concat(Object(n.a)(w.map((function(e){return{title:e.district_name,value:e.district_code}})))),disabled:G||o})}),Object(f.jsx)("div",{className:"flex-1",children:_&&(null===he||void 0===he?void 0:he.center_types)&&Object(f.jsx)(p.a,{onChange:function(e){K(e.target.value)},value:W,error:"",label:"Select a center type",placeholder:"select center type",name:"",data:[{title:"All",value:""}].concat(Object(n.a)(null===he||void 0===he?void 0:he.center_types.map((function(e){return{title:e.name||"",value:e.id||""}})))),disabled:G||o})})]}),G&&Object(f.jsx)("div",{className:"py-2 text-center mx-auto text-gray-600 animate__animated animate__fadeIn animate__infinite",children:"Loading assets ..."}),Object(f.jsx)("div",{className:"mx-auto",children:oe&&Object(f.jsx)("div",{className:"py-2 text-center",children:Object(f.jsx)(g.a,{})})}),Y&&Object(f.jsx)(f.Fragment,{children:null===ce&&Object(f.jsxs)("div",{className:"p-1 rounded bg-white border animate__animated animate__zoomIn animate__faster",children:[Object(f.jsxs)("div",{className:"flex items-center border-b px-2",children:[Object(f.jsx)("h4",{className:"text-xl flex-1 font-bold ",children:"Training centers"}),Object(f.jsx)("div",{className:"flex-1",children:Object(f.jsx)(N,{onChange:function(e){return Z(e.target.value)},value:X,placeholder:"Search for a center",name:"",size:"sm"})})]}),Object(f.jsx)("div",{className:"h-96 border p-1 rounded",children:Object(f.jsxs)("table",{className:"w-full",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{className:"border p-1",children:"#"}),Object(f.jsx)("th",{className:"border p-1",children:"Center"}),Object(f.jsx)("th",{className:"border p-1",children:"Center type"}),Object(f.jsx)("th",{className:"border p-1",children:"District"}),Object(f.jsx)("th",{className:"border p-1 w-4"})]})}),Object(f.jsx)("tbody",{children:o?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{className:"py-4 text-center",colSpan:12,children:Object(f.jsx)("div",{className:"mx-auto text-center",children:Object(f.jsx)(g.a,{})})})}):_.length<=0?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{className:"py-6 text-center text-2xl text-gray-400",colSpan:12,children:Object(f.jsx)("div",{className:"mx-auto",children:"No centers found!"})})}):Se.length<=0?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{className:"py-6 text-center text-2xl text-gray-400",colSpan:12,children:Object(f.jsx)("div",{className:"mx-auto",children:"No results for your search found!"})})}):Se.map((function(e,t){return Object(f.jsxs)("tr",{className:"hover:bg-accent-400",children:[Object(f.jsx)("td",{className:"border p-1 text-center",children:t+1}),Object(f.jsx)("td",{className:"border p-1 font-bold pl-2",children:e.center_name}),Object(f.jsx)("td",{className:"border p-1",children:e.center_type_name}),Object(f.jsx)("td",{className:"border p-1",children:e.district_name}),Object(f.jsx)("td",{className:"border p-1",children:Object(f.jsx)(h.a,{size:"sm",theme:"accent-light",onClick:re.bind(A,e),children:"Select"})})]},t)}))})]})})]})}),null!==ce&&Object(f.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster",children:[Object(f.jsx)("div",{className:"p-1 flex w-full border",children:Object(f.jsxs)("div",{className:"flex-1 ",children:[Object(f.jsxs)("div",{className:"flex items-center pr-2 pb-1 mb-1 border-b",children:[Object(f.jsxs)("section",{className:" p-2 flex-1",children:[Object(f.jsx)("label",{className:"text-sm text-gray-700",children:"Center name:"}),Object(f.jsx)("h2",{className:"font-bold",children:ce.name})]}),Object(f.jsx)("section",{children:Object(f.jsx)(h.a,{theme:"danger-light",onClick:re.bind(A,null),children:"Change center"})})]}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsxs)("section",{className:" p-2 flex-1",children:[Object(f.jsx)("label",{className:"text-sm text-gray-700",children:"Center type:"}),Object(f.jsx)("h2",{className:"font-bold",children:ce.center_type_name})]}),Object(f.jsxs)("section",{className:" p-2 flex-1",children:[Object(f.jsx)("label",{className:"text-sm text-gray-700",children:"District:"}),Object(f.jsx)("h2",{className:"font-bold",children:ce.district_name})]})]})]})}),Object(f.jsxs)("div",{className:"flex gap-4",children:[Object(f.jsx)("div",{className:"flex-1",children:Object(f.jsx)(p.a,{onChange:function(e){return pe(e.target.value)},value:Oe,error:"ROOM-TYPE"===F.target?F.msg:"",label:"Select training center",placeholder:"Select the training group",name:"",data:[{title:"",value:""}].concat(Object(n.a)((null===he||void 0===he?void 0:he.center_types.map((function(e){var t,a;return{title:null===(t=e.name)||void 0===t?void 0:t.toString(),value:(null===(a=e.id)||void 0===a?void 0:a.toString())||""}})))||[])),disabled:ae})}),Object(f.jsx)("div",{className:"flex-1",children:Object(f.jsx)(y.a,{onChange:function(e){return Ne(+e.target.value)},value:fe,error:"CAPACITY"===F.target?F.msg:"",label:"Capacity",placeholder:"Room capacity",name:"",disabled:ae})})]}),Object(f.jsx)("div",{className:"pt-3 text-right",children:Object(f.jsx)(h.a,{loading:ae,onClick:function(){try{if(L(E),null===ce)return L({target:"MAIN-ERROR",msg:"No selected center"});if(""===Oe)return L({target:"ROOM-TYPE",msg:"Please select a group type"});if(fe<=0)return L({target:"CAPACITY",msg:"Please provide a number"});ne(!0),Object(R.a)({training_id:a,center_id:ce.id.toString(),group_id:Oe.toString(),number_of_trainees:fe.toString(),name:""},(function(e,n,i){var c,r;!0===e&&n?(ne(!1),L({target:"MAIN-SUCCESS",msg:"a Group has been added to this training"}),Z(""),s({id:n,number_of_trainees:fe,training_id:a,center_id:(null===ce||void 0===ce||null===(c=ce.center_id)||void 0===c?void 0:c.toString())||(null===ce||void 0===ce||null===(r=ce.id)||void 0===r?void 0:r.toString()),center_name:(null===ce||void 0===ce?void 0:ce.center_name)||(null===ce||void 0===ce?void 0:ce.name),center_type_id:+(null===ce||void 0===ce?void 0:ce.id),center_type_name:(null===ce||void 0===ce?void 0:ce.center_type_name)||"",district_id:+(null===ce||void 0===ce?void 0:ce.district_id),district_name:null===ce||void 0===ce?void 0:ce.district_name,group_id:n,group_name:"",status:"ACTIVE"}),re(null),setTimeout((function(){L(E),t()}),2e3)):(ne(!1),L({target:"MAIN-ERROR",msg:"Error: ".concat(i)}))}))}catch(F){console.log("THis is the error"),console.log(Object(i.a)({},F))}},size:"lg",children:"Add center to the training"})})]})]}),null===ce&&Object(f.jsxs)("div",{className:"py-3 border-t",children:[Object(f.jsx)("h4",{className:"text-xl text-center font-bold",children:"Can't find it?"}),Object(f.jsxs)("p",{className:"text-center text-sm text-gray-500 pb-2",children:["If you can't find the item you are looking for ",Object(f.jsx)("br",{}),"Contact REB, they will add it here"]})]})]})})},I=function(e){var t=e.close,a=e.title,i=e.existing_data,s=e.path_url,c=e.submit,r=e.submit_loading,l=e.success_msg,o=e.error_msg,j=Object(d.useState)(!0),b=Object(O.a)(j,2),x=b[0],m=b[1],p=Object(d.useState)(""),v=Object(O.a)(p,2),N=v[0],y=v[1],C=Object(d.useState)([]),A=Object(O.a)(C,2),E=A[0],T=A[1],I=Object(d.useState)([]),w=Object(O.a)(I,2),k=w[0],D=w[1];Object(d.useEffect)((function(){x&&Object(R.p)(s,(function(e,t,a){m(!1),e||y("Error: ".concat(a)),T(t)}))}),[E,s,x]);return Object(f.jsx)("div",{children:Object(f.jsxs)(S.c,{backDrop:!0,close:t,backDropClose:!1,displayClose:!0,title:a,padding:{title:!0,body:void 0,footer:void 0},children:[Object(f.jsxs)("div",{className:"border-t p-2 px-3",children:[""!==l&&Object(f.jsx)(u.a,{theme:"success",children:l}),""!==o&&Object(f.jsx)(u.a,{theme:"danger",children:o}),Object(f.jsx)("p",{className:"text-center text-gray-500 pb-2",children:"Choose one or more items"}),""!==N&&Object(f.jsx)(u.a,{theme:"danger",children:N}),!0===x&&Object(f.jsx)("div",{className:"py-8 text-center",children:Object(f.jsx)(g.a,{})}),E.map((function(e,t){var a=i.find((function(t){var a,n;return(null===(a=t.id)||void 0===a?void 0:a.toString())===(null===(n=e.id)||void 0===n?void 0:n.toString())})),s=k.find((function(t){var a,n;return(null===(a=t.id)||void 0===a?void 0:a.toString())===(null===(n=e.id)||void 0===n?void 0:n.toString())}));return Object(f.jsxs)("div",{className:"".concat(s?"bg-blue-50":"bg-white","  border rounded p-2 mb-2 flex items-center cursor-pointer ").concat(a?"opacity-60":""),onClick:function(){a||function(e){if(r)return null;var t=k.find((function(t){var a,n;return(null===(a=t.id)||void 0===a?void 0:a.toString())===(null===(n=e.id)||void 0===n?void 0:n.toString())}));D(t?k.filter((function(t){var a,n;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==(null===(n=e.id)||void 0===n?void 0:n.toString())})):[].concat(Object(n.a)(k),[e]))}(e)},children:[Object(f.jsx)("div",{className:"text-3xl pr-2",children:a?Object(f.jsx)("b",{className:"text-green-300",children:Object(f.jsx)(_.n,{})}):s?Object(f.jsx)("span",{className:"text-blue-600",children:Object(f.jsx)(_.l,{})}):Object(f.jsx)("b",{className:"text-gray-700",children:Object(f.jsx)(_.m,{})})}),Object(f.jsxs)("div",{className:"flex-1",children:[Object(f.jsx)("h4",{className:"font-bold",children:e.name}),(null===e||void 0===e?void 0:e.description)&&Object(f.jsx)("p",{className:"text -mt-1",children:null===e||void 0===e?void 0:e.description})]}),Object(f.jsx)("div",{children:a&&Object(f.jsx)("span",{className:"text-xs px-1 py-0.5 bg-green-200 font-bold text-green-800 rounded-full",children:"Selected"})})]},t)})),E.length<=0&&!1===x&&Object(f.jsx)("div",{children:Object(f.jsx)(u.a,{theme:"info",children:"No results found!"})}),k.length>=1&&""===l&&""===o&&Object(f.jsx)("div",{className:"text-right pt-3",children:Object(f.jsxs)(h.a,{onClick:c.bind(undefined,k),theme:"success",size:"lg",loading:r,children:["Add ",k.length," items the list"]})})]}),E.length>=1&&Object(f.jsxs)("div",{className:"py-3 border-t",children:[Object(f.jsx)("h4",{className:"text-xl text-center font-bold",children:"Can't find it?"}),Object(f.jsxs)("p",{className:"text-center text-sm text-gray-500 pb-2",children:["If you can't find the item you are looking for ",Object(f.jsx)("br",{}),"Contact REB, they will add it here"]})]})]})})},w=function(e){var t=e.number,a=e.title,n=e.description,i=e.theme,s=e.active,c=e.priority,r=e.onClick;return Object(f.jsxs)("div",{onClick:r,className:"p-1 lg:p-1  lg:border-t-transparent lg:rounded-t-md cursor-pointer lg:border-b-4 flex text-center lg:text-left flex-row items-center lg:border-".concat(i,"-500 ").concat(!0===s?"bg-".concat(i,"-100"):""," ").concat(!1===c?"opacity-60":""),children:[Object(f.jsx)("section",{className:"p-1 lg:p-1 rounded-full border-4 ".concat("bg-".concat(i,"-500")," 0 ").concat("border-".concat(i,"yellow"===i?"-600":"-200"),"  ").concat("yellow"===i?"text-black":"text-white"," sm:px-2 lg:w-12 lg:h-12 flex items-center text-center"),children:Object(f.jsx)("h3",{className:"text-center w-full lg:text-2xl font-bold ",children:t})}),Object(f.jsxs)("section",{className:"pl-2 text-left",children:[Object(f.jsx)("h3",{className:"lg:text-lg font-bold",children:a}),Object(f.jsx)("p",{className:"text-gray-400 -mt-1 text-sm",children:n})]})]})},k=a(135),D=a(67),M=function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"h-20"}),Object(f.jsxs)("div",{className:"fixed bottom-0 right-0 flex left-0 bg-white shadow-lg border-t-2 px-3 items-center",children:[Object(f.jsx)("div",{className:"main-side-spacer"}),Object(f.jsx)("div",{className:"flex-1 p-2",children:Object(f.jsx)("div",{className:"",children:e.children})})]})]})},G=void 0,U=function(e){var t=e.Icon,a=e.title,n=e.description,i=e.onCreate,s=e.create_btn_label,c=e.onUpdate,r=e.onDelete,l=e.data,d=e.createLading,o=e.deleteLoading,j=e.updateLading,b=e.error;return Object(f.jsxs)("div",{className:"rounded bg-gray-200  flex-1 ".concat(""!==b?"border-2 border-red-500":"border"),children:[Object(f.jsxs)("div",{className:"flex items-center p-2 border-b bg-gray-50",children:[Object(f.jsx)("div",{className:"text-5xl pr-2 text-blue-900 text-opacity-80",children:Object(f.jsx)(t,{})}),Object(f.jsxs)("div",{className:"flex-1",children:[Object(f.jsx)("h1",{className:"text-lg font-bold",children:a}),Object(f.jsx)("p",{className:"text-gray-500 -mt-1 text-sm",children:n})]}),Object(f.jsx)("div",{className:"",children:s&&i&&Object(f.jsx)(h.a,{type:"button",theme:"primary-light",onClick:i,loading:d,children:s})})]}),Object(f.jsxs)("div",{className:"p-2 bg-gray-200",children:[0===l.length&&Object(f.jsxs)("div",{className:"py-4 text-center",children:[Object(f.jsx)("h6",{className:"inline text-8xl text-gray-500",children:Object(f.jsx)(t,{className:"mx-auto"})}),Object(f.jsx)("h4",{className:"text-lg -mt-3 text-gray-500",children:"Nothing yet selected!"})]}),l.map((function(e,t){return Object(f.jsxs)("div",{className:"p-1 border bg-white hover:bg-blue-100 rounded mb-2 items-center hover:border-blue-600 flex",children:[Object(f.jsxs)("section",{className:"px-2 text-blue-900 text-opacity-70 text-xl",children:["#",t+1]}),Object(f.jsxs)("section",{className:"flex-1",children:[Object(f.jsx)("h1",{className:"text-lg font-bold",children:e.name}),Object(f.jsx)("p",{className:"-mt-1 text-gray-500 text-sm",children:e.name})]}),c&&e.id&&Object(f.jsx)("section",{className:"pr-2",children:Object(f.jsx)(h.a,{size:"sm",theme:"primary-light",type:"button",onClick:c.bind(G,e.id),loading:!!j&&j.toString()===e.id.toString(),disabled:null!==j&&void 0!==j,children:Object(f.jsx)("section",{className:"text-2xl",title:"Update this item",children:Object(f.jsx)(_.Q,{})})})}),r&&e.id&&Object(f.jsx)("section",{className:"pr-2",children:Object(f.jsx)(h.a,{onClick:r.bind(G,e.id),size:"sm",theme:"danger-light",type:"button",loading:!!o&&o.toString()===e.id.toString(),disabled:null!==o&&void 0!==o,children:Object(f.jsx)("div",{className:"text-2xl",title:"Delete this item",children:Object(f.jsx)(_.t,{})})})})]},t)}))]}),""!==b&&Object(f.jsx)("p",{className:"text-center text-red-500",children:b})]})},P={target:null,msg:""},z=function(e){var t=e.sub_area_id,a=e.successData,n=e.trainee_category,i=e.trainer_institutions,s=e.removeTraineeCategory,c=e.removeTrainerInstitution,r=e.loadingTraineeCategoryRemove,l=e.loadingTrainersInstitutionRemove,o=e.addTraineeCategory,j=e.addTrainerInstitution,b=e.loadingStepOneSave,u=e.step_one__title,m=e.step_one__description,g=e.step_one__start_date,p=e.step_one__end_date,v=e.step_one__sub_area,N=e.step_one__budget,S=e.setStepOne__title,C=e.setStepOne__description,A=e.setStepOne__start_date,E=e.setStepOne__end_date,T=e.setStepOne__sub_area,I=e.setStepOne__budget,w=e.setStepOne__topic,G=e.step_one__topic,z=Object(d.useState)([]),F=Object(O.a)(z,2),L=F[0],B=F[1],q=Object(d.useState)([]),Y=Object(O.a)(q,2),V=Y[0],H=Y[1],J=Object(d.useState)(!0),W=Object(O.a)(J,2),K=W[0],Q=W[1],$=Object(d.useState)(!0),X=Object(O.a)($,2),Z=X[0],ee=X[1],te=Object(d.useState)(!1),ae=Object(O.a)(te,2),ne=ae[0],ie=ae[1],se=Object(d.useState)(!1),ce=Object(O.a)(se,2),re=ce[0],le=ce[1],de=L.find((function(e){return e.id+""===v+""})),oe=V.find((function(e){return e.id+""===G+""})),je=Object(d.useState)(P),be=Object(O.a)(je,2),ue=be[0],he=be[1];Object(d.useEffect)((function(){!0===K&&0===L.length&&(Q(!1),Object(R.p)(R.C,(function(e,t,a){!1===e&&he({target:"SUB_AREA",msg:"Error: ".concat(a)}),B(t),Q(!1)})),Object(R.p)(R.E,(function(e,t,a){!1===e&&he({target:"TOPICS",msg:"Error: ".concat(a)}),H(t),ee(!1)})))}),[t,K,L.length]);var xe=function(){return setTimeout((function(){return he(P)}),3e3)};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),u.length<=4?(xe(),he({target:"TITLE",msg:"Please provide the title"})):m.length<=4?(xe(),he({target:"DESCRIPTION",msg:"Please provide the description"})):de?oe?0===+N?(xe(),he({target:"BUDGET",msg:"Budget is required"})):""===g?(xe(),he({target:"START_DATE",msg:"Please provide the start date"})):""===p?(xe(),he({target:"END_DATE",msg:"Please provide the end date"})):new Date(g).getTime()>new Date(p).getTime()?(xe(),he({target:"END_DATE",msg:"This (end date) must be later than (start date)"})):""===p?(xe(),he({target:"END_DATE",msg:"Please provide the end date"})):0===i.length?(xe(),he({target:"TRAINING_INSTITUTION",msg:"You must provide at least one institution"})):0===n.length?(xe(),he({target:"TRAINEE_CATEGORY",msg:"You must provide at least one category"})):void a():(xe(),he({target:"TOPICS",msg:"Please select a topic"})):(xe(),he({target:"SUB_AREA",msg:"Please select a sub-area"}))},children:[Object(f.jsx)(x.a,{className:"animate__animated animate__zoomIn animate__faster",children:Object(f.jsxs)("div",{className:"p-2",children:[Object(f.jsx)("div",{className:"pb-2",children:Object(f.jsx)(y.a,{onChange:function(e){S(e.target.value),he(P)},value:u,error:"TITLE"===ue.target?ue.msg:"",label:"Training Title",placeholder:"Title of the training",name:"",disabled:b})}),Object(f.jsx)("div",{className:"",children:Object(f.jsx)(k.a,{onChange:function(e){C(e.target.value),he(P)},value:m,error:"DESCRIPTION"===ue.target?ue.msg:"",label:"Description of the training",placeholder:"Description of the task",name:"",disabled:b})}),Object(f.jsxs)("div",{className:"lg:flex gap-6 py-2 w-full",children:[Object(f.jsxs)("div",{className:"pb-2 flex-1",children:[!ne&&Object(f.jsx)("section",{onClick:function(){return!b&&ie(!ne)},className:"cursor-pointer",children:Object(f.jsx)(y.a,{onChange:function(e){},value:"".concat(de?"".concat(null===de||void 0===de?void 0:de.name," - ( ").concat(null===de||void 0===de?void 0:de.intervention_area,")"):""),error:"SUB_AREA"===ue.target?ue.msg:"",label:"Select sub Area",placeholder:"",name:"",disabled:!0})}),ne&&Object(f.jsx)(D.a,{loading:K,id:"id",title:"name",close:function(){return ie(!ne)},data:L,click:function(e){T(e.id),ie(!ne)}})]}),Object(f.jsxs)("div",{className:"pb-2 flex-1",children:[!re&&Object(f.jsx)("section",{onClick:function(){return!b&&le(!re)},className:"cursor-pointer",children:Object(f.jsx)(y.a,{onChange:function(e){},value:"".concat(oe?"".concat(null===oe||void 0===oe?void 0:oe.name):""),error:"TOPICS"===ue.target?ue.msg:"",label:"Select topic",placeholder:"",name:"",disabled:!0})}),re&&Object(f.jsx)(D.a,{loading:Z,id:"id",title:"name",close:function(){return le(!re)},data:V,click:function(e){w(e.id),le(!re)}})]}),Object(f.jsx)("div",{className:"pb-2 flex-1",children:Object(f.jsx)(y.a,{onChange:function(e){I(e.target.value),he(P)},value:N,error:"BUDGET"===ue.target?ue.msg:"",label:"Budget",placeholder:"Budget of the training",name:""})})]}),Object(f.jsxs)("div",{className:"border lg:p-2 lg:px-4 rounded bg-gray-50",children:[Object(f.jsxs)("section",{className:"flex items-center text-yellow-800",children:[Object(f.jsx)(_.s,{className:"text-3xl"}),Object(f.jsx)("h4",{className:"font-bold text-lg pl-1",children:"Training dates"})]}),Object(f.jsxs)("div",{className:"lg:flex gap-4",children:[Object(f.jsx)("section",{className:"flex-1",children:Object(f.jsx)(y.a,{onChange:function(e){A(e.target.value),he(P)},value:g,type:"date",error:"START_DATE"===ue.target?ue.msg:"",label:"Start Date",placeholder:"Start date",name:"",disabled:b})}),Object(f.jsx)("section",{className:"flex-1",children:Object(f.jsx)(y.a,{onChange:function(e){E(e.target.value),he(P)},value:p,type:"date",error:"END_DATE"===ue.target?ue.msg:"",label:"End Date",placeholder:"End date",name:"",disabled:b})})]})]}),Object(f.jsxs)("div",{className:"lg:flex py-4 lg:gap-4",children:[Object(f.jsx)(U,{Icon:_.D,title:"Assign training institution",description:"Institution which will help to train",data:i,create_btn_label:"Add institution",createLading:!1,updateLading:null,deleteLoading:l,onCreate:j,onDelete:c,error:"TRAINING_INSTITUTION"===ue.target?ue.msg:""}),Object(f.jsx)(U,{Icon:_.D,title:"Assign trainee category",description:"Assign the type of users you are about to train",data:n,create_btn_label:"Add category",deleteLoading:r,onCreate:o,onDelete:s,error:"TRAINEE_CATEGORY"===ue.target?ue.msg:""})]})]})}),Object(f.jsx)(M,{children:Object(f.jsx)("div",{className:"text-right flex-1 ",children:Object(f.jsx)(h.a,{size:"lg",loading:b,children:"Save and Continue"})})})]})})},F=a(26),L=function(e){var t=e.click;return Object(f.jsx)(x.a,{className:"animate__animated animate__zoomIn animate__faster",children:Object(f.jsx)("div",{className:"p-2 py-8",children:Object(f.jsxs)("div",{className:"text-center",children:[Object(f.jsx)("div",{className:"mx-auto",children:Object(f.jsxs)("div",{className:"text-gray-400 bg-gray-100 inline-block rounded-xl text-8xl mx-auto  text-center",children:[Object(f.jsx)(_.Eb,{className:"inline"}),Object(f.jsx)(_.N,{className:"inline"})]})}),Object(f.jsx)("h1",{className:"text-xl lg:text-3xl font-bold mb-1 mt-2 text-gray-700",children:"Add center, with the trainers"}),Object(f.jsx)("p",{className:"text-gray-500",children:"It looks like you haven't created a center yet, click on the button bellow"}),Object(f.jsx)("div",{className:"py-3",children:Object(f.jsx)(h.a,{onClick:function(){return t()},children:"Add a center"})})]})})})},B=function(e){var t=e.click;return Object(f.jsx)("div",{className:"p-2 py-8",children:Object(f.jsxs)("div",{className:"text-center",children:[Object(f.jsx)("div",{className:"mx-auto",children:Object(f.jsx)("div",{className:"text-gray-400 bg-gray-100 inline-block rounded-xl text-6xl mx-auto  text-center",children:Object(f.jsx)(_.D,{className:"inline"})})}),Object(f.jsx)("h1",{className:"text-xl lg:text-2xl font-bold mb-1 mt-2 text-gray-700",children:"Add groups, with the trainers"}),Object(f.jsxs)("p",{className:"text-gray-500",children:["It looks like you haven't yet added a group on this center, ",Object(f.jsx)("br",{}),"click on the button bellow to add a group"]}),Object(f.jsx)("div",{className:"py-3",children:Object(f.jsx)(h.a,{onClick:function(){return t()},children:"Add a group to this center"})})]})})},q=void 0,Y={target:null,msg:""},V=function(e){var t=e.addTraineeToGroup,a=e.group,n=e.trainers,s=e.deleteCenterGroup,c=e.delete_group_loading,r=e.updatedRoomCapacity,l=Object(d.useState)(0),o=Object(O.a)(l,2),j=o[0],b=o[1],x=Object(d.useState)(!1),m=Object(O.a)(x,2),g=m[0],p=m[1],v=Object(d.useState)(Y),N=Object(O.a)(v,2),S=N[0],C=N[1],A=Object(d.useState)(null),E=Object(O.a)(A,2),T=E[0],I=E[1],w=n?n.filter((function(e){return e.group_id.toString()===a.id.toString()})):[],k=function(){return C(Y)},D=function(){return setTimeout((function(){C(Y)}),2e3)};return Object(f.jsxs)(f.Fragment,{children:["MAIN-ERROR"===S.target&&Object(f.jsx)(u.a,{theme:"danger",children:S.msg}),"MAIN-SUCCESS"===S.target&&Object(f.jsx)(u.a,{theme:"success",children:S.msg}),Object(f.jsxs)("div",{className:"p-2 rounded mb-2 hover:border-yellow-500 hover:border-2 hover:border bg-white flex border border-rounded",children:[Object(f.jsxs)("div",{className:"flex w-44",children:[null!==T&&Object(f.jsxs)("div",{className:"p-2 rounded items-center border mr-1 animate__animated animate__zoomIn animate__faster",children:[Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)("section",{className:"flex-1 ",children:Object(f.jsx)("h2",{className:"text-lg font-bold",children:"Update"})}),Object(f.jsx)("section",{children:Object(f.jsx)(h.a,{size:"sm",theme:"danger-light",onClick:I.bind(q,null),disabled:g,children:"close"})})]}),Object(f.jsxs)("div",{className:"pt-2",children:[Object(f.jsx)(y.a,{onChange:function(e){return b(+e.target.value)},value:j,error:"",label:"Trainee capacity",placeholder:"",name:""})," ",Object(f.jsx)("section",{className:"text-right pt-2",children:Object(f.jsx)(h.a,{onClick:function(){return T?j<=0?(k(),D(),C({target:"TRAINING-CAPACITY",msg:"The capacity must be greater than zero"})):(p(!0),void Object(R.w)({id:T.id.toString(),number_of_trainees:j,training_id:T.training_id},(function(e,t){p(!1),e?(C({target:"MAIN-SUCCESS",msg:"Data Updated successfully"}),r(Object(i.a)(Object(i.a)({},a),{},{number_of_trainees:j})),I(null)):C({target:"MAIN-ERROR",msg:"Error: ".concat(t)}),D()}))):(k(),D(),C({target:"TRAINING-CAPACITY",msg:"No room selected"}))},type:"button",theme:"success",loading:g,children:"Update capacity"})})]})]}),null===T&&Object(f.jsxs)("div",{className:"pl-2",children:[Object(f.jsxs)("div",{className:"flex-1 border-b pb-1",children:[Object(f.jsx)("label",{className:"text-gray-500 text-sm",children:"Group:"}),Object(f.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:a.group_name})]}),Object(f.jsxs)("div",{className:"flex-1 border-b py-1",children:[Object(f.jsx)("label",{className:"text-gray-500 text-sm",children:"Center capacity"}),Object(f.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:a.number_of_trainees})]}),Object(f.jsxs)("div",{className:"pt-2 pr-2",children:[Object(f.jsx)(h.a,{theme:"primary-light",onClick:function(){I(a),b(+a.number_of_trainees)},className:"w-full mb-2",children:"Edit capacity"}),Object(f.jsx)(h.a,{theme:"danger-light",className:"w-full",onClick:function(){return s({training_id:a.training_id,id:a.id.toString()})},disabled:null!==c,loading:(null===c||void 0===c?void 0:c.toString())===a.id.toString(),children:"Remove room"})]})]})]}),Object(f.jsxs)("div",{className:"flex-1 rounded p-2 border",children:[Object(f.jsxs)("div",{className:"flex items-center p-0.5 px-1 mb-1 rounded bg-gray-200",children:[Object(f.jsx)("section",{className:"flex-1 pl-2",children:Object(f.jsx)("h3",{className:"text-lg font-bold",children:"Trainers"})}),Object(f.jsx)("section",{className:"text-right",children:Object(f.jsxs)(h.a,{onClick:t.bind(q,a),children:["Add a trainer to Group: ",a.group_name]})})]}),Object(f.jsxs)("table",{className:"border w-full",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{className:"text-left",children:[Object(f.jsx)("th",{className:"p-1.5 border",children:"#"}),Object(f.jsx)("th",{className:"p-1.5 border",children:"NID"}),Object(f.jsx)("th",{className:"p-1.5 border",children:"Names"}),Object(f.jsx)("th",{className:"p-1.5 border",children:"Phone number"}),Object(f.jsx)("th",{className:"p-1.5 border",children:"Email"}),Object(f.jsx)("th",{className:"p-1.5 border w-10"})]})}),Object(f.jsxs)("tbody",{children:[w.length<=0&&Object(f.jsx)("tr",{children:Object(f.jsxs)("td",{className:"py-3 text-center",colSpan:20,children:[Object(f.jsx)("section",{className:"mx-auto text-center text-6xl opacity-50",children:Object(f.jsx)(_.Eb,{className:"inline"})}),Object(f.jsxs)("h2",{className:"font-bold opacity-50",children:["Add trainer","(s)"," to this room"]})]})}),w.map((function(e,t){return Object(f.jsxs)("tr",{className:"hover:bg-yellow-100 text-sm",children:[Object(f.jsx)("td",{className:"p-2 border",children:t+1}),Object(f.jsx)("td",{className:"p-2 border",children:e.nid}),Object(f.jsxs)("td",{className:"p-2 border",children:[e.first_name," ",e.last_name]}),Object(f.jsx)("td",{className:"p-2 border",children:e.phone_numbers}),Object(f.jsx)("td",{className:"p-2 border",children:e.email}),Object(f.jsx)("td",{className:"p-0.5 text-center border",children:Object(f.jsx)(h.a,{size:"sm",theme:"danger-light",type:"button",children:"Remove"})})]},t)}))]})]})]})]})]})},H=void 0,J=function(e){var t,a=e.addGroupHandler,n=e.center,i=e.selected,s=e.selectHandler,c=e.trainers,r=e.groups,l=e.deleteCenterGroup,d=e.updatedRoomCapacity,o=e.delete_group_loading,j=e.setAddTrainer,b=r.filter((function(e){return e.center_id+""===n.center_id+""})),u=0,x=Object(F.a)(b);try{for(x.s();!(t=x.n()).done;){u+=+t.value.number_of_trainees}}catch(m){x.e(m)}finally{x.f()}return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:" rounded-lg overflow-hidden hover:border-yellow-700 bg-white border mb-3 items-center",children:[Object(f.jsxs)("div",{className:"lg:flex sm:grid sm:grid-cols-2 w-full items-center py-2",children:[Object(f.jsx)("div",{className:" text-yellow-700 pl-2",children:Object(f.jsx)("label",{className:"text-4xl",children:Object(f.jsx)(_.hb,{})})}),Object(f.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(f.jsx)("label",{className:"text-gray-500 text-sm",children:"Center type"}),Object(f.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===n||void 0===n?void 0:n.center_type_name})]}),Object(f.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(f.jsx)("label",{className:"text-gray-500 text-sm",children:"Center name"}),Object(f.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===n||void 0===n?void 0:n.center_name})]}),Object(f.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(f.jsx)("label",{className:"text-gray-500 text-sm",children:"District"}),Object(f.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===n||void 0===n?void 0:n.district_name})]}),Object(f.jsxs)("div",{className:"pl-2 w-36 border-r",children:[Object(f.jsx)("label",{className:"text-gray-500 text-sm",children:"Center capacity"}),Object(f.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:u})]}),Object(f.jsxs)("div",{className:"pl-2 w-36",children:[Object(f.jsx)("label",{className:"text-gray-500 text-sm",children:"Total Trainers"}),Object(f.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:"40"})]}),Object(f.jsxs)("div",{className:"text-right flex pr-2",children:[i.toString()===n.id.toString()?Object(f.jsx)("div",{className:"flex gap-2",children:Object(f.jsx)(h.a,{theme:"accent-light",onClick:a.bind(H,n),disabled:null!==o,children:"Add a group"})}):Object(f.jsx)(h.a,{theme:"primary-light",onClick:function(){return s(n.id.toString())},disabled:null!==o,children:"Open"}),Object(f.jsx)("div",{className:"text-right pl-2 pr-2",children:i.toString()===n.id.toString()&&Object(f.jsx)(h.a,{theme:"default",onClick:function(){return s("")},disabled:null!==o,children:"Close"})})]})]}),i.toString()===n.id.toString()&&Object(f.jsxs)("div",{className:"p-4 bg-gray-300 bg-opacity-25 border-t animate__animated animate__zoomIn animate__faster",children:[b.length>=1&&Object(f.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Groups list"}),b.map((function(e){return Object(f.jsx)(V,{addTraineeToGroup:j,updatedRoomCapacity:d,group:e,trainers:c,deleteCenterGroup:l,delete_group_loading:o})})),b.length<=0&&Object(f.jsx)(B,{click:a.bind(H,n)})]})]})})},W=function(e){var t=e.search,a=e.setSearch,n=e.total_centers,i=e.total_groups,s=e.total_trainers,c=e.total_trainees,r=e.clickAction;return Object(f.jsx)(x.a,{className:"-mt-7 mb-4",children:Object(f.jsxs)("div",{className:"lg:flex gap-3 items-center w-full flex-items-center pt-3 bg-white ",children:[Object(f.jsxs)("section",{className:"pr-4",children:[Object(f.jsx)("h2",{className:"text-xl font-bold",children:"Training Centers"}),Object(f.jsx)("p",{className:"text-sm text-gray-400 hidden lg:block -mt-1",children:"Location for your trainings"})]}),Object(f.jsxs)("div",{className:"flex gap-3 w-full lg:w-auto",children:[n&&Object(f.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(f.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total centers"}),Object(f.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:n})]}),i&&Object(f.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(f.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total groups"}),Object(f.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:i})]}),s&&Object(f.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(f.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total trainers"}),Object(f.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:s})]}),c&&Object(f.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(f.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total trainers"}),Object(f.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:c})]})]}),Object(f.jsx)("section",{className:"flex-1 lg:px-4",children:Object(f.jsx)(N,{onChange:function(e){return a(e.target.value)},value:t,placeholder:"Search a center",name:"input-containers-search",size:"sm"})}),r&&Object(f.jsx)("section",{className:"text-right flex-right ",children:Object(f.jsx)(h.a,{onClick:r,children:"add a center"})})]})})},K={target:null,msg:""},Q=function(e){var t,a,i,s,c=e.training,r=e.addCenter,l=e.deleteCenterGroup,o=e.delete_group_loading,j=e.addGroupHandler,b=e.updatedRoomCapacity,m=e.nextStep,_=e.prevStep,v=Object(d.useState)(K),y=Object(O.a)(v,2),A=y[0],E=y[1],T=Object(d.useState)(""),I=Object(O.a)(T,2),w=I[0],k=I[1],D=Object(d.useState)(""),G=Object(O.a)(D,2),U=G[0],P=G[1],z=Object(d.useState)(""),B=Object(O.a)(z,2),q=B[0],Y=B[1],V=Object(d.useState)(null),H=Object(O.a)(V,2),Q=H[0],$=H[1],X=Object(d.useState)(""),Z=Object(O.a)(X,2),ee=Z[0],te=Z[1],ae=Object(d.useState)(!1),ne=Object(O.a)(ae,2),ie=ne[0],se=ne[1],ce=Object(d.useState)(!1),re=Object(O.a)(ce,2),le=(re[0],re[1]),de=Object(d.useState)(null),oe=Object(O.a)(de,2),je=oe[0],be=oe[1],ue=Object(d.useState)([]),he=Object(O.a)(ue,2),xe=he[0],me=he[1],ge=[],Oe=Object(F.a)(c.groups||[]);try{var pe=function(){var e=s.value;void 0===ge.find((function(t){var a;return(null===(a=t.center_id)||void 0===a?void 0:a.toString())===e.center_id+""}))&&ge.push(e)};for(Oe.s();!(s=Oe.n()).done;)pe()}catch(Se){Oe.e(Se)}finally{Oe.f()}var _e=Object(C.n)(xe,ee,{nid:!0,first_name:!0,full_name:!0,last_name:!0,phone_numbers:!0,email:!0}),ve=Object(C.n)(ge||[],w,{name:!0,district_name:!0,center_type_name:!0}),fe=function(e){if(Y(e),me([]),null===e)return me([]),void E(K);se(!0),Object(R.r)({end_date:"2022-12-12",start_date:"2022-12-12",training_institution_id:e},(function(e,t,a){e||(E({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),setTimeout((function(){E(K)}),3e3)),se(!1),me(t)}))},Ne=function(e){window.confirm("Are you sure you want to add ".concat(e.full_name," to this training?"))&&(be(e),Object(R.c)({training_id:c.id+"",training_to_group_id:(null===Q||void 0===Q?void 0:Q.id)+"",user_id:e.user_id},(function(e,t){E(e?{target:"MAIN-SUCCESS",msg:"Candidate has been added to the training"}:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}),be(null),le(!1)})))},ye=[{title:"",value:""}].concat(Object(n.a)(c.trainer_institution?c.trainer_institution.map((function(e){return{title:e.name+"",value:e.id+""}})):[]));return Object(f.jsxs)(f.Fragment,{children:["MAIN-SUCCESS"===A.target&&Object(f.jsx)(u.a,{theme:"success",fixed:!0,children:A.msg}),"MAIN-ERROR"===A.target&&Object(f.jsx)(u.a,{theme:"danger",fixed:!0,children:A.msg}),null!==Q&&Object(f.jsx)(S.c,{backDrop:!0,close:function(){return $(null)},backDropClose:!1,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add trainer to training",children:null!==je?Object(f.jsxs)("div",{className:"py-6 text-center border-t",children:[Object(f.jsx)("section",{className:"inline-block",children:Object(f.jsx)(g.a,{})}),Object(f.jsxs)("h2",{className:"pt-3 text-xl",children:["Adding ",Object(f.jsx)("b",{children:je.full_name})," to this training"]})]}):Object(f.jsxs)("div",{className:"border-t p-4",children:[Object(f.jsxs)("div",{className:"flex w-full gap-2 items-center",children:[Object(f.jsx)("section",{children:Object(f.jsx)(p.a,{onChange:function(e){return fe(e.target.value)},value:q,error:"",label:"Training institution",placeholder:"",name:"",data:ye,disabled:ie})}),Object(f.jsx)("section",{className:"flex-1 pt-3",children:Object(f.jsx)(N,{onChange:function(e){return te(e.target.value)},value:ee,placeholder:"",name:""})})]}),ie&&Object(f.jsx)("div",{className:"text-center py-4",children:Object(f.jsx)(g.a,{})}),""===q&&Object(f.jsx)("div",{className:"py-5 text-center border-t",children:Object(f.jsxs)("h2",{className:"text-2xl text-gray-400 ",children:["Please select an institution, ",Object(f.jsx)("br",{})," in order to get the list of trainers"]})}),!ie&&""!==q&&Object(f.jsxs)("table",{className:"border w-full",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{className:"p-2 border",children:"#"}),Object(f.jsx)("th",{className:"p-2 border",children:"Nid"}),Object(f.jsx)("th",{className:"p-2 border",children:"Names"}),Object(f.jsx)("th",{className:"p-2 border",children:"Email"}),Object(f.jsx)("th",{className:"p-2 border",children:"Phone"}),Object(f.jsx)("th",{className:"p-2 border w-10"})]})}),Object(f.jsxs)("tbody",{children:[_e.length<=0&&Object(f.jsx)("tr",{children:Object(f.jsx)("td",{className:"py-5 text-center",colSpan:12,children:Object(f.jsx)("h2",{className:"text-2xl text-gray-600",children:"No results found!"})})}),_e.map((function(e,t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"p-2 border",children:t+1}),Object(f.jsx)("td",{className:"p-2 border",children:e.nid}),Object(f.jsx)("td",{className:"p-2 border",children:e.full_name}),Object(f.jsx)("td",{className:"p-2 border",children:e.email}),Object(f.jsx)("td",{className:"p-2 border",children:e.phone_numbers}),Object(f.jsx)("td",{className:"p-1 border",children:Object(f.jsx)(h.a,{size:"sm",onClick:Ne.bind(undefined,e),children:"Open"})})]},e.id)}))]})]}),xe.length<=0&&!1===ie&&""!==q&&Object(f.jsx)("div",{className:"py-8 text-center",children:Object(f.jsx)("h2",{className:"text-4xl font-bold text-gray-400",children:"No trainers found!"})})]})}),Object(f.jsx)(W,{search:w,clickAction:r,setSearch:k,total_centers:null===(t=c.centers)||void 0===t?void 0:t.length,total_groups:null===(a=c.groups)||void 0===a?void 0:a.length,total_trainees:1e3,total_trainers:null===(i=c.trainers)||void 0===i?void 0:i.length}),Object(f.jsx)(x.a,{transparent:!0,className:"-mt-7",children:Object(f.jsx)("div",{className:"",children:Object(f.jsxs)("div",{className:"",children:[ge&&ge.length<=0&&Object(f.jsx)(L,{click:function(){}}),ve.map((function(e,t){return Object(f.jsx)(J,{updatedRoomCapacity:b,deleteCenterGroup:l,addGroupHandler:j,center:e,selectHandler:function(e){return P(e)},selected:U,trainers:c.trainers?c.trainers:[],groups:c.groups?c.groups:[],delete_group_loading:o,setAddTrainer:function(e){return $(e)}},t)}))]})})}),Object(f.jsx)(M,{children:Object(f.jsxs)("div",{className:"text-right  flex-1 flex",children:[_&&Object(f.jsx)("section",{className:"flex-1 text-left",children:Object(f.jsx)(h.a,{theme:"default",onClick:_,loading:!1,children:"Previous"})}),m&&Object(f.jsx)("section",{className:"flex-1 text-right",children:Object(f.jsx)(h.a,{loading:!1,onClick:m,children:"Next"})})]})})]})},$=a(92),X=a(351),Z=function(e){var t=e.title,a=e.title_key,n=e.description,i=e.addButton,s=e.disable;return Object(f.jsxs)("div",{className:"p-2 border rounded bg-white",children:[Object(f.jsxs)("div",{className:"flex items-center border-b pb-1",children:[Object(f.jsxs)("section",{className:"flex-1",children:[Object(f.jsx)("h3",{className:"text-lg font-bold",children:t}),Object(f.jsx)("p",{className:"text-sm text-gray-500",children:n})]}),Object(f.jsx)("section",{children:i&&Object(f.jsxs)(h.a,{onClick:i,theme:"accent-light",disabled:s,children:["Add ",a]})})]}),Object(f.jsx)("div",{className:"py-2",children:e.children})]})},ee=function(e){var t=e.title,a=e.removeItem,n=e.el,i=e.loadingRemove,s=e.id;return Object(f.jsxs)("div",{className:"flex p-2 mb-2 bg-gray-100 rounded border items-center",children:[Object(f.jsx)("section",{className:"pr-2 text-gray-400",children:n}),Object(f.jsx)("section",{className:"flex-1 font-bold",children:Object(f.jsx)("h4",{children:t})}),Object(f.jsx)("section",{children:Object(f.jsx)(h.a,{size:"sm",theme:"danger-light",disabled:null!==i,loading:i===s.toString(),onClick:a,children:"Remove"})})]})},te=void 0,ae={msg:"",target:null},ne={districts:[],levels:[],positions:[],qualifications:[],sectors:[],strict:0,subjects:[],training_id:""},ie=function(e){var t=e.training,a=e.successCriterial,s=e.nextStep,c=e.prevStep,r=Object(d.useState)(ne),l=Object(O.a)(r,2),o=l[0],j=l[1],b=Object(d.useState)(!1),v=Object(O.a)(b,2),N=v[0],y=v[1],C=Object(d.useState)(ae),A=Object(O.a)(C,2),E=A[0],T=A[1],I=Object(d.useState)(null),w=Object(O.a)(I,2),k=w[0],D=w[1],G=Object(d.useState)(!1),U=Object(O.a)(G,2),P=U[0],z=U[1],F=Object(d.useState)(!1),L=Object(O.a)(F,2),B=L[0],q=L[1],Y=Object(d.useState)(!1),V=Object(O.a)(Y,2),H=V[0],J=V[1],W=Object(d.useState)(!1),K=Object(O.a)(W,2),Q=K[0],ie=K[1],se=Object(d.useState)(!1),ce=Object(O.a)(se,2),re=ce[0],le=ce[1],de=Object(d.useState)(!1),oe=Object(O.a)(de,2),je=oe[0],be=oe[1],ue=Object(d.useState)(!1),he=Object(O.a)(ue,2),xe=he[0],me=he[1],ge=Object(d.useState)(""),Oe=Object(O.a)(ge,2),pe=Oe[0],_e=Oe[1],ve=Object(d.useState)([]),fe=Object(O.a)(ve,2),Ne=fe[0],ye=fe[1],Se=Object(d.useState)([]),Ce=Object(O.a)(Se,2),Re=Ce[0],Ae=Ce[1];Object(d.useEffect)((function(){var e;t&&null!==(e=t.trainee_criteria)&&void 0!==e&&e.training_id&&j(t.trainee_criteria),Object(X.b)((function(e,t,a){t&&Ae(t)}))}),[t]);var Ee=function(e){window.confirm("Are you sure you want to remove this item")&&j(Object(i.a)(Object(i.a)({},o),{},{subjects:o.subjects.filter((function(t){return t.course_code.toString()!==e.toString()}))}))},Te=function(){k||(y(!0),Object(R.n)((function(e,t,a){e&&t?D(t):T({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),y(!1)})))},Ie=function(e,t){j(Object(i.a)(Object(i.a)({},o),{},Object($.a)({},t,[].concat(Object(n.a)(o[t]),[e]))))},we=function(e,t){window.confirm("Are you sure you want to remove this item")&&j(Object(i.a)(Object(i.a)({},o),{},Object($.a)({},t,o[t].filter((function(t){var a;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==e})))))},ke=function(e){j(Object(i.a)(Object(i.a)({},o),{},{subjects:[].concat(Object(n.a)(o.subjects),[e])}))};return Object(f.jsxs)(f.Fragment,{children:[re&&Object(f.jsxs)(S.c,{backDrop:!0,close:le.bind(te,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add subjects",children:[Object(f.jsx)("div",{className:"p-2 border-b",children:Object(f.jsx)(p.a,{onChange:function(e){_e(e.target.value),function(e){if(""===e)return ye([]);me(!0),Object(R.q)(e,(function(e,t,a){t&&ye(t),e||T({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),me(!1)}))}(e.target.value)},value:pe,error:"",label:"",placeholder:"",name:"",data:[{title:"",value:""}].concat(Object(n.a)(o.levels.map((function(e){return{title:e.name+"",value:e.id+""}})))),disabled:xe})}),Object(f.jsxs)("div",{className:"border-t p-2",children:[xe&&Object(f.jsx)("div",{className:"py-8 text-center",children:Object(f.jsx)("div",{className:"inline-block",children:Object(f.jsx)(g.a,{})})}),Ne.map((function(e,t){var a=o.subjects.find((function(t){return t.course_code+""===e.course_code+""}));return Object(f.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(f.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(f.jsx)("section",{className:"flex-1",children:Object(f.jsxs)("b",{children:[e.course_code," - ",e.course_name," - ",e.level_name]})}),Object(f.jsx)("section",{children:a?Object(f.jsx)(h.a,{onClick:Ee.bind(te,e.course_code),theme:"danger-light",size:"sm",children:"Remove"}):Object(f.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:ke.bind(te,e),children:"Add"})})]},e.course_code)}))]})]}),P&&Object(f.jsx)(S.c,{backDrop:!0,close:z.bind(te,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add district",children:Object(f.jsx)("div",{className:"border-t p-2",children:Re.map((function(e,t){var a=o.districts.find((function(t){return t.id+""===e.district_code+""}));return Object(f.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(f.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(f.jsx)("section",{className:"flex-1",children:Object(f.jsx)("b",{children:e.district_name})}),Object(f.jsx)("section",{children:a?Object(f.jsx)(h.a,{onClick:we.bind(te,e.district_code,"districts"),theme:"danger-light",size:"sm",children:"Remove"}):Object(f.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:Ie.bind(te,{name:e.district_name,id:e.district_code.toString()},"districts"),children:"Add"})})]},e.district_code)}))})}),H&&Object(f.jsxs)(S.c,{backDrop:!0,close:J.bind(te,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add levels",children:[N&&Object(f.jsx)("div",{className:"text-center py-2",children:Object(f.jsx)(g.a,{className:"inline-block"})}),Object(f.jsx)("div",{className:"border-t p-2",children:k&&k.school_level.map((function(e,t){var a=o.levels.find((function(t){return t.id+""===e.level_code+""}));return Object(f.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(f.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(f.jsx)("section",{className:"flex-1",children:Object(f.jsx)("b",{children:e.level_name})}),Object(f.jsx)("section",{children:a?Object(f.jsx)(h.a,{onClick:we.bind(te,e.level_code,"levels"),theme:"danger-light",size:"sm",children:"Remove"}):Object(f.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:Ie.bind(te,{name:e.level_name,id:e.level_code.toString()},"levels"),children:"Add"})})]},e.level_name)}))})]}),Q&&Object(f.jsxs)(S.c,{backDrop:!0,close:ie.bind(te,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add Qualification",children:[N&&Object(f.jsx)("div",{className:"text-center py-2",children:Object(f.jsx)(g.a,{className:"inline-block"})}),Object(f.jsx)("div",{className:"border-t p-2",children:k&&k.qualifications.map((function(e,t){var a=o.qualifications.find((function(t){return t.id+""===e.id+""}));return Object(f.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(f.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(f.jsx)("section",{className:"flex-1",children:Object(f.jsx)("b",{children:e.name})}),Object(f.jsx)("section",{children:a?Object(f.jsx)(h.a,{onClick:we.bind(te,e.id+"","qualifications"),theme:"danger-light",size:"sm",children:"Remove"}):Object(f.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:Ie.bind(te,e,"qualifications"),children:"Add"})})]},e.id)}))})]}),B&&Object(f.jsxs)(S.c,{backDrop:!0,close:q.bind(te,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add Positions",children:[N&&Object(f.jsx)("div",{className:"text-center py-2",children:Object(f.jsx)(g.a,{className:"inline-block"})}),Object(f.jsx)("div",{className:"border-t p-2",children:k&&k.positions.map((function(e,t){var a=o.positions.find((function(t){return t.id+""===e.id+""}));return Object(f.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(f.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(f.jsx)("section",{className:"flex-1",children:Object(f.jsx)("b",{children:e.name})}),Object(f.jsx)("section",{children:a?Object(f.jsx)(h.a,{onClick:we.bind(te,e.id+"","positions"),theme:"danger-light",size:"sm",children:"Remove"}):Object(f.jsx)(h.a,{theme:"primary-light",size:"sm",onClick:Ie.bind(te,e,"positions"),children:"Add"})})]},e.id)}))})]}),"MAIN-ERROR"===E.target&&Object(f.jsx)(u.a,{theme:"danger",fixed:!0,children:E.msg}),"MAIN-SUCCESS"===E.target&&Object(f.jsx)(u.a,{theme:"success",fixed:!0,children:E.msg}),Object(f.jsxs)(x.a,{transparent:!0,children:[Object(f.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(f.jsx)("section",{className:"text-5xl pr-2",children:Object(f.jsx)(_.mb,{})}),Object(f.jsxs)("section",{className:"flex-1",children:[Object(f.jsx)(m.a,{size:"md",children:"Add training criterial"}),Object(f.jsx)("p",{className:"text-gray-500",children:"Choose who must attend your training"})]}),Object(f.jsx)("section",{})]}),Object(f.jsxs)("div",{className:"grid lg:grid-cols-2 gap-4 pt-3",children:[Object(f.jsxs)(Z,{description:"A trainee without one of these district (s) will not attend",title:"Districts",title_key:"district",addButton:function(){z(!0),Te()},disable:je,children:[o.districts.length<=0&&Object(f.jsxs)("div",{className:"text-center py-6",children:[Object(f.jsx)("h2",{className:"text-xl font-bold",children:"Not selected"}),Object(f.jsx)("p",{className:"text-gray-500",children:"No district criterial selected"})]}),o.districts.map((function(e,t){return Object(f.jsx)(ee,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:we.bind(te,e.id+"","districts"),title:e.name},t)}))]}),Object(f.jsxs)(Z,{description:"A trainee without one of these district (s) will not attend",title:"Levels",title_key:"level",addButton:function(){J(!0),Te()},disable:je,children:[o.levels.length<=0&&Object(f.jsxs)("div",{className:"text-center py-6",children:[Object(f.jsx)("h2",{className:"text-xl font-bold",children:"Not selected"}),Object(f.jsx)("p",{className:"text-gray-500",children:"No level criterial selected"})]}),o.levels.map((function(e,t){return Object(f.jsx)(ee,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:we.bind(te,e.id+"","levels"),title:e.name},t)}))]}),Object(f.jsxs)(Z,{disable:je,description:"A trainee without one of these qualifications (s) will not attend",title:"Qualifications",title_key:"qualification",addButton:function(){ie(!0),Te()},children:[o.qualifications.length<=0&&Object(f.jsxs)("div",{className:"text-center py-6",children:[Object(f.jsx)("h2",{className:"text-xl font-bold",children:"Not selected"}),Object(f.jsx)("p",{className:"text-gray-500",children:"No qualification criterial selected"})]}),o.qualifications.map((function(e,t){return Object(f.jsx)(ee,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:we.bind(te,e.id+"","qualifications"),title:e.name},t)}))]}),Object(f.jsxs)(Z,{disable:je,description:"A trainee without one of these positions (s) will not attend",title:"Position",title_key:"position",addButton:function(){q(!0),Te()},children:[o.positions.length<=0&&Object(f.jsxs)("div",{className:"text-center py-6",children:[Object(f.jsx)("h2",{className:"text-xl font-bold",children:"Not selected"}),Object(f.jsx)("p",{className:"text-gray-500",children:"No position criterial selected"})]}),o.positions.map((function(e,t){return Object(f.jsx)(ee,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:we.bind(te,e.id+"","positions"),title:e.name},t)}))]}),Object(f.jsxs)(Z,{disable:je,description:"A trainee without one of these subjects (s) will not attend",title:"Subjects",title_key:"subject",addButton:function(){le(!0)},children:[o.subjects.length<=0&&Object(f.jsxs)("div",{className:"text-center py-6",children:[Object(f.jsx)("h2",{className:"text-xl font-bold",children:"Not selected"}),Object(f.jsx)("p",{className:"text-gray-500",children:"No position criterial selected"})]}),o.subjects.map((function(e,t){return Object(f.jsx)(ee,{el:t+1,id:e.course_code+"",loadingRemove:null,removeItem:Ee.bind(te,e.course_code),title:"".concat(e.course_code," - ").concat(e.course_name," - ").concat(e.level_name)},t)}))]})]})]}),Object(f.jsx)(M,{children:Object(f.jsxs)("div",{className:"text-right  flex-1 flex",children:[c&&Object(f.jsx)("section",{className:"flex-1 text-left",children:Object(f.jsx)(h.a,{theme:"default",onClick:c,loading:!1,children:"Previous"})}),s&&Object(f.jsx)("section",{className:"flex-1 text-right",children:Object(f.jsx)(h.a,{loading:je,theme:"success",onClick:function(){t&&(be(!0),Object(R.v)({districts:o.districts,levels:o.levels,positions:o.positions,qualifications:o.qualifications,sectors:o.sectors,subjects:o.subjects,strict:1,training_id:null===t||void 0===t?void 0:t.id},(function(e,t){e?(T({target:"MAIN-SUCCESS",msg:"Criterial updated successfully"}),a(o)):T({target:"MAIN-ERROR",msg:"Error: ".concat(t)}),setTimeout((function(){null===s||void 0===s||s()}),1e3),be(!1)})))},children:"Update & Continue"})})]})})]})},se=a(3),ce=a(6),re=a(548),le=a(10),de=a(7),oe=a.n(de),je=a(11),be=a(394),ue=a(12),he={target:null,msg:""},xe=function(e){var t=e.training,a=e.submitTrainingResource,i=e.loading_materials,s=e.uploadFileSuccess,c=e.prevStep,r=e.stake_holder_id,l=Object(d.useState)([]),o=Object(O.a)(l,2),j=o[0],b=o[1],g=Object(d.useState)(!1),p=Object(O.a)(g,2),v=p[0],N=p[1],C=Object(d.useState)(he),A=Object(O.a)(C,2),E=A[0],T=A[1],I=Object(d.useState)(""),w=Object(O.a)(I,2),k=w[0],D=w[1],G=Object(d.useState)(""),U=Object(O.a)(G,2),P=U[0],z=U[1],F=Object(d.useState)(""),L=Object(O.a)(F,2),B=L[0],q=L[1],Y=Object(d.useState)(!1),V=Object(O.a)(Y,2),H=V[0],J=V[1],W=Object(d.useState)(null),K=Object(O.a)(W,2),Q=K[0],$=K[1],X=Object(d.useState)(0),Z=Object(O.a)(X,2),ee=Z[0],te=Z[1],ae=Object(d.useState)(!1),ne=Object(O.a)(ae,2),ie=ne[0],de=ne[1];Object(d.useEffect)((function(){null!==t&&void 0!==t&&t.material_links&&b(null===t||void 0===t?void 0:t.material_links)}),[t]);var xe=function(){return setTimeout((function(){T(he)}),3e3)},me=function(e){if(window.confirm("Are you sure you want to remove this resource??")){var t=j.filter((function(t){var a;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==e}));a(t),b(t),N(!1)}},ge=function(){var e=Object(ce.a)(Object(se.a)().mark((function e(){var a;return Object(se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.prev=1,(a=new FormData).append("development_partner_id",r),a.append("id",(null===t||void 0===t?void 0:t.id)+""),a.append("agenda_file_name",Q[0]),Object(le.a)(),e.next=9,oe.a.patch(R.P,a,{onUploadProgress:function(e){var t=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100;te(t)}});case 9:$(null),te(0),T({target:"MAIN-SUCCESS",msg:"Document uploaded successfully!"}),s(Q[0].name),setTimeout((function(){T(he)}),3e3),J(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),T({target:"MAIN-ERROR",msg:"Error: ".concat(Object(je.a)(e.t0))}),J(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:["MAIN-SUCCESS"===E.target&&Object(f.jsx)(u.a,{theme:"success",fixed:!0,children:E.msg}),"MAIN-ERROR"===E.target&&Object(f.jsx)(u.a,{theme:"danger",fixed:!0,children:E.msg}),v&&Object(f.jsx)(S.c,{backDrop:!0,close:function(){return N(!1)},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add training Material(s) ",children:Object(f.jsxs)("div",{className:"border-t p-2",children:[Object(f.jsx)("section",{className:"p-2",children:Object(f.jsx)(y.a,{onChange:function(e){return D(e.target.value)},value:k,error:"",label:"Title",placeholder:"",disabled:i,name:""})}),Object(f.jsx)("section",{className:"p-2",children:Object(f.jsx)(y.a,{onChange:function(e){return z(e.target.value)},value:P,error:"",label:"Description",placeholder:"",name:"",disabled:i})}),Object(f.jsx)("section",{className:"p-2",children:Object(f.jsx)(y.a,{onChange:function(e){return q(e.target.value)},value:B,error:"",label:"Material link from e-learning",placeholder:"",name:"",disabled:i})}),Object(f.jsx)("div",{className:"p-2 text-right",children:Object(f.jsx)(h.a,{type:"button",onClick:function(){if(k.length<=1)return xe(),T({target:"MAIN-ERROR",msg:"Please provide a name"});if(B.length<=1)return xe(),T({target:"MAIN-ERROR",msg:"Please provide a link"});var e={description:P,title:k,url:B,id:Object(re.a)()};a([].concat(Object(n.a)(j),[e])),b([].concat(Object(n.a)(j),[e])),N(!1),D(""),z(""),q("")},loading:i,children:"Add material"})})]})}),ie&&Object(f.jsx)(S.c,{widthSizeClass:S.a.maxWidth,backDrop:!0,close:function(){return de(!1)},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Agenda file preview",children:Object(f.jsx)("div",{className:"border-t",children:Object(f.jsx)(be.a,{file_url:"".concat(ue.a).concat(null===t||void 0===t?void 0:t.agenda_file_name),class_name:"w-full h-100vh",frame_title:"",setLoadingFile:function(){}})})}),Object(f.jsxs)(x.a,{children:[Object(f.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(f.jsx)("section",{className:"text-5xl pr-2",children:Object(f.jsx)(_.i,{})}),Object(f.jsxs)("section",{children:[Object(f.jsx)(m.a,{size:"md",children:"Add training resource"}),Object(f.jsx)("p",{className:"text-gray-500",children:"Add the training plan and the resources"})]})]}),Object(f.jsxs)("div",{className:"p-2 flex w-full gap-4",children:[Object(f.jsx)("div",{className:"flex-1 py-4 text-center flex items-center bg-gray-100 rounded",children:!0===H?Object(f.jsxs)("div",{className:"text-center w-full",children:[Object(f.jsx)("section",{className:"text-8xl text-gray-500 pb-2 mx-auto animate__animated animate__fadeIn animate__infinite animate__slow",children:Object(f.jsx)(_.B,{className:"inline-block"})}),Object(f.jsxs)("div",{className:"px-5",children:[Object(f.jsx)("div",{className:"p-1  bg-blue-200 w-full rounded-full text-center",children:Object(f.jsxs)("section",{style:{width:"".concat(ee,"%")},className:" rounded-full w-6 bg-blue-600 text-center text-white py-0.5 font-bold text-xs",children:[ee.toFixed(0),"%"]})}),Object(f.jsx)("h2",{className:"pt-2 font-bold text-lg text-gray-400 text-center",children:"Uploading agenda"})]})]}):Object(f.jsx)("div",{className:"text-center w-full",children:Object(f.jsxs)("section",{children:[null!==t&&void 0!==t&&t.agenda_file_name&&t.agenda_file_name.length>=1?Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"flex border m-2 mx-4 bg-white p-1",children:[Object(f.jsx)("section",{className:"text-6xl text-blue-500 pb-2 mx-auto",children:Object(f.jsx)(_.H,{className:"inline-block"})}),Object(f.jsxs)("section",{className:"text-left pt-2 flex-1 pl-2",children:[Object(f.jsx)("h4",{className:"text-lg font-bold",children:t.agenda_file_name}),Object(f.jsx)("button",{onClick:function(){return de(!0)},className:"p-2 px-0 text-blue-700 font-bold hover:underline",children:"Preview agenda document"})]})]}),Object(f.jsx)("p",{className:"text-gray-500 mb-3",children:"You can replace the agenda document by uploading the new one"})]}):Object(f.jsxs)("section",{children:[Object(f.jsx)("section",{className:"text-8xl text-gray-500 pb-2 mx-auto",children:Object(f.jsx)(_.w,{className:"inline-block"})}),Object(f.jsx)("h2",{className:"text-2xl font-bold",children:"Upload agenda document"}),Object(f.jsx)("p",{className:"text-gray-500 mb-3",children:Object(f.jsx)("b",{children:"1MB max"})})]}),Object(f.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),Q.length<=0)return T({target:"MAIN-ERROR",msg:"Pease provide a file"}),void xe();ge()},children:Object(f.jsxs)("div",{className:"flex gap-3 bg-blue-100 items-center p-2 m-2 rounded",children:[Object(f.jsx)("div",{className:"flex-1 ",children:Object(f.jsx)("input",{type:"file",className:"p-2 border rounded bg-white w-full text-xl",onChange:function(e){return $(e.target.files)}})}),Object(f.jsx)(h.a,{theme:"primary",size:"lg",children:"Upload"})]})})," "]})})}),Object(f.jsxs)("div",{className:"flex-1 rounded border p-2",children:[Object(f.jsxs)("section",{className:"text-center border-b p-2 flex items-center",children:[Object(f.jsx)("section",{className:"text-2xl p-2 inline-block rounded-lg bg-blue-100 text-blue-600",children:Object(f.jsx)(_.gb,{className:"block"})}),Object(f.jsx)("h3",{className:"text-xl flex-1 font-bold text-left pl-2",children:"E-learning material links"}),Object(f.jsx)("section",{children:Object(f.jsx)(h.a,{theme:"success-light",onClick:function(){return N(!0)},children:"Add material"})})]}),Object(f.jsx)("div",{className:"p-3",children:j.map((function(e,t){return Object(f.jsxs)("section",{className:"p-2 border mb-2 rounded items-center border-blue-600 bg-blue-50 bg-opacity-40 hover:bg-blue-50 flex",children:[Object(f.jsx)("section",{className:"text-4xl pr-1 text-blue-600",children:Object(f.jsx)(_.gb,{className:"block"})}),Object(f.jsxs)("section",{className:"flex-1",children:[Object(f.jsx)("h2",{className:"font-bold hover:text-blue-500 hover:underline",children:e.title}),Object(f.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),Object(f.jsx)("section",{children:Object(f.jsx)(h.a,{theme:"danger-light",size:"sm",onClick:me.bind(undefined,e.id+""),disabled:i,children:Object(f.jsx)("h3",{className:"text-2xl",children:Object(f.jsx)(_.t,{})})})})]},t)}))})]})]})]}),Object(f.jsx)(M,{children:Object(f.jsx)("div",{className:"text-right  flex-1 flex",children:c&&Object(f.jsx)("section",{className:"flex-1 text-left",children:Object(f.jsx)(h.a,{theme:"default",onClick:c,loading:!1,children:"Previous"})})})})]})},me={target:null,msg:""},ge=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(s.a)(this,a),(c=t.call(this,e)).updatedRoomCapacity=function(e){console.log({update_room:e}),c.state.training&&c.state.training.groups&&c.setState({training:Object(i.a)(Object(i.a)({},c.state.training),{},{groups:c.state.training.groups.map((function(t){var a;return t.id.toString()===(null===e||void 0===e||null===(a=e.id)||void 0===a?void 0:a.toString())?Object(i.a)(Object(i.a)({},t),{},{number_of_trainees:e.number_of_trainees}):t}))})})},c.setStepOne__title=function(e){return c.setState({step_one__title:e})},c.setStepOne__description=function(e){return c.setState({step_one__description:e})},c.setStepOne__start_date=function(e){return c.setState({step_one__start_date:e})},c.setStepOne__end_date=function(e){return c.setState({step_one__end_date:e})},c.setStepOne__sub_area=function(e){return c.setState({step_one__sub_area:e})},c.setStepOne__budget=function(e){return c.setState({step_one__budget:e})},c.setStepOne__topic=function(e){return c.setState({step_one__topic:e})},c.AddTrainingInstitution=function(e){var t;c.state.training&&window.confirm("Are you sure you want to save changes")&&(c.setState({alert:me,loading__add_training_institution:!0}),Object(b.d)({training_id:null===(t=c.state.training)||void 0===t?void 0:t.id,data:e},(function(e,t,a){!0===e?(c.setState({alert:{target:"SUCCESS-ADD-TRAINING-INSTITUTION",msg:"The new institution has been added"},training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{trainer_institution:c.state.training.trainer_institution?[].concat(Object(n.a)(c.state.training.trainer_institution),Object(n.a)(t)):Object(n.a)(t)}):c.state.training,loading__add_training_institution:!1}),c.cleanError(),setTimeout((function(){c.setState({add_training_institution:!1})}),3500)):c.setState({alert:{target:"ERROR-ADD-TRAINING-INSTITUTION",msg:"Error: ".concat(a)},loading__add_training_institution:!1}),c.cleanError()})))},c.AddTraineeCategory=function(e){c.state.training&&window.confirm("Are you sure you want to save changes")&&(c.setState({alert:me,loading__add_trainee_category:!0}),Object(b.c)({training_id:c.state.training.id,data:e},(function(e,t,a){!0===e?(c.setState({alert:{target:"SUCCESS-ADD-TRAINEE-CATEGORY",msg:"The new trainee categories has been added"},training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{trainee_category:c.state.training.trainee_category?[].concat(Object(n.a)(c.state.training.trainee_category),Object(n.a)(t)):Object(n.a)(t)}):c.state.training,loading__add_trainee_category:!1}),c.cleanError(),setTimeout((function(){c.setState({add_trainee_category:!1})}),3500)):c.setState({alert:{target:"ERROR-ADD-TRAINEE-CATEGORY",msg:"Error: ".concat(a)},loading__add_trainee_category:!1})})))},c.DeleteTrainingInstitution=function(e){c.state.training&&window.confirm("Are you sure you want to remove the institution to this training?")&&(c.setState({delete_training_institution:e,alert:me}),Object(b.v)({training_id:c.state.training.id,id:e.toString()},(function(t,a){t?(c.setState({delete_training_institution:null,alert:{target:"MAIN-SUCCESS",msg:"Training institution has been removed to this training"},training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{trainer_institution:c.state.training.trainer_institution?c.state.training.trainer_institution.filter((function(t){return(null===t||void 0===t?void 0:t.id)+""!==e+""})):c.state.training.trainer_institution}):c.state.training}),c.cleanError()):c.setState({delete_training_institution:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)}})})))},c.DeleteTraineeCategory=function(e){c.state.training&&window.confirm("Are you sure you want to remove the trainee category to this training?")&&(c.setState({delete_trainee_category:e,alert:me}),Object(b.t)({training_id:c.state.training.id,id:e.toString()},(function(t,a){t?c.setState({delete_trainee_category:null,alert:{target:"MAIN-SUCCESS",msg:"Trainee category has been removed to this training"},training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{trainee_category:c.state.training.trainee_category?c.state.training.trainee_category.filter((function(t){var a;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==e.toString()})):c.state.training.trainee_category}):c.state.training}):c.setState({delete_trainee_category:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)}})})))},c.saveStepOneData=function(){var e,t;c.state.training&&(c.setState({loadingStepOneSave:!0}),Object(b.Vb)({agenda_file_name:"this is the file name",budget:+c.state.step_one__budget,description:c.state.step_one__description,development_partner_id:(null===(e=c.props.auth.stakeholder)||void 0===e?void 0:e.development_partner_id)+"",end_date:c.state.step_one__start_date,id:null===(t=c.state.training)||void 0===t?void 0:t.id,material_links:[{title:"doc"},{title:""}],start_date:c.state.step_one__start_date,sub_area_id:c.state.step_one__sub_area,title:c.state.step_one__title,topic_id:c.state.step_one__topic,total:0},(function(e,t){e?c.setState({loadingStepOneSave:!1,alert:{target:"MAIN-SUCCESS",msg:"Data updated successfully"},step:2}):c.setState({loadingStepOneSave:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}}),c.cleanError()})))},c.deleteCenterGroup=function(e){var t=e.training_id,a=e.id;window.confirm("Are you sure you want to remove this center")&&(c.setState({delete_group_loading:a}),Object(b.q)(a,t,(function(e,t){var n;e?c.setState({delete_group_loading:null,alert:{target:"MAIN-SUCCESS",msg:"the center has bee removed"},training:c.state.training&&Object(i.a)(Object(i.a)({},c.state.training),{},{groups:null===(n=c.state.training.groups)||void 0===n?void 0:n.filter((function(e){return e.id.toString()!==a.toString()}))})||c.state.training}):c.setState({delete_group_loading:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}});c.cleanError()})))},c.addGroupHandler=function(e){c.state.training&&c.setState({open_add_group:e,addCenter:!0})},c.addRoomToCenterData=function(e){c.state.training&&c.setState({training:Object(i.a)(Object(i.a)({},c.state.training),{},{groups:[].concat(Object(n.a)(c.state.training.groups||[]),[e])}),open_add_group:null})},c.updateCriterial=function(e){c.state.training&&c.setState({training:Object(i.a)(Object(i.a)({},c.state.training),{},{trainee_criteria:e}),open_add_group:null})},c.updateMaterials=function(e){var t,a;c.state.training&&(c.setState({loading_materials:!0}),Object(b.Vb)({agenda_file_name:"this is the file name",budget:+c.state.step_one__budget,description:c.state.step_one__description,development_partner_id:(null===(t=c.props.auth.stakeholder)||void 0===t?void 0:t.development_partner_id)+"",end_date:c.state.step_one__start_date,id:null===(a=c.state.training)||void 0===a?void 0:a.id,material_links:e,start_date:c.state.step_one__start_date,sub_area_id:c.state.step_one__sub_area,title:c.state.step_one__title,topic_id:c.state.step_one__topic,total:0},(function(t,a){t?c.setState({loading_materials:!1,alert:{target:"MAIN-SUCCESS",msg:"Material links updated successfully"},training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{material_links:e}):c.state.training}):c.setState({loading_materials:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)}}),c.cleanError()})))},c.uploadFileSuccess=function(e){c.state.training&&c.setState({training:Object(i.a)(Object(i.a)({},c.state.training),{},{agenda_file_name:e})})},c.state={loading:!0,step:1,loading_submit:!1,training:null,alert:me,add_training_institution:!1,delete_training_institution:null,loading__add_training_institution:!1,add_trainee_category:!1,loading__add_trainee_category:!1,delete_trainee_category:null,loadingStepOneSave:!1,step_one__title:"",step_one__description:"",step_one__start_date:"",step_one__end_date:"",step_one__sub_area:"",step_one__budget:"",step_one__topic:"",addCenter:!1,addCenter_loading:!1,delete_group_loading:null,open_add_group:null,loading_add_group:!1,loading_materials:!1,delete_loading:null},c}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;if(null===(e=this.props.auth.stakeholder)||void 0===e||!e.development_partner_id)return this.setState({loading:!1,alert:{msg:"Failed to authenticate you",target:"MAIN-ERROR"}});Object(b.rb)(this.props.training_id,(function(e,a,n){var i,s;e?t.setState({loading:!1,alert:me,training:a,step_one__title:(null===a||void 0===a?void 0:a.title)||"",step_one__description:(null===a||void 0===a?void 0:a.description)||"",step_one__start_date:Object(C.a)((null===a||void 0===a?void 0:a.start_date)+"","YYYY-MM-DD"),step_one__end_date:Object(C.a)((null===a||void 0===a?void 0:a.end_date)+"","YYYY-MM-DD"),step_one__sub_area:(null===a||void 0===a?void 0:a.sub_area_id)||"",step_one__budget:(null===a||void 0===a||null===(i=a.budget)||void 0===i?void 0:i.toString())||"",step_one__topic:(null===a||void 0===a||null===(s=a.topic_id)||void 0===s?void 0:s.toString())+""}):t.setState({loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(n)},training:a})}))}},{key:"cleanError",value:function(){var e=this;setTimeout((function(){e.setState({alert:me})}),3e3)}},{key:"render",value:function(){var e,t,a,s,c,r=this;return this.state.loading?Object(f.jsx)("div",{className:"py-8 text-center",children:Object(f.jsx)(g.a,{})}):Object(f.jsxs)(f.Fragment,{children:[!0===this.state.add_training_institution&&Object(f.jsx)(I,{close:function(){return r.setState({add_training_institution:!1})},path_url:b.Cc,submit:this.AddTrainingInstitution,submit_loading:this.state.loading__add_training_institution,title:"Add Training institution(s)",existing_data:(null===(e=this.state.training)||void 0===e?void 0:e.trainer_institution)||[],error_msg:"ERROR-ADD-TRAINING-INSTITUTION"===this.state.alert.target?this.state.alert.msg:"",success_msg:"SUCCESS-ADD-TRAINING-INSTITUTION"===this.state.alert.target?this.state.alert.msg:""}),!0===this.state.add_trainee_category&&Object(f.jsx)(I,{close:function(){return r.setState({add_trainee_category:!1})},path_url:b.Ac,submit:this.AddTraineeCategory,submit_loading:this.state.loading__add_trainee_category,title:"Add Trainee category",existing_data:(null===(t=this.state.training)||void 0===t?void 0:t.trainee_category)||[],error_msg:"ERROR-ADD-TRAINEE-CATEGORY"===this.state.alert.target?this.state.alert.msg:"",success_msg:"SUCCESS-ADD-TRAINEE-CATEGORY"===this.state.alert.target?this.state.alert.msg:""}),!0===this.state.addCenter&&this.state.training&&Object(f.jsx)(T,{training_id:null===(a=this.state.training)||void 0===a?void 0:a.id,close:function(){return r.setState({addCenter:!1,open_add_group:null})},selectedCenter:this.state.open_add_group,centers:(null===(s=this.state.training)||void 0===s?void 0:s.centers)||[],successHandler:function(e){return r.setState({training:r.state.training&&Object(i.a)(Object(i.a)({},r.state.training),{},{groups:[].concat(Object(n.a)(r.state.training.groups||[]),[e])})||r.state.training})}}),"MAIN-SUCCESS"===this.state.alert.target&&Object(f.jsx)(u.a,{theme:"success",fixed:!0,children:this.state.alert.msg}),"MAIN-ERROR"===this.state.alert.target&&Object(f.jsx)(u.a,{theme:"danger",fixed:!0,children:this.state.alert.msg}),Object(f.jsx)("div",{className:"lg:sticky top-3 z-50 ",children:Object(f.jsxs)(x.a,{children:[Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)("div",{className:"flex-1",children:Object(f.jsx)(m.a,{size:"lg",className:" py-2 lg:pb-3 lg:pt-2 font-light text-left text-gray-500",children:this.state.training?"".concat(this.state.training.title):"Training request"})}),!1===this.state.loading_submit&&Object(f.jsx)(h.a,{size:"md",theme:"danger-light",onClick:function(){return window.confirm("Are you sure you want to stop the request process \n All your previous choices will be lost")&&r.props.close()},children:"Close"})]}),Object(f.jsx)("div",{className:"grid overflow-hidden grid-cols-2 lg:grid-cols-4 border rounded-md",children:[{step:1,title:"Basic info",description:"Basic information",active:!0},{step:2,title:"Training area",description:"Centers & groups & Trainers"},{step:3,title:"Targeted group & Criterial",description:"Users and criterial"},{step:4,title:"Documents & Resources",description:"Required documents"}].map((function(e,t){return Object(f.jsx)(w,{onClick:function(){r.setState({step:e.step})},active:e.step===r.state.step,description:e.description,number:e.step,theme:e.step===r.state.step?"yellow":r.state.step>e.step?"green":"gray",title:e.title,priority:e.step<=r.state.step},t)}))})]})}),1===this.state.step&&this.state.training&&Object(f.jsx)(z,{loadingStepOneSave:this.state.loadingStepOneSave,sub_area_id:this.state.training.sub_area_id||"",successData:this.saveStepOneData,trainee_category:this.state.training.trainee_category?this.state.training.trainee_category:[],trainer_institutions:this.state.training.trainer_institution?this.state.training.trainer_institution:[],addTraineeCategory:function(){return r.setState({add_trainee_category:!0})},addTrainerInstitution:function(){return r.setState({add_training_institution:!0})},loadingTraineeCategory:!1,loadingTrainerInstitution:!1,removeTraineeCategory:this.DeleteTraineeCategory,removeTrainerInstitution:this.DeleteTrainingInstitution,loadingTraineeCategoryRemove:this.state.delete_trainee_category,loadingTrainersInstitutionRemove:this.state.delete_training_institution,step_one__title:this.state.step_one__title,step_one__description:this.state.step_one__description,step_one__start_date:this.state.step_one__start_date,step_one__end_date:this.state.step_one__end_date,step_one__sub_area:this.state.step_one__sub_area,step_one__budget:this.state.step_one__budget,setStepOne__title:this.setStepOne__title,setStepOne__description:this.setStepOne__description,setStepOne__start_date:this.setStepOne__start_date,setStepOne__end_date:this.setStepOne__end_date,setStepOne__sub_area:this.setStepOne__sub_area,setStepOne__budget:this.setStepOne__budget,step_one__topic:this.state.step_one__topic,setStepOne__topic:this.setStepOne__topic}),2===this.state.step&&this.state.training&&Object(f.jsx)(Q,{training:this.state.training,addCenter:function(){return r.setState({addCenter:!0})},deleteCenterGroup:this.deleteCenterGroup,delete_group_loading:this.state.delete_group_loading,addGroupHandler:this.addGroupHandler,updatedRoomCapacity:this.updatedRoomCapacity,prevStep:function(){return r.setState({step:1})},nextStep:function(){r.setState({step:3})}}),3===this.state.step&&this.state.training&&Object(f.jsx)(ie,{training:this.state.training,successCriterial:this.updateCriterial,prevStep:function(){return r.setState({step:2})},nextStep:function(){return r.setState({step:4})}}),4===this.state.step&&this.state.training&&Object(f.jsx)(xe,{training:this.state.training,submitTrainingResource:this.updateMaterials,loading_materials:this.state.loading_materials,uploadFileSuccess:this.uploadFileSuccess,prevStep:function(){return r.setState({step:2})},stake_holder_id:(null===(c=this.props.auth.stakeholder)||void 0===c?void 0:c.development_partner_id)+""})]})}}]),a}(o.a.Component),Oe=Object(j.b)((function(e){return{auth:e.auth}}),{})(ge)},474:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n,i=a(9),s=a(19),c=a(20),r=a(21),l=a(22),d=a(4),o=a.n(d),j=a(16),b=a(36),u=a(13),h=a(50),x=a(23),m=a(53),g=a(89),O=a(135),p=a(25),_=a(24),v=a(394),f=a(12),N=a(17),y=a(137),S=a(1),C=function(e){var t=e.training,a=Object(y.L)(t),n=Object(y.M)(t),i=Object(y.N)(t),s=Object(y.O)(t);return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"p-2 -mt-3 rounded bg-gray-100 border ",children:Object(S.jsx)("div",{className:"border-t-2 mt-5 border-green-500 border-dashed",children:Object(S.jsxs)("div",{className:" -mt-5 grid grid-cols-4",children:[Object(S.jsx)("section",{className:"",children:a.status?Object(S.jsxs)("div",{children:[Object(S.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(S.jsx)(j.n,{})}),Object(S.jsx)("p",{className:"-mt-1 font-bold",children:"Basic info"})]}):Object(S.jsxs)("div",{title:"".concat(null===a||void 0===a?void 0:a.errors[0]),children:[Object(S.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(S.jsx)(j.Jb,{})}),Object(S.jsx)("p",{className:"-mt-1 font-bold",children:"Basic info"})]})}),Object(S.jsx)("div",{className:"text-center",children:n.status?Object(S.jsxs)("div",{children:[Object(S.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(S.jsx)(j.n,{})}),Object(S.jsx)("p",{className:"-mt-1 font-bold",children:"Training area"})]}):Object(S.jsxs)("div",{title:"".concat(null===n||void 0===n?void 0:n.errors[0]),children:[Object(S.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(S.jsx)(j.Jb,{})}),Object(S.jsx)("p",{className:"-mt-1 font-bold",children:"Training area"})]})}),Object(S.jsx)("section",{className:"text-center",children:i.status?Object(S.jsxs)("div",{children:[Object(S.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(S.jsx)(j.n,{})}),Object(S.jsx)("p",{className:"-mt-1 font-bold",children:"Criterial"})]}):Object(S.jsxs)("div",{title:"".concat(null===i||void 0===i?void 0:i.errors[0]),children:[Object(S.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(S.jsx)(j.Jb,{})}),Object(S.jsx)("p",{className:"-mt-1 font-bold",children:"Criterial"})]})}),Object(S.jsx)("section",{children:s.status?Object(S.jsxs)("div",{className:"text-right",children:[Object(S.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(S.jsx)(j.n,{})}),Object(S.jsx)("p",{className:"-mt-1 font-bold",children:"Plan & Materials"})]}):Object(S.jsxs)("div",{title:"".concat(null===s||void 0===s?void 0:s.errors[0]),children:[Object(S.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(S.jsx)(j.Jb,{})}),Object(S.jsx)("p",{className:"-mt-1 font-bold",children:"Plan & Materials"})]})})]})})})})},R={target:null,msg:""};!function(e){e.DEFAULT="DEFAULT",e.CENTERS_TRAINERS="CENTERS_TRAINERS",e.TRAINING_CRITERIAL="TRAINING_CRITERIAL",e.TRAINEE="TRAINEE",e.PREVIEW_AGENDA="PREVIEW_AGENDA",e.TRAINING_MATERIALS="TRAINING_MATERIALS"}(n||(n={}));var A=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(s.a)(this,a),(c=t.call(this,e)).deleteTraining=function(e){window.confirm("Are you sure you want to delete this training")&&(c.setState({delete_loading:!0}),Object(u.u)(e,(function(e,t){e?(c.setState({delete_loading:!1,alert:{target:"MAIN-SUCCESS",msg:"Training removed successfully"}}),setTimeout((function(){c.props.deleteUpdate()}),2e3)):c.setState({delete_loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}})})))},c.changeDraftStatus=function(){if(window.confirm("Are you sure you want to change the training status")){if(!c.state.training)return c.setState({alert:{target:"MAIN-ERROR",msg:"No training provided"}});c.setState({loading_change_draft:!0}),Object(u.k)(c.state.training.id,u.Dc.READY_FOR_EVALUATION,(function(e,t){e?c.setState({loading:!1,alert:{target:"MAIN-SUCCESS",msg:"Training status updated"},loading_change_draft:!1,training:c.state.training?Object(i.a)(Object(i.a)({},c.state.training),{},{implementation_status:u.Dc.READY_FOR_EVALUATION}):c.state.training}):c.setState({loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)},loading_change_draft:!1}),c.cleanError()}))}},c.evaluateTraining=function(e){var t;if(c.state.training&&window.confirm("Are you sure  you want to ".concat(e))){if(c.state.evaluation_comment.length<=0)return c.setState({alert:{target:"MAIN-ERROR",msg:"Please provide a comment"}});c.setState({loading_evaluation:!0}),Object(u.Kb)({training_id:null===(t=c.state.training)||void 0===t?void 0:t.id,status:e,evaluation_comment:c.state.evaluation_comment},(function(e,t){c.setState({loading_evaluation:!1,evaluation_comment:""})}))}},c.state={loading:!0,step:2,loading_submit:!1,training:null,alert:R,tab:n.DEFAULT,delete_loading:!1,centers_type:"CENTERS",change_training_status:!1,loading_training_status:!1,status_value:"DRAFT",loading_change_draft:!1,evaluation_mode:!1,evaluation_comment:"",loading_evaluation:!1},c}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(u.rb)(this.props.training_id,(function(t,a,n){t?e.setState({loading:!1,alert:R,training:a}):e.setState({loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(n)},training:a})}))}},{key:"cleanError",value:function(){var e=this;setTimeout((function(){e.setState({alert:R})}),3e3)}},{key:"render",value:function(){var e,t,a,i,s,c,r,l,d,o,b,y,R,A,E,T,I,w,k,D,M,G,U,P,z,F,L,B,q,Y,V,H,J=this;if(this.state.loading)return Object(S.jsx)("div",{className:"py-8 text-center",children:Object(S.jsx)(p.a,{})});var W=this.state.training;return Object(S.jsxs)(S.Fragment,{children:["MAIN-SUCCESS"===this.state.alert.target&&Object(S.jsx)(h.a,{theme:"success",fixed:!0,children:this.state.alert.msg}),"MAIN-ERROR"===this.state.alert.target&&Object(S.jsx)(h.a,{theme:"danger",fixed:!0,children:this.state.alert.msg}),this.state.change_training_status&&Object(S.jsx)(_.c,{backDrop:!0,close:function(){return J.setState({change_training_status:!1})},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Change training",children:Object(S.jsxs)("div",{className:"border-t p-2",children:[Object(S.jsx)("section",{className:"p-2 pt-4",children:Object(S.jsx)(C,{training:W})}),Object(S.jsx)("p",{className:"py-2 text-gray-600 px-2",children:"If you set this draft ready for review, REB will be able so see it and start the evaluation process"}),this.state.training&&this.state.training.implementation_status===u.Dc.DRAFT&&Object(S.jsx)("section",{className:"p-2",children:Object(S.jsx)(x.a,{type:"button",theme:"success",size:"lg",onClick:this.changeDraftStatus,loading:this.state.loading_change_draft,children:"Set draft ready for review"})})]})}),!0===this.state.evaluation_mode&&Object(S.jsxs)(_.c,{backDrop:!0,close:function(){return J.setState({evaluation_mode:!1})},backDropClose:!1,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Evaluate training",children:[Object(S.jsx)("div",{className:"border-t p-3",children:Object(S.jsx)(O.a,{onChange:function(e){return J.setState({evaluation_comment:e.target.value})},value:this.state.evaluation_comment,error:"",label:"",placeholder:"",name:""})}),Object(S.jsxs)("div",{className:"p-2 text-right",children:[Object(S.jsx)(x.a,{type:"button",theme:"danger",onClick:this.evaluateTraining.bind(this,u.Ec.REJECTED),children:"Reject training"})," ",Object(S.jsx)(x.a,{type:"button",theme:"success",onClick:this.evaluateTraining.bind(this,u.Ec.APPROVED),children:"Approve training"})]})]}),Object(S.jsxs)(m.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(S.jsxs)("div",{className:"border-b p-2 flex items-center",children:[Object(S.jsx)("div",{className:"",children:Object(S.jsx)(x.a,{theme:"primary-light",size:"sm",onClick:this.props.close,children:"Back"})}),Object(S.jsx)("div",{className:"pl-2 text-2xl font-bold text-gray-500",children:"Training details"}),this.props.rebPreview&&Object(S.jsxs)("div",{className:"flex-1 text-right",children:[Object(S.jsx)(x.a,{onClick:function(){return J.setState({evaluation_mode:!0})},theme:"success-light",children:"Evaluate training"})," "]}),(!1===this.props.rebPreview||void 0===this.props.rebPreview)&&Object(S.jsxs)("div",{className:"flex-1 text-right",children:[(null===(e=this.state.training)||void 0===e?void 0:e.id)&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(x.a,{onClick:this.props.editTraining.bind(this,null===(t=this.state.training)||void 0===t?void 0:t.id.toString()),theme:"primary-light",children:"Edit training"})," ",Object(u.Fc)(this.state.training).status&&Object(u.Gc)(this.state.training).status&&Object(u.Hc)(this.state.training).status&&this.state.training&&this.state.training.implementation_status===u.Dc.DRAFT&&Object(S.jsx)(x.a,{onClick:function(){J.setState({change_training_status:!0})},theme:"success-light",children:"Set training for review"})]})," ",(null===(a=this.state.training)||void 0===a?void 0:a.id)&&Object(S.jsx)(x.a,{onClick:this.deleteTraining.bind(this,null===(i=this.state.training)||void 0===i?void 0:i.id.toString()),theme:"danger-light",children:"Delete training"})]})]}),Object(S.jsxs)("div",{className:"p-2 lg:flex",children:[Object(S.jsxs)("div",{className:"flex-1 lg:pr-3",children:[Object(S.jsx)("label",{className:"text-xs text-accent-900",children:"Training name:"}),Object(S.jsx)("h1",{className:"text-xl font-bold pb-1",children:null===W||void 0===W?void 0:W.title}),Object(S.jsx)("label",{className:"text-xs text-accent-900 pt-2",children:"Training description:"}),Object(S.jsx)("p",{className:"-mt-1 text-gray-600",children:null===W||void 0===W?void 0:W.description}),Object(S.jsx)("div",{className:"pt-8 ",children:Object(S.jsx)("div",{className:"flex",children:Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(C,{training:W})})})})]}),Object(S.jsxs)("div",{className:"flex-2",children:[Object(S.jsx)("div",{className:"py-2 text-right gap-2"}),Object(S.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{title:"Trainees capacity",number:null===W||void 0===W?void 0:W.total_trainees},{title:"Available Trainees",number:null===W||void 0===W?void 0:W.total_trainees},{title:"Attended trainee",number:null===W||void 0===W?void 0:W.total_trainee_capacity},{title:"Total Trainers",number:null===W||void 0===W?void 0:W.total_trainers},{title:"Total Groups",number:null===W||void 0===W?void 0:W.total_groups},{title:"Total Center",number:null===W||void 0===W?void 0:W.total_centers}].map((function(e,t){return Object(S.jsxs)("div",{className:"py-1 px-2 text-center rounded border",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:e.title}),Object(S.jsx)("h2",{className:"text-xl font-bold",children:e.number})]},t)}))})]})]}),Object(S.jsx)("div",{className:"border-b pt-3",children:Object(S.jsxs)("section",{className:"flex",children:[Object(S.jsx)("button",{onClick:function(){return J.setState({tab:n.DEFAULT})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.DEFAULT?"bg-accent-400 text-accent-900":""),children:"Details"}),Object(S.jsx)("button",{onClick:function(){return J.setState({tab:n.CENTERS_TRAINERS})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.CENTERS_TRAINERS?"bg-accent-400 text-accent-900":""),children:"Centers & Trainers"}),Object(S.jsx)("button",{onClick:function(){return J.setState({tab:n.TRAINING_CRITERIAL})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.TRAINING_CRITERIAL?"bg-accent-400 text-accent-900":""),children:"Training criteria"}),Object(S.jsx)("button",{onClick:function(){return J.setState({tab:n.TRAINEE})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.TRAINEE?"bg-accent-400 text-accent-900":""),children:"Trainee"}),Object(S.jsx)("button",{onClick:function(){return J.setState({tab:n.PREVIEW_AGENDA})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.PREVIEW_AGENDA?"bg-accent-400 text-accent-900":""),children:"Training agenda"}),Object(S.jsx)("button",{onClick:function(){return J.setState({tab:n.TRAINING_MATERIALS})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===n.TRAINING_MATERIALS?"bg-accent-400 text-accent-900":""),children:"Training materials"})]})}),Object(S.jsxs)("div",{className:"pt-2",children:[this.state.tab===n.DEFAULT&&Object(S.jsxs)("div",{className:"flex gap-4 w-full  animate__animated animate__zoomIn animate__faster",children:[Object(S.jsxs)("div",{className:"flex-1 p-3",children:[Object(S.jsxs)("div",{className:"border rounded p-1 px-2",children:[Object(S.jsx)("label",{className:"text-sm text-gray-500",children:"Development partner"}),Object(S.jsx)("h4",{className:"font-bold",children:null===W||void 0===W?void 0:W.development_partner_name})]}),Object(S.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(S.jsx)("label",{className:"text-sm text-gray-500",children:"Sub area"}),Object(S.jsx)("h4",{className:"font-bold",children:null===W||void 0===W?void 0:W.intervention_area})]}),Object(S.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(S.jsx)("label",{className:"text-sm text-gray-500",children:"Sub area"}),Object(S.jsx)("h4",{className:"font-bold",children:null===W||void 0===W?void 0:W.sub_area_name})]}),Object(S.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(S.jsx)("label",{className:"text-sm text-gray-500 ",children:"Evaluation status"}),Object(S.jsx)("h4",{className:"font-bold text-accent-900",children:null===W||void 0===W?void 0:W.evaluation_status})]}),Object(S.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(S.jsx)("label",{className:"text-sm text-gray-500 ",children:"Implementation status"}),Object(S.jsx)("h4",{className:"font-bold text-accent-900",children:null===W||void 0===W?void 0:W.implementation_status})]}),Object(S.jsxs)("div",{className:"border rounded p-1 px-2 mt-4",children:[Object(S.jsx)("label",{className:"text-sm text-gray-500",children:"Training start date"}),Object(S.jsx)("h4",{className:"font-bold",children:Object(N.a)((null===W||void 0===W?void 0:W.start_date)+"")})]}),Object(S.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(S.jsx)("label",{className:"text-sm text-gray-500",children:"Training end date"}),Object(S.jsx)("h4",{className:"font-bold",children:Object(N.a)((null===W||void 0===W?void 0:W.start_date)+"")})]})]}),Object(S.jsxs)("div",{className:"flex-1 p-3",children:[Object(S.jsxs)("div",{className:"p-2 border rounded",children:[Object(S.jsx)("h1",{className:"text-xl font-bold",children:"Trainee category"}),Object(S.jsx)("p",{className:"text-gray-500",children:"Who you are going to train"}),Object(S.jsx)("div",{className:"pt-2",children:null===W||void 0===W||null===(s=W.trainee_category)||void 0===s?void 0:s.map((function(e,t){return Object(S.jsxs)("div",{className:"p-2 mb-1 border border-blue-600 rounded font-bold text-lg bg-blue-50",children:[Object(S.jsxs)("span",{className:"text-gray-400",children:[t+1," - "]})," ",e.name]},t)}))}),(!(null!==W&&void 0!==W&&W.trainee_category)||(null===W||void 0===W?void 0:W.trainee_category.length)<=0)&&Object(S.jsx)("div",{className:"py-8 text-center opacity-25 bg-gray-100 rounded",children:Object(S.jsx)("h2",{className:"font-bold",children:"No trainees category "})})]}),Object(S.jsxs)("div",{className:"p-2 border rounded mt-4",children:[Object(S.jsx)("h1",{className:"text-xl font-bold",children:"Trainers institution"}),Object(S.jsx)("p",{className:"text-gray-500",children:"Who will help you to provide trainings"}),Object(S.jsxs)("div",{className:"pt-2",children:[null===W||void 0===W||null===(c=W.trainer_institution)||void 0===c?void 0:c.map((function(e,t){return Object(S.jsxs)("div",{className:"p-2 mb-1 border border-blue-600 rounded font-bold text-lg bg-blue-50",children:[Object(S.jsxs)("span",{className:"text-gray-400",children:[t+1," - "]})," ",e.name]},t)})),(!(null!==W&&void 0!==W&&W.trainer_institution)||(null===W||void 0===W?void 0:W.trainer_institution.length)<=0)&&Object(S.jsx)("div",{className:"py-8 text-center opacity-25 bg-gray-100 rounded",children:Object(S.jsxs)("h2",{className:"font-bold",children:["No trainer institutions"," "]})})]})]})]})]}),this.state.tab===n.CENTERS_TRAINERS&&Object(S.jsxs)("div",{className:" animate__animated animate__zoomIn animate__faster",children:[Object(S.jsxs)("div",{className:"p-3 bg-gray-100 items-center rounded-t-md mt-2 flex",children:[Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)(g.a,{size:"lg",children:"Centers & Trainers"})}),Object(S.jsxs)("section",{className:"p-1 flex gap-2 bg-blue-300 rounded",children:[Object(S.jsx)(x.a,{theme:"CENTERS"===this.state.centers_type?"primary":"primary-light",onClick:function(){return J.setState({centers_type:"CENTERS"})},children:"Centers"}),Object(S.jsx)(x.a,{theme:"TRAINERS"===this.state.centers_type?"primary":"primary-light",onClick:function(){return J.setState({centers_type:"TRAINERS"})},children:"Trainers"})]})]}),"CENTERS"===this.state.centers_type&&Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("table",{className:"w-full table-border",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-left",children:[Object(S.jsx)("th",{className:"p-2 border",children:"#"}),Object(S.jsx)("th",{className:"p-2 border",children:"Center name"}),Object(S.jsx)("th",{className:"p-2 border",children:"District"}),Object(S.jsx)("th",{className:"p-2 border",children:"Center type"}),Object(S.jsx)("th",{className:"p-2 border",children:"Group"}),Object(S.jsx)("th",{className:"p-2 border",children:"Total trainees"})]})}),Object(S.jsxs)("tbody",{children:[(!(null!==(r=this.state.training)&&void 0!==r&&r.groups)||(null===(l=this.state.training)||void 0===l||null===(d=l.groups)||void 0===d?void 0:d.length)<=0)&&Object(S.jsx)("tr",{children:Object(S.jsxs)("td",{className:"py-8 text-center",colSpan:12,children:[Object(S.jsx)("h1",{className:"text-2xl",children:"No trainings found"}),Object(S.jsx)("p",{children:"No trainings center assigned to this"})]})}),(null===(o=this.state.training)||void 0===o?void 0:o.groups)&&(null===(b=this.state.training)||void 0===b?void 0:b.groups.map((function(e,t){return Object(S.jsxs)("tr",{className:"hover:bg-accent-400",children:[Object(S.jsx)("td",{className:"p-2 border",children:t+1}),Object(S.jsx)("td",{className:"p-2 border font-bold",children:e.center_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.district_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.center_type_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.group_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.number_of_trainees})]},t)})))]})]})}),"TRAINERS"===this.state.centers_type&&Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("table",{className:"w-full table-border",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-left",children:[Object(S.jsx)("th",{className:"p-2 border",children:"#"}),Object(S.jsx)("th",{className:"p-2 border",children:"NID"}),Object(S.jsx)("th",{className:"p-2 border",children:"Names"}),Object(S.jsx)("th",{className:"p-2 border",children:"Phone"}),Object(S.jsx)("th",{className:"p-2 border",children:"Email"})]})}),Object(S.jsx)("tbody",{children:Object(S.jsx)("tr",{children:Object(S.jsxs)("td",{className:"py-9 text-center ",colSpan:10,children:[Object(S.jsx)("h2",{className:"text-4xl ",children:"No trainers found"}),Object(S.jsx)("h2",{className:"text-gray-500",children:"No trainers found on this training"})]})})})]})})]}),this.state.tab===n.TRAINING_CRITERIAL&&Object(S.jsxs)("div",{className:"p-4 rounded bg-gray-100 animate__animated animate__zoomIn animate__faster",children:[(null===(y=this.state.training)||void 0===y?void 0:y.trainee_criteria)&&Object(S.jsx)("div",{className:"text-center py-5",children:Object(S.jsxs)("div",{className:"text-center py-8 opacity-60",children:[Object(S.jsx)("h1",{className:"text-8xl inline-block",children:Object(S.jsx)(j.Bb,{})}),Object(S.jsx)("h2",{className:"font-bold text-xl",children:"This training has no criterial"})]})}),(null===(R=this.state.training)||void 0===R?void 0:R.trainee_criteria)&&Object(S.jsxs)("div",{className:"grid sm:grid-cols-1 lg:grid-cols-2 gap-4",children:[(null===(A=this.state.training)||void 0===A?void 0:A.trainee_criteria.positions.length)>=1&&Object(S.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(S.jsx)("h1",{className:"text-xl font-bold pb-1",children:"Positions"}),Object(S.jsxs)("table",{className:"border w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-left",children:[Object(S.jsx)("th",{className:"border p-2",children:"#"}),Object(S.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(S.jsxs)("tbody",{children:[(null===(E=this.state.training)||void 0===E?void 0:E.trainee_criteria.positions.length)<=0&&Object(S.jsx)("tr",{className:"",children:Object(S.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(S.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(T=this.state.training)||void 0===T?void 0:T.trainee_criteria.positions.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"p-2 border",children:e.id}),Object(S.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(I=this.state.training)||void 0===I?void 0:I.trainee_criteria.levels.length)>=1&&Object(S.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(S.jsx)("h1",{className:"text-xl font-bold",children:"Levels"}),Object(S.jsxs)("table",{className:"border w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-left",children:[Object(S.jsx)("th",{className:"border p-2",children:"#"}),Object(S.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(S.jsxs)("tbody",{children:[(null===(w=this.state.training)||void 0===w?void 0:w.trainee_criteria.levels.length)<=0&&Object(S.jsx)("tr",{className:"",children:Object(S.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(S.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(k=this.state.training)||void 0===k?void 0:k.trainee_criteria.levels.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"p-2 border",children:e.id}),Object(S.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(D=this.state.training)||void 0===D?void 0:D.trainee_criteria.qualifications.length)>=1&&Object(S.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(S.jsx)("h1",{className:"text-xl font-bold",children:"Qualifications"}),Object(S.jsxs)("table",{className:"border w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-left",children:[Object(S.jsx)("th",{className:"border p-2",children:"#"}),Object(S.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(S.jsxs)("tbody",{children:[(null===(M=this.state.training)||void 0===M?void 0:M.trainee_criteria.qualifications.length)<=0&&Object(S.jsx)("tr",{className:"",children:Object(S.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(S.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(G=this.state.training)||void 0===G?void 0:G.trainee_criteria.qualifications.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"p-2 border",children:e.id}),Object(S.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(U=this.state.training)||void 0===U?void 0:U.trainee_criteria.districts.length)>=1&&Object(S.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(S.jsx)("h1",{className:"text-xl font-bold",children:"Districts"}),Object(S.jsxs)("table",{className:"border w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-left",children:[Object(S.jsx)("th",{className:"border p-2",children:"#"}),Object(S.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(S.jsxs)("tbody",{children:[(null===(P=this.state.training)||void 0===P?void 0:P.trainee_criteria.districts.length)<=0&&Object(S.jsx)("tr",{className:"",children:Object(S.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(S.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(z=this.state.training)||void 0===z?void 0:z.trainee_criteria.districts.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"p-2 border",children:e.id}),Object(S.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(F=this.state.training)||void 0===F?void 0:F.trainee_criteria.sectors.length)>=1&&Object(S.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(S.jsx)("h1",{className:"text-xl font-bold",children:"Sector"}),Object(S.jsxs)("table",{className:"border w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-left",children:[Object(S.jsx)("th",{className:"border p-2",children:"#"}),Object(S.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(S.jsxs)("tbody",{children:[(null===(L=this.state.training)||void 0===L?void 0:L.trainee_criteria.sectors.length)<=0&&Object(S.jsx)("tr",{className:"",children:Object(S.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(S.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(B=this.state.training)||void 0===B?void 0:B.trainee_criteria.sectors.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"p-2 border",children:e.id}),Object(S.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(q=this.state.training)||void 0===q?void 0:q.trainee_criteria.subjects.length)>=1&&Object(S.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(S.jsx)("h1",{className:"text-xl font-bold",children:"Subjects"}),Object(S.jsxs)("table",{className:"border w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-left",children:[Object(S.jsx)("th",{className:"border p-2",children:"Code"}),Object(S.jsx)("th",{className:"border p-2",children:"Name"}),Object(S.jsx)("th",{className:"border p-2",children:"Level"})]})}),Object(S.jsxs)("tbody",{children:[(null===(Y=this.state.training)||void 0===Y?void 0:Y.trainee_criteria.subjects.length)<=0&&Object(S.jsx)("tr",{className:"",children:Object(S.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(S.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(V=this.state.training)||void 0===V?void 0:V.trainee_criteria.subjects.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"p-2 border",children:e.course_code}),Object(S.jsx)("td",{className:"p-2 border",children:e.course_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.level_name})]},e.course_code)}))]})]})]})]})]}),this.state.tab===n.TRAINEE&&Object(S.jsxs)("div",{className:" animate__animated animate__zoomIn animate__faster",children:[" ","TRAINEE"]}),this.state.tab===n.PREVIEW_AGENDA&&Object(S.jsx)("div",{className:" animate__animated animate__zoomIn animate__faster",children:W&&W.agenda_file_name?Object(S.jsx)(v.a,{file_url:"".concat(f.a).concat(null===W||void 0===W?void 0:W.agenda_file_name),class_name:"w-full h-100vh",frame_title:"",setLoadingFile:function(){}}):Object(S.jsxs)("div",{className:"text-center py-8",children:[Object(S.jsx)("h1",{className:"text-8xl inline-block",children:Object(S.jsx)(j.H,{})}),Object(S.jsx)("h2",{children:"No training agenda found"})]})}),this.state.tab===n.TRAINING_MATERIALS&&Object(S.jsx)("div",{className:" animate__animated animate__zoomIn animate__faster",children:W&&null!==W&&void 0!==W&&W.material_links&&(null===W||void 0===W||null===(H=W.material_links)||void 0===H?void 0:H.length)>=1?Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"px-3 py-1 flex bg-gray-100 rounded items-center ",children:[Object(S.jsx)("h2",{className:"text-6xl text-blue-600 font-bold",children:Object(S.jsx)(j.L,{})}),Object(S.jsx)("h2",{className:"text-2xl font-bold",children:"Training materials"})]}),Object(S.jsx)("div",{className:"p-3",children:W&&W.material_links&&W.material_links.map((function(e,t){return Object(S.jsxs)("section",{className:"p-2 border mb-2 rounded items-center border-blue-600 bg-blue-50 bg-opacity-40 hover:bg-blue-50 flex",children:[Object(S.jsx)("section",{className:"text-4xl pr-1 text-blue-600",children:Object(S.jsx)(j.gb,{className:"block"})}),Object(S.jsxs)("section",{className:"flex-1",children:[Object(S.jsx)("h2",{className:"font-bold hover:text-blue-500 hover:underline",children:e.title}),Object(S.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),Object(S.jsx)("section",{})]},t)}))})]}):Object(S.jsxs)("div",{className:"text-center py-8",children:[Object(S.jsx)("h1",{className:"text-8xl inline-block opacity-50",children:Object(S.jsx)(j.L,{})}),Object(S.jsx)("h2",{className:"text-2xl font-bold opacity-50",children:"No resources found"})]})})]})]})]})}}]),a}(o.a.Component),E=Object(b.b)((function(e){return{auth:e.auth}}),{})(A)},548:function(e,t,a){"use strict";var n,i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}var c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var r=function(e){return"string"===typeof e&&c.test(e)},l=[],d=0;d<256;++d)l.push((d+256).toString(16).substr(1));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!r(a))throw TypeError("Stringified UUID is invalid");return a};t.a=function(e,t,a){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){a=a||0;for(var i=0;i<16;++i)t[a+i]=n[i];return t}return o(n)}}}]);
//# sourceMappingURL=6.2eb3f708.chunk.js.map