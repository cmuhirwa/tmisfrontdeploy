(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[17],{351:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return h}));var a=n(3),i=n(6),s=n(7),r=n.n(s),c=n(13),l=n(12),d=n(10),o=n(11),j=function(e,t){return t(!0,null,""),function(){var n=Object(i.a)(Object(a.a)().mark((function n(i){var s,j;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i({type:c.a.GET_ALL_TRANSFER,payload:[]}),Object(d.a)(),n.next=5,r.a.get("".concat(l.e,"/teachertransfers/requesteddde/").concat(e));case 5:s=n.sent,j=s.data.filter((function(e){return"APPROVED"===e.requested_status})),i({type:c.a.GET_ALL_TRANSFER,payload:j}),t(!1,j,""),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),t(!1,null,Object(o.a)(n.t0));case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},b=function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!1,[{district_code:"11",district_name:"Nyarugenge"},{district_code:"12",district_name:"Gasabo"},{district_code:"13",district_name:"Kicukiro"},{district_code:"21",district_name:"Nyanza"},{district_code:"22",district_name:"Gisagara"},{district_code:"23",district_name:"Nyaruguru"},{district_code:"24",district_name:"Huye"},{district_code:"25",district_name:"Nyamagabe"},{district_code:"26",district_name:"Ruhango"},{district_code:"27",district_name:"Muhanga"},{district_code:"28",district_name:"Kamonyi"},{district_code:"31",district_name:"Karongi"},{district_code:"32",district_name:"Rutsiro"},{district_code:"33",district_name:"Rubavu"},{district_code:"34",district_name:"Nyabihu"},{district_code:"35",district_name:"Ngororero"},{district_code:"36",district_name:"Rusizi"},{district_code:"37",district_name:"Nyamasheke"},{district_code:"41",district_name:"Rulindo"},{district_code:"42",district_name:"Gakenke"},{district_code:"43",district_name:"Musanze"},{district_code:"44",district_name:"Burera"},{district_code:"45",district_name:"Gicumbi"},{district_code:"51",district_name:"Rwamagana"},{district_code:"52",district_name:"Nyagatare"},{district_code:"53",district_name:"Gatsibo"},{district_code:"54",district_name:"Kayonza"},{district_code:"55",district_name:"Kirehe"},{district_code:"56",district_name:"Ngoma"},{district_code:"57",district_name:"Bugesera"}],"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(i.a)(Object(a.a)().mark((function e(t,n){var i,s,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,i=0,null,""),e.prev=2,Object(d.a)(),(s=new FormData).append("teacher_supporting_document",t),e.next=8,r.a.post("".concat(l.e,"/teachertransfers/uploadSupportingDocument"),s,{onUploadProgress:function(e){i=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,n(!0,i,null,"")}});case 8:c=e.sent,console.log("Uploaded document: ",c.data),n(!1,i,c.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),n(!1,i,"",Object(o.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e,t,n){n(!0,"");return function(){var s=Object(i.a)(Object(a.a)().mark((function i(s){var j,b;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(!0,""),console.log("==================doc_title=================="),console.log({doc_title:""}),console.log("==================doc_title=================="),n(!0,""),(j=new FormData).append("teacher_transfer_id",e),j.append("mayor_letter",t),console.log("==================*********************=================="),console.log({doc_title:""}),console.log("==================*********************=================="),a.prev=11,Object(d.a)(),a.next=15,r.a.post("".concat(l.e,"/teachertransfers/outgoing"),j);case 15:b=a.sent,console.log("Uploaded document: ",b.data),s({type:c.a.UPLOAD_SIGNED_DOCUMENT,payload:{teacher_transfer_id:e,mayor_letter:b.data.mayor_letter}}),n(!1,""),a.next=25;break;case 21:a.prev=21,a.t0=a.catch(11),console.error(a.t0),n(!1,Object(o.a)(a.t0));case 25:case"end":return a.stop()}}),i,null,[[11,21]])})));return function(e){return s.apply(this,arguments)}}()}},394:function(e,t,n){"use strict";var a=n(28),i=n(4),s=n(50),r=n(1);t.a=function(e){var t=Object(i.useState)(!0),n=Object(a.a)(t,2),c=n[0],l=n[1],d=Object(i.useState)(null),o=Object(a.a)(d,2),j=o[0],b=o[1];return Object(i.useEffect)((function(){var t;c&&(null===(t=e.file_url)||null!==t.match(/^ *$/)?b({element:"PDF_FILE",msg:"File url is required"}):null!==j&&b(null),l(!1))}),[j,c,e.file_url]),Object(r.jsx)("div",{className:"w-full",children:j?Object(r.jsx)(s.a,{theme:"danger",children:j.msg}):Object(r.jsx)("object",{data:e.file_url,type:"application/pdf",className:e.class_name,onLoad:function(){return e.setLoadingFile(!1)},children:Object(r.jsx)("iframe",{src:"https://docs.google.com/viewer?url=".concat(e.file_url,"&embedded=true"),className:e.class_name,title:e.frame_title,onLoad:function(){return e.setLoadingFile(!1)},children:Object(r.jsx)("p",{className:"text-2xl opacity-50",children:"This browser does not support PDF!"})})})})}},545:function(e,t,n){"use strict";var a,i=new Uint8Array(16);function s(){if(!a&&!(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(i)}var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"===typeof e&&r.test(e)},l=[],d=0;d<256;++d)l.push((d+256).toString(16).substr(1));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};t.a=function(e,t,n){var a=(e=e||{}).random||(e.rng||s)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=a[i];return t}return o(a)}},585:function(e,t,n){"use strict";n.r(t),n.d(t,"TrainingsList",(function(){return Ee}));var a,i=n(40),s=n(19),r=n(20),c=n(21),l=n(22),d=n(4),o=n.n(d),j=n(41),b=n(36),u=n(13),h=n(50),x=n(23),m=n(53),g=n(89),O=n(25),p=n(9),_=n(28),v=n(133),f=n(16),N=n(69),y=n(1),S=function(e){var t=e.onChange,n=e.value,a=e.placeholder,i=e.disabled,s=void 0!==i&&i,r=e.name,c=e.Input_className,l=void 0===c?"":c,d=e.InputContainer_className,o=void 0===d?"":d,j=e.MainContainer_className,b=void 0===j?"":j,u=e.size,h=void 0===u?"md":u,x=e.max;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"w-full my-2 ".concat(b),children:Object(y.jsx)("div",{className:"rounded relative ".concat(o," "),children:Object(y.jsxs)("div",{className:"flex p-1 px-2 rounded-lg items-center border bg-gray-100",children:[Object(y.jsx)("label",{htmlFor:r,className:"text-3xl text-gray-700",children:Object(y.jsx)(f.zb,{})}),Object(y.jsx)("input",{type:"search",name:r,id:r,placeholder:a,onChange:t,className:" outline-none bg-transparent flex-1\n                w-full text-lg \n                ".concat(Object(N.a)(h),"\n                px-3 ").concat(l),value:n,disabled:s,maxLength:x})]})})})})},C=n(47),R=n(24),E=n(17),T=n(137),A=void 0,I={target:null,msg:""},k=function(e){var t=e.close,n=e.training_id,a=e.successHandler,s=(e.centers,e.selectedCenter),r=Object(d.useState)(!1),c=Object(_.a)(r,2),l=c[0],o=c[1],j=Object(d.useState)([]),b=Object(_.a)(j,2),m=b[0],g=b[1],f=Object(d.useState)([]),N=Object(_.a)(f,2),k=N[0],w=N[1],D=Object(d.useState)(!0),M=Object(_.a)(D,2),U=M[0],G=M[1],z=Object(d.useState)(I),P=Object(_.a)(z,2),L=P[0],F=P[1],q=Object(d.useState)(""),Y=Object(_.a)(q,2),B=Y[0],H=Y[1],V=Object(d.useState)(""),W=Object(_.a)(V,2),K=W[0],Q=W[1],J=Object(d.useState)(""),$=Object(_.a)(J,2),X=$[0],Z=$[1],ee=Object(d.useState)(!1),te=Object(_.a)(ee,2),ne=te[0],ae=te[1],ie=Object(d.useState)(null),se=Object(_.a)(ie,2),re=se[0],ce=se[1],le=Object(d.useState)(!1),de=Object(_.a)(le,2),oe=de[0],je=de[1],be=Object(d.useState)(null),ue=Object(_.a)(be,2),he=ue[0],xe=ue[1],me=Object(d.useState)(""),ge=Object(_.a)(me,2),Oe=ge[0],pe=ge[1],_e=Object(d.useState)(10),ve=Object(_.a)(_e,2),fe=ve[0],Ne=ve[1];Object(d.useEffect)((function(){Object(u.I)((function(e,t,n){e||F({target:"MAIN-ERROR",msg:"Error: ".concat(n)}),G(!1),w(t)})),void 0!==s&&null!==s&&(H(s.district_id+""),ce({center_id:s.center_id+"",center_type_id:s.center_type_id+"",center_type_name:s.center_name+"",district_id:s.district_id+"",district_name:s.district_name+"",id:s.center_id+"",name:s.center_name+"",status:"ACTIVE"}),he||ye())}),[s,he]);var ye=function(){je(!0),Object(T.k)((function(e,t,n){e&&t?xe(t):F({target:"MAIN-ERROR",msg:"Error: ".concat(n)}),je(!1)}))},Se=m||[];return""!==K.toString()&&(Se=Se.filter((function(e){return e.center_type_id.toString()===K.toString()}))),Se=Object(E.n)(Se||[],X,{name:!0,center_type_name:!0,district_name:!0}),Object(y.jsx)("div",{children:Object(y.jsxs)(R.c,{backDrop:!0,close:t,backDropClose:!1,displayClose:!0,title:"Add center the training",padding:{title:!0,body:void 0,footer:void 0},children:[Object(y.jsxs)("div",{className:"border-t p-2 px-3",children:["MAIN-SUCCESS"===L.target&&Object(y.jsx)(h.a,{theme:"success",children:L.msg}),"MAIN-ERROR"===L.target&&Object(y.jsx)(h.a,{theme:"danger",children:L.msg}),null===re&&Object(y.jsxs)("div",{className:"lg:flex gap-3 border-b",children:[Object(y.jsx)("div",{className:"flex-1",children:Object(y.jsx)(v.a,{onChange:function(e){var t;H(e.target.value),t=e.target.value,o(!0),he||ye(),g([]),Object(T.l)(t,(function(e,t,n){o(!1),e||F({msg:"Error: ".concat(n),target:"MAIN-ERROR"}),g(t)}))},value:B,error:"",label:"Select a district",placeholder:"select district",name:"",data:[{title:"",value:""}].concat(Object(i.a)(k.map((function(e){return{title:e.district_name,value:e.district_code}})))),disabled:U||l})}),Object(y.jsx)("div",{className:"flex-1",children:m&&(null===he||void 0===he?void 0:he.center_types)&&Object(y.jsx)(v.a,{onChange:function(e){Q(e.target.value)},value:K,error:"",label:"Select a center type",placeholder:"select center type",name:"",data:[{title:"All",value:""}].concat(Object(i.a)(null===he||void 0===he?void 0:he.center_types.map((function(e){return{title:e.name||"",value:e.id||""}})))),disabled:U||l})})]}),U&&Object(y.jsx)("div",{className:"py-2 text-center mx-auto text-gray-600 animate__animated animate__fadeIn animate__infinite",children:"Loading assets ..."}),Object(y.jsx)("div",{className:"mx-auto",children:oe&&Object(y.jsx)("div",{className:"py-2 text-center",children:Object(y.jsx)(O.a,{})})}),B&&Object(y.jsx)(y.Fragment,{children:null===re&&Object(y.jsxs)("div",{className:"p-1 rounded bg-white border animate__animated animate__zoomIn animate__faster",children:[Object(y.jsxs)("div",{className:"flex items-center border-b px-2",children:[Object(y.jsx)("h4",{className:"text-xl flex-1 font-bold ",children:"Training centers"}),Object(y.jsx)("div",{className:"flex-1",children:Object(y.jsx)(S,{onChange:function(e){return Z(e.target.value)},value:X,placeholder:"Search for a center",name:"",size:"sm"})})]}),Object(y.jsx)("div",{className:"h-96 border p-1 rounded",children:Object(y.jsxs)("table",{className:"w-full",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"border p-1",children:"#"}),Object(y.jsx)("th",{className:"border p-1",children:"Center"}),Object(y.jsx)("th",{className:"border p-1",children:"Center type"}),Object(y.jsx)("th",{className:"border p-1",children:"District"}),Object(y.jsx)("th",{className:"border p-1 w-4"})]})}),Object(y.jsx)("tbody",{children:l?Object(y.jsx)("tr",{children:Object(y.jsx)("td",{className:"py-4 text-center",colSpan:12,children:Object(y.jsx)("div",{className:"mx-auto text-center",children:Object(y.jsx)(O.a,{})})})}):m.length<=0?Object(y.jsx)("tr",{children:Object(y.jsx)("td",{className:"py-6 text-center text-2xl text-gray-400",colSpan:12,children:Object(y.jsx)("div",{className:"mx-auto",children:"No centers found!"})})}):Se.length<=0?Object(y.jsx)("tr",{children:Object(y.jsx)("td",{className:"py-6 text-center text-2xl text-gray-400",colSpan:12,children:Object(y.jsx)("div",{className:"mx-auto",children:"No results for your search found!"})})}):Se.map((function(e,t){return Object(y.jsxs)("tr",{className:"hover:bg-accent-400",children:[Object(y.jsx)("td",{className:"border p-1 text-center",children:t+1}),Object(y.jsx)("td",{className:"border p-1 font-bold pl-2",children:e.center_name}),Object(y.jsx)("td",{className:"border p-1",children:e.center_type_name}),Object(y.jsx)("td",{className:"border p-1",children:e.district_name}),Object(y.jsx)("td",{className:"border p-1",children:Object(y.jsx)(x.a,{size:"sm",theme:"accent-light",onClick:ce.bind(A,e),children:"Select"})})]},t)}))})]})})]})}),null!==re&&Object(y.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster",children:[Object(y.jsx)("div",{className:"p-1 flex w-full border",children:Object(y.jsxs)("div",{className:"flex-1 ",children:[Object(y.jsxs)("div",{className:"flex items-center pr-2 pb-1 mb-1 border-b",children:[Object(y.jsxs)("section",{className:" p-2 flex-1",children:[Object(y.jsx)("label",{className:"text-sm text-gray-700",children:"Center name:"}),Object(y.jsx)("h2",{className:"font-bold",children:re.name})]}),Object(y.jsx)("section",{children:Object(y.jsx)(x.a,{theme:"danger-light",onClick:ce.bind(A,null),children:"Change center"})})]}),Object(y.jsxs)("div",{className:"flex",children:[Object(y.jsxs)("section",{className:" p-2 flex-1",children:[Object(y.jsx)("label",{className:"text-sm text-gray-700",children:"Center type:"}),Object(y.jsx)("h2",{className:"font-bold",children:re.center_type_name})]}),Object(y.jsxs)("section",{className:" p-2 flex-1",children:[Object(y.jsx)("label",{className:"text-sm text-gray-700",children:"District:"}),Object(y.jsx)("h2",{className:"font-bold",children:re.district_name})]})]})]})}),Object(y.jsxs)("div",{className:"flex gap-4",children:[Object(y.jsx)("div",{className:"flex-1",children:Object(y.jsx)(v.a,{onChange:function(e){return pe(e.target.value)},value:Oe,error:"ROOM-TYPE"===L.target?L.msg:"",label:"Select training center",placeholder:"Select the training group",name:"",data:[{title:"",value:""}].concat(Object(i.a)((null===he||void 0===he?void 0:he.center_types.map((function(e){var t,n;return{title:null===(t=e.name)||void 0===t?void 0:t.toString(),value:(null===(n=e.id)||void 0===n?void 0:n.toString())||""}})))||[])),disabled:ne})}),Object(y.jsx)("div",{className:"flex-1",children:Object(y.jsx)(C.a,{onChange:function(e){return Ne(+e.target.value)},value:fe,error:"CAPACITY"===L.target?L.msg:"",label:"Capacity",placeholder:"Room capacity",name:"",disabled:ne})})]}),Object(y.jsx)("div",{className:"pt-3 text-right",children:Object(y.jsx)(x.a,{loading:ne,onClick:function(){try{if(F(I),null===re)return F({target:"MAIN-ERROR",msg:"No selected center"});if(""===Oe)return F({target:"ROOM-TYPE",msg:"Please select a group type"});if(fe<=0)return F({target:"CAPACITY",msg:"Please provide a number"});ae(!0),Object(T.a)({training_id:n,center_id:re.id.toString(),group_id:Oe.toString(),number_of_trainees:fe.toString(),name:""},(function(e,i,s){var r,c;!0===e&&i?(ae(!1),F({target:"MAIN-SUCCESS",msg:"a Group has been added to this training"}),Z(""),a({id:i,number_of_trainees:fe,training_id:n,center_id:(null===re||void 0===re||null===(r=re.center_id)||void 0===r?void 0:r.toString())||(null===re||void 0===re||null===(c=re.id)||void 0===c?void 0:c.toString()),center_name:(null===re||void 0===re?void 0:re.center_name)||(null===re||void 0===re?void 0:re.name),center_type_id:+(null===re||void 0===re?void 0:re.id),center_type_name:(null===re||void 0===re?void 0:re.center_type_name)||"",district_id:+(null===re||void 0===re?void 0:re.district_id),district_name:null===re||void 0===re?void 0:re.district_name,group_id:i,group_name:"",status:"ACTIVE"}),ce(null),setTimeout((function(){F(I),t()}),2e3)):(ae(!1),F({target:"MAIN-ERROR",msg:"Error: ".concat(s)}))}))}catch(L){console.log("THis is the error"),console.log(Object(p.a)({},L))}},size:"lg",children:"Add center to the training"})})]})]}),null===re&&Object(y.jsxs)("div",{className:"py-3 border-t",children:[Object(y.jsx)("h4",{className:"text-xl text-center font-bold",children:"Can't find it?"}),Object(y.jsxs)("p",{className:"text-center text-sm text-gray-500 pb-2",children:["If you can't find the item you are looking for ",Object(y.jsx)("br",{}),"Contact REB, they will add it here"]})]})]})})},w=function(e){var t=e.close,n=e.title,a=e.existing_data,s=e.path_url,r=e.submit,c=e.submit_loading,l=e.success_msg,o=e.error_msg,j=Object(d.useState)(!0),b=Object(_.a)(j,2),u=b[0],m=b[1],g=Object(d.useState)(""),p=Object(_.a)(g,2),v=p[0],N=p[1],S=Object(d.useState)([]),C=Object(_.a)(S,2),E=C[0],A=C[1],I=Object(d.useState)([]),k=Object(_.a)(I,2),w=k[0],D=k[1];Object(d.useEffect)((function(){u&&Object(T.o)(s,(function(e,t,n){m(!1),e||N("Error: ".concat(n)),A(t)}))}),[E,s,u]);return Object(y.jsx)("div",{children:Object(y.jsxs)(R.c,{backDrop:!0,close:t,backDropClose:!1,displayClose:!0,title:n,padding:{title:!0,body:void 0,footer:void 0},children:[Object(y.jsxs)("div",{className:"border-t p-2 px-3",children:[""!==l&&Object(y.jsx)(h.a,{theme:"success",children:l}),""!==o&&Object(y.jsx)(h.a,{theme:"danger",children:o}),Object(y.jsx)("p",{className:"text-center text-gray-500 pb-2",children:"Choose one or more items"}),""!==v&&Object(y.jsx)(h.a,{theme:"danger",children:v}),!0===u&&Object(y.jsx)("div",{className:"py-8 text-center",children:Object(y.jsx)(O.a,{})}),E.map((function(e,t){var n=a.find((function(t){var n,a;return(null===(n=t.id)||void 0===n?void 0:n.toString())===(null===(a=e.id)||void 0===a?void 0:a.toString())})),s=w.find((function(t){var n,a;return(null===(n=t.id)||void 0===n?void 0:n.toString())===(null===(a=e.id)||void 0===a?void 0:a.toString())}));return Object(y.jsxs)("div",{className:"".concat(s?"bg-blue-50":"bg-white","  border rounded p-2 mb-2 flex items-center cursor-pointer ").concat(n?"opacity-60":""),onClick:function(){n||function(e){if(c)return null;var t=w.find((function(t){var n,a;return(null===(n=t.id)||void 0===n?void 0:n.toString())===(null===(a=e.id)||void 0===a?void 0:a.toString())}));D(t?w.filter((function(t){var n,a;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==(null===(a=e.id)||void 0===a?void 0:a.toString())})):[].concat(Object(i.a)(w),[e]))}(e)},children:[Object(y.jsx)("div",{className:"text-3xl pr-2",children:n?Object(y.jsx)("b",{className:"text-green-300",children:Object(y.jsx)(f.n,{})}):s?Object(y.jsx)("span",{className:"text-blue-600",children:Object(y.jsx)(f.l,{})}):Object(y.jsx)("b",{className:"text-gray-700",children:Object(y.jsx)(f.m,{})})}),Object(y.jsxs)("div",{className:"flex-1",children:[Object(y.jsx)("h4",{className:"font-bold",children:e.name}),(null===e||void 0===e?void 0:e.description)&&Object(y.jsx)("p",{className:"text -mt-1",children:null===e||void 0===e?void 0:e.description})]}),Object(y.jsx)("div",{children:n&&Object(y.jsx)("span",{className:"text-xs px-1 py-0.5 bg-green-200 font-bold text-green-800 rounded-full",children:"Selected"})})]},t)})),E.length<=0&&!1===u&&Object(y.jsx)("div",{children:Object(y.jsx)(h.a,{theme:"info",children:"No results found!"})}),w.length>=1&&""===l&&""===o&&Object(y.jsx)("div",{className:"text-right pt-3",children:Object(y.jsxs)(x.a,{onClick:r.bind(undefined,w),theme:"success",size:"lg",loading:c,children:["Add ",w.length," items the list"]})})]}),E.length>=1&&Object(y.jsxs)("div",{className:"py-3 border-t",children:[Object(y.jsx)("h4",{className:"text-xl text-center font-bold",children:"Can't find it?"}),Object(y.jsxs)("p",{className:"text-center text-sm text-gray-500 pb-2",children:["If you can't find the item you are looking for ",Object(y.jsx)("br",{}),"Contact REB, they will add it here"]})]})]})})},D=function(e){var t=e.number,n=e.title,a=e.description,i=e.theme,s=e.active,r=e.priority,c=e.onClick;return Object(y.jsxs)("div",{onClick:c,className:"p-1 lg:p-1  lg:border-t-transparent lg:rounded-t-md cursor-pointer lg:border-b-4 flex text-center lg:text-left flex-row items-center lg:border-".concat(i,"-500 ").concat(!0===s?"bg-".concat(i,"-100"):""," ").concat(!1===r?"opacity-60":""),children:[Object(y.jsx)("section",{className:"p-1 lg:p-1 rounded-full border-4 ".concat("bg-".concat(i,"-500")," 0 ").concat("border-".concat(i,"yellow"===i?"-600":"-200"),"  ").concat("yellow"===i?"text-black":"text-white"," sm:px-2 lg:w-12 lg:h-12 flex items-center text-center"),children:Object(y.jsx)("h3",{className:"text-center w-full lg:text-2xl font-bold ",children:t})}),Object(y.jsxs)("section",{className:"pl-2 text-left",children:[Object(y.jsx)("h3",{className:"lg:text-lg font-bold",children:n}),Object(y.jsx)("p",{className:"text-gray-400 -mt-1 text-sm",children:a})]})]})},M=n(135),U=n(67),G=function(e){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"h-20"}),Object(y.jsxs)("div",{className:"fixed bottom-0 right-0 flex left-0 bg-white shadow-lg border-t-2 px-3 items-center",children:[Object(y.jsx)("div",{className:"main-side-spacer"}),Object(y.jsx)("div",{className:"flex-1 p-2",children:Object(y.jsx)("div",{className:"",children:e.children})})]})]})},z=void 0,P=function(e){var t=e.Icon,n=e.title,a=e.description,i=e.onCreate,s=e.create_btn_label,r=e.onUpdate,c=e.onDelete,l=e.data,d=e.createLading,o=e.deleteLoading,j=e.updateLading,b=e.error;return Object(y.jsxs)("div",{className:"rounded bg-gray-200  flex-1 ".concat(""!==b?"border-2 border-red-500":"border"),children:[Object(y.jsxs)("div",{className:"flex items-center p-2 border-b bg-gray-50",children:[Object(y.jsx)("div",{className:"text-5xl pr-2 text-blue-900 text-opacity-80",children:Object(y.jsx)(t,{})}),Object(y.jsxs)("div",{className:"flex-1",children:[Object(y.jsx)("h1",{className:"text-lg font-bold",children:n}),Object(y.jsx)("p",{className:"text-gray-500 -mt-1 text-sm",children:a})]}),Object(y.jsx)("div",{className:"",children:s&&i&&Object(y.jsx)(x.a,{type:"button",theme:"primary-light",onClick:i,loading:d,children:s})})]}),Object(y.jsxs)("div",{className:"p-2 bg-gray-200",children:[0===l.length&&Object(y.jsxs)("div",{className:"py-4 text-center",children:[Object(y.jsx)("h6",{className:"inline text-8xl text-gray-500",children:Object(y.jsx)(t,{className:"mx-auto"})}),Object(y.jsx)("h4",{className:"text-lg -mt-3 text-gray-500",children:"Nothing yet selected!"})]}),l.map((function(e,t){return Object(y.jsxs)("div",{className:"p-1 border bg-white hover:bg-blue-100 rounded mb-2 items-center hover:border-blue-600 flex",children:[Object(y.jsxs)("section",{className:"px-2 text-blue-900 text-opacity-70 text-xl",children:["#",t+1]}),Object(y.jsxs)("section",{className:"flex-1",children:[Object(y.jsx)("h1",{className:"text-lg font-bold",children:e.name}),Object(y.jsx)("p",{className:"-mt-1 text-gray-500 text-sm",children:e.name})]}),r&&e.id&&Object(y.jsx)("section",{className:"pr-2",children:Object(y.jsx)(x.a,{size:"sm",theme:"primary-light",type:"button",onClick:r.bind(z,e.id),loading:!!j&&j.toString()===e.id.toString(),disabled:null!==j&&void 0!==j,children:Object(y.jsx)("section",{className:"text-2xl",title:"Update this item",children:Object(y.jsx)(f.P,{})})})}),c&&e.id&&Object(y.jsx)("section",{className:"pr-2",children:Object(y.jsx)(x.a,{onClick:c.bind(z,e.id),size:"sm",theme:"danger-light",type:"button",loading:!!o&&o.toString()===e.id.toString(),disabled:null!==o&&void 0!==o,children:Object(y.jsx)("div",{className:"text-2xl",title:"Delete this item",children:Object(y.jsx)(f.t,{})})})})]},t)}))]}),""!==b&&Object(y.jsx)("p",{className:"text-center text-red-500",children:b})]})},L={target:null,msg:""},F=function(e){var t=e.sub_area_id,n=e.successData,a=e.trainee_category,i=e.trainer_institutions,s=e.removeTraineeCategory,r=e.removeTrainerInstitution,c=e.loadingTraineeCategoryRemove,l=e.loadingTrainersInstitutionRemove,o=e.addTraineeCategory,j=e.addTrainerInstitution,b=e.loadingStepOneSave,u=e.step_one__title,h=e.step_one__description,g=e.step_one__start_date,O=e.step_one__end_date,p=e.step_one__sub_area,v=e.step_one__budget,N=e.setStepOne__title,S=e.setStepOne__description,R=e.setStepOne__start_date,E=e.setStepOne__end_date,A=e.setStepOne__sub_area,I=e.setStepOne__budget,k=e.setStepOne__topic,w=e.step_one__topic,D=Object(d.useState)([]),z=Object(_.a)(D,2),F=z[0],q=z[1],Y=Object(d.useState)([]),B=Object(_.a)(Y,2),H=B[0],V=B[1],W=Object(d.useState)(!0),K=Object(_.a)(W,2),Q=K[0],J=K[1],$=Object(d.useState)(!0),X=Object(_.a)($,2),Z=X[0],ee=X[1],te=Object(d.useState)(!1),ne=Object(_.a)(te,2),ae=ne[0],ie=ne[1],se=Object(d.useState)(!1),re=Object(_.a)(se,2),ce=re[0],le=re[1],de=F.find((function(e){return e.id+""===p+""})),oe=H.find((function(e){return e.id+""===w+""})),je=Object(d.useState)(L),be=Object(_.a)(je,2),ue=be[0],he=be[1];Object(d.useEffect)((function(){!0===Q&&0===F.length&&(J(!1),Object(T.o)(T.A,(function(e,t,n){!1===e&&he({target:"SUB_AREA",msg:"Error: ".concat(n)}),q(t),J(!1)})),Object(T.o)(T.C,(function(e,t,n){!1===e&&he({target:"TOPICS",msg:"Error: ".concat(n)}),V(t),ee(!1)})))}),[t,Q,F.length]);var xe=function(){return setTimeout((function(){return he(L)}),3e3)};return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),u.length<=4?(xe(),he({target:"TITLE",msg:"Please provide the title"})):h.length<=4?(xe(),he({target:"DESCRIPTION",msg:"Please provide the description"})):de?oe?0===+v?(xe(),he({target:"BUDGET",msg:"Budget is required"})):""===g?(xe(),he({target:"START_DATE",msg:"Please provide the start date"})):""===O?(xe(),he({target:"END_DATE",msg:"Please provide the end date"})):new Date(g).getTime()>new Date(O).getTime()?(xe(),he({target:"END_DATE",msg:"This (end date) must be later than (start date)"})):""===O?(xe(),he({target:"END_DATE",msg:"Please provide the end date"})):0===i.length?(xe(),he({target:"TRAINING_INSTITUTION",msg:"You must provide at least one institution"})):0===a.length?(xe(),he({target:"TRAINEE_CATEGORY",msg:"You must provide at least one category"})):void n():(xe(),he({target:"TOPICS",msg:"Please select a topic"})):(xe(),he({target:"SUB_AREA",msg:"Please select a sub-area"}))},children:[Object(y.jsx)(m.a,{className:"animate__animated animate__zoomIn animate__faster",children:Object(y.jsxs)("div",{className:"p-2",children:[Object(y.jsx)("div",{className:"pb-2",children:Object(y.jsx)(C.a,{onChange:function(e){N(e.target.value),he(L)},value:u,error:"TITLE"===ue.target?ue.msg:"",label:"Training Title",placeholder:"Title of the training",name:"",disabled:b})}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)(M.a,{onChange:function(e){S(e.target.value),he(L)},value:h,error:"DESCRIPTION"===ue.target?ue.msg:"",label:"Description of the training",placeholder:"Description of the task",name:"",disabled:b})}),Object(y.jsxs)("div",{className:"lg:flex gap-6 py-2 w-full",children:[Object(y.jsxs)("div",{className:"pb-2 flex-1",children:[!ae&&Object(y.jsx)("section",{onClick:function(){return!b&&ie(!ae)},className:"cursor-pointer",children:Object(y.jsx)(C.a,{onChange:function(e){},value:"".concat(de?"".concat(null===de||void 0===de?void 0:de.name," - ( ").concat(null===de||void 0===de?void 0:de.intervention_area,")"):""),error:"SUB_AREA"===ue.target?ue.msg:"",label:"Select sub Area",placeholder:"",name:"",disabled:!0})}),ae&&Object(y.jsx)(U.a,{loading:Q,id:"id",title:"name",close:function(){return ie(!ae)},data:F,click:function(e){A(e.id),ie(!ae)}})]}),Object(y.jsxs)("div",{className:"pb-2 flex-1",children:[!ce&&Object(y.jsx)("section",{onClick:function(){return!b&&le(!ce)},className:"cursor-pointer",children:Object(y.jsx)(C.a,{onChange:function(e){},value:"".concat(oe?"".concat(null===oe||void 0===oe?void 0:oe.name):""),error:"TOPICS"===ue.target?ue.msg:"",label:"Select topic",placeholder:"",name:"",disabled:!0})}),ce&&Object(y.jsx)(U.a,{loading:Z,id:"id",title:"name",close:function(){return le(!ce)},data:H,click:function(e){k(e.id),le(!ce)}})]}),Object(y.jsx)("div",{className:"pb-2 flex-1",children:Object(y.jsx)(C.a,{onChange:function(e){I(e.target.value),he(L)},value:v,error:"BUDGET"===ue.target?ue.msg:"",label:"Budget",placeholder:"Budget of the training",name:""})})]}),Object(y.jsxs)("div",{className:"border lg:p-2 lg:px-4 rounded bg-gray-50",children:[Object(y.jsxs)("section",{className:"flex items-center text-yellow-800",children:[Object(y.jsx)(f.s,{className:"text-3xl"}),Object(y.jsx)("h4",{className:"font-bold text-lg pl-1",children:"Training dates"})]}),Object(y.jsxs)("div",{className:"lg:flex gap-4",children:[Object(y.jsx)("section",{className:"flex-1",children:Object(y.jsx)(C.a,{onChange:function(e){R(e.target.value),he(L)},value:g,type:"date",error:"START_DATE"===ue.target?ue.msg:"",label:"Start Date",placeholder:"Start date",name:"",disabled:b})}),Object(y.jsx)("section",{className:"flex-1",children:Object(y.jsx)(C.a,{onChange:function(e){E(e.target.value),he(L)},value:O,type:"date",error:"END_DATE"===ue.target?ue.msg:"",label:"End Date",placeholder:"End date",name:"",disabled:b})})]})]}),Object(y.jsxs)("div",{className:"lg:flex py-4 lg:gap-4",children:[Object(y.jsx)(P,{Icon:f.D,title:"Assign training institution",description:"Institution which will help to train",data:i,create_btn_label:"Add institution",createLading:!1,updateLading:null,deleteLoading:l,onCreate:j,onDelete:r,error:"TRAINING_INSTITUTION"===ue.target?ue.msg:""}),Object(y.jsx)(P,{Icon:f.D,title:"Assign trainee category",description:"Assign the type of users you are about to train",data:a,create_btn_label:"Add category",deleteLoading:c,onCreate:o,onDelete:s,error:"TRAINEE_CATEGORY"===ue.target?ue.msg:""})]})]})}),Object(y.jsx)(G,{children:Object(y.jsx)("div",{className:"text-right flex-1 ",children:Object(y.jsx)(x.a,{size:"lg",loading:b,children:"Save and Continue"})})})]})})},q=n(26),Y=function(e){var t=e.click;return Object(y.jsx)(m.a,{className:"animate__animated animate__zoomIn animate__faster",children:Object(y.jsx)("div",{className:"p-2 py-8",children:Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsx)("div",{className:"mx-auto",children:Object(y.jsxs)("div",{className:"text-gray-400 bg-gray-100 inline-block rounded-xl text-8xl mx-auto  text-center",children:[Object(y.jsx)(f.Cb,{className:"inline"}),Object(y.jsx)(f.M,{className:"inline"})]})}),Object(y.jsx)("h1",{className:"text-xl lg:text-3xl font-bold mb-1 mt-2 text-gray-700",children:"Add center, with the trainers"}),Object(y.jsx)("p",{className:"text-gray-500",children:"It looks like you haven't created a center yet, click on the button bellow"}),Object(y.jsx)("div",{className:"py-3",children:Object(y.jsx)(x.a,{onClick:function(){return t()},children:"Add a center"})})]})})})},B=function(e){var t=e.click;return Object(y.jsx)("div",{className:"p-2 py-8",children:Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsx)("div",{className:"mx-auto",children:Object(y.jsx)("div",{className:"text-gray-400 bg-gray-100 inline-block rounded-xl text-6xl mx-auto  text-center",children:Object(y.jsx)(f.D,{className:"inline"})})}),Object(y.jsx)("h1",{className:"text-xl lg:text-2xl font-bold mb-1 mt-2 text-gray-700",children:"Add groups, with the trainers"}),Object(y.jsxs)("p",{className:"text-gray-500",children:["It looks like you haven't yet added a group on this center, ",Object(y.jsx)("br",{}),"click on the button bellow to add a group"]}),Object(y.jsx)("div",{className:"py-3",children:Object(y.jsx)(x.a,{onClick:function(){return t()},children:"Add a group to this center"})})]})})},H=void 0,V={target:null,msg:""},W=function(e){var t=e.addTraineeToGroup,n=e.group,a=e.trainers,i=e.deleteCenterGroup,s=e.delete_group_loading,r=e.updatedRoomCapacity,c=Object(d.useState)(0),l=Object(_.a)(c,2),o=l[0],j=l[1],b=Object(d.useState)(!1),u=Object(_.a)(b,2),m=u[0],g=u[1],O=Object(d.useState)(V),v=Object(_.a)(O,2),N=v[0],S=v[1],R=Object(d.useState)(null),E=Object(_.a)(R,2),A=E[0],I=E[1],k=a?a.filter((function(e){return e.group_id.toString()===n.id.toString()})):[],w=function(){return S(V)},D=function(){return setTimeout((function(){S(V)}),2e3)};return Object(y.jsxs)(y.Fragment,{children:["MAIN-ERROR"===N.target&&Object(y.jsx)(h.a,{theme:"danger",children:N.msg}),"MAIN-SUCCESS"===N.target&&Object(y.jsx)(h.a,{theme:"success",children:N.msg}),Object(y.jsxs)("div",{className:"p-2 rounded mb-2 hover:border-yellow-500 hover:border-2 hover:border bg-white flex border border-rounded",children:[Object(y.jsxs)("div",{className:"flex w-44",children:[null!==A&&Object(y.jsxs)("div",{className:"p-2 rounded items-center border mr-1 animate__animated animate__zoomIn animate__faster",children:[Object(y.jsxs)("div",{className:"flex",children:[Object(y.jsx)("section",{className:"flex-1 ",children:Object(y.jsx)("h2",{className:"text-lg font-bold",children:"Update"})}),Object(y.jsx)("section",{children:Object(y.jsx)(x.a,{size:"sm",theme:"danger-light",onClick:I.bind(H,null),disabled:m,children:"close"})})]}),Object(y.jsxs)("div",{className:"pt-2",children:[Object(y.jsx)(C.a,{onChange:function(e){return j(+e.target.value)},value:o,error:"",label:"Trainee capacity",placeholder:"",name:""})," ",Object(y.jsx)("section",{className:"text-right pt-2",children:Object(y.jsx)(x.a,{onClick:function(){return A?o<=0?(w(),D(),S({target:"TRAINING-CAPACITY",msg:"The capacity must be greater than zero"})):(g(!0),void Object(T.u)({id:A.id.toString(),number_of_trainees:o,training_id:A.training_id},(function(e,t){g(!1),e?(S({target:"MAIN-SUCCESS",msg:"Data Updated successfully"}),r(Object(p.a)(Object(p.a)({},n),{},{number_of_trainees:o})),I(null)):S({target:"MAIN-ERROR",msg:"Error: ".concat(t)}),D()}))):(w(),D(),S({target:"TRAINING-CAPACITY",msg:"No room selected"}))},type:"button",theme:"success",loading:m,children:"Update capacity"})})]})]}),null===A&&Object(y.jsxs)("div",{className:"pl-2",children:[Object(y.jsxs)("div",{className:"flex-1 border-b pb-1",children:[Object(y.jsx)("label",{className:"text-gray-500 text-sm",children:"Group:"}),Object(y.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:n.group_name})]}),Object(y.jsxs)("div",{className:"flex-1 border-b py-1",children:[Object(y.jsx)("label",{className:"text-gray-500 text-sm",children:"Center capacity"}),Object(y.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:n.number_of_trainees})]}),Object(y.jsxs)("div",{className:"pt-2 pr-2",children:[Object(y.jsx)(x.a,{theme:"primary-light",onClick:function(){I(n),j(+n.number_of_trainees)},className:"w-full mb-2",children:"Edit capacity"}),Object(y.jsx)(x.a,{theme:"danger-light",className:"w-full",onClick:function(){return i({training_id:n.training_id,id:n.id.toString()})},disabled:null!==s,loading:(null===s||void 0===s?void 0:s.toString())===n.id.toString(),children:"Remove room"})]})]})]}),Object(y.jsxs)("div",{className:"flex-1 rounded p-2 border",children:[Object(y.jsxs)("div",{className:"flex items-center p-0.5 px-1 mb-1 rounded bg-gray-200",children:[Object(y.jsx)("section",{className:"flex-1 pl-2",children:Object(y.jsx)("h3",{className:"text-lg font-bold",children:"Trainers"})}),Object(y.jsx)("section",{className:"text-right",children:Object(y.jsxs)(x.a,{onClick:t.bind(H,n),children:["Add a trainer to Group: ",n.group_name]})})]}),Object(y.jsxs)("table",{className:"border w-full",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"text-left",children:[Object(y.jsx)("th",{className:"p-1.5 border",children:"#"}),Object(y.jsx)("th",{className:"p-1.5 border",children:"NID"}),Object(y.jsx)("th",{className:"p-1.5 border",children:"Names"}),Object(y.jsx)("th",{className:"p-1.5 border",children:"Phone number"}),Object(y.jsx)("th",{className:"p-1.5 border",children:"Email"}),Object(y.jsx)("th",{className:"p-1.5 border w-10"})]})}),Object(y.jsxs)("tbody",{children:[k.length<=0&&Object(y.jsx)("tr",{children:Object(y.jsxs)("td",{className:"py-3 text-center",colSpan:20,children:[Object(y.jsx)("section",{className:"mx-auto text-center text-6xl opacity-50",children:Object(y.jsx)(f.Cb,{className:"inline"})}),Object(y.jsxs)("h2",{className:"font-bold opacity-50",children:["Add trainer","(s)"," to this room"]})]})}),k.map((function(e,t){return Object(y.jsxs)("tr",{className:"hover:bg-yellow-100 text-sm",children:[Object(y.jsx)("td",{className:"p-2 border",children:t+1}),Object(y.jsx)("td",{className:"p-2 border",children:e.nid}),Object(y.jsxs)("td",{className:"p-2 border",children:[e.first_name," ",e.last_name]}),Object(y.jsx)("td",{className:"p-2 border",children:e.phone_numbers}),Object(y.jsx)("td",{className:"p-2 border",children:e.email}),Object(y.jsx)("td",{className:"p-0.5 text-center border",children:Object(y.jsx)(x.a,{size:"sm",theme:"danger-light",type:"button",children:"Remove"})})]},t)}))]})]})]})]})]})},K=void 0,Q=function(e){var t,n=e.addGroupHandler,a=e.center,i=e.selected,s=e.selectHandler,r=e.trainers,c=e.groups,l=e.deleteCenterGroup,d=e.updatedRoomCapacity,o=e.delete_group_loading,j=e.setAddTrainer,b=c.filter((function(e){return e.center_id+""===a.center_id+""})),u=0,h=Object(q.a)(b);try{for(h.s();!(t=h.n()).done;){u+=+t.value.number_of_trainees}}catch(m){h.e(m)}finally{h.f()}return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:" rounded-lg overflow-hidden hover:border-yellow-700 bg-white border mb-3 items-center",children:[Object(y.jsxs)("div",{className:"lg:flex sm:grid sm:grid-cols-2 w-full items-center py-2",children:[Object(y.jsx)("div",{className:" text-yellow-700 pl-2",children:Object(y.jsx)("label",{className:"text-4xl",children:Object(y.jsx)(f.gb,{})})}),Object(y.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(y.jsx)("label",{className:"text-gray-500 text-sm",children:"Center type"}),Object(y.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===a||void 0===a?void 0:a.center_type_name})]}),Object(y.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(y.jsx)("label",{className:"text-gray-500 text-sm",children:"Center name"}),Object(y.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===a||void 0===a?void 0:a.center_name})]}),Object(y.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(y.jsx)("label",{className:"text-gray-500 text-sm",children:"District"}),Object(y.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===a||void 0===a?void 0:a.district_name})]}),Object(y.jsxs)("div",{className:"pl-2 w-36 border-r",children:[Object(y.jsx)("label",{className:"text-gray-500 text-sm",children:"Center capacity"}),Object(y.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:u})]}),Object(y.jsxs)("div",{className:"pl-2 w-36",children:[Object(y.jsx)("label",{className:"text-gray-500 text-sm",children:"Total Trainers"}),Object(y.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:"40"})]}),Object(y.jsxs)("div",{className:"text-right flex pr-2",children:[i.toString()===a.id.toString()?Object(y.jsx)("div",{className:"flex gap-2",children:Object(y.jsx)(x.a,{theme:"accent-light",onClick:n.bind(K,a),disabled:null!==o,children:"Add a group"})}):Object(y.jsx)(x.a,{theme:"primary-light",onClick:function(){return s(a.id.toString())},disabled:null!==o,children:"Open"}),Object(y.jsx)("div",{className:"text-right pl-2 pr-2",children:i.toString()===a.id.toString()&&Object(y.jsx)(x.a,{theme:"default",onClick:function(){return s("")},disabled:null!==o,children:"Close"})})]})]}),i.toString()===a.id.toString()&&Object(y.jsxs)("div",{className:"p-4 bg-gray-300 bg-opacity-25 border-t animate__animated animate__zoomIn animate__faster",children:[b.length>=1&&Object(y.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Groups list"}),b.map((function(e){return Object(y.jsx)(W,{addTraineeToGroup:j,updatedRoomCapacity:d,group:e,trainers:r,deleteCenterGroup:l,delete_group_loading:o})})),b.length<=0&&Object(y.jsx)(B,{click:n.bind(K,a)})]})]})})},J=function(e){var t=e.search,n=e.setSearch,a=e.total_centers,i=e.total_groups,s=e.total_trainers,r=e.total_trainees,c=e.clickAction;return Object(y.jsx)(m.a,{className:"-mt-7 mb-4",children:Object(y.jsxs)("div",{className:"lg:flex gap-3 items-center w-full flex-items-center pt-3 bg-white ",children:[Object(y.jsxs)("section",{className:"pr-4",children:[Object(y.jsx)("h2",{className:"text-xl font-bold",children:"Training Centers"}),Object(y.jsx)("p",{className:"text-sm text-gray-400 hidden lg:block -mt-1",children:"Location for your trainings"})]}),Object(y.jsxs)("div",{className:"flex gap-3 w-full lg:w-auto",children:[a&&Object(y.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(y.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total centers"}),Object(y.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:a})]}),i&&Object(y.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(y.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total groups"}),Object(y.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:i})]}),s&&Object(y.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(y.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total trainers"}),Object(y.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:s})]}),r&&Object(y.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(y.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total trainers"}),Object(y.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:r})]})]}),Object(y.jsx)("section",{className:"flex-1 lg:px-4",children:Object(y.jsx)(S,{onChange:function(e){return n(e.target.value)},value:t,placeholder:"Search a center",name:"input-containers-search",size:"sm"})}),c&&Object(y.jsx)("section",{className:"text-right flex-right ",children:Object(y.jsx)(x.a,{onClick:c,children:"add a center"})})]})})},$={target:null,msg:""},X=function(e){var t,n,a,s,r=e.training,c=e.addCenter,l=e.deleteCenterGroup,o=e.delete_group_loading,j=e.addGroupHandler,b=e.updatedRoomCapacity,u=e.nextStep,g=e.prevStep,p=Object(d.useState)($),f=Object(_.a)(p,2),N=f[0],C=f[1],A=Object(d.useState)(""),I=Object(_.a)(A,2),k=I[0],w=I[1],D=Object(d.useState)(""),M=Object(_.a)(D,2),U=M[0],z=M[1],P=Object(d.useState)(""),L=Object(_.a)(P,2),F=L[0],B=L[1],H=Object(d.useState)(null),V=Object(_.a)(H,2),W=V[0],K=V[1],X=Object(d.useState)(""),Z=Object(_.a)(X,2),ee=Z[0],te=Z[1],ne=Object(d.useState)(!1),ae=Object(_.a)(ne,2),ie=ae[0],se=ae[1],re=Object(d.useState)(!1),ce=Object(_.a)(re,2),le=(ce[0],ce[1]),de=Object(d.useState)(null),oe=Object(_.a)(de,2),je=oe[0],be=oe[1],ue=Object(d.useState)([]),he=Object(_.a)(ue,2),xe=he[0],me=he[1],ge=[],Oe=Object(q.a)(r.groups||[]);try{var pe=function(){var e=s.value;void 0===ge.find((function(t){var n;return(null===(n=t.center_id)||void 0===n?void 0:n.toString())===e.center_id+""}))&&ge.push(e)};for(Oe.s();!(s=Oe.n()).done;)pe()}catch(Se){Oe.e(Se)}finally{Oe.f()}var _e=Object(E.n)(xe,ee,{nid:!0,first_name:!0,full_name:!0,last_name:!0,phone_numbers:!0,email:!0}),ve=Object(E.n)(ge||[],k,{name:!0,district_name:!0,center_type_name:!0}),fe=function(e){if(B(e),me([]),null===e)return me([]),void C($);se(!0),Object(T.q)({end_date:"2022-12-12",start_date:"2022-12-12",training_institution_id:e},(function(e,t,n){e||(C({target:"MAIN-ERROR",msg:"Error: ".concat(n)}),setTimeout((function(){C($)}),3e3)),se(!1),me(t)}))},Ne=function(e){window.confirm("Are you sure you want to add ".concat(e.full_name," to this training?"))&&(be(e),Object(T.c)({training_id:r.id+"",training_to_group_id:(null===W||void 0===W?void 0:W.id)+"",user_id:e.user_id},(function(e,t){C(e?{target:"MAIN-SUCCESS",msg:"Candidate has been added to the training"}:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}),be(null),le(!1)})))},ye=[{title:"",value:""}].concat(Object(i.a)(r.trainer_institution?r.trainer_institution.map((function(e){return{title:e.name+"",value:e.id+""}})):[]));return Object(y.jsxs)(y.Fragment,{children:["MAIN-SUCCESS"===N.target&&Object(y.jsx)(h.a,{theme:"success",fixed:!0,children:N.msg}),"MAIN-ERROR"===N.target&&Object(y.jsx)(h.a,{theme:"danger",fixed:!0,children:N.msg}),null!==W&&Object(y.jsx)(R.c,{backDrop:!0,close:function(){return K(null)},backDropClose:!1,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add trainer to training",children:null!==je?Object(y.jsxs)("div",{className:"py-6 text-center border-t",children:[Object(y.jsx)("section",{className:"inline-block",children:Object(y.jsx)(O.a,{})}),Object(y.jsxs)("h2",{className:"pt-3 text-xl",children:["Adding ",Object(y.jsx)("b",{children:je.full_name})," to this training"]})]}):Object(y.jsxs)("div",{className:"border-t p-4",children:[Object(y.jsxs)("div",{className:"flex w-full gap-2 items-center",children:[Object(y.jsx)("section",{children:Object(y.jsx)(v.a,{onChange:function(e){return fe(e.target.value)},value:F,error:"",label:"Training institution",placeholder:"",name:"",data:ye,disabled:ie})}),Object(y.jsx)("section",{className:"flex-1 pt-3",children:Object(y.jsx)(S,{onChange:function(e){return te(e.target.value)},value:ee,placeholder:"",name:""})})]}),ie&&Object(y.jsx)("div",{className:"text-center py-4",children:Object(y.jsx)(O.a,{})}),""===F&&Object(y.jsx)("div",{className:"py-5 text-center border-t",children:Object(y.jsxs)("h2",{className:"text-2xl text-gray-400 ",children:["Please select an institution, ",Object(y.jsx)("br",{})," in order to get the list of trainers"]})}),!ie&&""!==F&&Object(y.jsxs)("table",{className:"border w-full",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"p-2 border",children:"#"}),Object(y.jsx)("th",{className:"p-2 border",children:"Nid"}),Object(y.jsx)("th",{className:"p-2 border",children:"Names"}),Object(y.jsx)("th",{className:"p-2 border",children:"Email"}),Object(y.jsx)("th",{className:"p-2 border",children:"Phone"}),Object(y.jsx)("th",{className:"p-2 border w-10"})]})}),Object(y.jsxs)("tbody",{children:[_e.length<=0&&Object(y.jsx)("tr",{children:Object(y.jsx)("td",{className:"py-5 text-center",colSpan:12,children:Object(y.jsx)("h2",{className:"text-2xl text-gray-600",children:"No results found!"})})}),_e.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"p-2 border",children:t+1}),Object(y.jsx)("td",{className:"p-2 border",children:e.nid}),Object(y.jsx)("td",{className:"p-2 border",children:e.full_name}),Object(y.jsx)("td",{className:"p-2 border",children:e.email}),Object(y.jsx)("td",{className:"p-2 border",children:e.phone_numbers}),Object(y.jsx)("td",{className:"p-1 border",children:Object(y.jsx)(x.a,{size:"sm",onClick:Ne.bind(undefined,e),children:"Open"})})]},e.id)}))]})]}),xe.length<=0&&!1===ie&&""!==F&&Object(y.jsx)("div",{className:"py-8 text-center",children:Object(y.jsx)("h2",{className:"text-4xl font-bold text-gray-400",children:"No trainers found!"})})]})}),Object(y.jsx)(J,{search:k,clickAction:c,setSearch:w,total_centers:null===(t=r.centers)||void 0===t?void 0:t.length,total_groups:null===(n=r.groups)||void 0===n?void 0:n.length,total_trainees:1e3,total_trainers:null===(a=r.trainers)||void 0===a?void 0:a.length}),Object(y.jsx)(m.a,{transparent:!0,className:"-mt-7",children:Object(y.jsx)("div",{className:"",children:Object(y.jsxs)("div",{className:"",children:[ge&&ge.length<=0&&Object(y.jsx)(Y,{click:function(){}}),ve.map((function(e,t){return Object(y.jsx)(Q,{updatedRoomCapacity:b,deleteCenterGroup:l,addGroupHandler:j,center:e,selectHandler:function(e){return z(e)},selected:U,trainers:r.trainers?r.trainers:[],groups:r.groups?r.groups:[],delete_group_loading:o,setAddTrainer:function(e){return K(e)}},t)}))]})})}),Object(y.jsx)(G,{children:Object(y.jsxs)("div",{className:"text-right  flex-1 flex",children:[g&&Object(y.jsx)("section",{className:"flex-1 text-left",children:Object(y.jsx)(x.a,{theme:"default",onClick:g,loading:!1,children:"Previous"})}),u&&Object(y.jsx)("section",{className:"flex-1 text-right",children:Object(y.jsx)(x.a,{loading:!1,onClick:u,children:"Next"})})]})})]})},Z=n(92),ee=n(351),te=function(e){var t=e.title,n=e.title_key,a=e.description,i=e.addButton,s=e.disable;return Object(y.jsxs)("div",{className:"p-2 border rounded bg-white",children:[Object(y.jsxs)("div",{className:"flex items-center border-b pb-1",children:[Object(y.jsxs)("section",{className:"flex-1",children:[Object(y.jsx)("h3",{className:"text-lg font-bold",children:t}),Object(y.jsx)("p",{className:"text-sm text-gray-500",children:a})]}),Object(y.jsx)("section",{children:i&&Object(y.jsxs)(x.a,{onClick:i,theme:"accent-light",disabled:s,children:["Add ",n]})})]}),Object(y.jsx)("div",{className:"py-2",children:e.children})]})},ne=function(e){var t=e.title,n=e.removeItem,a=e.el,i=e.loadingRemove,s=e.id;return Object(y.jsxs)("div",{className:"flex p-2 mb-2 bg-gray-100 rounded border items-center",children:[Object(y.jsx)("section",{className:"pr-2 text-gray-400",children:a}),Object(y.jsx)("section",{className:"flex-1 font-bold",children:Object(y.jsx)("h4",{children:t})}),Object(y.jsx)("section",{children:Object(y.jsx)(x.a,{size:"sm",theme:"danger-light",disabled:null!==i,loading:i===s.toString(),onClick:n,children:"Remove"})})]})},ae=void 0,ie={msg:"",target:null},se={districts:[],levels:[],positions:[],qualifications:[],sectors:[],strict:0,subjects:[],training_id:""},re=function(e){var t=e.training,n=e.successCriterial,a=e.nextStep,s=e.prevStep,r=Object(d.useState)(se),c=Object(_.a)(r,2),l=c[0],o=c[1],j=Object(d.useState)(!1),b=Object(_.a)(j,2),u=b[0],N=b[1],S=Object(d.useState)(ie),C=Object(_.a)(S,2),E=C[0],A=C[1],I=Object(d.useState)(null),k=Object(_.a)(I,2),w=k[0],D=k[1],M=Object(d.useState)(!1),U=Object(_.a)(M,2),z=U[0],P=U[1],L=Object(d.useState)(!1),F=Object(_.a)(L,2),q=F[0],Y=F[1],B=Object(d.useState)(!1),H=Object(_.a)(B,2),V=H[0],W=H[1],K=Object(d.useState)(!1),Q=Object(_.a)(K,2),J=Q[0],$=Q[1],X=Object(d.useState)(!1),re=Object(_.a)(X,2),ce=re[0],le=re[1],de=Object(d.useState)(!1),oe=Object(_.a)(de,2),je=oe[0],be=oe[1],ue=Object(d.useState)(!1),he=Object(_.a)(ue,2),xe=he[0],me=he[1],ge=Object(d.useState)(""),Oe=Object(_.a)(ge,2),pe=Oe[0],_e=Oe[1],ve=Object(d.useState)([]),fe=Object(_.a)(ve,2),Ne=fe[0],ye=fe[1],Se=Object(d.useState)([]),Ce=Object(_.a)(Se,2),Re=Ce[0],Ee=Ce[1];Object(d.useEffect)((function(){var e;t&&null!==(e=t.trainee_criteria)&&void 0!==e&&e.training_id&&o(t.trainee_criteria),Object(ee.b)((function(e,t,n){t&&Ee(t)}))}),[t]);var Te=function(e){window.confirm("Are you sure you want to remove this item")&&o(Object(p.a)(Object(p.a)({},l),{},{subjects:l.subjects.filter((function(t){return t.course_code.toString()!==e.toString()}))}))},Ae=function(){w||(N(!0),Object(T.m)((function(e,t,n){e&&t?D(t):A({target:"MAIN-ERROR",msg:"Error: ".concat(n)}),N(!1)})))},Ie=function(e,t){o(Object(p.a)(Object(p.a)({},l),{},Object(Z.a)({},t,[].concat(Object(i.a)(l[t]),[e]))))},ke=function(e,t){window.confirm("Are you sure you want to remove this item")&&o(Object(p.a)(Object(p.a)({},l),{},Object(Z.a)({},t,l[t].filter((function(t){var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==e})))))},we=function(e){o(Object(p.a)(Object(p.a)({},l),{},{subjects:[].concat(Object(i.a)(l.subjects),[e])}))};return Object(y.jsxs)(y.Fragment,{children:[ce&&Object(y.jsxs)(R.c,{backDrop:!0,close:le.bind(ae,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add subjects",children:[Object(y.jsx)("div",{className:"p-2 border-b",children:Object(y.jsx)(v.a,{onChange:function(e){_e(e.target.value),function(e){if(""===e)return ye([]);me(!0),Object(T.p)(e,(function(e,t,n){t&&ye(t),e||A({target:"MAIN-ERROR",msg:"Error: ".concat(n)}),me(!1)}))}(e.target.value)},value:pe,error:"",label:"",placeholder:"",name:"",data:[{title:"",value:""}].concat(Object(i.a)(l.levels.map((function(e){return{title:e.name+"",value:e.id+""}})))),disabled:xe})}),Object(y.jsxs)("div",{className:"border-t p-2",children:[xe&&Object(y.jsx)("div",{className:"py-8 text-center",children:Object(y.jsx)("div",{className:"inline-block",children:Object(y.jsx)(O.a,{})})}),Ne.map((function(e,t){var n=l.subjects.find((function(t){return t.course_code+""===e.course_code+""}));return Object(y.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(y.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(y.jsx)("section",{className:"flex-1",children:Object(y.jsxs)("b",{children:[e.course_code," - ",e.course_name," - ",e.level_name]})}),Object(y.jsx)("section",{children:n?Object(y.jsx)(x.a,{onClick:Te.bind(ae,e.course_code),theme:"danger-light",size:"sm",children:"Remove"}):Object(y.jsx)(x.a,{theme:"primary-light",size:"sm",onClick:we.bind(ae,e),children:"Add"})})]},e.course_code)}))]})]}),z&&Object(y.jsx)(R.c,{backDrop:!0,close:P.bind(ae,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add district",children:Object(y.jsx)("div",{className:"border-t p-2",children:Re.map((function(e,t){var n=l.districts.find((function(t){return t.id+""===e.district_code+""}));return Object(y.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(y.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(y.jsx)("section",{className:"flex-1",children:Object(y.jsx)("b",{children:e.district_name})}),Object(y.jsx)("section",{children:n?Object(y.jsx)(x.a,{onClick:ke.bind(ae,e.district_code,"districts"),theme:"danger-light",size:"sm",children:"Remove"}):Object(y.jsx)(x.a,{theme:"primary-light",size:"sm",onClick:Ie.bind(ae,{name:e.district_name,id:e.district_code.toString()},"districts"),children:"Add"})})]},e.district_code)}))})}),V&&Object(y.jsxs)(R.c,{backDrop:!0,close:W.bind(ae,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add levels",children:[u&&Object(y.jsx)("div",{className:"text-center py-2",children:Object(y.jsx)(O.a,{className:"inline-block"})}),Object(y.jsx)("div",{className:"border-t p-2",children:w&&w.school_level.map((function(e,t){var n=l.levels.find((function(t){return t.id+""===e.level_code+""}));return Object(y.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(y.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(y.jsx)("section",{className:"flex-1",children:Object(y.jsx)("b",{children:e.level_name})}),Object(y.jsx)("section",{children:n?Object(y.jsx)(x.a,{onClick:ke.bind(ae,e.level_code,"levels"),theme:"danger-light",size:"sm",children:"Remove"}):Object(y.jsx)(x.a,{theme:"primary-light",size:"sm",onClick:Ie.bind(ae,{name:e.level_name,id:e.level_code.toString()},"levels"),children:"Add"})})]},e.level_name)}))})]}),J&&Object(y.jsxs)(R.c,{backDrop:!0,close:$.bind(ae,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add Qualification",children:[u&&Object(y.jsx)("div",{className:"text-center py-2",children:Object(y.jsx)(O.a,{className:"inline-block"})}),Object(y.jsx)("div",{className:"border-t p-2",children:w&&w.qualifications.map((function(e,t){var n=l.qualifications.find((function(t){return t.id+""===e.id+""}));return Object(y.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(y.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(y.jsx)("section",{className:"flex-1",children:Object(y.jsx)("b",{children:e.name})}),Object(y.jsx)("section",{children:n?Object(y.jsx)(x.a,{onClick:ke.bind(ae,e.id+"","qualifications"),theme:"danger-light",size:"sm",children:"Remove"}):Object(y.jsx)(x.a,{theme:"primary-light",size:"sm",onClick:Ie.bind(ae,e,"qualifications"),children:"Add"})})]},e.id)}))})]}),q&&Object(y.jsxs)(R.c,{backDrop:!0,close:Y.bind(ae,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add Positions",children:[u&&Object(y.jsx)("div",{className:"text-center py-2",children:Object(y.jsx)(O.a,{className:"inline-block"})}),Object(y.jsx)("div",{className:"border-t p-2",children:w&&w.positions.map((function(e,t){var n=l.positions.find((function(t){return t.id+""===e.id+""}));return Object(y.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(y.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(y.jsx)("section",{className:"flex-1",children:Object(y.jsx)("b",{children:e.name})}),Object(y.jsx)("section",{children:n?Object(y.jsx)(x.a,{onClick:ke.bind(ae,e.id+"","positions"),theme:"danger-light",size:"sm",children:"Remove"}):Object(y.jsx)(x.a,{theme:"primary-light",size:"sm",onClick:Ie.bind(ae,e,"positions"),children:"Add"})})]},e.id)}))})]}),"MAIN-ERROR"===E.target&&Object(y.jsx)(h.a,{theme:"danger",fixed:!0,children:E.msg}),"MAIN-SUCCESS"===E.target&&Object(y.jsx)(h.a,{theme:"success",fixed:!0,children:E.msg}),Object(y.jsxs)(m.a,{transparent:!0,children:[Object(y.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(y.jsx)("section",{className:"text-5xl pr-2",children:Object(y.jsx)(f.lb,{})}),Object(y.jsxs)("section",{className:"flex-1",children:[Object(y.jsx)(g.a,{size:"md",children:"Add training criterial"}),Object(y.jsx)("p",{className:"text-gray-500",children:"Choose who must attend your training"})]}),Object(y.jsx)("section",{})]}),Object(y.jsxs)("div",{className:"grid lg:grid-cols-2 gap-4 pt-3",children:[Object(y.jsxs)(te,{description:"A trainee without one of these district (s) will not attend",title:"Districts",title_key:"district",addButton:function(){P(!0),Ae()},disable:je,children:[l.districts.length<=0&&Object(y.jsxs)("div",{className:"text-center py-6",children:[Object(y.jsx)("h2",{className:"text-xl font-bold",children:"Not selected"}),Object(y.jsx)("p",{className:"text-gray-500",children:"No district criterial selected"})]}),l.districts.map((function(e,t){return Object(y.jsx)(ne,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:ke.bind(ae,e.id+"","districts"),title:e.name},t)}))]}),Object(y.jsxs)(te,{description:"A trainee without one of these district (s) will not attend",title:"Levels",title_key:"level",addButton:function(){W(!0),Ae()},disable:je,children:[l.levels.length<=0&&Object(y.jsxs)("div",{className:"text-center py-6",children:[Object(y.jsx)("h2",{className:"text-xl font-bold",children:"Not selected"}),Object(y.jsx)("p",{className:"text-gray-500",children:"No level criterial selected"})]}),l.levels.map((function(e,t){return Object(y.jsx)(ne,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:ke.bind(ae,e.id+"","levels"),title:e.name},t)}))]}),Object(y.jsxs)(te,{disable:je,description:"A trainee without one of these qualifications (s) will not attend",title:"Qualifications",title_key:"qualification",addButton:function(){$(!0),Ae()},children:[l.qualifications.length<=0&&Object(y.jsxs)("div",{className:"text-center py-6",children:[Object(y.jsx)("h2",{className:"text-xl font-bold",children:"Not selected"}),Object(y.jsx)("p",{className:"text-gray-500",children:"No qualification criterial selected"})]}),l.qualifications.map((function(e,t){return Object(y.jsx)(ne,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:ke.bind(ae,e.id+"","qualifications"),title:e.name},t)}))]}),Object(y.jsxs)(te,{disable:je,description:"A trainee without one of these positions (s) will not attend",title:"Position",title_key:"position",addButton:function(){Y(!0),Ae()},children:[l.positions.length<=0&&Object(y.jsxs)("div",{className:"text-center py-6",children:[Object(y.jsx)("h2",{className:"text-xl font-bold",children:"Not selected"}),Object(y.jsx)("p",{className:"text-gray-500",children:"No position criterial selected"})]}),l.positions.map((function(e,t){return Object(y.jsx)(ne,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:ke.bind(ae,e.id+"","positions"),title:e.name},t)}))]}),Object(y.jsxs)(te,{disable:je,description:"A trainee without one of these subjects (s) will not attend",title:"Subjects",title_key:"subject",addButton:function(){le(!0)},children:[l.subjects.length<=0&&Object(y.jsxs)("div",{className:"text-center py-6",children:[Object(y.jsx)("h2",{className:"text-xl font-bold",children:"Not selected"}),Object(y.jsx)("p",{className:"text-gray-500",children:"No position criterial selected"})]}),l.subjects.map((function(e,t){return Object(y.jsx)(ne,{el:t+1,id:e.course_code+"",loadingRemove:null,removeItem:Te.bind(ae,e.course_code),title:"".concat(e.course_code," - ").concat(e.course_name," - ").concat(e.level_name)},t)}))]})]})]}),Object(y.jsx)(G,{children:Object(y.jsxs)("div",{className:"text-right  flex-1 flex",children:[s&&Object(y.jsx)("section",{className:"flex-1 text-left",children:Object(y.jsx)(x.a,{theme:"default",onClick:s,loading:!1,children:"Previous"})}),a&&Object(y.jsx)("section",{className:"flex-1 text-right",children:Object(y.jsx)(x.a,{loading:je,theme:"success",onClick:function(){t&&(be(!0),Object(T.t)({districts:l.districts,levels:l.levels,positions:l.positions,qualifications:l.qualifications,sectors:l.sectors,subjects:l.subjects,strict:1,training_id:null===t||void 0===t?void 0:t.id},(function(e,t){e?(A({target:"MAIN-SUCCESS",msg:"Criterial updated successfully"}),n(l)):A({target:"MAIN-ERROR",msg:"Error: ".concat(t)}),setTimeout((function(){null===a||void 0===a||a()}),1e3),be(!1)})))},children:"Update & Continue"})})]})})]})},ce=n(3),le=n(6),de=n(545),oe=n(10),je=n(7),be=n.n(je),ue=n(11),he=n(394),xe=n(12),me={target:null,msg:""},ge=function(e){var t=e.training,n=e.submitTrainingResource,a=e.loading_materials,s=e.uploadFileSuccess,r=e.prevStep,c=e.stake_holder_id,l=Object(d.useState)([]),o=Object(_.a)(l,2),j=o[0],b=o[1],u=Object(d.useState)(!1),O=Object(_.a)(u,2),p=O[0],v=O[1],N=Object(d.useState)(me),S=Object(_.a)(N,2),E=S[0],A=S[1],I=Object(d.useState)(""),k=Object(_.a)(I,2),w=k[0],D=k[1],M=Object(d.useState)(""),U=Object(_.a)(M,2),z=U[0],P=U[1],L=Object(d.useState)(""),F=Object(_.a)(L,2),q=F[0],Y=F[1],B=Object(d.useState)(!1),H=Object(_.a)(B,2),V=H[0],W=H[1],K=Object(d.useState)(null),Q=Object(_.a)(K,2),J=Q[0],$=Q[1],X=Object(d.useState)(0),Z=Object(_.a)(X,2),ee=Z[0],te=Z[1],ne=Object(d.useState)(!1),ae=Object(_.a)(ne,2),ie=ae[0],se=ae[1];Object(d.useEffect)((function(){null!==t&&void 0!==t&&t.material_links&&b(null===t||void 0===t?void 0:t.material_links)}),[t]);var re=function(){return setTimeout((function(){A(me)}),3e3)},je=function(e){if(window.confirm("Are you sure you want to remove this resource??")){var t=j.filter((function(t){var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==e}));n(t),b(t),v(!1)}},ge=function(){var e=Object(le.a)(Object(ce.a)().mark((function e(){var n;return Object(ce.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.prev=1,(n=new FormData).append("development_partner_id",c),n.append("id",(null===t||void 0===t?void 0:t.id)+""),n.append("agenda_file_name",J[0]),Object(oe.a)(),e.next=9,be.a.patch(T.H,n,{onUploadProgress:function(e){var t=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100;te(t)}});case 9:$(null),te(0),A({target:"MAIN-SUCCESS",msg:"Document uploaded successfully!"}),s(J[0].name),setTimeout((function(){A(me)}),3e3),W(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),A({target:"MAIN-ERROR",msg:"Error: ".concat(Object(ue.a)(e.t0))}),W(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:["MAIN-SUCCESS"===E.target&&Object(y.jsx)(h.a,{theme:"success",fixed:!0,children:E.msg}),"MAIN-ERROR"===E.target&&Object(y.jsx)(h.a,{theme:"danger",fixed:!0,children:E.msg}),p&&Object(y.jsx)(R.c,{backDrop:!0,close:function(){return v(!1)},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add training Material(s) ",children:Object(y.jsxs)("div",{className:"border-t p-2",children:[Object(y.jsx)("section",{className:"p-2",children:Object(y.jsx)(C.a,{onChange:function(e){return D(e.target.value)},value:w,error:"",label:"Title",placeholder:"",disabled:a,name:""})}),Object(y.jsx)("section",{className:"p-2",children:Object(y.jsx)(C.a,{onChange:function(e){return P(e.target.value)},value:z,error:"",label:"Description",placeholder:"",name:"",disabled:a})}),Object(y.jsx)("section",{className:"p-2",children:Object(y.jsx)(C.a,{onChange:function(e){return Y(e.target.value)},value:q,error:"",label:"Material link from e-learning",placeholder:"",name:"",disabled:a})}),Object(y.jsx)("div",{className:"p-2 text-right",children:Object(y.jsx)(x.a,{type:"button",onClick:function(){if(w.length<=1)return re(),A({target:"MAIN-ERROR",msg:"Please provide a name"});if(q.length<=1)return re(),A({target:"MAIN-ERROR",msg:"Please provide a link"});var e={description:z,title:w,url:q,id:Object(de.a)()};n([].concat(Object(i.a)(j),[e])),b([].concat(Object(i.a)(j),[e])),v(!1),D(""),P(""),Y("")},loading:a,children:"Add material"})})]})}),ie&&Object(y.jsx)(R.c,{widthSizeClass:R.a.maxWidth,backDrop:!0,close:function(){return se(!1)},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Agenda file preview",children:Object(y.jsx)("div",{className:"border-t",children:Object(y.jsx)(he.a,{file_url:"".concat(xe.a).concat(null===t||void 0===t?void 0:t.agenda_file_name),class_name:"w-full h-100vh",frame_title:"",setLoadingFile:function(){}})})}),Object(y.jsxs)(m.a,{children:[Object(y.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(y.jsx)("section",{className:"text-5xl pr-2",children:Object(y.jsx)(f.i,{})}),Object(y.jsxs)("section",{children:[Object(y.jsx)(g.a,{size:"md",children:"Add training resource"}),Object(y.jsx)("p",{className:"text-gray-500",children:"Add the training plan and the resources"})]})]}),Object(y.jsxs)("div",{className:"p-2 flex w-full gap-4",children:[Object(y.jsx)("div",{className:"flex-1 py-4 text-center flex items-center bg-gray-100 rounded",children:!0===V?Object(y.jsxs)("div",{className:"text-center w-full",children:[Object(y.jsx)("section",{className:"text-8xl text-gray-500 pb-2 mx-auto animate__animated animate__fadeIn animate__infinite animate__slow",children:Object(y.jsx)(f.B,{className:"inline-block"})}),Object(y.jsxs)("div",{className:"px-5",children:[Object(y.jsx)("div",{className:"p-1  bg-blue-200 w-full rounded-full text-center",children:Object(y.jsxs)("section",{style:{width:"".concat(ee,"%")},className:" rounded-full w-6 bg-blue-600 text-center text-white py-0.5 font-bold text-xs",children:[ee.toFixed(0),"%"]})}),Object(y.jsx)("h2",{className:"pt-2 font-bold text-lg text-gray-400 text-center",children:"Uploading agenda"})]})]}):Object(y.jsx)("div",{className:"text-center w-full",children:Object(y.jsxs)("section",{children:[null!==t&&void 0!==t&&t.agenda_file_name&&t.agenda_file_name.length>=1?Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"flex border m-2 mx-4 bg-white p-1",children:[Object(y.jsx)("section",{className:"text-6xl text-blue-500 pb-2 mx-auto",children:Object(y.jsx)(f.H,{className:"inline-block"})}),Object(y.jsxs)("section",{className:"text-left pt-2 flex-1 pl-2",children:[Object(y.jsx)("h4",{className:"text-lg font-bold",children:t.agenda_file_name}),Object(y.jsx)("button",{onClick:function(){return se(!0)},className:"p-2 px-0 text-blue-700 font-bold hover:underline",children:"Preview agenda document"})]})]}),Object(y.jsx)("p",{className:"text-gray-500 mb-3",children:"You can replace the agenda document by uploading the new one"})]}):Object(y.jsxs)("section",{children:[Object(y.jsx)("section",{className:"text-8xl text-gray-500 pb-2 mx-auto",children:Object(y.jsx)(f.w,{className:"inline-block"})}),Object(y.jsx)("h2",{className:"text-2xl font-bold",children:"Upload agenda document"}),Object(y.jsx)("p",{className:"text-gray-500 mb-3",children:Object(y.jsx)("b",{children:"1MB max"})})]}),Object(y.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),J.length<=0)return A({target:"MAIN-ERROR",msg:"Pease provide a file"}),void re();ge()},children:Object(y.jsxs)("div",{className:"flex gap-3 bg-blue-100 items-center p-2 m-2 rounded",children:[Object(y.jsx)("div",{className:"flex-1 ",children:Object(y.jsx)("input",{type:"file",className:"p-2 border rounded bg-white w-full text-xl",onChange:function(e){return $(e.target.files)}})}),Object(y.jsx)(x.a,{theme:"primary",size:"lg",children:"Upload"})]})})," "]})})}),Object(y.jsxs)("div",{className:"flex-1 rounded border p-2",children:[Object(y.jsxs)("section",{className:"text-center border-b p-2 flex items-center",children:[Object(y.jsx)("section",{className:"text-2xl p-2 inline-block rounded-lg bg-blue-100 text-blue-600",children:Object(y.jsx)(f.fb,{className:"block"})}),Object(y.jsx)("h3",{className:"text-xl flex-1 font-bold text-left pl-2",children:"E-learning material links"}),Object(y.jsx)("section",{children:Object(y.jsx)(x.a,{theme:"success-light",onClick:function(){return v(!0)},children:"Add material"})})]}),Object(y.jsx)("div",{className:"p-3",children:j.map((function(e,t){return Object(y.jsxs)("section",{className:"p-2 border mb-2 rounded items-center border-blue-600 bg-blue-50 bg-opacity-40 hover:bg-blue-50 flex",children:[Object(y.jsx)("section",{className:"text-4xl pr-1 text-blue-600",children:Object(y.jsx)(f.fb,{className:"block"})}),Object(y.jsxs)("section",{className:"flex-1",children:[Object(y.jsx)("h2",{className:"font-bold hover:text-blue-500 hover:underline",children:e.title}),Object(y.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),Object(y.jsx)("section",{children:Object(y.jsx)(x.a,{theme:"danger-light",size:"sm",onClick:je.bind(undefined,e.id+""),disabled:a,children:Object(y.jsx)("h3",{className:"text-2xl",children:Object(y.jsx)(f.t,{})})})})]},t)}))})]})]})]}),Object(y.jsx)(G,{children:Object(y.jsx)("div",{className:"text-right  flex-1 flex",children:r&&Object(y.jsx)("section",{className:"flex-1 text-left",children:Object(y.jsx)(x.a,{theme:"default",onClick:r,loading:!1,children:"Previous"})})})})]})},Oe={target:null,msg:""},pe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).updatedRoomCapacity=function(e){console.log({update_room:e}),a.state.training&&a.state.training.groups&&a.setState({training:Object(p.a)(Object(p.a)({},a.state.training),{},{groups:a.state.training.groups.map((function(t){var n;return t.id.toString()===(null===e||void 0===e||null===(n=e.id)||void 0===n?void 0:n.toString())?Object(p.a)(Object(p.a)({},t),{},{number_of_trainees:e.number_of_trainees}):t}))})})},a.setStepOne__title=function(e){return a.setState({step_one__title:e})},a.setStepOne__description=function(e){return a.setState({step_one__description:e})},a.setStepOne__start_date=function(e){return a.setState({step_one__start_date:e})},a.setStepOne__end_date=function(e){return a.setState({step_one__end_date:e})},a.setStepOne__sub_area=function(e){return a.setState({step_one__sub_area:e})},a.setStepOne__budget=function(e){return a.setState({step_one__budget:e})},a.setStepOne__topic=function(e){return a.setState({step_one__topic:e})},a.AddTrainingInstitution=function(e){var t;a.state.training&&window.confirm("Are you sure you want to save changes")&&(a.setState({alert:Oe,loading__add_training_institution:!0}),Object(u.d)({training_id:null===(t=a.state.training)||void 0===t?void 0:t.id,data:e},(function(e,t,n){!0===e?(a.setState({alert:{target:"SUCCESS-ADD-TRAINING-INSTITUTION",msg:"The new institution has been added"},training:a.state.training?Object(p.a)(Object(p.a)({},a.state.training),{},{trainer_institution:a.state.training.trainer_institution?[].concat(Object(i.a)(a.state.training.trainer_institution),Object(i.a)(t)):Object(i.a)(t)}):a.state.training,loading__add_training_institution:!1}),a.cleanError(),setTimeout((function(){a.setState({add_training_institution:!1})}),3500)):a.setState({alert:{target:"ERROR-ADD-TRAINING-INSTITUTION",msg:"Error: ".concat(n)},loading__add_training_institution:!1}),a.cleanError()})))},a.AddTraineeCategory=function(e){a.state.training&&window.confirm("Are you sure you want to save changes")&&(a.setState({alert:Oe,loading__add_trainee_category:!0}),Object(u.c)({training_id:a.state.training.id,data:e},(function(e,t,n){!0===e?(a.setState({alert:{target:"SUCCESS-ADD-TRAINEE-CATEGORY",msg:"The new trainee categories has been added"},training:a.state.training?Object(p.a)(Object(p.a)({},a.state.training),{},{trainee_category:a.state.training.trainee_category?[].concat(Object(i.a)(a.state.training.trainee_category),Object(i.a)(t)):Object(i.a)(t)}):a.state.training,loading__add_trainee_category:!1}),a.cleanError(),setTimeout((function(){a.setState({add_trainee_category:!1})}),3500)):a.setState({alert:{target:"ERROR-ADD-TRAINEE-CATEGORY",msg:"Error: ".concat(n)},loading__add_trainee_category:!1})})))},a.DeleteTrainingInstitution=function(e){a.state.training&&window.confirm("Are you sure you want to remove the institution to this training?")&&(a.setState({delete_training_institution:e,alert:Oe}),Object(u.u)({training_id:a.state.training.id,id:e.toString()},(function(t,n){t?(a.setState({delete_training_institution:null,alert:{target:"MAIN-SUCCESS",msg:"Training institution has been removed to this training"},training:a.state.training?Object(p.a)(Object(p.a)({},a.state.training),{},{trainer_institution:a.state.training.trainer_institution?a.state.training.trainer_institution.filter((function(t){return(null===t||void 0===t?void 0:t.id)+""!==e+""})):a.state.training.trainer_institution}):a.state.training}),a.cleanError()):a.setState({delete_training_institution:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(n)}})})))},a.DeleteTraineeCategory=function(e){a.state.training&&window.confirm("Are you sure you want to remove the trainee category to this training?")&&(a.setState({delete_trainee_category:e,alert:Oe}),Object(u.s)({training_id:a.state.training.id,id:e.toString()},(function(t,n){t?a.setState({delete_trainee_category:null,alert:{target:"MAIN-SUCCESS",msg:"Trainee category has been removed to this training"},training:a.state.training?Object(p.a)(Object(p.a)({},a.state.training),{},{trainee_category:a.state.training.trainee_category?a.state.training.trainee_category.filter((function(t){var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==e.toString()})):a.state.training.trainee_category}):a.state.training}):a.setState({delete_trainee_category:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(n)}})})))},a.saveStepOneData=function(){var e,t;a.state.training&&(a.setState({loadingStepOneSave:!0}),Object(u.Tb)({agenda_file_name:"this is the file name",budget:+a.state.step_one__budget,description:a.state.step_one__description,development_partner_id:(null===(e=a.props.auth.stakeholder)||void 0===e?void 0:e.development_partner_id)+"",end_date:a.state.step_one__start_date,id:null===(t=a.state.training)||void 0===t?void 0:t.id,material_links:[{title:"doc"},{title:""}],start_date:a.state.step_one__start_date,sub_area_id:a.state.step_one__sub_area,title:a.state.step_one__title,topic_id:a.state.step_one__topic,total:0},(function(e,t){e?a.setState({loadingStepOneSave:!1,alert:{target:"MAIN-SUCCESS",msg:"Data updated successfully"},step:2}):a.setState({loadingStepOneSave:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}}),a.cleanError()})))},a.deleteCenterGroup=function(e){var t=e.training_id,n=e.id;window.confirm("Are you sure you want to remove this center")&&(a.setState({delete_group_loading:n}),Object(u.p)(n,t,(function(e,t){var i;e?a.setState({delete_group_loading:null,alert:{target:"MAIN-SUCCESS",msg:"the center has bee removed"},training:a.state.training&&Object(p.a)(Object(p.a)({},a.state.training),{},{groups:null===(i=a.state.training.groups)||void 0===i?void 0:i.filter((function(e){return e.id.toString()!==n.toString()}))})||a.state.training}):a.setState({delete_group_loading:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}});a.cleanError()})))},a.addGroupHandler=function(e){a.state.training&&a.setState({open_add_group:e,addCenter:!0})},a.addRoomToCenterData=function(e){a.state.training&&a.setState({training:Object(p.a)(Object(p.a)({},a.state.training),{},{groups:[].concat(Object(i.a)(a.state.training.groups||[]),[e])}),open_add_group:null})},a.updateCriterial=function(e){a.state.training&&a.setState({training:Object(p.a)(Object(p.a)({},a.state.training),{},{trainee_criteria:e}),open_add_group:null})},a.updateMaterials=function(e){var t,n;a.state.training&&(a.setState({loading_materials:!0}),Object(u.Tb)({agenda_file_name:"this is the file name",budget:+a.state.step_one__budget,description:a.state.step_one__description,development_partner_id:(null===(t=a.props.auth.stakeholder)||void 0===t?void 0:t.development_partner_id)+"",end_date:a.state.step_one__start_date,id:null===(n=a.state.training)||void 0===n?void 0:n.id,material_links:e,start_date:a.state.step_one__start_date,sub_area_id:a.state.step_one__sub_area,title:a.state.step_one__title,topic_id:a.state.step_one__topic,total:0},(function(t,n){t?a.setState({loading_materials:!1,alert:{target:"MAIN-SUCCESS",msg:"Material links updated successfully"},training:a.state.training?Object(p.a)(Object(p.a)({},a.state.training),{},{material_links:e}):a.state.training}):a.setState({loading_materials:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(n)}}),a.cleanError()})))},a.uploadFileSuccess=function(e){a.state.training&&a.setState({training:Object(p.a)(Object(p.a)({},a.state.training),{},{agenda_file_name:e})})},a.state={loading:!0,step:1,loading_submit:!1,training:null,alert:Oe,add_training_institution:!1,delete_training_institution:null,loading__add_training_institution:!1,add_trainee_category:!1,loading__add_trainee_category:!1,delete_trainee_category:null,loadingStepOneSave:!1,step_one__title:"",step_one__description:"",step_one__start_date:"",step_one__end_date:"",step_one__sub_area:"",step_one__budget:"",step_one__topic:"",addCenter:!1,addCenter_loading:!1,delete_group_loading:null,open_add_group:null,loading_add_group:!1,loading_materials:!1,delete_loading:null},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;if(null===(e=this.props.auth.stakeholder)||void 0===e||!e.development_partner_id)return this.setState({loading:!1,alert:{msg:"Failed to authenticate you",target:"MAIN-ERROR"}});Object(u.qb)(this.props.training_id,(function(e,n,a){var i,s;e?t.setState({loading:!1,alert:Oe,training:n,step_one__title:(null===n||void 0===n?void 0:n.title)||"",step_one__description:(null===n||void 0===n?void 0:n.description)||"",step_one__start_date:Object(E.a)((null===n||void 0===n?void 0:n.start_date)+"","YYYY-MM-DD"),step_one__end_date:Object(E.a)((null===n||void 0===n?void 0:n.end_date)+"","YYYY-MM-DD"),step_one__sub_area:(null===n||void 0===n?void 0:n.sub_area_id)||"",step_one__budget:(null===n||void 0===n||null===(i=n.budget)||void 0===i?void 0:i.toString())||"",step_one__topic:(null===n||void 0===n||null===(s=n.topic_id)||void 0===s?void 0:s.toString())+""}):t.setState({loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)},training:n})}))}},{key:"cleanError",value:function(){var e=this;setTimeout((function(){e.setState({alert:Oe})}),3e3)}},{key:"render",value:function(){var e,t,n,a,s,r=this;return this.state.loading?Object(y.jsx)("div",{className:"py-8 text-center",children:Object(y.jsx)(O.a,{})}):Object(y.jsxs)(y.Fragment,{children:[!0===this.state.add_training_institution&&Object(y.jsx)(w,{close:function(){return r.setState({add_training_institution:!1})},path_url:u.Ac,submit:this.AddTrainingInstitution,submit_loading:this.state.loading__add_training_institution,title:"Add Training institution(s)",existing_data:(null===(e=this.state.training)||void 0===e?void 0:e.trainer_institution)||[],error_msg:"ERROR-ADD-TRAINING-INSTITUTION"===this.state.alert.target?this.state.alert.msg:"",success_msg:"SUCCESS-ADD-TRAINING-INSTITUTION"===this.state.alert.target?this.state.alert.msg:""}),!0===this.state.add_trainee_category&&Object(y.jsx)(w,{close:function(){return r.setState({add_trainee_category:!1})},path_url:u.yc,submit:this.AddTraineeCategory,submit_loading:this.state.loading__add_trainee_category,title:"Add Trainee category",existing_data:(null===(t=this.state.training)||void 0===t?void 0:t.trainee_category)||[],error_msg:"ERROR-ADD-TRAINEE-CATEGORY"===this.state.alert.target?this.state.alert.msg:"",success_msg:"SUCCESS-ADD-TRAINEE-CATEGORY"===this.state.alert.target?this.state.alert.msg:""}),!0===this.state.addCenter&&this.state.training&&Object(y.jsx)(k,{training_id:null===(n=this.state.training)||void 0===n?void 0:n.id,close:function(){return r.setState({addCenter:!1,open_add_group:null})},selectedCenter:this.state.open_add_group,centers:(null===(a=this.state.training)||void 0===a?void 0:a.centers)||[],successHandler:function(e){return r.setState({training:r.state.training&&Object(p.a)(Object(p.a)({},r.state.training),{},{groups:[].concat(Object(i.a)(r.state.training.groups||[]),[e])})||r.state.training})}}),"MAIN-SUCCESS"===this.state.alert.target&&Object(y.jsx)(h.a,{theme:"success",fixed:!0,children:this.state.alert.msg}),"MAIN-ERROR"===this.state.alert.target&&Object(y.jsx)(h.a,{theme:"danger",fixed:!0,children:this.state.alert.msg}),Object(y.jsx)("div",{className:"lg:sticky top-3 z-50 ",children:Object(y.jsxs)(m.a,{children:[Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)("div",{className:"flex-1",children:Object(y.jsx)(g.a,{size:"lg",className:" py-2 lg:pb-3 lg:pt-2 font-light text-left text-gray-500",children:this.state.training?"".concat(this.state.training.title):"Training request"})}),!1===this.state.loading_submit&&Object(y.jsx)(x.a,{size:"md",theme:"danger-light",onClick:function(){return window.confirm("Are you sure you want to stop the request process \n All your previous choices will be lost")&&r.props.close()},children:"Close"})]}),Object(y.jsx)("div",{className:"grid overflow-hidden grid-cols-2 lg:grid-cols-4 border rounded-md",children:[{step:1,title:"Basic info",description:"Basic information"},{step:2,title:"Training area",description:"Centers & groups & Trainers"},{step:3,title:"Targeted group & Criterial",description:"Users and criterial"},{step:4,title:"Documents & Resources",description:"Required documents"}].map((function(e,t){return Object(y.jsx)(D,{onClick:function(){r.setState({step:e.step})},active:e.step===r.state.step,description:e.description,number:e.step,theme:e.step===r.state.step?"yellow":r.state.step>e.step?"green":"gray",title:e.title,priority:e.step<=r.state.step},t)}))})]})}),1===this.state.step&&this.state.training&&Object(y.jsx)(F,{loadingStepOneSave:this.state.loadingStepOneSave,sub_area_id:this.state.training.sub_area_id||"",successData:this.saveStepOneData,trainee_category:this.state.training.trainee_category?this.state.training.trainee_category:[],trainer_institutions:this.state.training.trainer_institution?this.state.training.trainer_institution:[],addTraineeCategory:function(){return r.setState({add_trainee_category:!0})},addTrainerInstitution:function(){return r.setState({add_training_institution:!0})},loadingTraineeCategory:!1,loadingTrainerInstitution:!1,removeTraineeCategory:this.DeleteTraineeCategory,removeTrainerInstitution:this.DeleteTrainingInstitution,loadingTraineeCategoryRemove:this.state.delete_trainee_category,loadingTrainersInstitutionRemove:this.state.delete_training_institution,step_one__title:this.state.step_one__title,step_one__description:this.state.step_one__description,step_one__start_date:this.state.step_one__start_date,step_one__end_date:this.state.step_one__end_date,step_one__sub_area:this.state.step_one__sub_area,step_one__budget:this.state.step_one__budget,setStepOne__title:this.setStepOne__title,setStepOne__description:this.setStepOne__description,setStepOne__start_date:this.setStepOne__start_date,setStepOne__end_date:this.setStepOne__end_date,setStepOne__sub_area:this.setStepOne__sub_area,setStepOne__budget:this.setStepOne__budget,step_one__topic:this.state.step_one__topic,setStepOne__topic:this.setStepOne__topic}),2===this.state.step&&this.state.training&&Object(y.jsx)(X,{training:this.state.training,addCenter:function(){return r.setState({addCenter:!0})},deleteCenterGroup:this.deleteCenterGroup,delete_group_loading:this.state.delete_group_loading,addGroupHandler:this.addGroupHandler,updatedRoomCapacity:this.updatedRoomCapacity,nextStep:function(){return r.setState({step:3})},prevStep:function(){return r.setState({step:1})}}),3===this.state.step&&this.state.training&&Object(y.jsx)(re,{training:this.state.training,successCriterial:this.updateCriterial,prevStep:function(){return r.setState({step:2})},nextStep:function(){return r.setState({step:4})}}),4===this.state.step&&this.state.training&&Object(y.jsx)(ge,{training:this.state.training,submitTrainingResource:this.updateMaterials,loading_materials:this.state.loading_materials,uploadFileSuccess:this.uploadFileSuccess,prevStep:function(){return r.setState({step:2})},stake_holder_id:(null===(s=this.props.auth.stakeholder)||void 0===s?void 0:s.development_partner_id)+""})]})}}]),n}(o.a.Component),_e=Object(b.b)((function(e){return{auth:e.auth}}),{})(pe),ve={target:null,msg:""};!function(e){e.DEFAULT="DEFAULT",e.CENTERS_TRAINERS="CENTERS_TRAINERS",e.TRAINING_CRITERIAL="TRAINING_CRITERIAL",e.TRAINEE="TRAINEE",e.PREVIEW_AGENDA="PREVIEW_AGENDA"}(a||(a={}));var fe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).deleteTraining=function(e){window.confirm("Are you sure you want to delete this training")&&(i.setState({delete_loading:!0}),Object(u.t)(e,(function(e,t){e?(i.setState({delete_loading:!1,alert:{target:"MAIN-SUCCESS",msg:"Training removed successfully"}}),setTimeout((function(){i.props.deleteUpdate()}),2e3)):i.setState({delete_loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}})})))},i.state={loading:!0,step:2,loading_submit:!1,training:null,alert:ve,tab:a.DEFAULT,delete_loading:!1,centers_type:"CENTERS",change_training_status:!1,loading_training_status:!1,status_value:"DRAFT"},i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(u.qb)(this.props.training_id,(function(t,n,a){t?e.setState({loading:!1,alert:ve,training:n}):e.setState({loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)},training:n})}))}},{key:"cleanError",value:function(){var e=this;setTimeout((function(){e.setState({alert:ve})}),3e3)}},{key:"render",value:function(){var e,t,n,i,s,r,c,l,d,o,j,b,u,h,p,_,f,N,S,C,T,A,I,k,w,D,M,U,G,z,P,L=this;if(this.state.loading)return Object(y.jsx)("div",{className:"py-8 text-center",children:Object(y.jsx)(O.a,{})});var F=this.state.training;return Object(y.jsxs)(y.Fragment,{children:[this.state.change_training_status&&Object(y.jsx)(R.c,{backDrop:!0,close:function(){return L.setState({change_training_status:!1})},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Change training",children:Object(y.jsxs)("div",{className:"border-t p-2",children:[Object(y.jsx)("section",{className:"p-2",children:Object(y.jsx)(v.a,{onChange:function(e){return L.setState({status_value:e.target.value})},value:this.state.status_value,error:"",label:"Training status",placeholder:"",name:"",data:[{value:"",title:""},{value:"DRAFT",title:"Draft"},{value:"READY_FOR_EVALUATION",title:"READY_FOR_EVALUATION"},{value:"INPROGRESS",title:"INPROGRESS"},{value:"COMPLETED",title:"COMPLETED"},{value:"CANCELLED",title:"CANCELLED"}]})}),Object(y.jsx)("section",{className:"p-2 text-right",children:Object(y.jsx)(x.a,{type:"button",children:"Update status"})})]})}),Object(y.jsxs)(m.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(y.jsxs)("div",{className:"border-b p-2 flex items-center",children:[Object(y.jsx)("div",{className:"",children:Object(y.jsx)(x.a,{theme:"primary-light",size:"sm",onClick:this.props.close,children:"Back"})}),Object(y.jsx)("div",{className:"pl-2 text-2xl font-bold text-gray-500",children:"Training details"}),Object(y.jsxs)("div",{className:"flex-1 text-right",children:[(null===(e=this.state.training)||void 0===e?void 0:e.id)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(x.a,{onClick:this.props.editTraining.bind(this,null===(t=this.state.training)||void 0===t?void 0:t.id.toString()),theme:"primary-light",children:"Edit training"})," ",Object(y.jsx)(x.a,{onClick:function(){L.setState({change_training_status:!0})},theme:"success-light",children:"Set training for review"})]})," ",(null===(n=this.state.training)||void 0===n?void 0:n.id)&&Object(y.jsx)(x.a,{onClick:this.deleteTraining.bind(this,null===(i=this.state.training)||void 0===i?void 0:i.id.toString()),theme:"danger-light",children:"Delete training"})]})]}),Object(y.jsxs)("div",{className:"p-2 lg:flex",children:[Object(y.jsxs)("div",{className:"flex-1 lg:pr-3",children:[Object(y.jsx)("label",{className:"text-xs text-accent-900",children:"Training name:"}),Object(y.jsx)("h1",{className:"text-xl font-bold pb-1",children:null===F||void 0===F?void 0:F.title}),Object(y.jsx)("label",{className:"text-xs text-accent-900 pt-2",children:"Training description:"}),Object(y.jsx)("p",{className:"-mt-1 text-gray-600",children:null===F||void 0===F?void 0:F.description})]}),Object(y.jsxs)("div",{className:"flex-2",children:[Object(y.jsx)("div",{className:"py-2 text-right gap-2"}),Object(y.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{title:"Trainees capacity",number:null===F||void 0===F?void 0:F.total_trainees},{title:"Available Trainees",number:null===F||void 0===F?void 0:F.total_trainees},{title:"Attended trainee",number:null===F||void 0===F?void 0:F.total_trainee_capacity},{title:"Total Trainers",number:null===F||void 0===F?void 0:F.total_trainers},{title:"Total Groups",number:null===F||void 0===F?void 0:F.total_groups},{title:"Total Center",number:null===F||void 0===F?void 0:F.total_centers}].map((function(e,t){return Object(y.jsxs)("div",{className:"py-1 px-2 text-center rounded border",children:[Object(y.jsx)("label",{className:"text-gray-500 text-sm",children:e.title}),Object(y.jsx)("h2",{className:"text-xl font-bold",children:e.number})]},t)}))})]})]}),Object(y.jsx)("div",{className:"border-b pt-3",children:Object(y.jsxs)("section",{className:"flex",children:[Object(y.jsx)("button",{onClick:function(){return L.setState({tab:a.DEFAULT})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===a.DEFAULT?"bg-accent-400 text-accent-900":""),children:"Details"}),Object(y.jsx)("button",{onClick:function(){return L.setState({tab:a.CENTERS_TRAINERS})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===a.CENTERS_TRAINERS?"bg-accent-400 text-accent-900":""),children:"Centers & Trainers"}),Object(y.jsx)("button",{onClick:function(){return L.setState({tab:a.TRAINING_CRITERIAL})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===a.TRAINING_CRITERIAL?"bg-accent-400 text-accent-900":""),children:"Training criteria"}),Object(y.jsx)("button",{onClick:function(){return L.setState({tab:a.TRAINEE})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===a.TRAINEE?"bg-accent-400 text-accent-900":""),children:"Trainee"}),Object(y.jsx)("button",{onClick:function(){return L.setState({tab:a.PREVIEW_AGENDA})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===a.PREVIEW_AGENDA?"bg-accent-400 text-accent-900":""),children:"Training agenda"})]})})," ",Object(y.jsxs)("div",{className:"pt-2",children:[this.state.tab===a.DEFAULT&&Object(y.jsxs)("div",{className:"flex gap-4 w-full  animate__animated animate__zoomIn animate__faster",children:[Object(y.jsxs)("div",{className:"flex-1 p-3",children:[Object(y.jsxs)("div",{className:"border rounded p-1",children:[Object(y.jsx)("label",{className:"text-sm text-gray-500",children:"Development partner"}),Object(y.jsx)("h4",{className:"font-bold",children:null===F||void 0===F?void 0:F.development_partner_name})]}),Object(y.jsxs)("div",{className:"border rounded p-1 mt-1",children:[Object(y.jsx)("label",{className:"text-sm text-gray-500",children:"Sub area"}),Object(y.jsx)("h4",{className:"font-bold",children:null===F||void 0===F?void 0:F.intervention_area})]}),Object(y.jsxs)("div",{className:"border rounded p-1 mt-1",children:[Object(y.jsx)("label",{className:"text-sm text-gray-500",children:"Sub area"}),Object(y.jsx)("h4",{className:"font-bold",children:null===F||void 0===F?void 0:F.sub_area_name})]}),Object(y.jsxs)("div",{className:"border rounded p-1 mt-1",children:[Object(y.jsx)("label",{className:"text-sm text-gray-500",children:"Development partner"}),Object(y.jsx)("h4",{className:"font-bold",children:null===F||void 0===F?void 0:F.development_partner_name})]}),Object(y.jsxs)("div",{className:"border rounded p-1 mt-1",children:[Object(y.jsx)("label",{className:"text-sm text-gray-500 ",children:"Evaluation status"}),Object(y.jsx)("h4",{className:"font-bold text-accent-900",children:null===F||void 0===F?void 0:F.evaluation_status})]}),Object(y.jsxs)("div",{className:"border rounded p-1 mt-4",children:[Object(y.jsx)("label",{className:"text-sm text-gray-500",children:"Training start date"}),Object(y.jsx)("h4",{className:"font-bold",children:Object(E.a)((null===F||void 0===F?void 0:F.start_date)+"")})]}),Object(y.jsxs)("div",{className:"border rounded p-1 mt-1",children:[Object(y.jsx)("label",{className:"text-sm text-gray-500",children:"Training end date"}),Object(y.jsx)("h4",{className:"font-bold",children:Object(E.a)((null===F||void 0===F?void 0:F.start_date)+"")})]})]}),Object(y.jsxs)("div",{className:"flex-1 p-3",children:[Object(y.jsxs)("div",{className:"p-2 border rounded",children:[Object(y.jsx)("h1",{className:"text-xl font-bold",children:"Trainee category"}),Object(y.jsx)("p",{className:"text-gray-500",children:"Who you are going to train"}),Object(y.jsx)("div",{className:"pt-2",children:null===F||void 0===F||null===(s=F.trainee_category)||void 0===s?void 0:s.map((function(e,t){return Object(y.jsxs)("div",{className:"p-2 mb-1 border border-blue-600 rounded font-bold text-lg bg-blue-50",children:[Object(y.jsxs)("span",{className:"text-gray-400",children:[t+1," - "]})," ",e.name]},t)}))}),(!(null!==F&&void 0!==F&&F.trainee_category)||(null===F||void 0===F?void 0:F.trainee_category.length)<=0)&&Object(y.jsx)("div",{className:"py-8 text-center opacity-25 bg-gray-100 rounded",children:Object(y.jsx)("h2",{className:"font-bold",children:"No trainees category "})})]}),Object(y.jsxs)("div",{className:"p-2 border rounded mt-4",children:[Object(y.jsx)("h1",{className:"text-xl font-bold",children:"Trainers institution"}),Object(y.jsx)("p",{className:"text-gray-500",children:"Who will help you to provide trainings"}),Object(y.jsxs)("div",{className:"pt-2",children:[null===F||void 0===F||null===(r=F.trainer_institution)||void 0===r?void 0:r.map((function(e,t){return Object(y.jsxs)("div",{className:"p-2 mb-1 border border-blue-600 rounded font-bold text-lg bg-blue-50",children:[Object(y.jsxs)("span",{className:"text-gray-400",children:[t+1," - "]})," ",e.name]},t)})),(!(null!==F&&void 0!==F&&F.trainer_institution)||(null===F||void 0===F?void 0:F.trainer_institution.length)<=0)&&Object(y.jsx)("div",{className:"py-8 text-center opacity-25 bg-gray-100 rounded",children:Object(y.jsxs)("h2",{className:"font-bold",children:["No trainer institutions"," "]})})]})]})]})]}),this.state.tab===a.CENTERS_TRAINERS&&Object(y.jsxs)("div",{className:" animate__animated animate__zoomIn animate__faster",children:[Object(y.jsxs)("div",{className:"p-3 bg-gray-100 items-center rounded-t-md mt-2 flex",children:[Object(y.jsx)("section",{className:"flex-1",children:Object(y.jsx)(g.a,{size:"lg",children:"Centers & Trainers"})}),Object(y.jsxs)("section",{className:"p-1 flex gap-2 bg-blue-300 rounded",children:[Object(y.jsx)(x.a,{theme:"CENTERS"===this.state.centers_type?"primary":"primary-light",onClick:function(){return L.setState({centers_type:"CENTERS"})},children:"Centers"}),Object(y.jsx)(x.a,{theme:"TRAINERS"===this.state.centers_type?"primary":"primary-light",onClick:function(){return L.setState({centers_type:"TRAINERS"})},children:"Trainers"})]})]}),"CENTERS"===this.state.centers_type&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("table",{className:"w-full table-border",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"text-left",children:[Object(y.jsx)("th",{className:"p-2 border",children:"#"}),Object(y.jsx)("th",{className:"p-2 border",children:"Center name"}),Object(y.jsx)("th",{className:"p-2 border",children:"District"}),Object(y.jsx)("th",{className:"p-2 border",children:"Center type"}),Object(y.jsx)("th",{className:"p-2 border",children:"Group"}),Object(y.jsx)("th",{className:"p-2 border",children:"Total trainees"})]})}),Object(y.jsxs)("tbody",{children:[(!(null!==(c=this.state.training)&&void 0!==c&&c.groups)||(null===(l=this.state.training)||void 0===l||null===(d=l.groups)||void 0===d?void 0:d.length)<=0)&&Object(y.jsx)("tr",{children:Object(y.jsxs)("td",{className:"py-8 text-center",colSpan:12,children:[Object(y.jsx)("h1",{className:"text-2xl",children:"No trainings found"}),Object(y.jsx)("p",{children:"No trainings center assigned to this"})]})}),(null===(o=this.state.training)||void 0===o?void 0:o.groups)&&(null===(j=this.state.training)||void 0===j?void 0:j.groups.map((function(e,t){return Object(y.jsxs)("tr",{className:"hover:bg-accent-400",children:[Object(y.jsx)("td",{className:"p-2 border",children:t+1}),Object(y.jsx)("td",{className:"p-2 border font-bold",children:e.center_name}),Object(y.jsx)("td",{className:"p-2 border",children:e.district_name}),Object(y.jsx)("td",{className:"p-2 border",children:e.center_type_name}),Object(y.jsx)("td",{className:"p-2 border",children:e.group_name}),Object(y.jsx)("td",{className:"p-2 border",children:e.number_of_trainees})]},t)})))]})]})}),"TRAINERS"===this.state.centers_type&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("table",{className:"w-full table-border",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"text-left",children:[Object(y.jsx)("th",{className:"p-2 border",children:"#"}),Object(y.jsx)("th",{className:"p-2 border",children:"NID"}),Object(y.jsx)("th",{className:"p-2 border",children:"Names"}),Object(y.jsx)("th",{className:"p-2 border",children:"Phone"}),Object(y.jsx)("th",{className:"p-2 border",children:"Email"})]})}),Object(y.jsx)("tbody",{children:Object(y.jsx)("tr",{children:Object(y.jsxs)("td",{className:"py-9 text-center ",colSpan:10,children:[Object(y.jsx)("h2",{className:"text-4xl ",children:"No trainers found"}),Object(y.jsx)("h2",{className:"text-gray-500",children:"No trainers found on this training"})]})})})]})})]}),this.state.tab===a.TRAINING_CRITERIAL&&Object(y.jsxs)("div",{className:"p-4 rounded bg-gray-100 animate__animated animate__zoomIn animate__faster",children:[(null===(b=this.state.training)||void 0===b?void 0:b.trainee_criteria)&&Object(y.jsx)("div",{className:"text-center py-5",children:Object(y.jsx)("h2",{className:"",children:"This training has no criterial"})}),(null===(u=this.state.training)||void 0===u?void 0:u.trainee_criteria)&&Object(y.jsxs)("div",{className:"grid sm:grid-cols-1 lg:grid-cols-2 gap-4",children:[(null===(h=this.state.training)||void 0===h?void 0:h.trainee_criteria.positions.length)>=1&&Object(y.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(y.jsx)("h1",{className:"text-xl font-bold pb-1",children:"Positions"}),Object(y.jsxs)("table",{className:"border w-full",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"text-left",children:[Object(y.jsx)("th",{className:"border p-2",children:"#"}),Object(y.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(y.jsxs)("tbody",{children:[(null===(p=this.state.training)||void 0===p?void 0:p.trainee_criteria.positions.length)<=0&&Object(y.jsx)("tr",{className:"",children:Object(y.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(y.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(_=this.state.training)||void 0===_?void 0:_.trainee_criteria.positions.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"p-2 border",children:e.id}),Object(y.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(f=this.state.training)||void 0===f?void 0:f.trainee_criteria.levels.length)>=1&&Object(y.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(y.jsx)("h1",{className:"text-xl font-bold",children:"Levels"}),Object(y.jsxs)("table",{className:"border w-full",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"text-left",children:[Object(y.jsx)("th",{className:"border p-2",children:"#"}),Object(y.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(y.jsxs)("tbody",{children:[(null===(N=this.state.training)||void 0===N?void 0:N.trainee_criteria.levels.length)<=0&&Object(y.jsx)("tr",{className:"",children:Object(y.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(y.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(S=this.state.training)||void 0===S?void 0:S.trainee_criteria.levels.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"p-2 border",children:e.id}),Object(y.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(C=this.state.training)||void 0===C?void 0:C.trainee_criteria.qualifications.length)>=1&&Object(y.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(y.jsx)("h1",{className:"text-xl font-bold",children:"Qualifications"}),Object(y.jsxs)("table",{className:"border w-full",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"text-left",children:[Object(y.jsx)("th",{className:"border p-2",children:"#"}),Object(y.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(y.jsxs)("tbody",{children:[(null===(T=this.state.training)||void 0===T?void 0:T.trainee_criteria.qualifications.length)<=0&&Object(y.jsx)("tr",{className:"",children:Object(y.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(y.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(A=this.state.training)||void 0===A?void 0:A.trainee_criteria.qualifications.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"p-2 border",children:e.id}),Object(y.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(I=this.state.training)||void 0===I?void 0:I.trainee_criteria.districts.length)>=1&&Object(y.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(y.jsx)("h1",{className:"text-xl font-bold",children:"Districts"}),Object(y.jsxs)("table",{className:"border w-full",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"text-left",children:[Object(y.jsx)("th",{className:"border p-2",children:"#"}),Object(y.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(y.jsxs)("tbody",{children:[(null===(k=this.state.training)||void 0===k?void 0:k.trainee_criteria.districts.length)<=0&&Object(y.jsx)("tr",{className:"",children:Object(y.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(y.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(w=this.state.training)||void 0===w?void 0:w.trainee_criteria.districts.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"p-2 border",children:e.id}),Object(y.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(D=this.state.training)||void 0===D?void 0:D.trainee_criteria.sectors.length)>=1&&Object(y.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(y.jsx)("h1",{className:"text-xl font-bold",children:"Sector"}),Object(y.jsxs)("table",{className:"border w-full",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"text-left",children:[Object(y.jsx)("th",{className:"border p-2",children:"#"}),Object(y.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(y.jsxs)("tbody",{children:[(null===(M=this.state.training)||void 0===M?void 0:M.trainee_criteria.sectors.length)<=0&&Object(y.jsx)("tr",{className:"",children:Object(y.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(y.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(U=this.state.training)||void 0===U?void 0:U.trainee_criteria.sectors.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"p-2 border",children:e.id}),Object(y.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(G=this.state.training)||void 0===G?void 0:G.trainee_criteria.subjects.length)>=1&&Object(y.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(y.jsx)("h1",{className:"text-xl font-bold",children:"Subjects"}),Object(y.jsxs)("table",{className:"border w-full",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"text-left",children:[Object(y.jsx)("th",{className:"border p-2",children:"Code"}),Object(y.jsx)("th",{className:"border p-2",children:"Name"}),Object(y.jsx)("th",{className:"border p-2",children:"Level"})]})}),Object(y.jsxs)("tbody",{children:[(null===(z=this.state.training)||void 0===z?void 0:z.trainee_criteria.subjects.length)<=0&&Object(y.jsx)("tr",{className:"",children:Object(y.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(y.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(P=this.state.training)||void 0===P?void 0:P.trainee_criteria.subjects.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"p-2 border",children:e.course_code}),Object(y.jsx)("td",{className:"p-2 border",children:e.course_name}),Object(y.jsx)("td",{className:"p-2 border",children:e.level_name})]},e.course_code)}))]})]})]})]})]}),this.state.tab===a.TRAINEE&&Object(y.jsxs)("div",{className:" animate__animated animate__zoomIn animate__faster",children:[" ","TRAINEE"]}),this.state.tab===a.PREVIEW_AGENDA&&Object(y.jsx)("div",{className:" animate__animated animate__zoomIn animate__faster",children:Object(y.jsx)(he.a,{file_url:"".concat(xe.a).concat(null===F||void 0===F?void 0:F.agenda_file_name),class_name:"w-full h-100vh",frame_title:"",setLoadingFile:function(){}})})]})]})]})}}]),n}(o.a.Component),Ne=Object(b.b)((function(e){return{auth:e.auth}}),{})(fe),ye=void 0,Se=function(e){var t=e.training,n=e.viewDetails,a=e.editTraining,i=e.deleteTraining,s=e.delete_loading,r=e.update_loading;return t.title||t.implementation_status&&"DRAFT"!==t.implementation_status?Object(y.jsx)("div",{onClick:null===n||void 0===n?void 0:n.bind(ye,t.id),className:"mb-2 pl-4 bg-white p-2 rounded border cursor-pointer hover:border-2  hover:border-yellow-700",children:Object(y.jsxs)("div",{className:"flex  items-center",children:[Object(y.jsxs)("div",{className:"flex-1",children:[Object(y.jsx)("h2",{className:"text-xl font-bold hover:underline cursor-pointer",children:null===t||void 0===t?void 0:t.title}),Object(y.jsx)("p",{className:"text-accent-900 -mt-1",children:t.development_partner_name})]}),Object(y.jsxs)("div",{className:"px-4 text-gray-500 lg:border-r border-l",children:[Object(y.jsxs)("section",{children:["Area of intervention"," ",Object(y.jsx)("b",{className:"text-black",children:t.intervention_area})]}),Object(y.jsxs)("section",{children:["Sub area",Object(y.jsx)("b",{className:"text-black",children:t.sub_area_name})," -"," ",Object(y.jsx)("b",{className:"text-black",children:t.topic})]})]}),Object(y.jsxs)("div",{className:"px-2 text-sm",children:[Object(y.jsxs)("p",{children:["Start date: ",Object(y.jsx)("b",{children:Object(E.a)(t.start_date)})]}),Object(y.jsxs)("p",{children:["End date: ",Object(y.jsx)("b",{children:Object(E.a)(t.end_date)})]})]}),Object(y.jsx)("div",{className:"px-2",children:Object(y.jsx)("label",{className:"px-2 py-1 font-bold text-green-500 bg-green-100 rounded-lg",children:"DRAFT"})})]})},t.id):Object(y.jsx)("div",{className:"mb-2 pl-4 bg-white p-2 rounded border hover:border-2  hover:border-yellow-700",children:Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)("div",{className:"text-5xl pr-3 text-accent-900",children:Object(y.jsx)(f.Hb,{})}),Object(y.jsxs)("div",{className:"flex-1",children:[Object(y.jsx)("h4",{className:"font-bold text-lg text-accent-900",children:"This draft looks empty"}),Object(y.jsxs)("h4",{children:["Please click on ",Object(y.jsx)("u",{children:"edit draft"})," and add more information or delete the draft if you created ot accidentally."," "]})]}),Object(y.jsx)("div",{className:"pr-4",children:a&&Object(y.jsx)(x.a,{onClick:a.bind(ye,t.id),disabled:null!==r,loading:(null===r||void 0===r?void 0:r.toString())===t.id.toString(),children:"Edit Draft Draft"})}),Object(y.jsx)("div",{className:"",children:i&&Object(y.jsx)(x.a,{onClick:i.bind(ye,t.id),theme:"danger-light",disabled:null!==s,loading:(null===s||void 0===s?void 0:s.toString())===t.id.toString(),children:"Delete Draft"})})]})})},Ce={target:null,msg:""},Re=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).selectTrainingToEdit=function(e){a.setState({selected_training_edit:e})},a.clearError=function(){return setTimeout((function(){a.setState({alert:Ce})}),3e3)},a.createTrainingDraft=function(){var e;window.confirm("Are you sure you want to request for training application?")&&(a.setState({loading_create_training_draft:!0}),Object(u.o)((null===(e=a.props.auth.stakeholder)||void 0===e?void 0:e.development_partner_id)+"",(function(e,t,n){a.setState({loading_create_training_draft:!1,trainings:e&&t?[t].concat(Object(i.a)(a.state.trainings)):a.state.trainings,selected_training_edit:e&&t?t.id:a.state.selected_training_edit,alert:e?Ce:{target:"MAIN-ERROR",msg:"Error: ".concat(n)}}),a.clearError()})))},a.deleteTraining=function(e){window.confirm("Are you sure you want to delete the training?")&&(a.setState({delete_training:e.toString()}),Object(u.t)(e.toString(),(function(t,n){a.setState({delete_training:null,trainings:t?a.state.trainings.filter((function(t){return t.id.toString()!==e.toString()})):a.state.trainings,alert:t?{target:"MAIN-SUCCESS",msg:"Training has been deleted successfully!"}:{target:"MAIN-ERROR",msg:"Error: ".concat(n)}}),a.clearError()})))},a.state={loading:!0,alert:Ce,selected_training_edit:null,selected_training_details:null,trainings:[],loading_create_training_draft:!1,delete_training:null},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e,t;if(null===(e=this.props.auth.stakeholder)||void 0===e||!e.development_partner_id)return this.setState({loading:!1,alert:{msg:"No Training institution assigned to you",target:"MAIN-ERROR"}});this.getTrainings(null===(t=this.props.auth.stakeholder)||void 0===t?void 0:t.development_partner_id)}},{key:"getTrainings",value:function(e){var t=this;this.setState({loading:!0}),Object(u.N)(e,(function(e,n,a){t.setState({loading:!1,alert:e?Ce:{target:"MAIN-ERROR",msg:a},trainings:n}),t.clearError()}))}},{key:"render",value:function(){var e=this;return null!==this.state.selected_training_edit?Object(y.jsx)(_e,{training_id:this.state.selected_training_edit,close:function(){return e.setState({selected_training_edit:null})}}):null!==this.state.selected_training_details?Object(y.jsx)(Ne,{deleteUpdate:function(){var t;e.setState({selected_training_details:null}),e.getTrainings((null===(t=e.props.auth.stakeholder)||void 0===t?void 0:t.development_partner_id)+"")},training_id:this.state.selected_training_details,close:function(){return e.setState({selected_training_details:null})},editTraining:function(t){return e.setState({selected_training_edit:t})}}):Object(y.jsxs)(y.Fragment,{children:["MAIN-ERROR"===this.state.alert.target&&Object(y.jsx)(h.a,{theme:"danger",fixed:!0,children:this.state.alert.msg}),"MAIN-SUCCESS"===this.state.alert.target&&Object(y.jsx)(h.a,{theme:"success",fixed:!0,children:this.state.alert.msg}),Object(y.jsx)("div",{className:"lg:sticky top-3 z-50 mb-4",children:Object(y.jsx)(m.a,{children:Object(y.jsxs)("div",{className:"flex w-full items-center py-2",children:[Object(y.jsx)("div",{className:"pr-4 text-4xl",children:Object(y.jsx)(j.d,{})}),Object(y.jsxs)("div",{className:"flex-1",children:[Object(y.jsx)(g.a,{size:"md",children:"Trainings list"}),Object(y.jsx)("p",{className:"text-gray-600 text-sm",children:"Training institution"})]}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)(x.a,{size:"md",type:"button",onClick:this.createTrainingDraft.bind(this,"84b28f16-3f5b-464a-80b7-64bf7e2d7a62"),theme:"success-light",loading:this.state.loading_create_training_draft,children:"Create a training draft"})})]})})}),Object(y.jsxs)("div",{className:"container mx-auto px-2",children:[!0===this.state.loading&&Object(y.jsx)("div",{className:"mx-auto py-6 text-center",children:Object(y.jsx)("div",{className:"inline",children:Object(y.jsx)(O.a,{})})}),this.state.trainings.length<=0&&!1===this.state.loading&&Object(y.jsxs)("div",{className:"mx-auto py-8 text-center opacity-50",children:[Object(y.jsx)("h1",{className:"text-9xl text-center mx-auto",children:Object(y.jsx)(j.d,{className:"inline"})}),Object(y.jsx)("h2",{className:"text-2xl font-bold",children:"No Trainings found"}),Object(y.jsxs)("p",{className:"text-gray-500",children:["You can add a new training request ",Object(y.jsx)("br",{})," by clicking on"," ",Object(y.jsx)("u",{children:"Requesting new training"})]})]}),this.state.trainings.map((function(t,n){return Object(y.jsx)(Se,{training:t,viewDetails:function(t){return e.setState({selected_training_details:t.toString()})},deleteTraining:e.deleteTraining,update_loading:null,editTraining:function(t){return e.setState({selected_training_edit:t.toString()})},delete_loading:e.state.delete_training},n)}))]})]})}}]),n}(o.a.Component),Ee=Object(b.b)((function(e){return{auth:e.auth}}),{})(Re)}}]);
//# sourceMappingURL=17.cb2e91bf.chunk.js.map