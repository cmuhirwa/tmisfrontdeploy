(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[42],{426:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var a=s(41),c=s(19),n=s(20),l=s(21),r=s(22),i=s(4),o=s(25),d=s(15),m=s(43),u=s(23),j=s(138),x=s(39),b=s(26),h=s(1),p=function(e){Object(l.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).cleanForm=function(){a.setState({email:"",first_name:"",full_name:"",last_name:"",middle_name:"",nid:"",phone_number:"",role_id:null})},a.SubmitData=function(e){if(e.preventDefault(),""===a.state.first_name)return a.setState({error:{target:"first_name",msg:"Please fill the first name"}});if(""===a.state.last_name)return a.setState({error:{target:"last_name",msg:"Please fill the last name"}});if(""===a.state.nid)return a.setState({error:{target:"nid",msg:"Please fill national ID"}});if(""===a.state.phone_number)return a.setState({error:{target:"phone_number",msg:"Please fill phone number"}});if(""===a.state.email)return a.setState({error:{target:"email",msg:"Please fill the email"}});if(null===a.state.role_id||isNaN(a.state.role_id))return a.setState({error:{target:"role_id",msg:"Please select the role"}});var t={development_partner_id:a.state.development_partner_id,email:a.state.email,first_name:a.state.first_name,full_name:a.state.first_name+" "+a.state.middle_name+" "+a.state.last_name,last_name:a.state.last_name,middle_name:a.state.middle_name,nid:a.state.nid,phone_number:a.state.phone_number,role_id:a.state.role_id};a.setState({loading:!0}),Object(m.e)(t,(function(e,t){a.setState({loading:e}),null!==t&&"success"===t.status&&(a.setState({success:t.msg,error:null,loading:!1}),a.cleanForm()),null!==t&&"error"===t.status&&a.setState({error:{target:"main",msg:t.msg},success:"",loading:!1})}))},a.state={loading:!1,error:null,success:"",development_partner_id:a.props.developmentPartner.id,email:"",first_name:"",full_name:"",last_name:"",middle_name:"",nid:"",phone_number:"",role_id:null,loading_data:!1,account_levels:null},a}return Object(n.a)(s,[{key:"componentDidMount",value:function(){var e=this;null!==this.state.account_levels&&0!==this.state.account_levels.length||(this.setState({loading_data:!0}),Object(m.f)(m.a.TRAINING,(function(t,s){e.setState({loading_data:t}),null!==s&&"success"===s.status&&e.setState({account_levels:s.data,loading:!1,loading_data:!1,error:null}),null!==s&&"error"===s.status&&e.setState({account_levels:[],loading:!1,loading_data:!1,error:{target:"main",msg:s.msg}})})))}},{key:"render",value:function(){var e=this;return!0===this.state.loading_data?Object(h.jsxs)("div",{className:"p-8 flex flex-col items-center justify-center bg-white rounded-md my-2",children:[Object(h.jsx)(b.a,{}),Object(h.jsx)("div",{className:"text-lg font-light text-center",children:"Loading, please wait..."})]}):Object(h.jsxs)("div",{className:"bg-white p-2 rounded",children:[Object(h.jsxs)("div",{className:"bg-gray-100 py-1 flex flex-row items-center gap-2 rounded px-2 animate__animated animate__fadeIn",children:[Object(h.jsx)("div",{children:Object(h.jsx)("div",{onClick:function(){!1===e.state.loading&&e.props.onCancel()},className:"bg-white rounded-full flex items-center justify-center h-9 w-9 cursor-pointer hover:bg-accent-900 hover:text-white",children:Object(h.jsx)(o.a,{className:"text-2xl"})})}),Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsx)("div",{className:"text-xl font-bold",children:"Create new account"}),Object(h.jsx)("div",{className:"text-sm font-bold text-accent-900 bg-accent-400 border border-accent-500 rounded-full px-2 w-max",children:this.props.developmentPartner.development_partner_name})]})]}),Object(h.jsxs)("form",{onSubmit:this.SubmitData,className:"w-full my-3",children:[Object(h.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[Object(h.jsx)(x.a,{onChange:function(t){return e.setState({first_name:t.target.value})},value:this.state.first_name,error:null!==this.state.error&&"first_name"===this.state.error.target?this.state.error.msg:"",label:"First name",placeholder:"Ex: Damascene",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(h.jsx)(x.a,{onChange:function(t){return e.setState({middle_name:t.target.value})},value:this.state.middle_name,error:null!==this.state.error&&"middle_name"===this.state.error.target?this.state.error.msg:"",label:"Middle name (Optional)",placeholder:"",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(h.jsx)(x.a,{onChange:function(t){return e.setState({last_name:t.target.value})},value:this.state.last_name,error:null!==this.state.error&&"last_name"===this.state.error.target?this.state.error.msg:"",label:"Last name ",placeholder:"Ex: KAMANA",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(h.jsx)(x.a,{onChange:function(t){return e.setState({nid:t.target.value})},value:this.state.nid,error:null!==this.state.error&&"nid"===this.state.error.target?this.state.error.msg:"",label:"National ID",placeholder:"",name:"",MainContainer_className:"col-span-6",disabled:this.state.loading}),Object(h.jsx)(x.a,{onChange:function(t){return e.setState({phone_number:t.target.value})},value:this.state.phone_number,error:null!==this.state.error&&"phone_number"===this.state.error.target?this.state.error.msg:"",label:"Phone number",placeholder:"07XXXXXXXX",name:"",MainContainer_className:"col-span-6",disabled:this.state.loading}),Object(h.jsx)(x.a,{onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email,error:null!==this.state.error&&"email"===this.state.error.target?this.state.error.msg:"",label:"Email",placeholder:"email@gmail.com",name:"",MainContainer_className:"col-span-6",disabled:this.state.loading}),Object(h.jsx)(j.a,{onChange:function(t){e.setState({role_id:parseInt(t.target.value)})},value:null===this.state.role_id?"":this.state.role_id,error:null!==this.state.error&&"role_id"===this.state.error.target?this.state.error.msg:"",label:"Select role",placeholder:"Role",name:"role_id",data:[{title:"Select role",value:""}].concat(Object(a.a)(null===this.state.account_levels?[]:this.state.account_levels.map((function(e){return{value:e.role_id,title:e.role}})))),MainContainer_className:"col-span-6",disabled:this.state.loading})]}),null!==this.state.error&&"main"===this.state.error.target&&Object(h.jsxs)("div",{onClick:function(){return e.setState({error:null,success:""})},className:"cursor-pointer px-3 py-2 font-bold bg-red-100 text-red-700 flex flex-row items-center justify-between w-full my-2",children:[Object(h.jsx)("span",{children:this.state.error.msg}),Object(h.jsx)("div",{children:Object(h.jsx)(d.r,{className:"text-2xl"})})]}),""!==this.state.success&&Object(h.jsxs)("div",{onClick:function(){return e.setState({error:null,success:""})},className:"cursor-pointer px-3 py-2 font-bold bg-green-100 text-green-700 flex flex-row items-center justify-between w-full my-2",children:[Object(h.jsx)("span",{children:this.state.success}),Object(h.jsx)("div",{children:Object(h.jsx)(d.r,{className:"text-2xl"})})]}),Object(h.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 mt-3",children:[!0===this.state.loading&&Object(h.jsx)("div",{children:Object(h.jsx)(b.a,{})}),Object(h.jsx)(u.a,{onClick:this.props.onCancel,type:"button",theme:"default",disabled:this.state.loading,children:"Go Back"}),Object(h.jsx)(u.a,{type:"submit",theme:"accent",disabled:this.state.loading,children:!0===this.state.loading?"Loading, please wait...":"Register Account"})]})]})]})}}]),s}(i.Component)},427:function(e,t,s){"use strict";s.d(t,"a",(function(){return j}));var a=s(19),c=s(20),n=s(21),l=s(22),r=s(4),i=s(25),o=s(23),d=s(26),m=s(17),u=s(1),j=function(e){Object(n.a)(s,e);var t=Object(l.a)(s);function s(e){var c;return Object(a.a)(this,s),(c=t.call(this,e)).state={loading:!1,error:"",success:"",search_data:""},c}return Object(c.a)(s,[{key:"componentDidMount",value:function(){null===this.props.accounts&&this.props.FC_GetAccounts(this.props.selected_development_partner.id)}},{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"bg-white p-2 rounded",children:[Object(u.jsxs)("div",{className:"bg-gray-100 py-1 flex flex-row items-center gap-2 rounded px-2 animate__animated animate__fadeIn",children:[Object(u.jsx)("div",{children:Object(u.jsx)("div",{onClick:function(){!1===e.state.loading&&e.props.onCancel()},className:"bg-white rounded-full flex items-center justify-center h-9 w-9 cursor-pointer hover:bg-accent-900 hover:text-white",children:Object(u.jsx)(i.a,{className:"text-2xl"})})}),Object(u.jsxs)("div",{className:"flex flex-col",children:[Object(u.jsx)("div",{className:"text-xl font-bold",children:"List of user accounts"}),Object(u.jsx)("div",{className:"text-sm font-bold text-accent-900 bg-accent-400 border border-accent-500 rounded-full px-2 w-max",children:this.props.selected_development_partner.development_partner_name})]})]}),Object(u.jsx)("div",{className:"mt-3 bg-white rounded p-2",children:!0===this.state.loading||null===this.props.accounts||!0===this.props.loading?Object(u.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-8",children:[Object(u.jsx)(d.a,{}),Object(u.jsx)("div",{className:"font-light text-center",children:"Loading, please wait..."})]}):Object(u.jsxs)("div",{children:[this.props.accounts.length>0&&Object(u.jsx)("div",{className:"",children:Object(u.jsx)("input",{type:"search",className:"px-3 py-2 font-bold border border-gray-400 w-full rounded",placeholder:"Search...",value:this.state.search_data,onChange:function(t){return e.setState({search_data:t.target.value,error:"",success:""})}})}),0===this.props.accounts.length&&Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"flex flex-col items-center justify-center text-center bg-gray-100 rounded-md my-3 p-5",children:[Object(u.jsx)("div",{className:"text-xl font-bold",children:"Add new account"}),Object(u.jsxs)("div",{className:"text-sm text-gray-500",children:["Click the following button to add an account under"," ",this.props.selected_development_partner.development_partner_name]}),Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsx)(o.a,{theme:"accent",onClick:this.props.onAddNewAccount,className:"animate__animated animate__zoomIn",children:"Create new account"})})]})}),this.props.accounts.length>0&&Object(u.jsx)("div",{children:0===Object(m.n)(this.props.accounts,this.state.search_data).length?Object(u.jsx)("div",{className:"text-base font-light p-3",children:"No result found!"}):Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsxs)("table",{className:"w-full text-left text-sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"border-b border-gray-300",children:[Object(u.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(u.jsx)("th",{className:"px-3 py-2",children:"First name"}),Object(u.jsx)("th",{className:"px-3 py-2",children:"Last name"}),Object(u.jsx)("th",{className:"px-3 py-2",children:"National ID"}),Object(u.jsx)("th",{className:"px-3 py-2",children:"Phone number"}),Object(u.jsx)("th",{className:"px-3 py-2",children:"Email"}),Object(u.jsx)("th",{className:"px-3 py-2",children:"Role"})]})}),Object(u.jsx)("tbody",{children:Object(m.n)(this.props.accounts,this.state.search_data).map((function(e,t){return Object(u.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"),children:[Object(u.jsx)("td",{className:"px-3 py-2",children:t+1}),Object(u.jsx)("td",{className:"px-3 py-2",children:e.first_name}),Object(u.jsx)("td",{className:"px-3 py-2",children:e.last_name}),Object(u.jsx)("td",{className:"px-3 py-2",children:e.nid}),Object(u.jsx)("td",{className:"px-3 py-2",children:e.phone_numbers}),Object(u.jsx)("td",{className:"px-3 py-2",children:e.email}),Object(u.jsx)("td",{className:"px-3 py-2",children:e.role})]},t+1)}))})]})})})]})})]})})}}]),s}(r.Component)},613:function(e,t,s){"use strict";s.r(t),s.d(t,"DPList",(function(){return G}));var a=s(28),c=s(19),n=s(20),l=s(21),r=s(22),i=s(4),o=s(68),d=s(25),m=s(94),u=s(54),j=s(15),x=s(75),b=s(36),h=s(13),p=s(43),f=s(26),g=s(24),O=s(67),_=s(17),v=s(426),N=s(427),y=s(46),w=s(23),S=s(76),C=s(12),A=s(1),k=function(e){Object(l.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).GetFileName=function(){return"RGB"===a.state.opened_document?C.i+a.props.data.rgb_certificate_file_name:C.h+a.props.data.implementation_plan_file_name},a.state={opened_document:null,loading_file:!0},a}return Object(n.a)(s,[{key:"render",value:function(){var e=this,t=this.props.data;return Object(A.jsxs)("div",{className:"p-3",children:[Object(A.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 border-b pb-4",children:[Object(A.jsxs)("div",{className:"bg-white rounded-md flex flex-row items-center gap-3",children:[Object(A.jsx)("div",{onClick:this.props.onClose,className:"h-10 w-10 rounded-full bg-accent-400 hover:bg-accent-500 text-accent-900 hover:text-black flex items-center justify-center cursor-pointer",children:Object(A.jsx)(d.a,{className:"text-2xl"})}),Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:"text-xl font-bold",children:t.development_partner_name}),Object(A.jsx)("div",{className:"text-accent-900 -mt-1 bg-accent-400 rounded-md w-max px-1 py-0",children:t.organization_category})]})]}),Object(A.jsx)("div",{className:"flex flex-row justify-end gap-2",children:Object(A.jsxs)("div",{className:"flex flex-col items-end",children:[Object(A.jsx)("div",{className:"text-sm px-2",children:"Status"}),Object(A.jsx)("div",{className:"bg-accent-400 text-accent-900 font-bold text-sm px-2 rounded-md",children:this.props.selected_status})]})})]}),Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:" rounded-md mt-5",children:[Object(A.jsx)("div",{className:"text-lg font-bold",children:"Info Details"}),Object(A.jsxs)("div",{className:"grid grid-cols-12 mt-2 gap-2",children:[Object(A.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(A.jsx)("div",{className:"text-gray-600 text-sm",children:"Development Partner name"}),Object(A.jsx)("div",{className:"-mt-0",children:t.development_partner_name})]}),Object(A.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(A.jsx)("div",{className:"text-gray-600 text-sm",children:"Organization category"}),Object(A.jsx)("div",{className:"-mt-0",children:t.organization_category})]}),Object(A.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(A.jsx)("div",{className:"text-gray-600 text-sm",children:"Organization TIN number"}),Object(A.jsx)("div",{className:"-mt-0",children:t.tin_number})]}),Object(A.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(A.jsx)("div",{className:"text-gray-600 text-sm",children:"Organization email"}),Object(A.jsx)("div",{className:"-mt-0",children:t.email})]}),Object(A.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(A.jsx)("div",{className:"text-gray-600 text-sm",children:"Organization phone number"}),Object(A.jsx)("div",{className:"-mt-0",children:t.phone})]}),Object(A.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(A.jsx)("div",{className:"text-gray-600 text-sm",children:"Organization website"}),Object(A.jsx)("div",{className:"-mt-0",children:t.website_link})]}),Object(A.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(A.jsx)("div",{className:"text-gray-600 text-sm",children:"Organization location"}),Object(A.jsx)("div",{className:"-mt-0",children:t.location})]}),""!==t.comment&&null!==t.comment&&Object(A.jsxs)("div",{className:"col-span-12 md:col-span-8 flex flex-col bg-gray-100 rounded-md px-3 py-2",children:[Object(A.jsx)("div",{className:"text-gray-600 text-sm",children:"Validation comment"}),Object(A.jsx)("div",{className:"-mt-0",children:t.comment})]})]})]}),Object(A.jsxs)("div",{className:"mt-6",children:[Object(A.jsx)("div",{className:"font-bold mb-3 text-lg",children:"Documents attached"}),Object(A.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-2",children:[Object(A.jsxs)("div",{onClick:function(){return e.setState({opened_document:"RGB"})},className:"px-2 pr-4 py-2 rounded-md cursor-pointer ".concat("RGB"===this.state.opened_document?"bg-accent-400 text-accent-900":"bg-gray-100 hover:bg-accent-400"," flex flex-row items-center justify-center gap-2"),children:[Object(A.jsx)("div",{children:"RGB"===this.state.opened_document?Object(A.jsx)(y.f,{className:"text-2xl animate__animated animate__zoomIn animate__faster"}):Object(A.jsx)(y.h,{className:"text-2xl"})}),Object(A.jsx)("span",{children:"RGB Certificate document"})]}),Object(A.jsxs)("div",{onClick:function(){return e.setState({opened_document:"IMPLEMENTATION"})},className:"px-2 pr-4 py-2 rounded-md cursor-pointer ".concat("IMPLEMENTATION"===this.state.opened_document?"bg-accent-400 text-accent-900":"bg-gray-100 hover:bg-accent-400"," flex flex-row items-center justify-center gap-2"),children:[Object(A.jsx)("div",{children:"IMPLEMENTATION"===this.state.opened_document?Object(A.jsx)(y.f,{className:"text-2xl animate__animated animate__zoomIn animate__faster"}):Object(A.jsx)(y.h,{className:"text-2xl"})}),Object(A.jsx)("span",{children:"Implementation document"})]})]}),null!==this.state.opened_document&&Object(A.jsx)("div",{className:"bg-gray-100 rounded-md overflow-hidden mt-1",children:"pdf"===this.GetFileName().slice(-3)?Object(A.jsx)("div",{children:Object(A.jsx)(S.a,{file_url:"".concat(this.GetFileName()),class_name:"w-full h-100vh",frame_title:"User document",setLoadingFile:function(t){e.setState({loading_file:t})},full_height:!0})}):Object(A.jsx)("img",{src:this.GetFileName(),alt:"File",className:"w-full h-auto"})})]}),Object(A.jsxs)("div",{className:"mt-10",children:[Object(A.jsxs)("div",{className:"font-bold mb-3 text-lg",children:["Areas of intervention"," ",Object(A.jsxs)("span",{className:"px-1 rounded-md bg-accent-400 text-accent-900 text-sm font-bold",children:["Total: ",t.subareas.length]})]}),Object(A.jsx)("div",{className:"grid grid-cols-12",children:t.subareas.map((function(e,t){return Object(A.jsxs)("div",{className:"col-span-12 flex flex-row items-center gap-2 px-2 py-1 rounded-md bg-gray-100 mb-2 group hover:bg-accent-400 hover:text-accent-900 cursor-pointer",children:[Object(A.jsx)("div",{children:Object(A.jsx)(y.f,{className:"text-2xl text-gray-300 group-hover:text-accent-900"})}),Object(A.jsxs)("div",{className:"flex flex-col",children:[Object(A.jsx)("div",{className:"",children:e.subarea_name}),Object(A.jsx)("div",{className:"text-sm -mt-1 text-gray-500 group-hover:text-accent-900",children:e.area_name})]})]},t+1)}))})]})]}),Object(A.jsxs)("div",{className:"mt-3 flex flex-row items-center gap-2 justify-end",children:[Object(A.jsx)(w.a,{onClick:this.props.onClose,theme:"default",children:Object(A.jsx)("span",{children:"Back to list"})}),(this.props.selected_status.toLowerCase()===p.c.PENDING.toLowerCase()||this.props.selected_status.toLowerCase()===p.c.APPEAL.toLowerCase())&&Object(A.jsx)(w.a,{onClick:this.props.openValidation,theme:"accent",children:Object(A.jsx)("span",{children:"Validate registration"})}),this.props.selected_status.toLocaleLowerCase()===p.c.APPROVED.toLocaleLowerCase()&&Object(A.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(A.jsx)(w.a,{onClick:function(){return e.props.onViewAccountsList(e.props.data)},theme:"accent-light",children:Object(A.jsx)("span",{children:"View accounts"})}),Object(A.jsx)(w.a,{onClick:function(){return e.props.onRegisterAccount(e.props.data)},theme:"accent",children:Object(A.jsx)("span",{children:"Register account"})})]})]})]})}}]),s}(i.Component),P=s(60),D=s(140),E=function(e){Object(l.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).GetStatusIcon=function(e){return e===p.c.APPROVED?Object(A.jsx)(m.h,{className:"text-4xl"}):e===p.c.REJECTED?Object(A.jsx)(u.c,{className:"text-4xl"}):Object(A.jsx)(P.b,{className:"text-4xl"})},a.submitApplicationStatus=function(){if(a.setState({confirm_submit:!1}),a.state.submit_status!==p.c.APPROVED&&""===a.state.decision_comment)return a.setState({error:{target:"decision_comment",msg:"Please, decision comment is required"}});Object(p.k)(a.props.data.id,a.state.decision_comment,a.state.submit_status,(function(e,t){return a.setState({loading:e}),null!==t&&"success"===t.status?a.setState({success:t.msg,error:null}):null!==t&&"error"===t.status?a.setState({error:{target:"main",msg:t.msg}}):void 0}))},a.state={loading:!1,error:null,submit_status:p.c.APPROVED,decision_comment:"",success:"",confirm_submit:!1},a}return Object(n.a)(s,[{key:"render",value:function(){var e,t=this;if(!0===this.state.loading)return Object(A.jsxs)("div",{className:"p-8 flex flex-col items-center justify-center",children:[Object(A.jsx)(f.a,{}),Object(A.jsx)("div",{className:"text-xl font-light text-center",children:"Loading, please wait..."})]});if(null!==this.state.error&&"main"===this.state.error.target)return Object(A.jsxs)("div",{className:"bg-white animate__animated animate__zoomIn animate__faster p-5",children:[Object(A.jsxs)("div",{className:" flex flex-col items-center justify-center gap-2 text-red-600",children:[Object(A.jsx)("div",{children:Object(A.jsx)(u.f,{className:"text-6xl"})}),Object(A.jsx)("div",{className:"text-lg font-bold text-black text-center",children:this.state.error.msg})]}),Object(A.jsx)("div",{className:"flex flex-row items-center justify-".concat((this.state.submit_status,p.c.APPROVED,"center")," gap-2 w-full mt-5"),children:Object(A.jsx)(w.a,{onClick:function(){return t.setState({confirm_submit:!1,error:null})},theme:"accent",children:"Continue"})})]});if(""!==this.state.success)return Object(A.jsxs)("div",{className:"bg-white animate__animated animate__zoomIn animate__faster p-5",children:[Object(A.jsxs)("div",{className:" flex flex-col items-center justify-center gap-2 text-green-600",children:[Object(A.jsx)("div",{children:Object(A.jsx)(j.o,{className:"text-6xl"})}),Object(A.jsx)("div",{className:"text-lg font-bold text-black text-center",children:this.state.success})]}),Object(A.jsx)("div",{className:"flex flex-row items-center justify-".concat((this.state.submit_status,p.c.APPROVED,"center")," gap-2 w-full mt-5"),children:Object(A.jsx)(w.a,{onClick:function(){return t.props.onReloadList(t.state.submit_status)},theme:"accent",children:(this.state.submit_status,p.c.APPROVED,"Continue")})})]});var s=this.props.data;return!0===this.state.confirm_submit?Object(A.jsxs)("div",{className:"bg-white animate__animated animate__zoomIn animate__faster p-5",children:[Object(A.jsxs)("div",{className:" flex flex-row items-center gap-2 ",children:[Object(A.jsx)("div",{children:Object(A.jsx)(P.b,{className:"text-4xl"})}),Object(A.jsxs)("div",{className:"text-lg font-bold",children:["Are you sure! Do you want to"," ",Object(A.jsx)("span",{className:"px-1 rounded-md font-bold bg-accent-400 text-accent-900",children:this.state.submit_status.slice(0,-1)})," ","this registration?"]})]}),""!==this.state.decision_comment&&Object(A.jsxs)("div",{className:"bg-gray-100 rounded-md px-3 py-2 w-full my-3 text-left",children:[Object(A.jsx)("div",{className:"font-bold text-sm text-gray-500",children:"Comment added:"}),Object(A.jsx)("div",{className:"",children:this.state.decision_comment})]}),Object(A.jsxs)("div",{className:"flex flex-row items-center justify-".concat((this.state.submit_status,p.c.APPROVED,"center")," gap-2 w-full mt-5"),children:[Object(A.jsx)(w.a,{onClick:function(){return t.setState({confirm_submit:!1})},theme:"default",children:"Cancel"}),Object(A.jsx)(w.a,{onClick:function(){return t.submitApplicationStatus()},theme:"accent",children:"Yes, submit"})]})]}):Object(A.jsxs)("div",{className:"p-3",children:[Object(A.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 border-b pb-4",children:[Object(A.jsxs)("div",{className:"bg-white rounded-md flex flex-row items-center gap-3",children:[Object(A.jsx)("div",{onClick:this.props.onClose,className:"h-10 w-10 rounded-full bg-accent-400 hover:bg-accent-500 text-accent-900 hover:text-black flex items-center justify-center cursor-pointer",children:Object(A.jsx)(d.a,{className:"text-2xl"})}),Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:"text-xl font-bold",children:"Validate registration"}),Object(A.jsx)("div",{className:"text-sm",children:s.development_partner_name})]})]}),Object(A.jsx)("div",{className:"flex flex-row justify-end gap-2",children:Object(A.jsxs)("div",{className:"flex flex-col items-end",children:[Object(A.jsx)("div",{className:"text-sm px-2",children:"Status"}),Object(A.jsx)("div",{className:"bg-accent-400 text-accent-900 font-bold text-sm px-2 rounded-md",children:this.props.selected_status})]})})]}),Object(A.jsx)("div",{children:Object(A.jsx)("div",{className:" rounded-md mt-5",children:Object(A.jsxs)("div",{className:"",children:[Object(A.jsx)("div",{className:"text-lg font-bold mb-2",children:"Choose decision"}),Object(A.jsx)("div",{className:"grid grid-cols-12 gap-2",children:p.d.filter((function(e){return e.key!==p.c.PENDING})).map((function(e,s){return Object(A.jsxs)("div",{className:"cols-span-12 md:col-span-6 lg:col-span-4 rounded-md animate__animated ".concat(t.state.submit_status===e.key?"bg-accent-400 text-accent-900 font-semibold border border-accent-800 animate__zoomIn animate__faster":"bg-gray-100 font-light animate___fadeIn"," p-2 flex flex-col items-center justify-center group hover:bg-accent-400 hover:text-accent-900 cursor-pointer"),onClick:function(){return t.setState({submit_status:e.key,decision_comment:"",error:null})},children:[Object(A.jsx)("div",{className:" ".concat(t.state.submit_status===e.key?"text-accent-900":"text-gray-400"," group-hover:text-accent-900"),children:t.GetStatusIcon(e.key)}),Object(A.jsx)("div",{className:"text-base",children:e.title})]},s+1)}))}),this.state.submit_status!==p.c.APPROVED&&Object(A.jsx)("div",{className:"pt-3",children:Object(A.jsx)(D.a,{onChange:function(e){t.setState({decision_comment:e.target.value,error:null})},value:this.state.decision_comment,error:"decision_comment"===(null===(e=this.state.error)||void 0===e?void 0:e.target)?this.state.error.msg:"",label:"Decision feedback/comment",placeholder:"",name:"decision_comment",Label_className:"font-bold"})}),Object(A.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 mt-5",children:[Object(A.jsx)(w.a,{onClick:this.props.onClose,theme:"default",children:Object(A.jsx)("span",{children:"Cancel"})}),Object(A.jsx)(w.a,{onClick:function(){if(t.state.submit_status!==p.c.APPROVED&&""===t.state.decision_comment)return t.setState({error:{target:"decision_comment",msg:"Please, decision comment is required"}});t.setState({confirm_submit:!0})},theme:"accent",className:"".concat((this.state.submit_status,p.c.APPROVED,"animate__animated animate__zoomIn animate__faster")),children:Object(A.jsx)("span",{children:this.state.submit_status===p.c.APPROVED?"Yes, approve":"Save changes"})})]})]})})})]})}}]),s}(i.Component),R=function(e){Object(l.a)(s,e);var t=Object(r.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).FC_GetDPApplications=function(e,t){n.setState({loading:!0,error:"",success:"",open_select_area:!1,open_select_category:!1,selected_category:null,selected_sub_area:null}),Object(p.h)(e,(function(s,a){if(n.setState({loading:s}),null!==a&&"success"===a.type){if(null!==t&&null!==a.data){var c=a.data.dp_application.find((function(e){return e.id.toLocaleLowerCase()===t.id.toLocaleLowerCase()}));console.log("Lats: ",c),void 0!==c&&n.setState({openRegisterAccount:c})}n.setState({data:a.data,error:"",success:a.msg,loading:!1,selected_status:e,openValidation:null})}null!==a&&"error"===a.type&&n.setState({data:null,success:"",error:a.msg,loading:!1,openValidation:null})}))},n.GetStatusIcon=function(e){return e===p.c.PENDING?Object(A.jsx)(x.f,{className:"text-4xl"}):e===p.c.APPROVED?Object(A.jsx)(m.h,{className:"text-4xl"}):e===p.c.REJECTED?Object(A.jsx)(u.c,{className:"text-4xl"}):Object(A.jsx)(d.n,{className:"text-3xl m-1"})},n.GetStatusColor=function(e){return e===p.c.PENDING||e===p.c.APPROVED||p.c.REJECTED,"accent"},n.GetDataByOrgCategory=function(e,t){return e.filter((function(e){return e.organization_category_id.toString()===t}))},n.GetDataBySubArea=function(e,t){var s,c=[],n=Object(a.a)(e);try{for(n.s();!(s=n.n()).done;){var l=s.value;void 0!==l.subareas.find((function(e){return e.sub_area_id.toString()===t.toString()}))&&c.push(l)}}catch(r){n.e(r)}finally{n.f()}return c},n.FC_GetDataCategories=function(){if(null===n.state.data)return[];var e,t=[],s=Object(a.a)(n.state.data.dp_application);try{var c=function(){var s=e.value;void 0===t.find((function(e){return e.id.toString()===s.organization_category_id.toString()}))&&t.push({id:s.organization_category_id.toString(),name:s.organization_category})};for(s.s();!(e=s.n()).done;)c()}catch(l){s.e(l)}finally{s.f()}return t},n.GetDataByStatus=function(e,t){return e.filter((function(e){return e.status===t}))},n.GetSubAreas=function(){if(null===n.state.data)return[];var e,t=[],s=Object(a.a)(n.state.data.dp_application);try{for(s.s();!(e=s.n()).done;){var c,l=e.value,r=Object(a.a)(l.subareas);try{var i=function(){var e=c.value;void 0===t.find((function(t){return t.id.toString()===e.sub_area_id.toString()}))&&t.push({id:e.sub_area_id.toString(),name:"".concat(e.area_name,"-").concat(e.subarea_name)})};for(r.s();!(c=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}}catch(o){s.e(o)}finally{s.f()}return t},n.GetFilteredData=function(){if(null===n.state.data)return[];var e=n.state.data.dp_application;return null!==n.state.selected_category&&(e=n.GetDataByOrgCategory(e,n.state.selected_category.id)),null!==n.state.selected_sub_area&&(e=n.GetDataBySubArea(e,n.state.selected_sub_area.id)),""!==n.state.search_value&&(e=Object(_.n)(e,n.state.search_value)),e},n.GetTotalByStatus=function(e){return null===n.state.data?0:e===p.c.PENDING?n.state.data.PENDING:e===p.c.APPROVED?n.state.data.APPROVED:e===p.c.REJECTED?n.state.data.REJECTED:n.state.data.APPEAL},n.FC_GetAccounts=function(e){n.setState({loading:!0}),Object(p.g)(e,(function(e,t){n.setState({loading:e}),null!==t&&"success"===t.status&&n.setState({accounts:t.data,loading:!1,error:"",success:""}),null!==t&&"error"===t.status&&n.setState({accounts:[],loading:!1,error:t.msg,success:""})}))},n.componentDidMount=function(){null===n.state.data&&n.FC_GetDPApplications(n.state.selected_status,null)},n.state={loading:!1,data:null,success:"",error:"",selected_status:p.c.PENDING,open_select_area:!1,open_select_category:!1,selected_sub_area:null,selected_category:null,search_value:"",preview:null,openValidation:null,openRegisterAccount:null,openViewAccountsList:null,accounts:[]},n}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return Object(A.jsxs)(i.Fragment,{children:[Object(A.jsxs)("div",{className:"container mx-auto p-3",children:[Object(A.jsx)("div",{className:"bg-white rounded-md p-3",children:Object(A.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[Object(A.jsx)("div",{className:"col-span-6",children:Object(A.jsxs)("div",{className:"flex flex-col pl-2",children:[Object(A.jsxs)("div",{className:"text-2xl font-extrabold",children:["Training providers"," ",Object(A.jsx)("span",{className:"text-sm font-bold px-2 rounded-md bg-primary-100 text-primary-800",children:this.state.selected_status})]}),Object(A.jsx)("div",{className:"text-sm text-gray-500",children:"Training provider registration approval"})]})}),Object(A.jsx)("div",{className:"col-span-6 flex flex-row items-center justify-end w-full gap-2",children:p.d.map((function(t,s){return null===e.state.data||!0===e.state.loading?Object(A.jsx)("div",{className:"w-full bg-gray-100 rounded-md h-12"},s+1):Object(A.jsxs)("div",{className:"px-1 pr-4 rounded-md flex flex-row items-center gap-2 ".concat(e.state.selected_status===t.key?"bg-accent-400 text-accent-900 animate__animated animate__fadeIn py-1":"bg-gray-100 hover:bg-accent-400 border-l-2 border-gray-100 py-1"," cursor-pointer group"),onClick:function(){return e.FC_GetDPApplications(t.key,null)},children:[Object(A.jsx)("div",{children:Object(A.jsx)("div",{className:"rounded-md ".concat(e.state.selected_status===t.key?"bg-white text-".concat(e.GetStatusColor(t.key),"-900 font-bold border border-accent-800"):"text-gray-300 group-hover:text-".concat(e.GetStatusColor(t.key),"-900 bg-white")," text-2xl font-extrabold px-1 py-1"),children:e.GetStatusIcon(t.key)})}),Object(A.jsxs)("div",{className:"flex flex-col",children:[Object(A.jsx)("div",{className:"text-sm ".concat(e.state.selected_status===t.key?"font-base":"font-light"),children:t.title}),Object(A.jsx)("div",{className:"text-2xl font-extrabold -mt-1",children:e.GetTotalByStatus(t.key)})]})]},s+1)}))})]})}),!0===this.state.loading?Object(A.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white rounded-md mt-2 py-5",children:[Object(A.jsx)(f.a,{}),Object(A.jsx)("div",{className:"text-center text-xl font-light text-gray-500",children:"Loading, please wait..."})]}):Object(A.jsxs)("div",{className:"bg-white rounded-md mt-2 py-2",children:[Object(A.jsxs)("div",{className:"flex flex-row items-center justify-between mb-3 mx-2 gap-3",children:[Object(A.jsxs)("div",{className:"relative w-1/3",children:[!1===this.state.open_select_category?Object(A.jsxs)("div",{onClick:function(){return e.setState({open_select_category:!e.state.open_select_category})},className:"border border-gray-400 rounded px-3 py-2 w-full flex flex-row items-center justify-between gap-2 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[Object(A.jsx)("div",{className:"w-52 truncate",children:null===this.state.selected_category?"Search by intervention area":this.state.selected_category.name}),Object(A.jsx)("div",{children:Object(A.jsx)(u.a,{})})]}):Object(A.jsxs)("div",{onClick:function(){return e.setState({open_select_category:!1})},className:"font-bold flex flex-row items-center gap-4 cursor-pointer hover:text-accent-900",children:[Object(A.jsx)("span",{children:"Select intervention area"}),Object(A.jsx)("div",{children:null!==this.state.selected_category?Object(A.jsxs)("div",{onClick:function(){return e.setState({selected_category:null,open_select_category:!1})},className:"font-normal text-sm cursor-pointer px-2 py-1 rounded-md bg-accent-400 text-accent-900 flex flex-row items-center justify-center gap-2",children:[Object(A.jsx)("div",{children:Object(A.jsx)(o.d,{className:"text-xl"})}),Object(A.jsx)("span",{children:"Reset"})]}):Object(A.jsx)(j.r,{})})]}),!0===this.state.open_select_category&&Object(A.jsx)("div",{className:"w-/12 absolute mt-2 bg-white",children:Object(A.jsx)(O.a,{loading:!1,id:"id",title:"name",close:function(){return e.setState({open_select_category:!1})},data:this.FC_GetDataCategories(),click:function(t){e.setState({selected_category:t,open_select_category:!1})}})})]}),Object(A.jsxs)("div",{className:"relative w-1/3",children:[!1===this.state.open_select_area?Object(A.jsxs)("div",{onClick:function(){return e.setState({open_select_area:!e.state.open_select_area})},className:"border border-gray-400 rounded px-3 py-2 w-full flex flex-row items-center justify-between gap-2 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[Object(A.jsx)("div",{className:"w-52 truncate",children:null===this.state.selected_sub_area?"Search by sub area":this.state.selected_sub_area.name}),Object(A.jsx)("div",{children:Object(A.jsx)(u.a,{})})]}):Object(A.jsxs)("div",{onClick:function(){return e.setState({open_select_area:!1})},className:"font-bold flex flex-row items-center gap-4 cursor-pointer hover:text-accent-900",children:[Object(A.jsx)("span",{children:"Select sub area"}),Object(A.jsx)("div",{children:null!==this.state.selected_sub_area?Object(A.jsxs)("div",{onClick:function(){return e.setState({selected_sub_area:null,open_select_area:!1})},className:"font-normal text-sm cursor-pointer px-2 py-1 rounded-md bg-accent-400 text-accent-900 flex flex-row items-center justify-center gap-2",children:[Object(A.jsx)("div",{children:Object(A.jsx)(o.d,{className:"text-xl"})}),Object(A.jsx)("span",{children:"Reset"})]}):Object(A.jsx)(j.r,{})})]}),!0===this.state.open_select_area&&Object(A.jsx)("div",{className:"w-/12 absolute mt-2 bg-white",children:Object(A.jsx)(O.a,{loading:!1,id:"id",title:"name",close:function(){return e.setState({open_select_area:!1})},data:this.GetSubAreas(),click:function(t){e.setState({selected_sub_area:t,open_select_area:!1})}})})]}),Object(A.jsx)("input",{type:"search",className:"px-3 py-2 rounded w-1/3 border border-gray-400",placeholder:"Search...",value:this.state.search_value,onChange:function(t){return e.setState({search_value:t.target.value})}})]}),Object(A.jsx)("div",{className:"w-full overflow-x-auto",children:Object(A.jsxs)("table",{className:"w-full text-sm text-left",children:[Object(A.jsx)("thead",{className:"bg-primary-100 text-primary-800 border-4 border-white",children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(A.jsx)("th",{className:"px-3 py-2",children:"Organization"}),Object(A.jsx)("th",{className:"px-3 py-2",children:"Category"}),Object(A.jsx)("th",{className:"px-3 py-2",children:"Phone"}),Object(A.jsx)("th",{className:"px-3 py-2",children:"Email"}),Object(A.jsx)("th",{className:"px-3 py-2",children:"Location"}),Object(A.jsx)("th",{className:"px-3 py-2",children:"Status"})]})}),Object(A.jsx)("tbody",{children:null===this.state.data?Object(A.jsx)("tr",{children:Object(A.jsx)("td",{colSpan:7,className:"text-xl px-4 py-3 font-light text-center",children:"Loading, please wait..."})}):0===this.GetFilteredData().length?Object(A.jsx)("tr",{children:Object(A.jsx)("td",{colSpan:7,className:"text-xl px-4 py-3 font-light text-center",children:"No data found!"})}):this.GetFilteredData().map((function(t,s){return Object(A.jsxs)("tr",{className:"".concat(s%2!==0?"bg-gray-100":"bg-white"," hover:bg-accent-400 hover:text-accent-900 cursor-pointer"),onClick:function(){return e.setState({preview:t})},children:[Object(A.jsx)("td",{className:"px-3 py-2",children:s+1}),Object(A.jsx)("td",{className:"px-3 py-2",children:t.development_partner_name}),Object(A.jsx)("td",{className:"px-3 py-2",children:t.organization_category}),Object(A.jsx)("td",{className:"px-3 py-2",children:t.phone}),Object(A.jsx)("td",{className:"px-3 py-2",children:t.email}),Object(A.jsx)("td",{className:"px-3 py-2",children:t.location}),Object(A.jsx)("td",{children:Object(A.jsx)("div",{className:"".concat(t.status===p.c.APPROVED?"bg-green-100 text-green-700":t.status===p.c.PENDING?"bg-accent-400 text-accent-900":t.status===p.c.REJECTED?"bg-red-100 text-red-700":"bg-accent-400 text-black"," px-1 py-0 w-max rounded-md text-xs"),children:t.status})})]},s+1)}))})]})})]})]}),null!==this.state.preview&&Object(A.jsx)(g.c,{backDrop:!0,theme:g.b.default,close:function(){return e.setState({preview:null})},backDropClose:!1,widthSizeClass:g.a.extraLarge,displayClose:!1,padding:{title:void 0,body:void 0,footer:void 0},children:Object(A.jsx)("div",{children:Object(A.jsx)(k,{data:this.state.preview,selected_status:this.state.selected_status,onClose:function(){return e.setState({preview:null})},openValidation:function(){e.setState({openValidation:e.state.preview,preview:null})},onRegisterAccount:function(t){e.setState({preview:null,openValidation:null,openRegisterAccount:t})},onViewAccountsList:function(t){e.FC_GetAccounts(t.id),e.setState({openViewAccountsList:t,preview:null})}})})}),null!==this.state.openValidation&&Object(A.jsx)(g.c,{backDrop:!0,theme:g.b.default,close:function(){return e.setState({openValidation:null})},backDropClose:!1,widthSizeClass:g.a.medium,displayClose:!1,padding:{title:void 0,body:void 0,footer:void 0},children:Object(A.jsx)("div",{children:Object(A.jsx)(E,{data:this.state.openValidation,selected_status:this.state.selected_status,onClose:function(){e.setState({preview:e.state.openValidation,openValidation:null})},onReloadList:function(t){e.FC_GetDPApplications(t,null)},onRegister:function(t){var s=e.state.openValidation;console.log("TEST: ",t,s),!0===t?e.FC_GetDPApplications(p.c.APPROVED,s):e.setState({openRegisterAccount:s})}})})}),null!==this.state.openRegisterAccount&&Object(A.jsx)(g.c,{backDrop:!0,theme:g.b.default,close:function(){return e.setState({openRegisterAccount:null})},backDropClose:!1,widthSizeClass:g.a.extraLarge,displayClose:!1,padding:{title:void 0,body:void 0,footer:void 0},children:Object(A.jsx)("div",{children:Object(A.jsx)(v.a,{developmentPartner:this.state.openRegisterAccount,onCancel:function(){return e.setState({preview:e.state.openRegisterAccount,openValidation:null,openRegisterAccount:null})}})})}),null!==this.state.openViewAccountsList&&Object(A.jsx)(g.c,{backDrop:!0,theme:g.b.default,close:function(){return e.setState({openViewAccountsList:null})},backDropClose:!1,widthSizeClass:g.a.extraLarge,displayClose:!1,padding:{title:void 0,body:void 0,footer:void 0},children:Object(A.jsx)("div",{children:Object(A.jsx)(N.a,{onCancel:function(){return e.setState({preview:e.state.openViewAccountsList,openValidation:null,openRegisterAccount:null,openViewAccountsList:null})},selected_development_partner:this.state.openViewAccountsList,FC_GetAccounts:this.FC_GetAccounts,accounts:this.state.accounts,onAddNewAccount:function(){e.setState({openRegisterAccount:e.state.openViewAccountsList,openValidation:null,openViewAccountsList:null,preview:null})},loading:this.state.loading})})})]})}}]),s}(i.Component),G=Object(b.b)((function(e){return{basic:e.basic}}),{FC_GetAllSystemRoles:h.B})(R)}}]);
//# sourceMappingURL=42.5047900a.chunk.js.map