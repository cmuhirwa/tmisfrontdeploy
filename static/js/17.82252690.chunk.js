(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[17],{104:function(e,t,a){"use strict";a(2);var r=a(50),s=a(1);t.a=function(e){var t=e.onChange,a=e.value,n=e.error,c=e.label,o=e.placeholder,l=e.disabled,i=void 0!==l&&l,d=e.name,u=e.Input_className,h=void 0===u?"":u,m=e.Label_className,b=void 0===m?"":m,p=e.InputContainer_className,j=void 0===p?"":p,f=e.MainContainer_className,x=void 0===f?"":f,g=e.size,O=void 0===g?"md":g,_=e.data;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"w-full my-2 ".concat(x),children:[c&&Object(s.jsx)("label",{htmlFor:"login-form-email",className:"text-primary-900 dark:text-primary-100 ".concat(b),children:c}),Object(s.jsxs)("div",{className:"rounded relative ".concat(j),children:[Object(s.jsx)("select",{name:d,placeholder:o,onChange:t,className:"\n                     w-full text-lg rounded border-2 \n                     ".concat(Object(r.a)(O),"\n                     ").concat(""!==n?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                     px-3 ").concat(h),value:a,disabled:i,children:_.map((function(e,t){return Object(s.jsx)("option",{value:e.value,children:e.title},t)}))}),""!==n&&Object(s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:n})]})]})})}},105:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return b})),a.d(t,"f",(function(){return p})),a.d(t,"c",(function(){return j})),a.d(t,"i",(function(){return f})),a.d(t,"e",(function(){return x})),a.d(t,"g",(function(){return g})),a.d(t,"h",(function(){return O})),a.d(t,"a",(function(){return _}));var r=a(6),s=a(3),n=a.n(s),c=a(5),o=a.n(c),l=a(10),i=a(13),d=a(8),u=a(9),h=a(18),m=function(e){return e(!0,null,""),function(){var t=Object(r.a)(n.a.mark((function t(a){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,o.a.get("".concat(i.c,"/teachertransfers/requesteddde"));case 4:r=t.sent,console.log("===================================="),console.log({getAllTransfers:r}),console.log("===================================="),a({type:l.a.GET_ALL_TRANSFER,payload:r.data}),e(!1,r.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return e(!0,null,""),function(){var t=Object(r.a)(n.a.mark((function t(a){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,o.a.get("".concat(i.c,"/teachertransfers/teacher"));case 4:r=t.sent,console.log("===================================="),console.log({getAllTransfers:r}),console.log("===================================="),a({type:l.a.GET_MY_TRANSFER,payload:r.data}),e(!1,r.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return e(!0,""),function(){var t=Object(r.a)(n.a.mark((function t(a){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,o.a.get("".concat(i.c,"/teachertransfers/transferreasons"));case 4:r=t.sent,console.log("=================FC_GetTransferReasons==================="),console.log({FC_GetTransferReasons:r}),console.log("=================FC_GetTransferReasons==================="),a({type:l.a.GET_TRANSFER_REASON,payload:r.data}),e(!1,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,null,""),e.prev=1,Object(d.a)(),e.next=5,o.a.get("".concat(i.c,"/district"));case 5:a=e.sent,console.log("=================FC_GetDistricts==================="),console.log({FC_GetDistricts:a}),console.log("=================FC_GetDistricts==================="),t(!1,a.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),t(!1,null,Object(u.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(r.a)(n.a.mark((function e(t,a){var r,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0,r=0,null,""),e.prev=2,Object(d.a)(),(s=new FormData).append("teacher_supporting_document",t),e.next=8,o.a.post("".concat(i.c,"/teachertransfers/uploadSupportingDocument"),s,{onUploadProgress:function(e){r=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,a(!0,r,null,"")}});case 8:c=e.sent,console.log("Uploaded document: ",c.data),a(!1,r,c.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),a(!1,r,"",Object(u.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(r.a)(n.a.mark((function e(t,a,r){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null,""),e.prev=1,Object(d.a)(),e.next=5,o.a.post("".concat(i.c,"/teachertransfer/getschoolsperdistrict/").concat(t),{user_id:a});case 5:s=e.sent,console.log("=================FC_GetSchoolByDistrict_2==================="),console.log({FC_GetSchoolByDistrict_2:s}),console.log("=================FC_GetSchoolByDistrict_2==================="),r(!1,s.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),r(!1,null,Object(u.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a,r){return e.apply(this,arguments)}}(),g=function(e,t,a,s,c){c(!0,"");var m="";return function(){var b=Object(r.a)(n.a.mark((function r(b){var p,j;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(!0,""),r.next=3,f(a,(function(e,t,a,r){c(e,""),console.log("==================&&&&&&&&&&&&&=================="),console.log({data:a}),console.log("==================&&&&&&&&&&&&&=================="),!e&&Object(h.f)(r)&&null!==a?m=a:e||Object(h.f)(r)||c(!1,r)}));case 3:if(Object(h.f)(m)){r.next=23;break}return c(!0,""),p={teacher_transfer_id:e,outgoing_status:s,outgoing_dde_comment:t,mayor_letter:m},console.log("==================*********************=================="),console.log({doc_title:m}),console.log("==================*********************=================="),r.prev=9,Object(d.a)(),r.next=13,o.a.post("".concat(i.c,"/teachertransfers/outgoing"),p);case 13:j=r.sent,console.log("Uploaded document: ",j.data),b({type:l.a.RESPOND_TO_LEAVE,payload:p}),c(!1,""),r.next=23;break;case 19:r.prev=19,r.t0=r.catch(9),console.error(r.t0),c(!1,Object(u.a)(r.t0));case 23:case"end":return r.stop()}}),r,null,[[9,19]])})));return function(e){return b.apply(this,arguments)}}()},O=function(e,t,a,s,c){return c(!1,""),function(){var h=Object(r.a)(n.a.mark((function r(h){var m,b;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(!0,""),m={teacher_transfer_id:e,requested_status:a,approved_school_id:t.school_code,requested_comment:s},r.prev=2,Object(d.a)(),r.next=6,o.a.post("".concat(i.c,"/teachertransfers/incoming"),m);case 6:b=r.sent,console.log("FC_RespondTransfer document: ",b.data),h({type:l.a.RESPOND_TO_TRANSFER,payload:{teacher_transfer_id:e,requested_status:a,approved_school:t,requested_comment:s}}),c(!1,""),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(2),console.error(r.t0),c(!1,Object(u.a)(r.t0));case 16:case"end":return r.stop()}}),r,null,[[2,12]])})));return function(e){return h.apply(this,arguments)}}()},_=function(e){return e(!0,null,""),function(){var t=Object(r.a)(n.a.mark((function t(a){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,o.a.get("".concat(i.c,"/teachertransfers/leavingdde"));case 4:r=t.sent,console.log("=================FC_GetAllLeaves==================="),console.log({FC_GetAllLeaves:r}),console.log("=================FC_GetAllLeaves==================="),a({type:l.a.GET_ALL_LEAVES,payload:r.data}),e(!1,r.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}},106:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));var r,s,n,c=a(12),o=a(1);!function(e){e.default="default",e.primary="primary",e.secondary="secondary",e.danger="danger",e.success="success",e.warning="warning"}(r||(r={})),function(e){e.none="top-0",e.small="top-28",e.medium="top-1/3",e.large="top-1/2",e.extra="top-2/3"}(s||(s={})),function(e){e.small="max-w-sm",e.medium="max-w-screen-sm",e.large="max-w-screen-md",e.extraLarge="max-w-screen-lg",e.maxWidth="max-w-screen h-full"}(n||(n={}));t.c=function(e){var t,a=e.title,l=e.backDrop,i=e.theme,d=e.close,u=e.backDropClose,h=e.widthSizeClass,m=e.displayClose,b=e.padding,p=void 0===b?{title:!0,body:!0,footer:!0}:b;switch(i){case r.primary:t="blue-primary";break;case r.secondary:t="gray-300";break;case r.danger:t="red-500";break;case r.success:t="green-500";break;case r.warning:t="yellow-500";break;default:t="white"}return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{onClick:function(){return u&&d()},className:"fixed bg-black bg-opacity-".concat(!0===l?"60":"0"," h-full w-full left-0 top-0 z-50 animate__animated animate__fadeIn animate__faster")}),Object(o.jsxs)("div",{className:"fixed items-center justify-items-center ".concat(void 0===e.marginTop?s.none:e.marginTop," left-0 right-0 bottom-0 bg-white rounded shadow-xl self-center ").concat(h," animate__animated ").concat(void 0!==e.marginTop&&e.marginTop!==s.none?"animate__fadeInUp":"animate__zoomIn"," animate__faster"),style:{width:"100%",maxHeight:"99vh",height:"".concat(h===n.maxWidth?void 0===e.marginTop?"100%":"unset":"fit-content"),overflowY:"auto",margin:"auto",zIndex:99999999},children:[Object(o.jsxs)("div",{className:"flex justify-between bg-".concat(t," ").concat(!0===p.title?"py-4 px-4":""," rounded-t text-").concat(i===r.default||i===r.secondary?"black":"white"),children:[a&&""!==a?Object(o.jsx)("h4",{className:"text-lg font-bold ",children:a}):Object(o.jsx)("div",{}),!1===m?"":Object(o.jsx)("div",{className:"hover:text-red-600 hover:bg-red-100 rounded-full p-1 h-8 w-8",children:Object(o.jsx)(c.i,{className:"cursor-pointer font-extrabold text-2xl",onClick:function(){return d()}})})]}),Object(o.jsx)("div",{className:"space-x-3 ".concat(!0===p.body?"py-4 px-4":""),children:Object(o.jsx)("div",{children:""!==e.children?e.children:""})}),void 0!==e.footer&&""!==e.footer?Object(o.jsx)("div",{className:"flex float-right ".concat(!0===p.footer?"py-4 px-4":""),children:e.footer}):""]})]})}},108:function(e,t,a){"use strict";a(2);var r=a(50),s=a(1);t.a=function(e){var t=e.onChange,a=e.value,n=e.error,c=e.label,o=e.placeholder,l=e.disabled,i=void 0!==l&&l,d=e.name,u=e.Input_className,h=void 0===u?"":u,m=e.Label_className,b=void 0===m?"":m,p=e.InputContainer_className,j=void 0===p?"":p,f=e.MainContainer_className,x=void 0===f?"":f,g=e.labelColor,O=void 0===g?"text-primary-900 dark:text-primary-100":g,_=e.size,v=void 0===_?"md":_;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"w-full my-2 ".concat(x),children:[""!==c&&Object(s.jsx)("label",{htmlFor:"any-form",className:"".concat(O," ").concat(b),children:c}),Object(s.jsxs)("div",{className:"rounded relative ".concat(j),children:[Object(s.jsx)("textarea",{name:d,placeholder:o,onChange:t,className:"\n                w-full text-lg rounded border-2 \n                ".concat(Object(r.a)(v),"\n                ").concat(""!==n?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                px-3 ").concat(h),value:a,disabled:i}),""!==n&&Object(s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:n})]})]})})}},111:function(e,t,a){"use strict";a(2);var r=a(1);t.a=function(e){var t=function(){for(var t=[],a=0;a<e.cols;a++)t.push(a);return t.map((function(e){return Object(r.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(r.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("tr",{className:"border-b border-gray-200",children:t()},228),Object(r.jsx)("tr",{className:"border-b border-gray-200",children:t()},22648),Object(r.jsx)("tr",{className:"border-b border-gray-200",children:t()},229768)]})}},118:function(e,t,a){"use strict";a(2);var r=a(117),s=a(13),n=a(1);t.a=function(e){var t="uploaded"===e.linkFor?"".concat(s.d,"/").concat(e.first_id):"".concat(s.c,"/generateletter/").concat(e.linkFor,"/").concat(e.first_id,"/").concat(e.last_id);return Object(n.jsxs)("a",{href:t,className:"py-2 px-4 text-md w-max font-bold rounded bg-primary-800 hover:bg-opacity-90 text-white flex items-center gap-2",target:"_blank",rel:"noreferrer",children:[Object(n.jsx)(r.a,{}),Object(n.jsx)("span",{children:e.title})]})}},125:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(2);var r,s,n=a(50),c=a(1);!function(e){e.PDF="PDF",e.IMAGES="IMAGES",e.ANY="ANY"}(r||(r={})),function(e){e.ALL="",e.IMAGES="image/*",e.EXCEL=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",e.PDF="application/pdf"}(s||(s={}));t.b=function(e){var t=e.onChange,a=e.error,r=e.label,o=e.multiple,l=e.disabled,i=void 0!==l&&l,d=e.accept,u=void 0===d?s.ALL:d,h=e.name,m=e.type,b=e.Input_className,p=void 0===b?"":b,j=e.Label_className,f=void 0===j?"":j,x=e.InputContainer_className,g=void 0===x?"":x,O=e.MainContainer_className,_=void 0===O?"":O,v=e.size,N=void 0===v?"md":v,y=e.labelColor,S=void 0===y?"text-primary-900 dark:text-primary-100":y;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"w-full my-2 ".concat(_),children:[""!==r&&Object(c.jsx)("label",{htmlFor:"any-form",className:"".concat(S," ").concat(f),children:r}),Object(c.jsxs)("div",{className:"rounded relative ".concat(g),children:[Object(c.jsx)("input",{name:h,multiple:o,accept:u,type:m,onChange:t,className:"\n                w-full text-lg rounded border-2 \n                ".concat(Object(n.a)(N),"\n                ").concat(""!==a?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                px-3 ").concat(p),disabled:i}),""!==a&&Object(c.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:a})]})]})})}},168:function(e,t,a){"use strict";a.r(t),a.d(t,"RequestApprovalDde",(function(){return U}));var r,s=a(19),n=a(2),c=a.n(n),o=a(52),l=a(28),i=a(29),d=a(30),u=a(31),h=a(16),m=a(105),b=a(25),p=a(24),j=a(118),f=a(33),x=a(111),g=a(18),O=a(125),_=a(108),v=a(1),N=Object(h.b)(null,{FC_RespondLeave:m.g})((function(e){var t=c.a.useState(null),a=Object(s.a)(t,2),r=a[0],n=a[1],o=c.a.useState(""),l=Object(s.a)(o,2),i=l[0],d=l[1],u=c.a.useState(null),h=Object(s.a)(u,2),m=h[0],j=h[1],f=c.a.useState(!1),x=Object(s.a)(f,2),N=x[0],y=x[1],S=function(t){null!==m?Object(g.f)(i)?n({target:"comment",msg:"Required!"}):e.FC_RespondLeave(e.selectedUserId,i,m,t,(function(t,a){y(t),t||Object(g.f)(a)?Object(g.f)(a)&&(n({target:"main-success",msg:"Response sent successful!"}),d(""),j(null),setTimeout((function(){e.setSelectedUserId("")}),1e3)):n({target:"main-error",msg:a})})):n({target:"approved_doc",msg:"Required!"})};return Object(v.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster absolute p-1 bg-primary-800 rounded -mt-0.5  z-40 w-auto mx-2 sm:mx-0 sm:w-80 right-0 ",children:[r&&"main-success"===r.target&&Object(v.jsx)(b.a,{theme:"success",fixed:!0,children:r&&r.msg}),r&&"main-error"===r.target&&Object(v.jsx)(b.a,{theme:"danger",fixed:!0,children:r&&r.msg}),Object(v.jsx)("div",{className:"px-2",children:Object(v.jsx)(O.b,{disabled:N,labelColor:"text-gray-300",label:"Signed document",name:"approved_doc",className:"p-2",onChange:function(e){return function(e){if(n(null),null===e.target.files)return j(null),n({msg:"Please select a valid file",target:"approved_doc"});var t=e.target.files[0];return"application/pdf"!==t.type?(j(null),n({msg:"The system accept pdf only",target:"approved_doc"})):t.size<=0?(j(null),n({msg:"Invalid file, Please choose a real file",target:"approved_doc"})):(j(t),void n(null))}(e)},error:r&&"approved_doc"===r.target?r.msg:"",type:"file",accept:O.a.PDF})}),Object(v.jsx)("div",{className:"px-2",children:Object(v.jsx)(_.a,{disabled:N,name:"dde_post_request_comment",className:"w-full p-1 rounded",value:i,onChange:function(e){return d(e.target.value)},error:"",labelColor:"text-gray-300",label:"Comment",placeholder:""})}),Object(v.jsxs)("div",{className:"flex justify-between gap-2",children:[Object(v.jsx)(p.a,{theme:"default",onClick:function(){e.setSelectedUserId(""),d(""),j(null)},disabled:N,children:"Cancel"}),Object(v.jsxs)("div",{className:"flex gap-2",children:[Object(v.jsx)(p.a,{theme:"success",disabled:N,onClick:function(e){return S("APPROVED")},children:"Accept"}),Object(v.jsx)(p.a,{theme:"danger",disabled:N,onClick:function(){return S("REJECTED")},children:"Reject"})]})]})]})})),y=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){null===r.props.transfer.allLeaves||0===r.props.transfer.allLeaves.length?r.props.FC_GetAllLeaves((function(e,t,a){r.setState({loading:e}),!e&&t?r.setState({loading:e}):e||Object(g.f)(a)||r.setState({error:{target:"main-error",msg:a}})})):!0===r.state.loading&&r.setState({loading:!1})},r.state={loading:!0,error:null,search:"",selectedUserId:""},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[this.state.error&&"main-success"===this.state.error.target&&Object(v.jsx)(b.a,{theme:"success",fixed:!0,children:this.state.error.msg}),this.state.error&&"main-error"===this.state.error.target&&Object(v.jsx)(b.a,{theme:"danger",fixed:!0,children:this.state.error.msg}),Object(v.jsxs)("div",{className:"mt-3",children:[Object(v.jsx)("div",{className:"border border-t mt-2 mb-1 flex items-center px-3 rounded",children:Object(v.jsx)("div",{className:"flex-1 pr-2",children:Object(v.jsx)(f.a,{error:"",label:"Search",name:"",type:"search",onChange:function(t){return e.setState({search:t.target.value})},placeholder:"Search by district name",value:this.state.search,size:"sm",disabled:this.state.loading||null===this.props.transfer.allLeaves||0===this.props.transfer.allLeaves.length})})}),Object(v.jsx)("div",{className:"w-full overflow-x-auto",children:Object(v.jsxs)("table",{className:"w-full text-left border",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"p-2",children:"#"}),Object(v.jsx)("th",{className:"p-2",children:"Names"}),Object(v.jsx)("th",{className:"p-2",children:"Phone"}),Object(v.jsx)("th",{className:"p-2",children:"Qualification"}),Object(v.jsx)("th",{className:"p-2",children:"Position"}),Object(v.jsx)("th",{className:"p-2",children:"Requested School"}),Object(v.jsx)("th",{className:"p-2",children:"Requested Sector"}),Object(v.jsx)("th",{className:"p-2",children:"Requested Date"}),Object(v.jsx)("th",{className:"p-2",children:"Status"})]})}),Object(v.jsx)("tbody",{children:this.state.loading?Object(v.jsx)(x.a,{cols:9}):null===this.props.transfer.allLeaves?Object(v.jsx)("tr",{className:"border-t border-b",children:Object(v.jsx)("td",{colSpan:9,className:"p-6 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:"Something went wrong! Please try again!"})}):this.props.transfer.allLeaves.length<=0?Object(v.jsx)("tr",{className:"border-t border-b",children:Object(v.jsx)("td",{colSpan:9,className:"p-6 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:"No results found"})}):this.props.transfer.allLeaves.map((function(t,a){return Object(v.jsxs)("tr",{className:"border-t border-b hover:bg-accent-400",children:[Object(v.jsx)("td",{className:"px-2",children:a+1}),Object(v.jsx)("td",{className:"px-2",children:t.teacher_full_name}),Object(v.jsx)("td",{className:"px-2",children:t.teacher_phone_number}),Object(v.jsx)("td",{className:"px-2",children:t.qualification_name}),Object(v.jsx)("td",{className:"px-2",children:t.position_name}),Object(v.jsx)("td",{className:"px-2",children:t.requested_school_info.school_name}),Object(v.jsx)("td",{className:"px-2",children:t.requested_school_info.sector_name}),Object(v.jsx)("td",{className:"p-2",children:Object(g.a)(t.teacher_requested_transfer_date)}),e.state.selectedUserId===t.teacher_transfer_id.toString()?Object(v.jsx)("td",{className:"",children:Object(v.jsx)(N,{selectedUserId:e.state.selectedUserId,setSelectedUserId:function(t){return e.setState({selectedUserId:t})}})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{className:"p-2",children:"PENDING"===t.outgoing_status?Object(v.jsx)(p.a,{theme:"accent-light",onClick:function(a){return"PENDING"===t.outgoing_status&&e.setState({selectedUserId:t.teacher_transfer_id.toString()})},children:"Respond"}):t.outgoing_status}),Object(v.jsx)("td",{className:"p-2",children:"PENDING"===t.outgoing_status?Object(v.jsx)(j.a,{linkFor:"transfer",first_id:t.teacher_transfer_id,last_id:t.teacher_id,title:"Transfer letter"}):t.mayor_letter&&Object(v.jsx)(j.a,{linkFor:"uploaded",first_id:t.mayor_letter,last_id:"",title:"Transfer letter"})})]})]},t.teacher_transfer_id)}))})]})})]})]})}}]),a}(n.Component),S=Object(h.b)((function(e){return{auth:e.auth,basic:e.basic,transfer:e.transfer}}),{FC_GetAllLeaves:m.a})(y),w=a(26),C=a(104),k=a(42),I=a(106),T=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.props.auth.district&&r.props.auth.district.district_code&&r.props.selectedUserInfo.position_code&&r.props.selectedUserInfo.qualification_id?Object(m.e)(r.props.auth.district.district_code,r.props.selectedUserInfo.teacher_id,(function(e,t,a){if(r.setState({loading:e}),e||Object(g.f)(a)){if(!e&&null!==t){var s=t.filter((function(e){return e.vacant_posts>0||e.school_code.toString()===r.props.selectedUserInfo.requested_school_id}));r.setState({schools:s})}}else r.setState({error:{target:"main-error",msg:a}})})):null===r.props.auth.district||""===r.props.auth.district.district_code||null===r.props.auth.district.district_code?r.setState({error:{target:"main-error",msg:"No district attached to you!"}}):null===r.props.selectedUserInfo.position_code||Object(g.f)(r.props.selectedUserInfo.position_code)?r.setState({error:{target:"main-error",msg:"No position code found!"}}):(null===r.props.selectedUserInfo.qualification_id||Object(g.f)(r.props.selectedUserInfo.qualification_id))&&r.setState({error:{target:"main-error",msg:"No qualification id found!"}})},r.RequestHandle=function(e){if(Object(g.f)(r.state.selectedSchool))return r.setState({error:{target:"school",msg:"Required!"}});var t=r.state.schools.find((function(e){return e.school_code===r.state.selectedSchool}));return void 0===t?r.setState({error:{target:"school",msg:"Can't find the selected school!"}}):Object(g.f)(r.state.comment)?r.setState({error:{target:"comment",msg:"Required!"}}):void r.props.FC_RespondTransfer(r.props.selectedUserInfo.teacher_transfer_id.toString(),{school_name:t.school_name,school_code:t.school_code,sector_name:t.sector_name,district_name:t.school_code.substring(0,2)},e,r.state.comment,(function(e,t){r.setState({requestLoading:e}),e||Object(g.f)(t)?Object(g.f)(t)&&(r.setState({error:{target:"main-success",msg:"Submitted Successfully!"},comment:"",selectedSchool:""}),setTimeout((function(){r.props.closeModalHandler("")}),1e3)):r.setState({error:{target:"main-error",msg:t}})}))},r.state={loading:!0,requestLoading:!1,selectedSchool:r.props.selectedUserInfo.requested_school_id,comment:"",schools:[],error:null},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return console.log("===================================="),console.log({district:this.props.auth.district,position_code:this.props.selectedUserInfo,qualification_id:this.props.selectedUserInfo.qualification_id}),console.log("===================================="),Object(v.jsx)(I.c,{backDrop:!0,theme:I.b.default,close:function(){e.setState({selectedSchool:"",comment:"",schools:[]}),e.props.closeModalHandler("")},backDropClose:!0,widthSizeClass:I.a.extraLarge,displayClose:!0,title:Object(v.jsx)("div",{className:"text-2xl w-full text-primary-800 -mb-2",children:"Teacher(Staff) Information"}),padding:{title:!0},children:Object(v.jsxs)(v.Fragment,{children:[this.state.error&&"main-success"===this.state.error.target&&Object(v.jsx)(b.a,{theme:"success",fixed:!0,children:this.state.error&&this.state.error.msg}),this.state.error&&"main-error"===this.state.error.target&&Object(v.jsx)(b.a,{theme:"danger",fixed:!0,children:this.state.error&&this.state.error.msg}),Object(v.jsxs)("div",{className:"px-4 w-full",children:[Object(v.jsxs)("div",{className:"p-2",children:[Object(v.jsx)("div",{className:"w-full flex flex-col justify-between",children:Object(v.jsxs)("div",{children:[Object(v.jsxs)("h2",{className:"font-bold text-xl",children:[Object(g.f)(this.props.selectedUserInfo.teacher_full_name)?this.props.selectedUserInfo.teacher_first_name:this.props.selectedUserInfo.teacher_full_name," ",this.props.selectedUserInfo.teacher_last_name]}),!1,Object(v.jsxs)("p",{className:"text-md leading-relaxed",children:[Object(v.jsx)("span",{className:"font-bold",children:"Reason:"}),Object(v.jsx)("br",{}),this.props.selectedUserInfo.teacher_reason]}),Object(v.jsxs)("p",{className:"text-md leading-relaxed",children:[Object(v.jsx)("span",{className:"font-bold",children:"Comment:"}),Object(v.jsx)("br",{}),this.props.selectedUserInfo.teacher_comment]}),Object(v.jsxs)("ul",{className:"text-xs leading-relaxed",children:[Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"font-medium",children:"Phone: "}),Object(v.jsx)("span",{className:"font-bold text-base",children:this.props.selectedUserInfo.teacher_phone_number})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"font-bold",children:"Position: "}),this.props.selectedUserInfo.position_name]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"font-bold",children:"Current School: "}),this.props.selectedUserInfo.school_from_info.school_name]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"font-bold",children:"Requested School: "}),this.props.selectedUserInfo.requested_school_info.school_name]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"font-bold",children:"Transfer type: "}),Object(g.d)(this.props.selectedUserInfo.transfer_type)]})]})]})}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Uploaded Files"}),Object(v.jsx)(j.a,{linkFor:"uploaded",first_id:this.props.selectedUserInfo.teacher_supporting_document,last_id:"",title:"Supporting document"})]})]}),!1===this.state.loading&&Object(v.jsxs)("div",{children:[Object(v.jsx)(C.a,{data:Object(w.a)(this.state.schools.map((function(e){return{title:e.school_name+"( with ".concat(e.vacant_posts," vacant(s)"),value:e.school_code}}))),error:this.state.error&&"school"===this.state.error.target?this.state.error.msg:"",name:"select_level",onChange:function(t){return e.setState({selectedSchool:t.target.value})},label:"Change School:",placeholder:"Select",value:this.state.selectedSchool,size:"md",disabled:this.state.loading||this.state.requestLoading}),Object(v.jsx)(_.a,{value:this.state.comment,onChange:function(t){return e.setState({comment:t.target.value})},name:"comment",error:this.state.error&&"comment"===this.state.error.target?this.state.error.msg:"",label:"Comment",placeholder:"",disabled:this.state.loading||this.state.requestLoading})]}),!0===this.state.loading&&Object(v.jsx)("div",{className:"mx-auto p-8",children:Object(v.jsx)(k.a,{})})]}),!1===this.state.loading&&Object(v.jsxs)("div",{className:"flex items-center justify-between p-3 border-t border-solid border-blueGray-200 rounded-b",children:[Object(v.jsx)(p.a,{theme:"default",onClick:function(){return e.setState({error:null,comment:"",selectedSchool:e.props.selectedUserInfo.requested_school_id})},disabled:this.state.loading||this.state.requestLoading,children:"Reset"}),Object(v.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[Object(v.jsx)(p.a,{theme:"success",onClick:function(){return e.RequestHandle("APPROVED")},loading:this.state.requestLoading,disabled:this.state.loading||this.state.requestLoading,children:"Approve"}),Object(v.jsx)(p.a,{theme:"danger",onClick:function(){return e.RequestHandle("REJECTED")},loading:this.state.requestLoading,disabled:this.state.loading||this.state.requestLoading,children:"Reject"})]})]})]})})}}]),a}(n.Component),q=c.a.memo(Object(h.b)(null,{FC_RespondTransfer:m.h})(T)),F=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){null===r.props.transfer.allTransfers||0===r.props.transfer.allTransfers.length?r.props.FC_GetAllTransfers((function(e,t,a){r.setState({loading:e}),!e&&t?r.setState({loading:e}):e||Object(g.f)(a)||r.setState({error:{target:"main-error",msg:a}})})):!0===r.state.loading&&r.setState({loading:!1})},r.getTransferById=function(e){if(r.props.transfer.allTransfers)return r.props.transfer.allTransfers.find((function(t){return t.teacher_transfer_id.toString()===e}))},r.state={loading:!0,error:null,search:"",selectedUserId:""},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"mt-3",children:[Object(v.jsx)("div",{className:"border border-t mt-2 mb-1 flex items-center px-3 rounded",children:Object(v.jsx)("div",{className:"flex-1 pr-2",children:Object(v.jsx)(f.a,{error:"",label:"Search",type:"search",name:"",onChange:function(t){return e.setState({search:t.target.value})},placeholder:"Search",value:this.state.search,size:"sm"})})}),Object(v.jsx)("div",{className:"w-full overflow-x-auto",children:Object(v.jsxs)("table",{className:"w-full text-left border",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"p-2",children:"#"}),Object(v.jsx)("th",{className:"p-2",children:"First Name"}),Object(v.jsx)("th",{className:"p-2",children:"Last Name"}),Object(v.jsx)("th",{className:"p-2",children:"Phone"}),Object(v.jsx)("th",{className:"p-2",children:"Requested School"}),Object(v.jsx)("th",{className:"p-2",children:"Requested Sector"}),Object(v.jsx)("th",{className:"p-2",children:"Reason"}),Object(v.jsx)("th",{className:"p-2",children:"Current School"}),Object(v.jsx)("th",{className:"p-2",children:"Type"}),Object(v.jsx)("th",{className:"p-2",children:"Status"})]})}),Object(v.jsx)("tbody",{children:this.state.loading?Object(v.jsx)(x.a,{cols:9}):null===this.props.transfer.allTransfers?Object(v.jsx)("tr",{className:"border-t border-b",children:Object(v.jsx)("td",{colSpan:9,className:"p-6 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:"Something went wrong! Please try again."})}):this.props.transfer.allTransfers.length<=0?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:9,className:"p-6 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:"No results found"})}):Object(g.g)(this.props.transfer.allTransfers,this.state.search).map((function(t,a){return Object(v.jsxs)("tr",{className:"border-t border-b",children:[Object(v.jsx)("td",{className:"p-2",children:a+1}),Object(v.jsx)("td",{className:"p-2",children:t.teacher_first_name}),Object(v.jsx)("td",{className:"p-2",children:t.teacher_last_name}),Object(v.jsx)("td",{className:"p-2",children:t.teacher_phone_number}),Object(v.jsx)("td",{className:"p-2",children:t.requested_school_info.school_name}),Object(v.jsx)("td",{className:"p-2",children:t.requested_school_info.sector_name}),Object(v.jsx)("td",{className:"p-2",children:t.school_from_info.school_name}),Object(v.jsx)("td",{className:"p-2",children:t.teacher_reason}),Object(v.jsx)("td",{className:"p-2",children:Object(g.d)(t.transfer_type)}),Object(v.jsx)("td",{className:"p-2",children:"PENDING"===t.requested_status?Object(v.jsx)(p.a,{onClick:function(a){return e.setState({selectedUserId:t.teacher_transfer_id.toString()})},theme:"accent-light",children:t.requested_status}):"".concat(t.requested_status)})]},t.teacher_transfer_id)}))})]})})]}),!Object(g.f)(this.state.selectedUserId)&&this.getTransferById(this.state.selectedUserId)&&Object(v.jsx)(q,{selectedUserInfo:this.getTransferById(this.state.selectedUserId),closeModalHandler:function(t){return e.setState({selectedUserId:t})},auth:this.props.auth})]})}}]),a}(n.Component),R=Object(h.b)((function(e){return{auth:e.auth,basic:e.basic,transfer:e.transfer}}),{FC_GetAllTransfers:m.b})(F);!function(e){e.transferTab="Requested Transfers",e.leaveTab="Requested Leaves"}(r||(r={}));var U=function(){var e=c.a.useState(r.transferTab),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(o.a,{title:"Requested Transfer",subTitle:"Transfer",children:Object(v.jsx)("div",{className:"flex flex-wrap",children:Object(v.jsxs)("div",{className:"w-full",children:[Object(v.jsx)("div",{className:"flex flex-row items-center mt-2",children:Object.values(r).map((function(e,t){return Object(v.jsx)("div",{onClick:function(){return n(e)},className:"animate__animated ".concat(a===e?"bg-accent-400 border-accent-900 text-accent-900 animate__zoomIn animate__faster":"bg-white border-white text-gray-600 cursor-pointer"," hover:bg-accent-100 px-4 py-2 font-bold border-b-4 hover:border-accent-900 hover:text-accent-900 rounded-t mt-1 mx-1"),children:e},t)}))}),Object(v.jsxs)("div",{className:"w-full",children:[a===r.transferTab&&Object(v.jsx)("div",{children:Object(v.jsx)(R,{})}),a===r.leaveTab&&Object(v.jsx)("div",{children:Object(v.jsx)(S,{})})]})]})})})})}}}]);
//# sourceMappingURL=17.82252690.chunk.js.map