(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[21],{104:function(e,t,s){"use strict";s(2);var a=s(49),c=s(1);t.a=function(e){var t=e.onChange,s=e.value,l=e.error,r=e.label,i=e.placeholder,n=e.disabled,d=void 0!==n&&n,o=e.name,h=e.Input_className,m=void 0===h?"":h,j=e.Label_className,b=void 0===j?"":j,u=e.InputContainer_className,p=void 0===u?"":u,x=e.MainContainer_className,O=void 0===x?"":x,_=e.size,v=void 0===_?"md":_,f=e.data;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"w-full my-2 ".concat(O),children:[Object(c.jsx)("label",{htmlFor:"login-form-email",className:"text-primary-900 dark:text-primary-100 ".concat(b),children:r}),Object(c.jsxs)("div",{className:"rounded relative ".concat(p),children:[Object(c.jsx)("select",{name:o,placeholder:i,onChange:t,className:"\n                     w-full text-lg rounded border-2 \n                     ".concat(Object(a.a)(v),"\n                     ").concat(""!==l?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                     px-3 ").concat(m),value:s,disabled:d,children:f.map((function(e,t){return Object(c.jsx)("option",{value:e.value,children:e.title},t)}))}),""!==l&&Object(c.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:l})]})]})})}},119:function(e,t,s){"use strict";s(2);var a=s(1);t.a=function(e){var t=e.placement_list,s=e.footer,c=e.header;return Object(a.jsx)("div",{className:"fixed top-0 bottom-0 right-0 left-0 animate__animated animate__fadeIn  bg-black bg-opacity-95 z-60 overflow-auto",children:Object(a.jsxs)("div",{className:"w-full mx-auto bg-white px-3 py-8 animate__animated animate__zoomIn animate__faster",children:[c&&c,Object(a.jsx)("div",{className:"overflow-auto ",children:Object(a.jsxs)("table",{className:"border w-full ",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{className:"text-left",children:[Object(a.jsx)("th",{className:"p-1 border",children:"No"}),Object(a.jsx)("th",{className:"p-1 border",children:"District Code"}),Object(a.jsx)("th",{className:"p-1 border",children:"District Name"}),Object(a.jsx)("th",{className:"p-1 border",children:"School Code"}),Object(a.jsx)("th",{className:"p-1 border",children:"School Name"}),Object(a.jsx)("th",{className:"p-1 border",children:"School Category"}),Object(a.jsx)("th",{className:"p-1 border",children:"School Status"}),Object(a.jsx)("th",{className:"p-1 border",children:"Staff Category"}),Object(a.jsx)("th",{className:"p-1 border",children:"Staff Code"}),Object(a.jsx)("th",{className:"p-1 border",children:"NID"}),Object(a.jsx)("th",{className:"p-1 border",children:"Names"}),Object(a.jsx)("th",{className:"p-1 border",children:"First name"}),Object(a.jsx)("th",{className:"p-1 border",children:"Last name"}),Object(a.jsx)("th",{className:"p-1 border",children:"Middle name"}),Object(a.jsx)("th",{className:"p-1 border",children:"Phone Number"}),Object(a.jsx)("th",{className:"p-1 border",children:"Email"}),Object(a.jsx)("th",{className:"p-1 border",children:"DOB"}),Object(a.jsx)("th",{className:"p-1 border",children:"Sex"}),Object(a.jsx)("th",{className:"p-1 border",children:"Nationality"}),Object(a.jsx)("th",{className:"p-1 border",children:"Martial Status"}),Object(a.jsx)("th",{className:"p-1 border",children:"Qualification"}),Object(a.jsx)("th",{className:"p-1 border",children:"Position"}),Object(a.jsx)("th",{className:"p-1 border",children:"Specialization"}),Object(a.jsx)("th",{className:"p-1 border",children:"Date in Education"}),Object(a.jsx)("th",{className:"p-1 border",children:"Date to School"}),Object(a.jsx)("th",{className:"p-1 border",children:"Subjects"}),Object(a.jsx)("th",{className:"p-1 border",children:"Periods"}),Object(a.jsx)("th",{className:"p-1 border",children:"Grades"}),Object(a.jsx)("th",{className:"p-1 border",children:"RSSB"}),Object(a.jsx)("th",{className:"p-1 border",children:"Bank Account"}),Object(a.jsx)("th",{className:"p-1 border",children:"Bank Name"}),Object(a.jsx)("th",{className:"p-1 border",children:"Status"})]})}),Object(a.jsx)("tbody",{children:t.filter((function(e){return"Active"===e.status})).map((function(e,t){var s,c,l,r,i,n;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"p-1 border",children:t+1}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(s=e.location)||void 0===s?void 0:s.district_code}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(c=e.location)||void 0===c?void 0:c.district_name}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(l=e.school)||void 0===l?void 0:l.school_code}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(r=e.school)||void 0===r?void 0:r.school_name}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(i=e.school)||void 0===i?void 0:i.school_category}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e||null===(n=e.school)||void 0===n?void 0:n.school_status}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.staff_category}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.staff_code}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.nid}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.full_name}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.first_name}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.last_name}),Object(a.jsx)("th",{className:"p-1 border"}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.phone_numbers}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.email}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.dob}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.sex}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.nationality_id}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.marital_status}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.qualification}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.position}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.specialization}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.start_date_in_the_school}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.start_date_in_the_school}),Object(a.jsx)("th",{className:"p-1 border"}),Object(a.jsx)("th",{className:"p-1 border"}),Object(a.jsx)("th",{className:"p-1 border"}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.rssb_number}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.bank_account}),Object(a.jsx)("th",{className:"p-1 border"}),Object(a.jsx)("th",{className:"p-1 border",children:null===e||void 0===e?void 0:e.status})]},t)}))})]})}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"",children:s&&s})]})})}},162:function(e,t,s){"use strict";s.r(t),s.d(t,"UpdatePlacementList",(function(){return k}));var a=s(26),c=s(27),l=s(28),r=s(29),i=s(2),n=s.n(i),d=s(35),o=s(11),h=s(16),m=s(15),j=s(12),b=s(24),u=s(25),p=s(30),x=s(39),O=s(104),_=s(31),v=s(48),f=s(119),N=s(7),g=s(18),S=s(1),y=function(e){Object(l.a)(s,e);var t=Object(r.a)(s);function s(e){var c;return Object(a.a)(this,s),(c=t.call(this,e)).submitLogin=function(e){e.preventDefault()},c.componentDidMount=function(){var e;if(0===c.props.placement.placements.length)return Object(S.jsx)(m.a,{to:"/placement-list-ht"});Object(N.a)(null===(e=c.props.auth.role)||void 0===e?void 0:e.access,N.b.HEADTEACHER_UPDATE_PLACEMENT_LIST,(function(){c.startApp()}))},c.startApp=function(){if(null===c.props.basic.academic_calender)c.setState({error:{target:"main-error",msg:"Failed to load data, please reload data"}});else if(null===c.props.auth.school)c.setState({error:{target:"main-error",msg:"No school assigned to you"}});else{var e=c.props.auth.school.school_code;c.setState({error:{target:null,msg:""}}),Object(j.F)(e,(function(e,t,s){if(!0===e&&null!==t){var a=c.props.placement.placements.find((function(e){return e.placement_list_approval_id===c.props.placement_id}));c.setState({selected_placement:void 0===a?null:a,ht_comment:void 0===a?"":null===a||void 0===a?void 0:a.ht_comment,loading_data:!1,data:t.staff,roles:t.role,placement_list:t.staff.filter((function(e){return!(null==e.first_name||""===e.first_name)}))})}else c.setState({loading_data:!1,error:{msg:s,target:"main-error"}})}))}},c.UpdatePlacement=function(e,t){},c.submitList=function(e){return e.preventDefault(),null===c.props.basic.academic_calender||null===c.props.auth.school?c.setState({error:{target:"submit-list-error",msg:"You don't has a district assigned to you"}}):null===c.state.selected_placement?c.setState({error:{target:"main-error",msg:"No placement list selected"}}):(c.setState({loading_placement_submit:!0}),c.props.FC_UpdatePlacementList(c.state.selected_placement.placement_list_approval_id,{academic_year_id:c.state.selected_placement.academic_year_id,district_code:c.state.selected_placement.district_code,list:JSON.stringify(c.state.placement_list),month:c.state.selected_placement.month,school_code:c.state.selected_placement.school_code,ht_comment:c.state.ht_comment},(function(e,t){!0===e?c.setState({loading_placement_submit:!1,error:{target:"submit-list-success",msg:"Placement list for ".concat(c.state.selected_month," has been updated successfully")}}):c.setState({loading_placement_submit:!1,error:{target:"submit-list-error",msg:t}}),setTimeout((function(){c.setState({error:{msg:"",target:null}})}),3e3)})),void console.log("janvier"))},c.setApprovedList=function(){return c.setState({approved_list:!c.state.approved_list})},c.SelectAll=function(){return c.setState({placement_list:c.state.data})},c.DeSelectAll=function(){return c.setState({placement_list:[]})},c.state={approved_list:!1,selected_placement:null,loading:!1,data:[],placement_list:[],roles:[],error:{target:null,msg:""},loading_data:!1,selected_role:"",selected_request_id:"",selected_value:"0",selected_comment:"",selected_auto_level:"",search:"",selected_qualification:"",selected_month:"",loading_placement_submit:!1,ht_comment:""},c}return Object(c.a)(s,[{key:"render",value:function(){var e,t,s,a,c,l,r,n=this,h=""===this.state.selected_role?this.state.data:this.state.data.filter((function(e){return e.role_id===n.state.selected_role}));return h=""===this.state.selected_qualification?h:h.filter((function(e){return e.qualification===n.state.selected_qualification})),h=Object(g.f)(h,this.state.search,{email:!0,first_name:!0,full_name:!0,last_name:!0,phone_numbers:!0,qualification:!0,role:!0,role_id:!0,status:!0,user_id:!0,username:!0}),!0===this.state.loading_data?Object(S.jsx)("div",{className:"p-8 text-center",children:Object(S.jsx)("div",{className:"mx-auto",children:Object(S.jsx)(v.a,{})})}):"main-error"===this.state.error.target?Object(S.jsx)(b.a,{theme:"danger",fixed:!0,children:this.state.error.msg}):!0===this.state.approved_list?Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(f.a,{placement_list:this.state.placement_list,header:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsxs)("div",{className:"text-xl",children:[Object(S.jsxs)("h2",{children:["School code:"," ",Object(S.jsx)("b",{children:null===(e=this.state.selected_placement)||void 0===e?void 0:e.school_code})]}),Object(S.jsxs)("h2",{children:["School name:"," ",Object(S.jsx)("b",{children:null===(t=this.state.selected_placement)||void 0===t?void 0:t.school_name})]}),Object(S.jsxs)("h2",{children:["Done by:"," ",Object(S.jsx)("b",{children:null===(s=this.state.selected_placement)||void 0===s?void 0:s.head_teacher_name})]}),Object(S.jsxs)("h2",{children:["Month: ",Object(S.jsx)("b",{children:null===(a=this.state.selected_placement)||void 0===a?void 0:a.month})]}),Object(S.jsxs)("h2",{children:["District:"," ",Object(S.jsx)("b",{children:null===(c=this.state.selected_placement)||void 0===c?void 0:c.district_name})]})]})}),Object(S.jsx)("div",{className:"",children:Object(S.jsx)(u.a,{size:"lg",theme:"danger",onClick:this.setApprovedList,disabled:this.state.loading_placement_submit,type:"button",children:"Close"})})]}),Object(S.jsx)("h1",{className:"text-center text-3xl font-bold mb-4",children:"Placement list"})]}),footer:Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("form",{onSubmit:this.submitList,children:Object(S.jsxs)("div",{className:"mt-5 flex border-t pt-3",children:[Object(S.jsx)("div",{className:"flex-1"}),Object(S.jsxs)("div",{className:"flex-1",children:["submit-list-success"===this.state.error.target&&Object(S.jsx)(b.a,{theme:"success",children:this.state.error.msg}),"submit-list-error"===this.state.error.target&&Object(S.jsx)(b.a,{theme:"danger",children:this.state.error.msg}),Object(S.jsxs)("div",{className:"",children:[Object(S.jsx)("span",{children:"Comment:"}),Object(S.jsx)("textarea",{value:this.state.ht_comment,readOnly:!0,className:"w-full h-32 border-2   rounded p-2"})]}),Object(S.jsx)("div",{className:"text-right",children:Object(S.jsx)(u.a,{size:"lg",className:"flex-1",loading:this.state.loading_placement_submit,children:"Update placement list"})})]})]})})})})}):Object(S.jsxs)(S.Fragment,{children:["main-success"===this.state.error.target&&Object(S.jsx)(b.a,{theme:"success",fixed:!0,children:this.state.error.msg}),"submit-list-success"===this.state.error.target&&Object(S.jsx)(b.a,{theme:"success",fixed:!0,children:this.state.error.msg}),"submit-list-error"===this.state.error.target&&Object(S.jsx)(b.a,{theme:"danger",fixed:!0,children:this.state.error.msg}),Object(S.jsxs)("div",{className:"fixed bottom-0 right-0 flex left-0 bg-white shadow-lg border-t-2 px-3 items-center",children:[Object(S.jsx)("div",{className:"main-side-spacer"}),Object(S.jsxs)("div",{className:"flex-1 p-2 flex items-center",children:[Object(S.jsxs)("div",{className:"mr-4 bg-green-50 text-green-700 px-2",children:[Object(S.jsx)("span",{className:"text-sm",children:"Total selected"}),Object(S.jsx)("h3",{className:"font-bold text-2xl -mt-1",children:this.state.placement_list.length})]}),Object(S.jsxs)("div",{className:"px-2 bg-gray-50 rounded",children:[Object(S.jsx)("span",{className:"text-sm",children:"Total Teachers"}),Object(S.jsx)("h3",{className:"font-bold text-2xl -mt-1",children:this.state.data.length})]}),Object(S.jsx)("div",{className:"flex-1"}),Object(S.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster flex",children:[this.state.placement_list.length>=1&&Object(S.jsx)(u.a,{theme:"accent-light",onClick:this.setApprovedList,className:" animate__faster",children:"Preview list"}),Object(S.jsx)("form",{onSubmit:this.submitList,children:Object(S.jsx)(u.a,{theme:"success",className:" animate__faster ml-1",loading:this.state.loading_placement_submit,children:"Update placement list"})})]})]})]}),Object(S.jsxs)(p.a,{children:["main"===this.state.error.target&&Object(S.jsx)(b.a,{theme:"danger",children:this.state.error.msg}),"loading-update-error"===this.state.error.target&&Object(S.jsx)(b.a,{theme:"danger",children:this.state.error.msg}),Object(S.jsx)("div",{className:"flex items-center",children:Object(S.jsxs)("div",{className:"flex-1",children:[Object(S.jsxs)(x.a,{children:["Update placement list ",null===(l=this.state.selected_placement)||void 0===l?void 0:l.month," "]}),Object(S.jsx)("p",{className:"opacity-60 text-lg -mt-1 font-bold text-accent-900 dark:text-accent-800",children:null===(r=this.props.auth.school)||void 0===r?void 0:r.school_name})]})}),Object(S.jsxs)("div",{className:"mt-3",children:[Object(S.jsxs)("div",{className:"border border-t mt-2 mb-1 flex items-center pl-3 pr-2 rounded",children:[Object(S.jsx)("div",{className:"flex-1 pr-2",children:Object(S.jsx)(_.a,{error:"",label:"Search",name:"",type:"search",onChange:function(e){return n.setState({search:e.target.value})},placeholder:"Search by teacher name",value:this.state.search,size:"sm"})}),Object(S.jsx)("div",{className:"",children:Object(S.jsx)(O.a,{data:[{title:"All Roles",value:""}].concat(Object(d.a)(this.state.roles.map((function(e){return{title:e.role,value:e.role_id}})))),error:"",name:"select_role",onChange:function(e){return n.setState({selected_role:e.target.value})},label:"Role",placeholder:"Select role",value:this.state.selected_role,size:"sm"})}),null!==this.props.basic.qualifications&&Object(S.jsx)("div",{className:"px-2",children:Object(S.jsx)(O.a,{data:[{title:"All",value:""}].concat(Object(d.a)(this.props.basic.qualifications.map((function(e){return{title:e.qualification_name,value:e.qualification_name}})))),error:"",name:"select_qualification",onChange:function(e){return n.setState({selected_qualification:e.target.value})},label:"Qualification",placeholder:"Select Qualification",value:this.state.selected_qualification,size:"sm"})})]}),Object(S.jsx)("div",{className:"p-2 flex"}),Object(S.jsxs)("table",{className:"w-full text-left table-auto border",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{}),Object(S.jsx)("th",{children:"Names"}),Object(S.jsx)("th",{children:"First name"}),Object(S.jsx)("th",{children:"Last name"}),Object(S.jsx)("th",{children:"Phone number"}),Object(S.jsx)("th",{children:"Role"}),Object(S.jsx)("th",{children:"Qualification"})]})}),Object(S.jsx)("tbody",{children:h.length<=0?Object(S.jsx)("tr",{children:Object(S.jsx)("td",{colSpan:8,className:"p-8 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:Object(S.jsx)(x.a,{size:"md",className:"opacity-60 font-light",children:"No results found"})})}):h.map((function(e,t){var s=n.state.placement_list.findIndex((function(t){return t.user_id===e.user_id}));return Object(S.jsx)(i.Fragment,{children:Object(S.jsxs)("tr",{className:"group border rounded hover:bg-blue-500 hover:bg-opacity-20 ".concat(s<0?"":"bg-green-100 bg-opacity-10"," "),children:[Object(S.jsx)("td",{className:"p-1 border cursor-pointer",onClick:n.UpdatePlacement.bind(n,e,s),children:s<0?Object(S.jsx)(o.F,{className:"text-3xl text-yellow-500 mx-auto",title:"This teacher is not validated"}):Object(S.jsx)(o.e,{className:"text-3xl text-green-600 mx-auto"})},t),Object(S.jsx)("td",{className:"p-2 border",children:e.full_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.first_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.last_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.phone_numbers}),Object(S.jsx)("td",{className:"p-2 border",children:e.role}),Object(S.jsx)("td",{className:"p-2 border",children:e.qualification})]})},t)}))})]})]})]}),Object(S.jsx)("div",{className:"h-24"})]})}}]),s}(n.a.Component),C=Object(h.b)((function(e){return{auth:e.auth,basic:e.basic,placement:e.placement}}),{FC_UpdatePlacementList:j.V})(y),k=function(e){Object(l.a)(s,e);var t=Object(r.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(S.jsx)(C,{placement_id:this.props.match.params.placement_id})}}]),s}(n.a.Component)}}]);
//# sourceMappingURL=21.264e3964.chunk.js.map