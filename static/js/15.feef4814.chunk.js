(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[15],{113:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"c",(function(){return h})),r.d(t,"f",(function(){return b})),r.d(t,"b",(function(){return j})),r.d(t,"i",(function(){return m})),r.d(t,"d",(function(){return x})),r.d(t,"e",(function(){return v})),r.d(t,"g",(function(){return y})),r.d(t,"h",(function(){return _}));var n=r(6),a=r(3),c=r.n(a),s=r(5),o=r.n(s),i=r(12),l=r(13),u=r(8),d=r(9),p=r(18),f=function(e){return e(!0,null,""),function(){var t=Object(n.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.a)(),t.next=4,o.a.get("".concat(l.c,"/teachertransfers/requesteddde"));case 4:n=t.sent,console.log("===================================="),console.log({getAllTransfers:n}),console.log("===================================="),r({type:i.a.GET_ALL_TRANSFER,payload:n.data}),e(!1,n.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(d.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return e(!0,null,""),function(){var t=Object(n.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.a)(),t.next=4,o.a.get("".concat(l.c,"/teachertransfers/teacher"));case 4:n=t.sent,console.log("===================================="),console.log({getAllTransfers:n}),console.log("===================================="),r({type:i.a.GET_MY_TRANSFER,payload:n.data}),e(!1,n.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(d.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return e(!0,""),function(){var t=Object(n.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(u.a)(),t.next=4,o.a.get("".concat(l.c,"/teachertransfers/transferreasons"));case 4:n=t.sent,console.log("=================FC_GetTransferReasons==================="),console.log({FC_GetTransferReasons:n}),console.log("=================FC_GetTransferReasons==================="),r({type:i.a.GET_TRANSFER_REASON,payload:n.data}),e(!1,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,Object(d.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){var e=Object(n.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,null,""),e.prev=1,Object(u.a)(),e.next=5,o.a.get("".concat(l.c,"/district"));case 5:r=e.sent,console.log("=================FC_GetDistricts==================="),console.log({FC_GetDistricts:r}),console.log("=================FC_GetDistricts==================="),t(!1,r.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),t(!1,null,Object(d.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(n.a)(c.a.mark((function e(t,r){var n,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,n=0,null,""),e.prev=2,Object(u.a)(),(a=new FormData).append("teacher_supporting_document",t),e.next=8,o.a.post("".concat(l.c,"/teachertransfers/uploadSupportingDocument"),a,{onUploadProgress:function(e){n=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,r(!0,n,null,"")}});case 8:s=e.sent,console.log("Uploaded document: ",s.data),r(!1,n,s.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),r(!1,n,"",Object(d.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(n.a)(c.a.mark((function e(t,r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null,""),e.prev=1,Object(u.a)(),e.next=5,o.a.get("".concat(l.c,"/teachertransfer/getschoolsperdistrict/").concat(t));case 5:n=e.sent,console.log("=================FC_GetSchoolByDistrict==================="),console.log({FC_GetSchoolByDistrict:n}),console.log("=================FC_GetSchoolByDistrict==================="),r(!1,n.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),r(!1,null,Object(d.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(n.a)(c.a.mark((function e(t,r,n,a){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0,null,""),e.prev=1,Object(u.a)(),e.next=5,o.a.post("".concat(l.c,"/teachertransfer/getschoolsperdistrict/").concat(t),{position_code:r,qualification_id:n});case 5:s=e.sent,console.log("=================FC_GetSchoolByDistrict_2==================="),console.log({FC_GetSchoolByDistrict_2:s}),console.log("=================FC_GetSchoolByDistrict_2==================="),a(!1,s.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),a(!1,null,Object(d.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),y=function(e,t,r,a,s){s(!0,"");var f="";return function(){var h=Object(n.a)(c.a.mark((function n(h){var b,j;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0,""),n.next=3,m(r,(function(e,t,r,n){s(e,""),console.log("==================&&&&&&&&&&&&&=================="),console.log({data:r}),console.log("==================&&&&&&&&&&&&&=================="),!e&&Object(p.f)(n)&&null!==r?f=r:e||Object(p.f)(n)||s(!1,n)}));case 3:if(Object(p.f)(f)){n.next=23;break}return s(!0,""),b={teacher_transfer_id:e,outgoing_status:a,outgoing_dde_comment:t,mayor_letter:f},console.log("==================*********************=================="),console.log({doc_title:f}),console.log("==================*********************=================="),n.prev=9,Object(u.a)(),n.next=13,o.a.post("".concat(l.c,"/teachertransfers/outgoing"),b);case 13:j=n.sent,console.log("Uploaded document: ",j.data),h({type:i.a.RESPOND_TO_LEAVE,payload:b}),s(!1,""),n.next=23;break;case 19:n.prev=19,n.t0=n.catch(9),console.error(n.t0),s(!1,Object(d.a)(n.t0));case 23:case"end":return n.stop()}}),n,null,[[9,19]])})));return function(e){return h.apply(this,arguments)}}()},_=function(e,t,r,a,s){return s(!1,""),function(){var p=Object(n.a)(c.a.mark((function n(p){var f,h;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0,""),f={teacher_transfer_id:e,requested_status:r,approved_school_id:t,requested_comment:a},n.prev=2,Object(u.a)(),n.next=6,o.a.post("".concat(l.c,"/teachertransfers/incoming"),f);case 6:h=n.sent,console.log("FC_RespondTransfer document: ",h.data),p({type:i.a.RESPOND_TO_TRANSFER,payload:f}),s(!1,""),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(2),console.error(n.t0),s(!1,Object(d.a)(n.t0));case 16:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(e){return p.apply(this,arguments)}}()}},129:function(e,t,r){"use strict";var n=r(20),a=r(2),c=r(10),s=r(18),o=r(1);t.a=function(e){var t=Object(a.useState)(""),r=Object(n.a)(t,2),i=r[0],l=r[1];return Object(o.jsx)("div",{className:"absolute animate__animated animate__fadeIn animate__faster",style:{width:"500px"},children:Object(o.jsxs)("div",{className:"bg-white rounded shadow-xl mb-10",children:[Object(o.jsxs)("div",{className:"p-3 flex flex-row items-center justify-between gap-3",children:[Object(o.jsx)("input",{type:"search",value:i,onChange:function(e){return l(e.target.value)},placeholder:"Type district name...",className:"bg-white rounded px-3 py-2 border border-primary-800 w-full"}),Object(o.jsx)("div",{onClick:function(){return e.setVisibility(!1)},children:Object(o.jsx)("div",{className:"h-8 w-8 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center",children:Object(o.jsx)(c.h,{className:"text-red-600 text-2xl cursor-pointer"})})})]}),Object(o.jsx)("div",{className:"max-h-80 overflow-y-auto pb-3",children:0===Object(s.g)(e.districts,i).length?Object(o.jsx)("div",{className:"text-gray-500 font-extrabold text-xl text-center p-4",children:"No data found!"}):Object(s.g)(e.districts,i).map((function(t,r){return Object(o.jsx)("div",{onClick:function(){e.onChange(t.district_code),e.setVisibility(!1)},className:"border-b py-2 px-3 group ".concat(e.selected_district===t.district_code?"bg-blue-200 font-extrabold text-primary-800":""," hover:bg-primary-800 hover:text-white cursor-pointer hover:border-blue-500"),children:Object(o.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[Object(o.jsx)("div",{children:e.selected_district===t.district_code?Object(o.jsx)(c.g,{className:"text-2xl"}):Object(o.jsx)(c.F,{className:"text-2xl"})}),Object(o.jsx)("div",{children:t.district_name})]})},r+1)}))})]})})}},135:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var c=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},s=t.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&!(e instanceof Array)}))},o=t.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},i=t.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return new Set([].concat(a(e),a(t)))}),[]))},l=t.jsons2arrays=function(e,t){var r=t=t||i(e),n=t;s(t)&&(r=t.map((function(e){return e.label})),n=t.map((function(e){return e.key})));var c=e.map((function(e){return n.map((function(t){return u(t,e)}))}));return[r].concat(a(c))},u=t.getHeaderValue=function(e,t){var r=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,r,n){var a=e[t];if(void 0!==a&&null!==a)return a;n.splice(1)}),t);return void 0===r?e in t?t[e]:"":r},d=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},p=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return d(e)})).map((function(e){return""+r+e+r})).join(t)})).join("\n")},f=t.arrays2csv=function(e,t,r,n){return p(t?[t].concat(a(e)):e,r,n)},h=t.jsons2csv=function(e,t,r,n){return p(l(e,t),r,n)},b=t.string2csv=function(e,t,r,n){return t?t.join(r)+"\n"+e:e.replace(/"/g,'""')},j=t.toCSV=function(e,t,r,n){if(s(e))return h(e,t,r,n);if(o(e))return f(e,t,r,n);if("string"===typeof e)return b(e,t,r);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,r,n,a){var s=j(e,r,n,a),o=c()?"application/csv":"text/csv",i=new Blob([t?"\ufeff":"",s],{type:o}),l="data:"+o+";charset=utf-8,"+(t?"\ufeff":"")+s,u=window.URL||window.webkitURL;return"undefined"===typeof u.createObjectURL?l:u.createObjectURL(i)}},136:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var n,a=r(2),c=((n=a)&&n.__esModule,r(32));t.propTypes={data:(0,c.oneOfType)([c.string,c.array,c.func]).isRequired,headers:c.array,target:c.string,separator:c.string,filename:c.string,uFEFF:c.bool,onClick:c.func,asyncOnClick:c.bool,enclosingCharacter:c.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},139:function(e,t,r){e.exports=r(140)},140:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSVLink=t.CSVDownload=void 0;var n=c(r(141)),a=c(r(142));function c(e){return e&&e.__esModule?e:{default:e}}t.CSVDownload=n.default,t.CSVLink=a.default},141:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(2),s=(n=c)&&n.__esModule?n:{default:n},o=r(135),i=r(136);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildURI",value:function(){return o.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,r=e.headers,n=e.separator,a=e.enclosingCharacter,c=e.uFEFF,s=e.target,o=e.specs,i=e.replace;this.state.page=window.open(this.buildURI(t,c,r,n,a),s,o,i)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(s.default.Component);l.defaultProps=Object.assign(i.defaultProps,{target:"_blank"}),l.propTypes=i.propTypes,t.default=l},142:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(2),o=(n=s)&&n.__esModule?n:{default:n},i=r(135),l=r(136);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.buildURI=r.buildURI.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"buildURI",value:function(){return i.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var r=this.props,n=r.data,a=r.headers,c=r.separator,s=r.filename,o=r.enclosingCharacter,l=r.uFEFF,u=t&&"function"===typeof n?n():n,d=new Blob([l?"\ufeff":"",(0,i.toCSV)(u,a,c,o)]);return window.navigator.msSaveBlob(d,s),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,(function(r){!1!==r?t.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.data,n=t.headers,c=t.separator,s=t.filename,i=t.uFEFF,l=t.children,u=(t.onClick,t.asyncOnClick,t.enclosingCharacter),d=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),p="undefined"===typeof window?"":this.buildURI(r,i,n,c,u);return o.default.createElement("a",a({download:s},d,{ref:function(t){return e.link=t},target:"_self",href:p,onClick:this.handleClick()}),l)}}]),t}(o.default.Component);u.defaultProps=l.defaultProps,u.propTypes=l.propTypes,t.default=u},166:function(e,t,r){"use strict";r.r(t),r.d(t,"GetDistrictPostsRequests",(function(){return T})),r.d(t,"PostsRequestsReport",(function(){return M}));var n=r(36),a=r(26),c=r(27),s=r(28),o=r(29),i=r(4),l=r(6),u=r(3),d=r.n(u),p=r(5),f=r.n(p),h=r(2),b=r(37),j=r(16),m=r(15),x=r(113),v=r(30),y=r(1),_=function(e){var t=e.data.map((function(t,r){return e.rowFormat(t,r)}));return Object(y.jsxs)("div",{children:[e.tableHead,Object(y.jsxs)("table",{className:"striped bordered hover w-full text-sm mt-5",children:[e.thead,Object(y.jsx)("tbody",{children:t})]})]})},g=r(133),O=r.n(g),w=r(134),k=function(e){var t=[e.headerFormat];return Object(y.jsx)("button",{className:"bg-primary-800 hover:bg-blue-500 text-white px-3 py-2 rounded text-center w-max",onClick:function(r){return function(r,n,a){var c=w.a.json_to_sheet(t,{header:e.headers,skipHeader:!0});c["!cols"]=a,w.a.sheet_add_json(c,r,{header:e.headers,skipHeader:!0,origin:-1});var s={Sheets:{data:c},SheetNames:["data"]},o=Object(w.b)(s,{bookType:"xlsx",type:"array"}),i=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});O.a.saveAs(i,n+".xlsx")}(e.csvData,e.fileName,e.wscols)},children:"Export XLSX"})},N=r(139),C=function(e){return Object(y.jsx)(N.CSVLink,{headers:e.csvHeaders,data:e.csvData,filename:e.fileName,children:Object(y.jsx)("button",{className:"bg-accent-900 text-white rounded px-3 py-2 text-center w-max",type:"button",title:"Export excel CSV",children:"Export CSV"})})},S=r(48),D=r(13),R=r(7),q=r(8),F=r(18),E=r(129),T=function(){var e=Object(l.a)(d.a.mark((function e(t,r,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null),e.prev=1,Object(q.a)(),e.next=5,f.a.get("".concat(D.c,"/districtdistribution/peracademic/").concat(t,"/").concat(r));case 5:a=e.sent,console.log("District Requests: ",a.data),n(!1,a.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),n(!1,null),console.log("bb err: ",Object(i.a)({},e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r,n){return e.apply(this,arguments)}}(),P=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).GetDistricts=function(e,t){T(e,t,(function(e,t){n.setState({loading:e,data:t}),null===t&&!1===e&&n.setState({loading:!1,data:null})}))},n.componentDidMount=function(){var e,t;"3"!==(null===(e=n.props.auth.role)||void 0===e?void 0:e.role_id)&&Object(x.b)((function(e,t,r){n.setState({loading:!0}),null!==t?n.setState({loading:!1,districts:t}):n.setState({loading:!1})})),null!==n.props.auth.district&&null!==n.props.basic.academic_calender&&"3"===(null===(t=n.props.auth.role)||void 0===t?void 0:t.role_id)&&n.GetDistricts(n.props.auth.district.district_code,n.props.basic.academic_calender.academic_year_id)},n.state={loading:!0,data:null,error:"",selected_district:"",districts:null,showDistrictsList:!1,searchData:""},n}return Object(c.a)(r,[{key:"render",value:function(){var e,t,r,a,c,s,o,i=this,l=null===(e=this.props.auth.role)||void 0===e?void 0:e.access,u="3"===(null===(t=this.props.auth.role)||void 0===t?void 0:t.role_id)?null===(r=this.props.auth.district)||void 0===r?void 0:r.district_name:null===(a=this.state.districts)||void 0===a||null===(c=a.find((function(e){return e.district_code===i.state.selected_district})))||void 0===c?void 0:c.district_name;if(!1===Object(R.c)(l,R.b.POSTS_REQUESTS_REPORT))return Object(y.jsx)(m.a,{to:"/dashboard"});var d=null===this.state.data?[]:Object(F.g)(this.state.data.academic_distributed.map((function(e){return{id:e.post_request_id,position_name:e.position_name+"( "+e.position_code+" )",qualification_name:e.qualification_name,existing_teachers:e.existing_post,new_requests:e.head_teacher_post_request,dde_requests:e.dde_post_request,ht_request_reason:e.reason_name,dde_comment:e.dde_post_request_comment}})),this.state.searchData),p=[{wch:Math.max.apply(Math,Object(n.a)(d.map((function(e){return e.id.length}))))},{wch:Math.max.apply(Math,Object(n.a)(d.map((function(e){return e.position_name.length}))))},{wch:Math.max.apply(Math,Object(n.a)(d.map((function(e){return e.qualification_name.length}))))},{wch:Math.max.apply(Math,Object(n.a)(d.map((function(e){return e.existing_teachers.length}))))},{wch:Math.max.apply(Math,Object(n.a)(d.map((function(e){return e.new_requests.length}))))},{wch:Math.max.apply(Math,Object(n.a)(d.map((function(e){return e.ht_request_reason.length}))))},{wch:Math.max.apply(Math,Object(n.a)(d.map((function(e){return e.dde_requests.length}))))},{wch:Math.max.apply(Math,Object(n.a)(d.map((function(e){return e.dde_comment.length}))))}];return!0===this.state.loading?Object(y.jsxs)(v.a,{className:"flex flex-col items-center justify-center",children:[Object(y.jsx)(S.a,{}),Object(y.jsx)("div",{children:"Loading, please wait..."})]}):Object(y.jsx)("div",{children:Object(y.jsxs)(v.a,{children:[Object(y.jsxs)("div",{className:"text-primary-800 text-2xl font-extrabold mb-5",children:["Posts requests Report in ",u," district"]}),Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3 justify-between",children:["3"!==(null===(s=this.props.auth.role)||void 0===s?void 0:s.role_id)&&Object(y.jsx)("div",{className:"flex flex-row items-center gap-3 w-full",children:null===this.state.districts?Object(y.jsx)("div",{className:"font-bold",children:"Loading, please wait..."}):Object(y.jsxs)("div",{className:"w-full",children:[Object(y.jsxs)("div",{onClick:function(){return i.setState({showDistrictsList:!i.state.showDistrictsList})},className:"border font-bold ".concat(!1===this.state.showDistrictsList?"border-gray-400 hover:border-primary-800 hover:bg-blue-100":"border"," hover:text-primary-800 w-full rounded px-3 py-2 bg-white cursor-pointer flex flex-row items-center gap-3 justify-between"),children:[Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[""!==this.state.selected_district&&Object(y.jsx)("div",{className:"rounded-full px-2 bg-blue-200 text-primary-800",children:u}),Object(y.jsx)("span",{children:""===this.state.selected_district?"Choose a district":"Change district"})]}),Object(y.jsx)("div",{children:!1===this.state.showDistrictsList?Object(y.jsx)(b.a,{className:"text-xl"}):Object(y.jsx)(b.b,{className:"text-xl"})})]}),!0===this.state.showDistrictsList&&Object(y.jsx)(E.a,{onChange:function(e){i.setState({selected_district:e}),null!==i.props.basic.academic_calender&&i.GetDistricts(e,i.props.basic.academic_calender.academic_year_id)},districts:this.state.districts,selected_district:this.state.selected_district,setVisibility:function(e){i.setState({showDistrictsList:e})}})]})}),Object(y.jsx)("input",{type:"search",value:this.state.searchData,onChange:function(e){return i.setState({searchData:e.target.value})},className:"bg-white rounded px-3 py-2 border border-gray-400 w-full",placeholder:"Search..."}),Object(y.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(y.jsx)(k,{csvData:d,fileName:"".concat(u,"_Posts_Requests_Report_xlsx"),wscols:p,headers:["id","position_name","qualification_name","existing_teachers","new_requests","ht_request_reason","dde_requests","dde_comment"],headerFormat:{id:"#",position_name:"Position name",qualification_name:"Qualification name",existing_teachers:"Existing teachers",new_requests:"New HT requests",ht_request_reason:"HT Requests reason",dde_requests:"DDE Requests",dde_comment:"DDE Comment"}}),Object(y.jsx)(C,{csvHeaders:[{label:"#",key:"id"},{label:"Position name",key:"position_name"},{label:"Qualification name",key:"qualification_name"},{label:"Existing teachers",key:"existing_teachers"},{label:"HT Requests",key:"new_requests"},{label:"HT Request reason",key:"ht_request_reason"},{label:"DDE Requests",key:"dde_requests"},{label:"DDE comment",key:"dde_comment"}],csvData:d,fileName:"".concat(u,"_Posts_Requests_Report_csv.csv")})]})]}),Object(y.jsx)("div",{children:0===d.length?"3"===(null===(o=this.props.auth.role)||void 0===o?void 0:o.role_id)||""!==this.state.selected_district?Object(y.jsx)("div",{className:"px-5 py-5 rounded-md mt-5 bg-gray-100 text-gray-400 font-extrabold text-center w-full text-2xl",children:"No data found!"}):Object(y.jsx)("div",{onClick:function(){return i.setState({showDistrictsList:!i.state.showDistrictsList})},className:"underline px-5 py-5 cursor-pointer rounded-md mt-5 bg-blue-50 text-gray-900 font-extrabold text-center w-full text-2xl",children:"No district selected!"}):Object(y.jsx)(_,{thead:Object(y.jsx)("thead",{className:"w-full text-left bg-blue-50",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"border p-1 px-2 border-blue-200",children:"#"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"Position name"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"Qualification name"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"Existing teachers"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"HT Requests"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"HT Request reason"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"DDE Requests"}),Object(y.jsx)("th",{className:"border p-1 border-blue-200",children:"DDE comment"})]})}),rowFormat:function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"px-2 py-1 border",children:e.id}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.position_name}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.qualification_name}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.existing_teachers}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.new_requests}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.ht_request_reason}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.dde_requests}),Object(y.jsx)("td",{className:"px-1 py-1 border",children:e.dde_comment})]},t)},data:d})})]})})}}]),r}(h.Component),M=Object(j.b)((function(e){return{auth:e.auth,basic:e.basic}}),{})(P)}}]);
//# sourceMappingURL=15.feef4814.chunk.js.map