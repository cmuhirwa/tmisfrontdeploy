(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[32],{356:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return j})),r.d(t,"d",(function(){return b}));var n=r(3),c=r(6),s=r(7),a=r.n(s),i=r(13),o=r(12),l=r(8),d=r(11),u=function(e,t){return t(!0,null,""),function(){var r=Object(c.a)(Object(n.a)().mark((function r(c){var s,u;return Object(n.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:i.a.GET_ALL_TRANSFER,payload:[]}),Object(l.a)(),r.next=5,a.a.get("".concat(o.e,"/teachertransfers/requesteddde/").concat(e));case 5:s=r.sent,u=s.data.filter((function(e){return"APPROVED"===e.requested_status})),c({type:i.a.GET_ALL_TRANSFER,payload:u}),t(!1,u,""),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),t(!1,null,Object(d.a)(r.t0));case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()},p=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!1,[{district_code:"11",district_name:"Nyarugenge"},{district_code:"12",district_name:"Gasabo"},{district_code:"13",district_name:"Kicukiro"},{district_code:"21",district_name:"Nyanza"},{district_code:"22",district_name:"Gisagara"},{district_code:"23",district_name:"Nyaruguru"},{district_code:"24",district_name:"Huye"},{district_code:"25",district_name:"Nyamagabe"},{district_code:"26",district_name:"Ruhango"},{district_code:"27",district_name:"Muhanga"},{district_code:"28",district_name:"Kamonyi"},{district_code:"31",district_name:"Karongi"},{district_code:"32",district_name:"Rutsiro"},{district_code:"33",district_name:"Rubavu"},{district_code:"34",district_name:"Nyabihu"},{district_code:"35",district_name:"Ngororero"},{district_code:"36",district_name:"Rusizi"},{district_code:"37",district_name:"Nyamasheke"},{district_code:"41",district_name:"Rulindo"},{district_code:"42",district_name:"Gakenke"},{district_code:"43",district_name:"Musanze"},{district_code:"44",district_name:"Burera"},{district_code:"45",district_name:"Gicumbi"},{district_code:"51",district_name:"Rwamagana"},{district_code:"52",district_name:"Nyagatare"},{district_code:"53",district_name:"Gatsibo"},{district_code:"54",district_name:"Kayonza"},{district_code:"55",district_name:"Kirehe"},{district_code:"56",district_name:"Ngoma"},{district_code:"57",district_name:"Bugesera"}],"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t,r){var c,s,i;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,c=0,null,""),e.prev=2,Object(l.a)(),(s=new FormData).append("teacher_supporting_document",t),e.next=8,a.a.post("".concat(o.e,"/teachertransfers/uploadSupportingDocument"),s,{onUploadProgress:function(e){c=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,r(!0,c,null,"")}});case 8:i=e.sent,console.log("Uploaded document: ",i.data),r(!1,c,i.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),r(!1,c,"",Object(d.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}(),b=function(e,t,r){r(!0,"");return function(){var s=Object(c.a)(Object(n.a)().mark((function c(s){var u,p;return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(!0,""),console.log("==================doc_title=================="),console.log({doc_title:""}),console.log("==================doc_title=================="),r(!0,""),(u=new FormData).append("teacher_transfer_id",e),u.append("mayor_letter",t),console.log("==================*********************=================="),console.log({doc_title:""}),console.log("==================*********************=================="),n.prev=11,Object(l.a)(),n.next=15,a.a.post("".concat(o.e,"/teachertransfers/outgoing"),u);case 15:p=n.sent,console.log("Uploaded document: ",p.data),s({type:i.a.UPLOAD_SIGNED_DOCUMENT,payload:{teacher_transfer_id:e,mayor_letter:p.data.mayor_letter}}),r(!1,""),n.next=25;break;case 21:n.prev=21,n.t0=n.catch(11),console.error(n.t0),r(!1,Object(d.a)(n.t0));case 25:case"end":return n.stop()}}),c,null,[[11,21]])})));return function(e){return s.apply(this,arguments)}}()}},362:function(e,t,r){"use strict";r.d(t,"l",(function(){return n})),r.d(t,"g",(function(){return j})),r.d(t,"f",(function(){return b})),r.d(t,"i",(function(){return h})),r.d(t,"b",(function(){return m})),r.d(t,"k",(function(){return x})),r.d(t,"e",(function(){return f})),r.d(t,"a",(function(){return g})),r.d(t,"d",(function(){return O})),r.d(t,"c",(function(){return v})),r.d(t,"h",(function(){return _})),r.d(t,"j",(function(){return y}));var n,c,s=r(29),a=r(3),i=r(10),o=r(6),l=r(7),d=r.n(l),u=r(12),p=r(16);!function(e){e.DRAFT="DRAFT",e.READY_FOR_EVALUATION="READY_FOR_EVALUATION",e.INPROGRESS="INPROGRESS",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED"}(n||(n={})),function(e){e.PENDING="PENDING",e.APPROVED="APPROVED",e.REJECTED="REJECTED"}(c||(c={}));var j=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r,n){var c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null),e.prev=1,e.next=4,d.a.get("".concat(u.k,"/training/school/").concat(t,"/").concat(r));case 4:c=e.sent,console.log("Res: ",c.data),c&&n(!1,{data:c.data,type:"success",msg:"Data loaded successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r,n){var c,o,l,j,b;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null),e.prev=1,e.next=4,d.a.get("".concat(u.k,"/training/trainee/").concat(2===r.toString().length?"district":"school","/").concat(t,"/").concat(r));case 4:if(c=e.sent,console.log("Res participants one: ",c.data.school_teachers),c){if(o=c.data.school_teachers,c.data.school_parents.length>0){l=Object(s.a)(c.data.school_parents);try{for(b=function(){var e=j.value;void 0===o.find((function(t){return t.user_id===e.user_id}))&&o.push({email:e.email,first_name:e.first_name,id:e.id,last_name:e.last_name,nid:e.nid,phone_numbers:e.phone_numbers,position_code:"",position_name:"",qualification_id:"",qualification_name:"",subjects:[],teaching_level:"",teaching_level_id:1,trainee_request_id:e.trainee_request_id,training_id:e.training_id,training_to_group_id:null===e.training_to_group_id?"":e.training_to_group_id,user_id:e.user_id})},l.s();!(j=l.n()).done;)b()}catch(a){l.e(a)}finally{l.f()}}n(!1,{data:o,type:"success",msg:"Data loaded successfully"})}e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error no: ",e.t0),n(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.post("".concat(u.k,"/training/search/teacher"),t);case 4:n=e.sent,console.log("Teachers to be trained: ",n.data),n&&r(!1,{data:n.data,type:"success",msg:"Data loaded successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.post("".concat(u.k,"/training/trainee"),t);case 4:n=e.sent,console.log("Assign trainee to training: ",n),n&&r(!1,{type:"success",msg:"Trainee added successfully!"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.patch("".concat(u.k,"/training/trainee/toggle"),t);case 4:n=e.sent,console.log("Removing: ",n),n&&r(!1,{type:"success",msg:"Trainee added successfully!"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r){var n,c,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.post("".concat(u.k,"/training/search/parent"),t);case 4:n=e.sent,console.log("Parents/Other users to be trained: ",n.data),n&&r(!1,{data:n.data,type:"success",new:!1,msg:"Data loaded successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{data:null,type:"error",new:void 0!==(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)&&400===(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.status),msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.post("".concat(u.e,"/user/training/pregister"),t);case 4:n=e.sent,console.log("New user added: ",n.data),n&&r(!1,{data:n.data,type:"success",msg:"Data added successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r,n){var c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null),e.prev=1,e.next=4,d.a.get("".concat(u.k,"/training/district/").concat(t,"/").concat(r));case 4:c=e.sent,console.log("Res: ",c.data),c&&n(!1,{data:c.data,type:"success",msg:"Data loaded successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r,n){var c,o,l,j,b;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null),e.prev=1,e.next=4,d.a.get("".concat(u.k,"/training/trainee/district/").concat(t,"/").concat(r));case 4:if(c=e.sent,console.log("Res participants: ",c.data),c){o=[],l=Object(s.a)(c.data.school_teachers);try{for(b=function(){var e=j.value;void 0===o.find((function(t){return t.user_id===e.user_id}))&&o.push({email:e.email,first_name:e.first_name,last_name:e.last_name,nid:e.nid,phone_numbers:e.phone_numbers,user_id:e.user_id,role:e.role,role_id:e.role_id,staff_code:e.staff_code})},l.s();!(j=l.n()).done;)b()}catch(a){l.e(a)}finally{l.f()}n(!1,{data:{school_parents:[],school_teachers:o},type:"success",msg:"Data loaded successfully"})}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.post("".concat(u.k,"/training/search/district"),t);case 4:n=e.sent,console.log("Teachers to be trained: ",n.data),n&&r(!1,{data:n.data,type:"success",msg:"Data loaded successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.get("".concat(u.k,"/training/application/status/").concat(t));case 4:n=e.sent,console.log("Res: ",n.data),n&&r(!1,{data:n.data,type:"success",msg:""}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{data:[],type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}()},611:function(e,t,r){"use strict";r.r(t),r.d(t,"CentersManagement",(function(){return D}));var n=r(19),c=r(20),s=r(21),a=r(22),i=r(4),o=r(69),l=r(42),d=r(54),u=r(15),p=r(36),j=r(64),b=r(356),h=r(23),m=r(24),x=r(26),f=r(68),g=r(16),O=r(60),v=r(39),_=r(1),y=function(e){Object(s.a)(r,e);var t=Object(a.a)(r);function r(e){var c;return Object(n.a)(this,r),(c=t.call(this,e)).CreateNewTraining=function(e){return e.preventDefault(),""===c.state.district_id?c.setState({error:{target:"district_id",msg:"Please choose district"}}):""===c.state.center_type_id?c.setState({error:{target:"center_type_id",msg:"Please choose center type"}}):""===c.state.name?c.setState({error:{target:"name",msg:"Please fill center name"}}):(c.setState({loading:!0,error:null,success:""}),void Object(j.a)({name:c.state.name,district_id:c.state.district_id,center_type_id:c.state.center_type_id},(function(e,t){c.setState({loading:e}),"success"===(null===t||void 0===t?void 0:t.status)&&(c.setState({error:null,success:"Center added successfully!",loading:!1,name:""}),c.props.onCreated()),"error"===(null===t||void 0===t?void 0:t.status)&&c.setState({error:{target:"main",msg:t.msg},loading:!1,success:""})})))},c.state={loading:!1,name:"",district_id:"",center_type_id:"",error:null,success:"",openSelectCenterType:!1,openSelectDistrict:!1},c}return Object(c.a)(r,[{key:"render",value:function(){var e,t,r,n,c=this;return Object(_.jsx)("div",{children:Object(_.jsxs)("form",{onSubmit:this.CreateNewTraining,className:"w-full my-3",children:[Object(_.jsxs)("div",{className:"grid grid-cols-12 gap-2",style:!0===this.state.openSelectDistrict||!0===this.state.openSelectCenterType?{minHeight:"300px"}:{},children:[Object(_.jsxs)("div",{className:"col-span-12 md:col-span-6",children:[Object(_.jsx)("div",{children:"Choose district"}),Object(_.jsxs)("div",{onClick:function(){return c.setState({openSelectDistrict:!c.state.openSelectDistrict})},className:"border border-gray-400 rounded px-3 py-2 w-full flex flex-row items-center justify-between gap-2 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[Object(_.jsx)("div",{className:"w-52 truncate",children:""===this.state.district_id?Object(_.jsx)("span",{className:"italic text-gray-400",children:"Not selected"}):"".concat(this.state.district_id," - ").concat(null===(e=this.props.districts.find((function(e){return e.district_code.toString()===c.state.district_id.toString()})))||void 0===e?void 0:e.district_name)}),Object(_.jsx)("div",{children:Object(_.jsx)(d.a,{})})]}),!0===this.state.openSelectDistrict&&Object(_.jsx)("div",{className:"absolute mt-2 bg-white",style:{zIndex:9},children:Object(_.jsx)(f.a,{loading:!1,id:"district_code",title:"district_name",close:function(){return c.setState({openSelectDistrict:!1})},data:this.props.districts,click:function(e){c.setState({district_id:e.district_code,openSelectDistrict:!1,error:null})}})}),"district_id"===(null===(t=this.state.error)||void 0===t?void 0:t.target)&&Object(_.jsx)("div",{className:"text-red-700",children:this.state.error.msg})]}),Object(_.jsxs)("div",{className:"col-span-12 md:col-span-6",children:[Object(_.jsx)("div",{children:"Choose center type"}),Object(_.jsxs)("div",{onClick:function(){return c.setState({openSelectCenterType:!c.state.openSelectCenterType})},className:"border border-gray-400 rounded px-3 py-2 w-full flex flex-row items-center justify-between gap-2 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[Object(_.jsx)("div",{className:"w-52 truncate",children:""===this.state.center_type_id?Object(_.jsx)("span",{className:"italic text-gray-400",children:"Not selected"}):"".concat(this.state.center_type_id," - ").concat(null===(r=this.props.centerTypes.center_types.find((function(e){return e.id.toString()===c.state.center_type_id.toString()})))||void 0===r?void 0:r.name)}),Object(_.jsx)("div",{children:Object(_.jsx)(d.a,{})})]}),!0===this.state.openSelectCenterType&&Object(_.jsx)("div",{className:"absolute mt-2 bg-white",style:{zIndex:9},children:Object(_.jsx)(f.a,{loading:!1,id:"id",title:"name",close:function(){return c.setState({openSelectCenterType:!1})},data:this.props.centerTypes.center_types,click:function(e){c.setState({center_type_id:e.id,openSelectCenterType:!1,error:null})}})}),"center_type_id"===(null===(n=this.state.error)||void 0===n?void 0:n.target)&&Object(_.jsx)("div",{className:"text-red-700",children:this.state.error.msg})]}),Object(_.jsx)(v.a,{onChange:function(e){return c.setState({name:e.target.value,error:null,success:""})},value:this.state.name,error:null!==this.state.error&&"name"===this.state.error.target?this.state.error.msg:"",label:"Center name",placeholder:"",name:"",MainContainer_className:"col-span-12",disabled:this.state.loading})]}),null!==this.state.error&&"main"===this.state.error.target&&Object(_.jsxs)("div",{onClick:function(){return c.setState({error:null,success:""})},className:"cursor-pointer px-3 py-2 font-bold bg-red-100 text-red-700 flex flex-row items-center justify-between w-full my-2",children:[Object(_.jsx)("span",{children:this.state.error.msg}),Object(_.jsx)("div",{children:Object(_.jsx)(u.r,{className:"text-2xl"})})]}),""!==this.state.success&&Object(_.jsxs)("div",{onClick:function(){return c.setState({error:null,success:""})},className:"cursor-pointer px-3 py-2 font-bold bg-green-100 text-green-700 flex flex-row items-center justify-between w-full my-2",children:[Object(_.jsx)("span",{children:this.state.success}),Object(_.jsx)("div",{children:Object(_.jsx)(u.r,{className:"text-2xl"})})]}),Object(_.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 mt-3",children:[!0===this.state.loading&&Object(_.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(_.jsx)("div",{children:Object(_.jsx)(O.e,{className:"loading-animate text-5xl text-accent-900 dark:text-white"})}),Object(_.jsx)("div",{className:"text-lg font-bold animate__animated animate__fadeIn animate__infinite",children:"Saving, please wait..."})]}),!1===this.state.loading&&Object(_.jsx)(h.a,{type:"submit",theme:"accent",disabled:this.state.loading,children:"Create center"})]})]})})}}]),r}(i.Component),N=function(e){Object(s.a)(r,e);var t=Object(a.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){return Object(_.jsx)("div",{className:"w-full overflow-x-auto",children:Object(_.jsxs)("table",{className:"w-full text-sm text-left",children:[Object(_.jsx)("thead",{className:"bg-primary-100 text-primary-800 border-4 border-white",children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(_.jsx)("th",{className:"px-3 py-2",children:"District"}),Object(_.jsx)("th",{className:"px-3 py-2",children:"Center name"}),Object(_.jsx)("th",{className:"px-3 py-2",children:"Center type"}),Object(_.jsx)("th",{className:"px-3 py-2"})]})}),Object(_.jsx)("tbody",{children:null===this.props.centers?Object(_.jsx)("tr",{children:Object(_.jsx)("td",{colSpan:7,className:"text-xl px-4 py-3 font-light text-center",children:"Loading, please wait..."})}):0===this.props.GetFilteredData().length?Object(_.jsx)("tr",{children:Object(_.jsx)("td",{colSpan:7,className:"text-xl px-4 py-3 font-light text-center",children:"No data found!"})}):this.props.GetFilteredData().map((function(e,t){return Object(_.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"," hover:bg-accent-400 hover:text-accent-900 cursor-pointer"),children:[Object(_.jsx)("td",{className:"px-3 py-2",children:t+1}),Object(_.jsx)("td",{className:"px-3 py-2",children:e.district_name}),Object(_.jsx)("td",{className:"px-3 py-2",children:e.center_name}),Object(_.jsx)("td",{className:"px-3 py-2",children:e.center_type_name}),Object(_.jsx)("td",{className:"px-2 py-2",children:Object(_.jsx)("div",{className:"".concat("ACTIVE"===e.status?"bg-gray-100 text-gray-700":"bg-red-100 text-red-700"," px-1 py-0 w-max rounded-md text-xs"),children:e.status})})]},t+1)}))})]})})}}]),r}(i.Component),S=r(362),w=r(47),k=function(e){Object(s.a)(r,e);var t=Object(a.a)(r);function r(e){var c;return Object(n.a)(this,r),(c=t.call(this,e)).LoadTrainings=function(e){c.setState({loading:!0,error:"",selectedStatus:e}),Object(S.j)(e,(function(e,t){c.setState({loading:e}),"success"===(null===t||void 0===t?void 0:t.type)&&c.setState({trainings:t.data,error:"",loading:!1}),"error"===(null===t||void 0===t?void 0:t.type)&&c.setState({trainings:[],error:t.msg,loading:!1})}))},c.FilteredTrainings=function(){if(null===c.state.trainings)return[];var e=c.state.trainings;return Object(g.n)(e,c.state.searchData)},c.state={loading:!1,error:"",trainings:null,selectedStatus:S.l.INPROGRESS,searchData:""},c}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.LoadTrainings(this.state.selectedStatus)}},{key:"render",value:function(){var e=this,t=[{title:"In progress",key:S.l.INPROGRESS},{title:"Completed",key:S.l.COMPLETED},{title:"Canceled",key:S.l.CANCELLED},{title:"Ready for evaluation",key:S.l.READY_FOR_EVALUATION},{title:"Draft",key:S.l.DRAFT}];return!0===this.state.loading||null===this.state.trainings?Object(_.jsx)("div",{children:Object(_.jsxs)("div",{className:"bg-gray-100 rounded-md w-full flex flex-col items-center justify-center p-3 py-6",children:[Object(_.jsx)("div",{children:Object(_.jsx)(O.e,{className:"loading-animate text-6xl text-accent-900 dark:text-white"})}),Object(_.jsx)("div",{className:"text-xl font-light animate__animated animate__fadeIn animate__infinite",children:"Loading, please wait..."})]})}):Object(_.jsx)("div",{children:Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"flex flex-row items-center gap-3 w-full mb-6",children:[Object(_.jsx)("select",{onChange:function(t){return e.LoadTrainings(t.target.value)},className:"px-3 py-2 rounded border border-primary-500 bg-primary-100 font-bold text-primary-700 w-1/3",children:t.map((function(e,t){return Object(_.jsx)("option",{value:e.key,children:e.title},t+1)}))}),Object(_.jsx)("input",{type:"search",className:"px-3 py-2 rounded border border-gray-400 w-2/3",placeholder:"Search by name",value:this.state.searchData,onChange:function(t){return e.setState({searchData:t.target.value,error:""})}})]}),""!==this.state.error&&Object(_.jsx)("div",{className:"my-3",children:Object(_.jsx)(w.a,{theme:"danger",onClick:function(){return e.setState({error:""})},children:this.state.error})}),0===this.state.trainings.length?Object(_.jsxs)("div",{className:"text-center p-4 rounded-md bg-gray-100 w-full",children:[Object(_.jsx)("div",{className:"text-2xl font-bold",children:"No trainings found!"}),Object(_.jsx)("div",{className:"text-gray-500",children:"For selected status, there are no trainings found"})]}):Object(_.jsx)("div",{className:"w-full overflow-x-auto",children:Object(_.jsxs)("table",{className:"min-w-full text-left text-sm",children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{className:"px-3 py-2 border",children:"#"}),Object(_.jsx)("th",{className:"px-3 py-2 border",children:"Training title"}),Object(_.jsx)("th",{className:"px-3 py-2 border",children:"Topic"}),Object(_.jsx)("th",{className:"px-3 py-2 border",children:"Start date"}),Object(_.jsx)("th",{className:"px-3 py-2 border",children:"Ending date"}),Object(_.jsx)("th",{className:"px-3 py-2 border",children:"Training provider"}),Object(_.jsx)("th",{className:"px-3 py-2 border",children:"Phone number"}),Object(_.jsx)("th",{className:"px-3 py-2 border"})]})}),Object(_.jsx)("tbody",{children:0===this.FilteredTrainings().length?Object(_.jsx)("tr",{children:Object(_.jsx)("td",{className:"text-xl text-center font-light",children:"No result found!"})}):this.FilteredTrainings().map((function(t,r){return Object(_.jsxs)("tr",{className:"cursor-pointer hover:bg-accent-400 hover:text-accent-900 group",onClick:function(){return e.props.onSelected(t)},children:[Object(_.jsx)("td",{className:"px-3 py-2 border",children:r+1}),Object(_.jsx)("td",{className:"px-3 py-2 border",children:t.title}),Object(_.jsx)("td",{className:"px-3 py-2 border",children:t.topic}),Object(_.jsx)("td",{className:"px-3 py-2 border",children:Object(g.a)(t.start_date)}),Object(_.jsx)("td",{className:"px-3 py-2 border",children:Object(g.a)(t.end_date)}),Object(_.jsx)("td",{className:"px-3 py-2 border",children:t.development_partner_name}),Object(_.jsx)("td",{className:"px-3 py-2 border",children:t.dp_contact}),Object(_.jsx)("td",{className:"px-1 py-1 border w-10",children:Object(_.jsx)("div",{className:"bg-gray-100 group-hover:bg-accent-900 group-hover:text-white font-bold px-3 py-2 rounded w-max text-current cursor-pointer",children:"Select"})})]},r+1)}))})]})})]})})}}]),r}(i.Component),C=function(e){Object(s.a)(r,e);var t=Object(a.a)(r);function r(e){var c;return Object(n.a)(this,r),(c=t.call(this,e)).GetAllCentersList=function(){c.setState({loading:!0,error:"",success:""}),Object(j.b)((function(e,t){c.setState({loading:e}),"success"===(null===t||void 0===t?void 0:t.status)&&c.setState({loading:!1,centers:t.data,error:"",success:""}),"error"===(null===t||void 0===t?void 0:t.status)&&c.setState({loading:!1,centers:[],error:t.msg,success:""})}))},c.GetAllCentersListByTrainingSelected=function(e){c.setState({loading:!0,error:"",success:""}),Object(j.c)(e,(function(e,t){c.setState({loading:e}),"success"===(null===t||void 0===t?void 0:t.status)&&c.setState({loading:!1,centers:t.data.map((function(e){return{id:e.center_id,center_name:e.name,center_type_id:"",center_type_name:"Unknown",district_id:"",district_name:e.district_name,status:""}})),error:"",success:""}),"error"===(null===t||void 0===t?void 0:t.status)&&c.setState({loading:!1,centers:[],error:t.msg,success:""})}))},c.GetAllCenterTypesDetails=function(){c.setState({loading:!0,error:"",success:""}),Object(j.f)((function(e,t){c.setState({loading:e}),"success"===(null===t||void 0===t?void 0:t.status)&&c.setState({error:"",success:"",centerTypes:t.data,loading:!1}),"error"===(null===t||void 0===t?void 0:t.status)&&c.setState({loading:!1,centerTypes:{center_types:[],center_room_type:[]},error:t.msg,success:""})}))},c.LoadAllDistricts=function(){c.setState({loading:!0}),Object(b.b)((function(e,t,r){null!==t&&c.setState({districts:t,loading:!1})}))},c.GetFilteredData=function(){if(null===c.state.centers)return[];var e=c.state.centers;return""!==c.state.selected_district_code&&(e=e.filter((function(e){return e.district_name.toString()===c.state.selected_district_code.toString()}))),Object(g.n)(e,c.state.search_value)},c.state={loading:!0,centers:null,centerTypes:null,success:"",error:"",search_value:"",selected_district_code:"",openSelectDistrict:!1,addCenter:!1,districts:[],openSelectTraining:!1,selectedTraining:null},c}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.GetAllCenterTypesDetails(),this.GetAllCentersList(),this.LoadAllDistricts()}},{key:"render",value:function(){var e,t=this;return Object(_.jsxs)(i.Fragment,{children:[Object(_.jsxs)("div",{className:"container mx-auto p-3",children:[Object(_.jsx)("div",{className:"bg-white rounded-md p-3",children:Object(_.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[Object(_.jsx)("div",{className:"col-span-6",children:Object(_.jsxs)("div",{className:"flex flex-col pl-2",children:[Object(_.jsx)("div",{className:"text-2xl font-extrabold",children:"Training centers management"}),Object(_.jsx)("div",{className:"text-sm text-gray-500",children:"List of centers in different locations"})]})}),Object(_.jsx)("div",{className:"col-span-6 flex flex-row items-center justify-end w-full gap-2",children:Object(_.jsxs)("div",{onClick:function(){return t.setState({openSelectTraining:!0})},className:"flex flex-row items-center gap-3 p-1 hover:bg-yellow-50 rounded-md cursor-pointer border border-yellow-300 group",children:[Object(_.jsx)("div",{children:Object(_.jsx)("div",{className:"bg-yellow-100 rounded-md h-12 w-12 flex items-center justify-center",children:Object(_.jsx)(l.d,{className:"text-3xl text-accent-900"})})}),Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("div",{className:"text-sm text-gray-500 group-hover:text-black",children:"Filter by training training"}),Object(_.jsx)("div",{className:"font-bold text-base -mt-1 truncate",style:{width:"300px"},children:"Training name Lorem ipsum dolor sit amet consectetur adipisicing elit. Pariatur suscipit accusamus ratione? Nisi officia molestias omnis facilis non veniam, dolores reprehenderit dolor, ratione enim libero aspernatur consequatur, accusamus fugiat error!"})]}),Object(_.jsx)("div",{children:Object(_.jsx)(u.J,{className:"text-2xl text-gray-400 group-hover:text-black"})})]})})]})}),!0===this.state.loading||null===this.state.centerTypes||null===this.state.centers?Object(_.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white rounded-md mt-2 py-5",children:[Object(_.jsx)(m.a,{}),Object(_.jsx)("div",{className:"text-center text-xl font-light text-gray-500",children:"Loading, please wait..."})]}):Object(_.jsxs)("div",{className:"bg-white rounded-md mt-2 py-2",children:[Object(_.jsxs)("div",{className:"flex flex-row items-center justify-between mb-3 mx-2 gap-3",children:[Object(_.jsxs)("div",{className:"relative w-1/3",children:[!1===this.state.openSelectDistrict?Object(_.jsxs)("div",{onClick:function(){return t.setState({openSelectDistrict:!t.state.openSelectDistrict})},className:"border border-gray-400 rounded px-3 py-2 w-full flex flex-row items-center justify-between gap-2 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[Object(_.jsx)("div",{className:"w-52 truncate",children:""===this.state.selected_district_code?"Filter by district":"".concat(this.state.selected_district_code," - ").concat(null===(e=this.state.districts.find((function(e){return e.district_name.toString()===t.state.selected_district_code.toString()})))||void 0===e?void 0:e.district_name)}),Object(_.jsx)("div",{children:Object(_.jsx)(d.a,{})})]}):Object(_.jsxs)("div",{onClick:function(){return t.setState({openSelectDistrict:!1})},className:"font-bold flex flex-row items-center gap-4 cursor-pointer hover:text-accent-900",children:[Object(_.jsx)("span",{children:"Select district"}),Object(_.jsx)("div",{children:""!==this.state.selected_district_code?Object(_.jsxs)("div",{onClick:function(){return t.setState({selected_district_code:"",openSelectDistrict:!1})},className:"font-normal text-sm cursor-pointer px-2 py-1 rounded-md bg-accent-400 text-accent-900 flex flex-row items-center justify-center gap-2",children:[Object(_.jsx)("div",{children:Object(_.jsx)(o.d,{className:"text-xl"})}),Object(_.jsx)("span",{children:"Reset"})]}):Object(_.jsx)(u.r,{})})]}),!0===this.state.openSelectDistrict&&Object(_.jsx)("div",{className:"w-full absolute mt-2 bg-white",children:Object(_.jsx)(f.a,{loading:!1,id:"district_code",title:"district_name",close:function(){return t.setState({openSelectDistrict:!1})},data:this.state.districts,click:function(e){t.setState({selected_district_code:e.district_code,openSelectDistrict:!1})}})})]}),Object(_.jsx)("input",{type:"search",className:"px-3 py-2 rounded w-1/2 border border-gray-400",placeholder:"Search...",value:this.state.search_value,onChange:function(e){return t.setState({search_value:e.target.value})}}),Object(_.jsx)(h.a,{onClick:function(){return t.setState({addCenter:!0})},children:"Add center"})]}),Object(_.jsx)(N,{GetFilteredData:this.GetFilteredData,centers:this.state.centers,districts:this.state.districts})]})]}),!0===this.state.addCenter&&Object(_.jsx)(x.d,{backDrop:!0,close:function(){return t.setState({addCenter:!1})},backDropClose:!1,displayClose:!0,padding:{title:!0,body:!0,footer:void 0},title:"Add training center",widthSizeClass:x.b.large,children:null!==this.state.centerTypes&&Object(_.jsx)(y,{districts:this.state.districts,centerTypes:this.state.centerTypes,onCreated:function(){return t.GetAllCentersList()}})}),!0===this.state.openSelectTraining&&Object(_.jsx)(x.d,{backDrop:!0,close:function(){return t.setState({openSelectTraining:!1})},backDropClose:!0,displayClose:!0,padding:{title:!0,body:!0,footer:void 0},title:"Available trainings",widthSizeClass:x.b.maxWidth,marginTop:x.a.small,children:Object(_.jsx)("div",{className:"-mt-5",children:null!==this.state.centerTypes&&Object(_.jsx)(k,{onSelected:function(e){return t.GetAllCentersListByTrainingSelected(e.id)}})})})]})}}]),r}(i.Component),D=Object(p.b)((function(e){return{auth:e.auth,basic:e.basic}}),{})(C)}}]);
//# sourceMappingURL=32.f317896c.chunk.js.map