{"version":3,"sources":["components/CountDownCard/CountDownCard.tsx","components/TableEditModal/TableEditModal.tsx","containers/CountryPostDistribution/CountryPostDistribution.tsx"],"names":["Card","title","remain","total","className","TextInput","onChange","onChangeComment","value","comment","error","placeholderComment","max","onSave","onCancel","loading","minValue","useState","valid_error","setValidError","type","autoFocus","min","htmlFor","disabled","id","placeholder","onClick","isNaN","setTimeout","undefined","theme","_CountryPostDistribution","props","submitLogin","e","preventDefault","selectRequest","req","request","console","log","selected_id","state","selected_request_id","setState","selected_comment","distribution_comment","post_request_id","selected_value","limits","cancelRequest","target","msg","saveRequest","found","basic","academic_calender","academic_id","academic_year_id","FC_SaveDistributionDistrict","district_code","minecofin_limit_id","qualification_id","status","data","academic_distributed","cleanAlert","remain_post_by_levels","map","itm","findData","total_distributed","find","el","remaining_limits","requests","archive","archived_by","archived_date","created_by","created_date","dde_post_request","district_name","head_teacher_post_request","reb_distribution_id","updated_by","updated_date","message","componentDidMount","FC_GetDistributionDistrict","loading_requests","qualifications","qual","FindRemail","qualification_title","qualification_name","districts_request","districts","selected_level","selected_auto_level","search","RequestsList","this","filter","fixed","MainContainer_className","name","label","size","level","i","colSpan","length","Qualification","District","dist","DataAssigned","req_data","existing_post","ht_post_request","bind","shortString","React","Component","CountryPostDistribution","connect","auth"],"mappings":"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","file":"static/js/31.4bdc0ac3.chunk.js","sourcesContent":["import React, { FC, ReactElement } from \"react\";\n\ntype CardProps = {\n  title: string;\n  remain: number;\n  total: number;\n};\n\nconst Card: FC<CardProps> = ({ title, remain, total }): ReactElement => {\n  return (\n    <>\n      <div\n        className={` ${\n          remain === 0\n            ? \"bg-green-900\"\n            : remain < 5\n            ? \"bg-yellow-900\"\n            : \"bg-primary-800\"\n        }  rounded text-center mr-2 overflow-hidden w-52`}\n      >\n        <div className=\"p-2 pb-1\">\n          <h4 className=\"text-white text-lg font-bold m-0\">{title}</h4>\n          <div className=\"flex text-center\">\n            <div className=\"-mt-0.5 px-2 border-r flex-1\">\n              <label className=\"text-sm text-gray-400\">Distributed:</label>\n              <h1 className=\"text-xl -mt-2 font-bold text-white\">\n                {total - remain}\n              </h1>\n            </div>\n            <div className=\"-mt-0.5 px-2 flex-1\">\n              <label className=\"text-sm text-gray-400\">Remaining:</label>\n              <h1 className=\"text-xl -mt-2 font-bold text-white\">{remain}</h1>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-blue-300  text-black px-2 py-1\">\n          <label className=\"text-sm\">\n            Total: <b>{total}</b>\n          </label>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default Card;\n","import React, { ChangeEvent, FC, ReactElement, useState } from \"react\";\nimport Button from \"../Buttons/Button\";\n\ntype TextInputProps = {\n  onChange: (event: ChangeEvent<HTMLInputElement>) => void;\n  onChangeComment: (event: ChangeEvent<HTMLTextAreaElement>) => void;\n  value: string;\n  comment: string;\n  error: string;\n  placeholderComment: string;\n  max?: number;\n  onSave: () => void;\n  onCancel: () => void;\n  loading: boolean;\n  minValue?: string;\n};\n\nconst TextInput: FC<TextInputProps> = ({\n  onChange,\n  onChangeComment,\n  value,\n  comment,\n  error,\n  placeholderComment,\n  max,\n  onSave,\n  onCancel,\n  loading,\n  minValue,\n}): ReactElement => {\n  const [valid_error, setValidError] = useState(\"\");\n\n  const Validate = () => {\n    if (!isNaN(+value) && value !== \"\") {\n      if (minValue !== undefined && +value < +minValue) {\n        setValidError(`The minimum value is ${minValue}`);\n        setTimeout(() => {\n          setValidError(\"\");\n        }, 2000);\n      } else {\n        onSave();\n        setValidError(\"\");\n      }\n    } else {\n      setValidError(\"Valid number is required\");\n      setTimeout(() => {\n        setValidError(\"\");\n      }, 2000);\n    }\n  };\n\n  /* function body */\n  return (\n    <>\n      <td className=\" border  w-20 relative\">\n        <input\n          type=\"number\"\n          className=\"w-full p-1 border-4 rounded-t border-primary-800 font-bold bg-transparent\"\n          value={value}\n          onChange={onChange}\n          max={max}\n          autoFocus\n          min={minValue}\n        />\n        <div className=\"animate__animated animate__zoomIn animate__faster absolute p-1 bg-primary-800 rounded-b -mt-0.5 rounded-tl  z-40 w-80 right-0 \">\n          {valid_error !== \"\" && (\n            <div className=\"bg-red-200 text-red-800 px-2 animate__animated animate__bounceIn  py-1 rounded text-sm\">\n              {valid_error}\n            </div>\n          )}\n\n          {error !== \"\" && (\n            <div className=\"bg-red-200 text-red-800 px-2 animate__animated animate__bounceIn  py-1 rounded text-sm\">\n              {error}\n            </div>\n          )}\n\n          <label\n            className=\"px-1 text-sm text-gray-300\"\n            htmlFor=\"selected_comment\"\n          >\n            Comment\n          </label>\n          <div className=\"px-1\">\n            <textarea\n              disabled={loading}\n              id=\"selected_comment\"\n              className=\"w-full p-1 rounded bg-white dark:bg-primary-900 dark:text-white\"\n              value={comment}\n              onChange={onChangeComment}\n              placeholder={placeholderComment}\n            ></textarea>\n          </div>\n          <div className=\"flex gap-2 px-1 pb-1\">\n            <Button\n              loading={loading}\n              onClick={Validate}\n              theme=\"success\"\n              disabled={loading}\n            >\n              Save change\n            </Button>\n\n            {loading === false && (\n              <Button\n                loading={loading}\n                onClick={onCancel}\n                theme=\"danger\"\n                // disabled={loading}\n              >\n                Cancel\n              </Button>\n            )}\n          </div>\n        </div>\n      </td>\n    </>\n  );\n};\nexport default TextInput;\n","import React, { Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  AcademicDistrictDistribution,\n  Auth,\n  Basic,\n  DistrictsList,\n  DistrictsRequests,\n  FC_GetDistributionDistrict,\n  FC_SaveDistributionDistrict,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\nimport CountDownCard from \"../../components/CountDownCard/CountDownCard\";\nimport DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport Heading from \"../../components/Heading/Heading\";\nimport InputSelect from \"../../components/Inputs/InputSelect\";\n// import TextInput from \"../../components/Inputs/TextInput\";\nimport Loading from \"../../components/Loading/Loading\";\nimport TableEditModal from \"../../components/TableEditModal/TableEditModal\";\nimport { StoreState } from \"../../reducers\";\nimport { search, shortString } from \"../../utils/functions\";\ninterface RemainPostsByQualification {\n  qualification_id: string;\n  qualification_title: string;\n  total: number;\n  remain: number;\n}\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n  basic: Basic;\n}\n\ninterface AppState {\n  loading: boolean;\n  error: {\n    target:\n      | \"requests-error\"\n      | \"loading-update-error\"\n      | \"main\"\n      | \"main-success\"\n      | \"update-error\"\n      | null;\n    msg: string;\n  };\n  requests: AcademicDistrictDistribution[];\n  remain_post_by_levels: RemainPostsByQualification[];\n  loading_requests: boolean;\n  selected_level: string;\n  selected_request_id: string;\n  selected_value: string;\n  selected_comment: string;\n  selected_auto_level: string;\n  search: string;\n  districts_request: DistrictsRequests[];\n  districts: DistrictsList[];\n}\n\nclass _CountryPostDistribution extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      requests: [],\n      remain_post_by_levels: [],\n      error: {\n        target: null,\n        msg: \"\",\n      },\n      loading_requests: true,\n      selected_level: \"\",\n      selected_request_id: \"\",\n      selected_value: \"0\",\n      selected_comment: \"\",\n      selected_auto_level: \"\",\n      search: \"\",\n      districts_request: [],\n      districts: [],\n    };\n  }\n\n  submitLogin = (e: any) => {\n    e.preventDefault();\n  };\n\n  selectRequest = (\n    req: DistrictsRequests,\n    request: AcademicDistrictDistribution | undefined\n  ) => {\n    console.log({\n      req,\n      request,\n      selected_id: this.state.selected_request_id,\n    });\n\n    if (this.state.selected_request_id === \"\") {\n      this.setState({\n        selected_comment:\n          request === undefined ? \"\" : request.distribution_comment,\n        selected_request_id: req.post_request_id,\n        selected_value: request === undefined ? \"0\" : request.limits + \"\",\n      });\n    }\n  };\n\n  cancelRequest = () => {\n    this.setState({\n      selected_comment: \"\",\n      selected_request_id: \"\",\n      selected_value: \"0\",\n      error: {\n        target: null,\n        msg: \"\",\n      },\n    });\n  };\n\n  cleanAlert() {\n    setTimeout(() => {\n      this.setState({\n        error: {\n          target: null,\n          msg: \"\",\n        },\n      });\n    }, 2000);\n  }\n\n  saveRequest = (\n    request: AcademicDistrictDistribution | undefined,\n    req: DistrictsRequests,\n    found: boolean\n  ): void => {\n    if (this.props.basic.academic_calender === null) return;\n    let academic_id = this.props.basic.academic_calender.academic_year_id;\n\n    this.setState({\n      loading: true,\n      error: {\n        target: null,\n        msg: \"\",\n      },\n    });\n    FC_SaveDistributionDistrict(\n      {\n        academic_year_id: academic_id,\n        distribution_comment: this.state.selected_comment,\n        district_code: req.district_code,\n        limits: +this.state.selected_value,\n        minecofin_limit_id:\n          request === undefined ? \"2\" : request.minecofin_limit_id,\n        qualification_id: req.qualification_id,\n      },\n      (status, data, msg) => {\n        if (status === true && data !== null) {\n          if (data.academic_distributed !== null) {\n            this.cleanAlert();\n            this.setState({\n              loading: false,\n              error: {\n                target: \"main-success\",\n                msg: \"Post updated successful\",\n              },\n              remain_post_by_levels: this.state.remain_post_by_levels.map(\n                (itm) => {\n                  let findData = data.total_distributed.find(\n                    (el) => el.qualification_id === itm.qualification_id\n                  );\n                  return {\n                    ...itm,\n                    remain:\n                      findData === undefined ? 0 : +findData.remaining_limits,\n                  };\n                }\n              ),\n              requests:\n                data.academic_distributed === null\n                  ? this.state.requests\n                  : found === false\n                  ? [\n                      ...this.state.requests,\n                      {\n                        academic_year_id:\n                          data.academic_distributed.academic_year_id,\n                        archive: data.academic_distributed.archive,\n                        archived_by: data.academic_distributed.archived_by,\n                        archived_date: data.academic_distributed.archived_date,\n                        created_by: data.academic_distributed.created_by,\n                        created_date: data.academic_distributed.created_date,\n                        dde_post_request:\n                          data.academic_distributed.dde_post_request,\n                        distribution_comment:\n                          data.academic_distributed.distribution_comment,\n                        district_code: data.academic_distributed.district_code,\n                        district_name: data.academic_distributed.district_name,\n                        head_teacher_post_request:\n                          data.academic_distributed.head_teacher_post_request,\n                        limits: data.academic_distributed.limits,\n                        minecofin_limit_id:\n                          data.academic_distributed.minecofin_limit_id,\n                        qualification_id:\n                          data.academic_distributed.qualification_id,\n                        reb_distribution_id:\n                          data.academic_distributed.reb_distribution_id,\n                        updated_by: data.academic_distributed.updated_by,\n                        updated_date: data.academic_distributed.updated_date,\n                      },\n\n                      // \"reb_distribution_id\": \"14\",\n                      // \"academic_year_id\": \"1\",\n                      // \"minecofin_limit_id\": \"2\",\n                      // \"district_code\": \"26\",\n                      // \"qualification_id\": \"1\",\n                      // \"limits\": \"10\",\n                      // \"distribution_comment\": \"\",\n                      // \"created_by\": \"ba1c9233-410c-4dee-8868-7578ae9c1718\",\n                      // \"created_date\": \"2022-07-01 16:47:40\",\n                      // \"updated_by\": \"ba1c9233-410c-4dee-8868-7578ae9c1718\",\n                      // \"updated_date\": \"2022-07-01 14:47:40\",\n                      // \"archive\": \"0\",\n                      // \"archived_by\": null,\n                      // \"archived_date\": null,\n                      // \"district_name\": \"Ruhango\"\n                    ]\n                  : this.state.requests.map((req) =>\n                      req.qualification_id ===\n                        data.academic_distributed?.qualification_id &&\n                      req.district_code ===\n                        data.academic_distributed.district_code &&\n                      req.academic_year_id ===\n                        data.academic_distributed.academic_year_id\n                        ? {\n                            ...req,\n                            limits: +data.academic_distributed.limits,\n                            distribution_comment:\n                              data.academic_distributed.distribution_comment,\n                          }\n                        : req\n                    ),\n              selected_comment: \"\",\n              selected_value: \"\",\n              selected_request_id: \"\",\n              // requests: [...this.state.requests]\n            });\n          } else {\n            this.setState({\n              loading: false,\n              error: {\n                target: \"update-error\",\n                msg: data.message,\n              },\n            });\n          }\n        } else {\n          this.setState({\n            loading: false,\n            error: {\n              target: \"update-error\",\n              msg: msg,\n            },\n          });\n        }\n      }\n    );\n  };\n\n  componentDidMount = () => {\n    if (this.props.basic.academic_calender !== null) {\n      let academic_id = this.props.basic.academic_calender.academic_year_id;\n\n      FC_GetDistributionDistrict(academic_id, (status, data, msg) => {\n        if (status === true && data !== null) {\n          this.setState({\n            loading_requests: false,\n            requests: data.academic_distributed.map((itm) => ({\n              ...itm,\n              limits: +itm.limits,\n            })),\n            remain_post_by_levels: this.props.basic.qualifications.map(\n              (qual) => {\n                let FindRemail = data.total_distributed.find(\n                  (itm) => itm.qualification_id === qual.qualification_id\n                );\n                return {\n                  qualification_id: qual.qualification_id,\n                  qualification_title: qual.qualification_name,\n                  remain:\n                    FindRemail === undefined ? 0 : +FindRemail.remaining_limits,\n                  total: FindRemail === undefined ? 0 : +FindRemail.limits,\n                } as RemainPostsByQualification;\n              }\n            ),\n            districts_request: data.districts_request,\n            districts: data.districts,\n          });\n        } else {\n          this.setState({\n            loading_requests: false,\n            error: {\n              msg: msg,\n              target: \"requests-error\",\n            },\n          });\n        }\n      });\n    }\n  };\n\n  render() {\n    let RequestsList =\n      this.state.selected_level === \"\"\n        ? this.state.districts_request\n        : this.state.districts_request.filter(\n            (itm) => itm.qualification_id === this.state.selected_level\n          );\n\n    //* Group by district\n    // RequestsList =\n    //     this.state.selected_level === \"\"\n    //       ? this.state.districts_request\n    //       : this.state.districts_request.filter(\n    //           (itm) => itm.qualification_id === this.state.selected_level\n    //         );\n\n    RequestsList = search(RequestsList, this.state.search, {\n      district_name: true,\n    });\n\n    return (\n      <>\n        {this.state.error.target === \"main-success\" && (\n          <Alert theme=\"success\" fixed>\n            {this.state.error.msg}\n          </Alert>\n        )}\n        {this.state.error.target === \"main\" && (\n          <Alert theme=\"danger\">{this.state.error.msg}</Alert>\n        )}\n        {this.state.error.target === \"loading-update-error\" && (\n          <Alert theme=\"danger\">{this.state.error.msg}</Alert>\n        )}\n        <div className=\"sticky top-1 z-50\">\n          <DashboardContainer>\n            <div className=\"flex items-center mt-2\">\n              <div className=\" flex-1 pr-3\">\n                <Heading>REB Distribution</Heading>\n                <div className=\"pt-2 pr-4 w-40 \">\n                  <label className=\"text-gray-600 block -mb-2 text-sm \">\n                    Qualification:\n                  </label>\n                  <InputSelect\n                    MainContainer_className=\"w-full\"\n                    data={[\n                      { title: \"All qualifications\", value: \"\" },\n                      ...this.props.basic.qualifications.map((el) => ({\n                        title: el.qualification_name,\n                        value: el.qualification_id,\n                      })),\n                    ]}\n                    error=\"\"\n                    name=\"select_level\"\n                    onChange={(e) =>\n                      this.setState({ selected_level: e.target.value })\n                    }\n                    label=\"\"\n                    placeholder=\"Select\"\n                    value={this.state.selected_level}\n                    size=\"sm\"\n                  />\n                </div>\n              </div>\n              <div className=\"\">\n                {/* <p className=\"opacity-60\">Distribution</p> */}\n                <div className=\"flex\">\n                  {this.state.remain_post_by_levels.map((level, i) => {\n                    if (i >= 5) return null;\n                    return (\n                      <CountDownCard\n                        key={i}\n                        remain={level.remain}\n                        title={level.qualification_title}\n                        total={level.total}\n                      />\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n          </DashboardContainer>\n        </div>\n\n        <DashboardContainer>\n          <div className=\"mt-3\">\n            <div className=\"border border-t mt-2 mb-1 flex items-center px-3 rounded\">\n              {/* <div className=\"flex-1 pr-2\">\n                <TextInput\n                  error=\"\"\n                  label=\"Search\"\n                  name=\"\"\n                  onChange={(e) => this.setState({ search: e.target.value })}\n                  placeholder=\"Search by district name\"\n                  value={this.state.search}\n                  size=\"sm\"\n                />\n              </div> */}\n            </div>\n            <table className=\"w-full text-left\">\n              <thead>\n                <tr className=\"bg-blue-200 bg-opacity-20\">\n                  <th className=\"p-1 border\">#</th>\n                  <th className=\"p-1 border\">District</th>\n                  <th className=\"p-1 border\">Qualification</th>\n                  <th className=\"p-1 border\">Existing</th>\n                  <th className=\"p-1 border\">HT Request</th>\n                  <th className=\"p-1 border\">DDE Request</th>\n                  <th className=\"p-1 border\">Total distributed </th>\n                  <th className=\"p-1 border\">Total posts </th>\n                  <th className=\"p-1 border\">Comment</th>\n                </tr>\n              </thead>\n              <tbody>\n                {this.state.loading_requests === true ? (\n                  <tr>\n                    <td\n                      colSpan={10}\n                      className=\"p-6 border rounded border-opacity-25 animate__animated animate__fadeIn text-center\"\n                    >\n                      <Heading size=\"md\">\n                        <Loading />\n                      </Heading>\n                    </td>\n                  </tr>\n                ) : RequestsList.length <= 0 ? (\n                  <tr>\n                    <td\n                      colSpan={10}\n                      className=\"p-6 border rounded border-opacity-25 animate__animated animate__fadeIn text-center\"\n                    >\n                      <Heading size=\"md\">No results found</Heading>\n                    </td>\n                  </tr>\n                ) : (\n                  RequestsList.map((req, i) => {\n                    let Qualification = this.props.basic.qualifications.find(\n                      (itm) => itm.qualification_id === req.qualification_id\n                    );\n\n                    let District = this.state.districts.find(\n                      (dist) => dist.district_code === req.district_code\n                    );\n                    let DataAssigned = this.state.requests.find(\n                      (req_data) =>\n                        req_data.qualification_id === req.qualification_id &&\n                        req_data.district_code === req.district_code\n                    );\n\n                    return (\n                      <Fragment key={i}>\n                        <tr className=\"border rounded hover:bg-blue-500 hover:bg-opacity-20\">\n                          <td className=\"p-2 border\" key={i}>\n                            {i + 1}\n                          </td>\n                          <td className=\"p-2 border\">\n                            {District?.district_name}\n                          </td>\n                          <td className=\"p-2 border\">\n                            {Qualification?.qualification_name}\n                          </td>\n                          <td className=\"p-2 border\">{req.existing_post}</td>\n                          <td className=\"p-2 border\">{req.ht_post_request}</td>\n                          <td className=\"p-2 border\">{req.dde_post_request}</td>\n\n                          {this.state.selected_request_id ===\n                          req.post_request_id ? (\n                            <>\n                              <TableEditModal\n                                error={\n                                  this.state.error.target === \"update-error\"\n                                    ? this.state.error.msg\n                                    : \"\"\n                                }\n                                comment={this.state.selected_comment}\n                                onChangeComment={(e) =>\n                                  this.setState({\n                                    selected_comment: e.target.value,\n                                  })\n                                }\n                                loading={this.state.loading}\n                                max={12}\n                                onCancel={this.cancelRequest.bind(this)}\n                                onChange={(e) =>\n                                  this.setState({\n                                    selected_value: e.target.value,\n                                  })\n                                }\n                                onSave={this.saveRequest.bind(\n                                  this,\n                                  DataAssigned,\n                                  req,\n                                  DataAssigned === undefined ? false : true\n                                )}\n                                placeholderComment=\"Add comment\"\n                                value={this.state.selected_value}\n                              />\n                            </>\n                          ) : (\n                            <td\n                              className=\"p-2 border w-20 font-bold bg-green-50 text-green-900 cursor-pointer\"\n                              onClick={this.selectRequest.bind(\n                                this,\n                                req,\n                                DataAssigned\n                              )}\n                            >\n                              {DataAssigned === undefined\n                                ? 0\n                                : DataAssigned.limits}\n                            </td>\n                          )}\n                          <td className=\"p-2 border w-20 font-bold  cursor-pointer\">\n                            {DataAssigned === undefined\n                              ? 0\n                              : +DataAssigned.limits + +req.existing_post}\n                          </td>\n                          <td\n                            className=\"p-2 border\"\n                            title={\n                              DataAssigned === undefined\n                                ? \"\"\n                                : DataAssigned.distribution_comment\n                            }\n                          >\n                            {shortString(\n                              DataAssigned === undefined\n                                ? \"\"\n                                : DataAssigned.distribution_comment,\n                              20\n                            )}\n                          </td>\n                        </tr>\n                      </Fragment>\n                    );\n                  })\n                )}\n              </tbody>\n            </table>\n          </div>\n        </DashboardContainer>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  basic,\n}: StoreState): { auth: Auth; basic: Basic } => {\n  return { auth: auth, basic: basic };\n};\n\nexport const CountryPostDistribution = connect(\n  mapStateToProps,\n  {}\n)(_CountryPostDistribution);\n"],"sourceRoot":""}