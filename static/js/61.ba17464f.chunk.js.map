{"version":3,"sources":["containers/DistributedVaccantReport/DistributedVaccantReport.tsx"],"names":["_DistributedVaccantReport","props","state","loading","data","error","target","msg","this","basic","academic_calender","setState","FC_DistributedVacantPosts","academic_year_id","status","className","theme","academic_year_name","fileData","fileName","btnName","rowSpan","colSpan","length","map","el","i","district_code","district_name","A0_distributed","A0_limits","A0_remaining","A0_total","A1_distributed","A1_limits","A1_remaining","A1_total","A2_distributed","A2_limits","A2_remaining","A2_total","district_total_distributed","district_total_limits","district_total_remaining","district_total","React","Component","DistributedVaccantReport","connect","auth"],"mappings":"0QA6CMA,E,kDACJ,WAAYC,GAAkB,IAAD,8BAC3B,cAAMA,IAEDC,MAAQ,CACXC,SAAS,EACTC,KAAM,GACNC,MAAO,CACLC,OAAQ,KACRC,IAAK,KARkB,CAW5B,C,qDAED,WAAqB,IAAD,OAClB,IAAKC,KAAKP,MAAMQ,MAAMC,kBACpB,OAAOF,KAAKG,SAAS,CACnBN,MAAO,CACLC,OAAQ,aACRC,IAAK,yDAGXC,KAAKG,SAAS,CACZR,SAAS,IAGXS,YACEJ,KAAKP,MAAMQ,MAAMC,kBAAkBG,kBACnC,SAACC,EAAQV,EAAMG,GACb,EAAKI,SAAS,CACZR,SAAS,EACTC,KAAMA,EACNC,MAAOS,EACH,CAAEP,IAAK,GAAID,OAAQ,MACnB,CAAEA,OAAQ,aAAcC,QAE/B,GAEJ,G,oBAED,WAAU,IAAD,IACP,OAA2B,IAAvBC,KAAKN,MAAMC,QAEX,qBAAKY,UAAU,4BAAf,SACE,cAAC,IAAD,MAIJ,sBAAKA,UAAU,iDAAf,UAC+B,eAA5BP,KAAKN,MAAMG,MAAMC,QAChB,cAAC,IAAD,CAAOU,MAAM,SAAb,SAAuBR,KAAKN,MAAMG,MAAME,MAEb,iBAA5BC,KAAKN,MAAMG,MAAMC,QAChB,cAAC,IAAD,CAAOU,MAAM,UAAb,SAAwBR,KAAKN,MAAMG,MAAME,MAG3C,sBAAKQ,UAAU,gBAAf,UACE,0BAASA,UAAU,SAAnB,UACE,cAAC,IAAD,uCACA,oBAAIA,UAAU,gBAAd,mBACGP,KAAKP,MAAMQ,MAAMC,yBADpB,aACG,EAAoCO,wBAGzC,kCACE,cAAC,IAAD,CACEC,SAAUV,KAAKN,MAAME,KACrBe,SAAQ,uDAAwCX,KAAKP,MAAMQ,MAAMC,yBAAzD,aAAwC,EAAoCO,oBACpFG,QAAQ,wBAKd,qBAAKL,UAAU,kBAAf,SACE,wBAAOA,UAAU,GAAjB,UACE,kCACE,+BACE,oBAAIA,UAAU,aAAaM,QAAS,EAApC,eAGA,oBAAIN,UAAU,aAAaM,QAAS,EAApC,2BAGA,oBAAIN,UAAU,aAAaM,QAAS,EAApC,2BAIA,oBAAIN,UAAU,yBAAyBO,QAAS,EAAhD,gBAIA,oBAAIP,UAAU,2BAA2BO,QAAS,EAAlD,gBAIA,oBAAIP,UAAU,2BAA2BO,QAAS,EAAlD,gBAIA,oBAAIP,UAAU,0BAA0BO,QAAS,EAAjD,yBAKF,+BAOE,oBAAIP,UAAU,uCAAd,yBAGA,oBAAIA,UAAU,uCAAd,oBACA,oBAAIA,UAAU,uCAAd,uBAGA,oBAAIA,UAAU,uCAAd,mBAEA,oBAAIA,UAAU,yCAAd,yBAGA,oBAAIA,UAAU,yCAAd,oBAGA,oBAAIA,UAAU,yCAAd,uBAGA,oBAAIA,UAAU,yCAAd,mBAIA,oBAAIA,UAAU,yCAAd,yBAGA,oBAAIA,UAAU,yCAAd,oBAGA,oBAAIA,UAAU,yCAAd,uBAGA,oBAAIA,UAAU,yCAAd,mBAIA,oBAAIA,UAAU,wCAAd,kCAGA,oBAAIA,UAAU,wCAAd,6BAGA,oBAAIA,UAAU,wCAAd,gCAGA,oBAAIA,UAAU,wCAAd,kCAKJ,gCACGP,KAAKN,MAAME,KAAKmB,QAAU,EACzB,6BACE,oBAAID,QAAS,GAAb,6BAGFd,KAAKN,MAAME,KAAKoB,KAAI,SAACC,EAAIC,GAAL,OAClB,+BACE,oBAAIX,UAAU,aAAd,SAA4BW,EAAI,IAChC,oBAAIX,UAAU,aAAd,SAA4BU,EAAGE,gBAC/B,oBAAIZ,UAAU,aAAd,SAA4BU,EAAGG,gBAE/B,oBAAIb,UAAU,uCAAd,SACGU,EAAGI,iBAEN,oBAAId,UAAU,uCAAd,SACGU,EAAGK,YAEN,oBAAIf,UAAU,uCAAd,SACGU,EAAGM,eAEN,oBAAIhB,UAAU,uCAAd,SACGU,EAAGO,WAGN,oBAAIjB,UAAU,yCAAd,SACGU,EAAGQ,iBAEN,oBAAIlB,UAAU,yCAAd,SACGU,EAAGS,YAEN,oBAAInB,UAAU,yCAAd,SACGU,EAAGU,eAEN,oBAAIpB,UAAU,yCAAd,SACGU,EAAGW,WAGN,oBAAIrB,UAAU,yCAAd,SACGU,EAAGY,iBAEN,oBAAItB,UAAU,yCAAd,SACGU,EAAGa,YAEN,oBAAIvB,UAAU,yCAAd,SACGU,EAAGc,eAEN,oBAAIxB,UAAU,yCAAd,SACGU,EAAGe,WAGN,oBAAIzB,UAAU,wCAAd,SACGU,EAAGgB,6BAEN,oBAAI1B,UAAU,wCAAd,SACGU,EAAGiB,wBAEN,oBAAI3B,UAAU,wCAAd,SACGU,EAAGkB,2BAEN,oBAAI5B,UAAU,wCAAd,SACGU,EAAGmB,mBAtDClB,EADS,aAiEjC,K,GAtOqCmB,IAAMC,WAgPjCC,EAA2BC,aAPhB,SAAC,GAIvB,MAAO,CAAEC,KADqC,EAF9CA,KAGqBxC,MADyB,EAD9CA,MAGD,GAIC,CAAC,EAFqCuC,CAGtChD,E","file":"static/js/61.ba17464f.chunk.js","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  Basic,\n  DistributedVacantPostsReport__Interface,\n  FC_DistributedVacantPosts,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\n// import DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport ExportToExcel from \"../../components/GenerateReport/ExportToExcel\";\nimport Heading from \"../../components/Heading/Heading\";\nimport Loading from \"../../components/Loading/Loading\";\nimport { StoreState } from \"../../reducers\";\n// import Alert, { AlertInterface } from \"../../components/Alert/Alert\";\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n  basic: Basic;\n}\n\ninterface AppState {\n  loading: boolean;\n  data: DistributedVacantPostsReport__Interface[];\n  error: {\n    target: \"main-error\" | \"main-success\" | null;\n    msg: string;\n  };\n}\n\nexport interface DistributionVacant_Qualification {\n  qualification_id: string;\n  qualification_name: string;\n  total: number;\n  limits: number;\n  distributed: number;\n  remaining: number;\n}\nexport interface API_DistributedVacantPosts {\n  district_code: string;\n  district_name: string;\n  teachers_on_qualification: DistributionVacant_Qualification[];\n}\n\nclass _DistributedVaccantReport extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      data: [],\n      error: {\n        target: null,\n        msg: \"\",\n      },\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.basic.academic_calender)\n      return this.setState({\n        error: {\n          target: \"main-error\",\n          msg: \"No academic_calender found!, please try again later\",\n        },\n      });\n    this.setState({\n      loading: true,\n    });\n\n    FC_DistributedVacantPosts(\n      this.props.basic.academic_calender.academic_year_id,\n      (status, data, msg) => {\n        this.setState({\n          loading: false,\n          data: data,\n          error: status\n            ? { msg: \"\", target: null }\n            : { target: \"main-error\", msg },\n        });\n      }\n    );\n  }\n\n  render() {\n    if (this.state.loading === true)\n      return (\n        <div className=\"py-8 text-center text-4xl\">\n          <Loading />\n        </div>\n      );\n    return (\n      <div className=\"max-w-screen-lg  mx-auto bg-white p-2 rounded \">\n        {this.state.error.target === \"main-error\" && (\n          <Alert theme=\"danger\">{this.state.error.msg}</Alert>\n        )}\n        {this.state.error.target === \"main-success\" && (\n          <Alert theme=\"success\">{this.state.error.msg}</Alert>\n        )}\n\n        <div className=\"p-1 py-2 flex\">\n          <section className=\"flex-1\">\n            <Heading>Distributed Vacant Posts</Heading>\n            <h4 className=\"text-gray-700\">\n              {this.props.basic.academic_calender?.academic_year_name}\n            </h4>\n          </section>\n          <section>\n            <ExportToExcel\n              fileData={this.state.data}\n              fileName={`REPORT OF DISTRIBUTED VACANT POSTS ${this.props.basic.academic_calender?.academic_year_name}`}\n              btnName=\"Download EXCEL\"\n            />\n          </section>\n        </div>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"\">\n            <thead>\n              <tr>\n                <th className=\"p-2 border\" rowSpan={2}>\n                  #\n                </th>\n                <th className=\"p-2 border\" rowSpan={2}>\n                  District code\n                </th>\n                <th className=\"p-2 border\" rowSpan={2}>\n                  District name\n                </th>\n\n                <th className=\"p-2 border bg-blue-100\" colSpan={4}>\n                  A0\n                </th>\n\n                <th className=\"p-2 border bg-yellow-100\" colSpan={4}>\n                  A1\n                </th>\n\n                <th className=\"p-2 border bg-indigo-100\" colSpan={4}>\n                  A2\n                </th>\n\n                <th className=\"p-2 border bg-green-100\" colSpan={4}>\n                  District\n                </th>\n              </tr>\n\n              <tr>\n                {/* <th className=\"p-2 border\" >\n                  #\n                </th> */}\n                {/* <th className=\"p-2 border\">district_code</th>\n                <th className=\"p-2 border\">district_name</th> */}\n\n                <th className=\"p-2 border bg-opacity-50 bg-blue-100\">\n                  distributed\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-blue-100\">limits</th>\n                <th className=\"p-2 border bg-opacity-50 bg-blue-100\">\n                  remaining\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-blue-100\">total</th>\n\n                <th className=\"p-2 border bg-opacity-50 bg-yellow-100\">\n                  distributed\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-yellow-100\">\n                  limits\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-yellow-100\">\n                  remaining\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-yellow-100\">\n                  total\n                </th>\n\n                <th className=\"p-2 border bg-opacity-50 bg-indigo-100\">\n                  distributed\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-indigo-100\">\n                  limits\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-indigo-100\">\n                  remaining\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-indigo-100\">\n                  total\n                </th>\n\n                <th className=\"p-2 border bg-opacity-50 bg-green-100\">\n                  District distributed\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-green-100\">\n                  District limits\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-green-100\">\n                  District remaining\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-green-100\">\n                  District total\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.data.length <= 0 ? (\n                <tr>\n                  <td colSpan={40}>No data found</td>\n                </tr>\n              ) : (\n                this.state.data.map((el, i) => (\n                  <tr key={i}>\n                    <td className=\"p-2 border\">{i + 1}</td>\n                    <td className=\"p-2 border\">{el.district_code}</td>\n                    <td className=\"p-2 border\">{el.district_name}</td>\n\n                    <td className=\"p-2 border bg-opacity-40 bg-blue-100\">\n                      {el.A0_distributed}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-blue-100\">\n                      {el.A0_limits}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-blue-100\">\n                      {el.A0_remaining}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-blue-100\">\n                      {el.A0_total}\n                    </td>\n\n                    <td className=\"p-2 border bg-opacity-40 bg-yellow-100\">\n                      {el.A1_distributed}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-yellow-100\">\n                      {el.A1_limits}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-yellow-100\">\n                      {el.A1_remaining}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-yellow-100\">\n                      {el.A1_total}\n                    </td>\n\n                    <td className=\"p-2 border bg-opacity-40 bg-indigo-100\">\n                      {el.A2_distributed}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-indigo-100\">\n                      {el.A2_limits}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-indigo-100\">\n                      {el.A2_remaining}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-indigo-100\">\n                      {el.A2_total}\n                    </td>\n\n                    <td className=\"p-2 border bg-opacity-40 bg-green-100\">\n                      {el.district_total_distributed}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-green-100\">\n                      {el.district_total_limits}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-green-100\">\n                      {el.district_total_remaining}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-green-100\">\n                      {el.district_total}\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  basic,\n}: StoreState): { auth: Auth; basic: Basic } => {\n  return { auth: auth, basic: basic };\n};\n\nexport const DistributedVaccantReport = connect(\n  mapStateToProps,\n  {}\n)(_DistributedVaccantReport);\n"],"sourceRoot":""}