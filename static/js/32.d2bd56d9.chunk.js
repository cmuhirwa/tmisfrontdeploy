(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[32],{356:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return j})),r.d(t,"d",(function(){return b}));var n=r(3),s=r(6),c=r(7),a=r.n(c),i=r(13),l=r(12),o=r(8),d=r(11),u=function(e,t){return t(!0,null,""),function(){var r=Object(s.a)(Object(n.a)().mark((function r(s){var c,u;return Object(n.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s({type:i.a.GET_ALL_TRANSFER,payload:[]}),Object(o.a)(),r.next=5,a.a.get("".concat(l.e,"/teachertransfers/requesteddde/").concat(e));case 5:c=r.sent,u=c.data.filter((function(e){return"APPROVED"===e.requested_status})),s({type:i.a.GET_ALL_TRANSFER,payload:u}),t(!1,u,""),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),t(!1,null,Object(d.a)(r.t0));case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()},p=function(){var e=Object(s.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!1,[{district_code:"11",district_name:"Nyarugenge"},{district_code:"12",district_name:"Gasabo"},{district_code:"13",district_name:"Kicukiro"},{district_code:"21",district_name:"Nyanza"},{district_code:"22",district_name:"Gisagara"},{district_code:"23",district_name:"Nyaruguru"},{district_code:"24",district_name:"Huye"},{district_code:"25",district_name:"Nyamagabe"},{district_code:"26",district_name:"Ruhango"},{district_code:"27",district_name:"Muhanga"},{district_code:"28",district_name:"Kamonyi"},{district_code:"31",district_name:"Karongi"},{district_code:"32",district_name:"Rutsiro"},{district_code:"33",district_name:"Rubavu"},{district_code:"34",district_name:"Nyabihu"},{district_code:"35",district_name:"Ngororero"},{district_code:"36",district_name:"Rusizi"},{district_code:"37",district_name:"Nyamasheke"},{district_code:"41",district_name:"Rulindo"},{district_code:"42",district_name:"Gakenke"},{district_code:"43",district_name:"Musanze"},{district_code:"44",district_name:"Burera"},{district_code:"45",district_name:"Gicumbi"},{district_code:"51",district_name:"Rwamagana"},{district_code:"52",district_name:"Nyagatare"},{district_code:"53",district_name:"Gatsibo"},{district_code:"54",district_name:"Kayonza"},{district_code:"55",district_name:"Kirehe"},{district_code:"56",district_name:"Ngoma"},{district_code:"57",district_name:"Bugesera"}],"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(Object(n.a)().mark((function e(t,r){var s,c,i;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,s=0,null,""),e.prev=2,Object(o.a)(),(c=new FormData).append("teacher_supporting_document",t),e.next=8,a.a.post("".concat(l.e,"/teachertransfers/uploadSupportingDocument"),c,{onUploadProgress:function(e){s=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,r(!0,s,null,"")}});case 8:i=e.sent,console.log("Uploaded document: ",i.data),r(!1,s,i.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),r(!1,s,"",Object(d.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}(),b=function(e,t,r){r(!0,"");return function(){var c=Object(s.a)(Object(n.a)().mark((function s(c){var u,p;return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(!0,""),console.log("==================doc_title=================="),console.log({doc_title:""}),console.log("==================doc_title=================="),r(!0,""),(u=new FormData).append("teacher_transfer_id",e),u.append("mayor_letter",t),console.log("==================*********************=================="),console.log({doc_title:""}),console.log("==================*********************=================="),n.prev=11,Object(o.a)(),n.next=15,a.a.post("".concat(l.e,"/teachertransfers/outgoing"),u);case 15:p=n.sent,console.log("Uploaded document: ",p.data),c({type:i.a.UPLOAD_SIGNED_DOCUMENT,payload:{teacher_transfer_id:e,mayor_letter:p.data.mayor_letter}}),r(!1,""),n.next=25;break;case 21:n.prev=21,n.t0=n.catch(11),console.error(n.t0),r(!1,Object(d.a)(n.t0));case 25:case"end":return n.stop()}}),s,null,[[11,21]])})));return function(e){return c.apply(this,arguments)}}()}},362:function(e,t,r){"use strict";r.d(t,"l",(function(){return n})),r.d(t,"g",(function(){return j})),r.d(t,"f",(function(){return b})),r.d(t,"i",(function(){return h})),r.d(t,"b",(function(){return x})),r.d(t,"k",(function(){return m})),r.d(t,"e",(function(){return f})),r.d(t,"a",(function(){return g})),r.d(t,"d",(function(){return O})),r.d(t,"c",(function(){return v})),r.d(t,"h",(function(){return y})),r.d(t,"j",(function(){return _}));var n,s,c=r(29),a=r(3),i=r(9),l=r(6),o=r(7),d=r.n(o),u=r(12),p=r(16);!function(e){e.DRAFT="DRAFT",e.READY_FOR_EVALUATION="READY_FOR_EVALUATION",e.INPROGRESS="INPROGRESS",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED"}(n||(n={})),function(e){e.PENDING="PENDING",e.APPROVED="APPROVED",e.REJECTED="REJECTED"}(s||(s={}));var j=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,r,n){var s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null),e.prev=1,e.next=4,d.a.get("".concat(u.k,"/training/school/").concat(t,"/").concat(r));case 4:s=e.sent,console.log("Res: ",s.data),s&&n(!1,{data:s.data,type:"success",msg:"Data loaded successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,r,n){var s,l,o,j,b;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null),e.prev=1,e.next=4,d.a.get("".concat(u.k,"/training/trainee/").concat(2===r.toString().length?"district":"school","/").concat(t,"/").concat(r));case 4:if(s=e.sent,console.log("Res participants one: ",s.data.school_teachers),s){if(l=s.data.school_teachers,s.data.school_parents.length>0){o=Object(c.a)(s.data.school_parents);try{for(b=function(){var e=j.value;void 0===l.find((function(t){return t.user_id===e.user_id}))&&l.push({email:e.email,first_name:e.first_name,id:e.id,last_name:e.last_name,nid:e.nid,phone_numbers:e.phone_numbers,position_code:"",position_name:"",qualification_id:"",qualification_name:"",subjects:[],teaching_level:"",teaching_level_id:1,trainee_request_id:e.trainee_request_id,training_id:e.training_id,training_to_group_id:null===e.training_to_group_id?"":e.training_to_group_id,user_id:e.user_id})},o.s();!(j=o.n()).done;)b()}catch(a){o.e(a)}finally{o.f()}}n(!1,{data:l,type:"success",msg:"Data loaded successfully"})}e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error no: ",e.t0),n(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.post("".concat(u.k,"/training/search/teacher"),t);case 4:n=e.sent,console.log("Teachers to be trained: ",n.data),n&&r(!1,{data:n.data,type:"success",msg:"Data loaded successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.post("".concat(u.k,"/training/trainee"),t);case 4:n=e.sent,console.log("Assign trainee to training: ",n),n&&r(!1,{type:"success",msg:"Trainee added successfully!"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.patch("".concat(u.k,"/training/trainee/toggle"),t);case 4:n=e.sent,console.log("Removing: ",n),n&&r(!1,{type:"success",msg:"Trainee added successfully!"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,r){var n,s,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.post("".concat(u.k,"/training/search/parent"),t);case 4:n=e.sent,console.log("Parents/Other users to be trained: ",n.data),n&&r(!1,{data:n.data,type:"success",new:!1,msg:"Data loaded successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{data:null,type:"error",new:void 0!==(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.status)&&400===(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status),msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.post("".concat(u.e,"/user/training/pregister"),t);case 4:n=e.sent,console.log("New user added: ",n.data),n&&r(!1,{data:n.data,type:"success",msg:"Data added successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,r,n){var s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null),e.prev=1,e.next=4,d.a.get("".concat(u.k,"/training/district/").concat(t,"/").concat(r));case 4:s=e.sent,console.log("Res: ",s.data),s&&n(!1,{data:s.data,type:"success",msg:"Data loaded successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,r,n){var s,l,o,j,b;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null),e.prev=1,e.next=4,d.a.get("".concat(u.k,"/training/trainee/district/").concat(t,"/").concat(r));case 4:if(s=e.sent,console.log("Res participants: ",s.data),s){l=[],o=Object(c.a)(s.data.school_teachers);try{for(b=function(){var e=j.value;void 0===l.find((function(t){return t.user_id===e.user_id}))&&l.push({email:e.email,first_name:e.first_name,last_name:e.last_name,nid:e.nid,phone_numbers:e.phone_numbers,user_id:e.user_id,role:e.role,role_id:e.role_id,staff_code:e.staff_code})},o.s();!(j=o.n()).done;)b()}catch(a){o.e(a)}finally{o.f()}n(!1,{data:{school_parents:[],school_teachers:l},type:"success",msg:"Data loaded successfully"})}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.post("".concat(u.k,"/training/search/district"),t);case 4:n=e.sent,console.log("Teachers to be trained: ",n.data),n&&r(!1,{data:n.data,type:"success",msg:"Data loaded successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{data:null,type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,r){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null),e.prev=1,e.next=4,d.a.get("".concat(u.k,"/training/application/status/").concat(t));case 4:n=e.sent,console.log("Res: ",n.data),n&&r(!1,{data:n.data,type:"success",msg:""}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r(!1,{data:[],type:"error",msg:Object(p.m)(e.t0)}),console.log("Err: ",Object(i.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}()},607:function(e,t,r){"use strict";r.r(t),r.d(t,"CentersManagement",(function(){return R}));var n=r(19),s=r(20),c=r(21),a=r(22),i=r(4),l=r(69),o=r(25),d=r(42),u=r(54),p=r(15),j=r(36),b=r(64),h=r(356),x=r(23),m=r(93),f=r(24),g=r(27),O=r(68),v=r(16),y=r(60),_=r(39),N=r(1),w=function(e){Object(c.a)(r,e);var t=Object(a.a)(r);function r(e){var s;return Object(n.a)(this,r),(s=t.call(this,e)).CreateNewTraining=function(e){return e.preventDefault(),""===s.state.district_id?s.setState({error:{target:"district_id",msg:"Please choose district"}}):""===s.state.center_type_id?s.setState({error:{target:"center_type_id",msg:"Please choose center type"}}):""===s.state.name?s.setState({error:{target:"name",msg:"Please fill center name"}}):(s.setState({loading:!0,error:null,success:""}),void Object(b.a)({name:s.state.name,district_id:s.state.district_id,center_type_id:s.state.center_type_id},(function(e,t){s.setState({loading:e}),"success"===(null===t||void 0===t?void 0:t.status)&&(s.setState({error:null,success:"Center added successfully!",loading:!1,name:""}),s.props.onCreated()),"error"===(null===t||void 0===t?void 0:t.status)&&s.setState({error:{target:"main",msg:t.msg},loading:!1,success:""})})))},s.state={loading:!1,name:"",district_id:"",center_type_id:"",error:null,success:"",openSelectCenterType:!1,openSelectDistrict:!1},s}return Object(s.a)(r,[{key:"render",value:function(){var e,t,r,n,s=this;return Object(N.jsx)("div",{children:Object(N.jsxs)("form",{onSubmit:this.CreateNewTraining,className:"w-full my-3",children:[Object(N.jsxs)("div",{className:"grid grid-cols-12 gap-2",style:!0===this.state.openSelectDistrict||!0===this.state.openSelectCenterType?{minHeight:"300px"}:{},children:[Object(N.jsxs)("div",{className:"col-span-12 md:col-span-6",children:[Object(N.jsx)("div",{children:"Choose district"}),Object(N.jsxs)("div",{onClick:function(){return s.setState({openSelectDistrict:!s.state.openSelectDistrict})},className:"border border-gray-400 rounded px-3 py-2 w-full flex flex-row items-center justify-between gap-2 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[Object(N.jsx)("div",{className:"w-52 truncate",children:""===this.state.district_id?Object(N.jsx)("span",{className:"italic text-gray-400",children:"Not selected"}):"".concat(this.state.district_id," - ").concat(null===(e=this.props.districts.find((function(e){return e.district_code.toString()===s.state.district_id.toString()})))||void 0===e?void 0:e.district_name)}),Object(N.jsx)("div",{children:Object(N.jsx)(u.a,{})})]}),!0===this.state.openSelectDistrict&&Object(N.jsx)("div",{className:"absolute mt-2 bg-white",style:{zIndex:9},children:Object(N.jsx)(O.a,{loading:!1,id:"district_code",title:"district_name",close:function(){return s.setState({openSelectDistrict:!1})},data:this.props.districts,click:function(e){s.setState({district_id:e.district_code,openSelectDistrict:!1,error:null})}})}),"district_id"===(null===(t=this.state.error)||void 0===t?void 0:t.target)&&Object(N.jsx)("div",{className:"text-red-700",children:this.state.error.msg})]}),Object(N.jsxs)("div",{className:"col-span-12 md:col-span-6",children:[Object(N.jsx)("div",{children:"Choose center type"}),Object(N.jsxs)("div",{onClick:function(){return s.setState({openSelectCenterType:!s.state.openSelectCenterType})},className:"border border-gray-400 rounded px-3 py-2 w-full flex flex-row items-center justify-between gap-2 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[Object(N.jsx)("div",{className:"w-52 truncate",children:""===this.state.center_type_id?Object(N.jsx)("span",{className:"italic text-gray-400",children:"Not selected"}):"".concat(this.state.center_type_id," - ").concat(null===(r=this.props.centerTypes.center_types.find((function(e){return e.id.toString()===s.state.center_type_id.toString()})))||void 0===r?void 0:r.name)}),Object(N.jsx)("div",{children:Object(N.jsx)(u.a,{})})]}),!0===this.state.openSelectCenterType&&Object(N.jsx)("div",{className:"absolute mt-2 bg-white",style:{zIndex:9},children:Object(N.jsx)(O.a,{loading:!1,id:"id",title:"name",close:function(){return s.setState({openSelectCenterType:!1})},data:this.props.centerTypes.center_types,click:function(e){s.setState({center_type_id:e.id,openSelectCenterType:!1,error:null})}})}),"center_type_id"===(null===(n=this.state.error)||void 0===n?void 0:n.target)&&Object(N.jsx)("div",{className:"text-red-700",children:this.state.error.msg})]}),Object(N.jsx)(_.a,{onChange:function(e){return s.setState({name:e.target.value,error:null,success:""})},value:this.state.name,error:null!==this.state.error&&"name"===this.state.error.target?this.state.error.msg:"",label:"Center name",placeholder:"",name:"",MainContainer_className:"col-span-12",disabled:this.state.loading})]}),null!==this.state.error&&"main"===this.state.error.target&&Object(N.jsxs)("div",{onClick:function(){return s.setState({error:null,success:""})},className:"cursor-pointer px-3 py-2 font-bold bg-red-100 text-red-700 flex flex-row items-center justify-between w-full my-2",children:[Object(N.jsx)("span",{children:this.state.error.msg}),Object(N.jsx)("div",{children:Object(N.jsx)(p.r,{className:"text-2xl"})})]}),""!==this.state.success&&Object(N.jsxs)("div",{onClick:function(){return s.setState({error:null,success:""})},className:"cursor-pointer px-3 py-2 font-bold bg-green-100 text-green-700 flex flex-row items-center justify-between w-full my-2",children:[Object(N.jsx)("span",{children:this.state.success}),Object(N.jsx)("div",{children:Object(N.jsx)(p.r,{className:"text-2xl"})})]}),Object(N.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 mt-3",children:[!0===this.state.loading&&Object(N.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(N.jsx)("div",{children:Object(N.jsx)(y.e,{className:"loading-animate text-5xl text-accent-900 dark:text-white"})}),Object(N.jsx)("div",{className:"text-lg font-bold animate__animated animate__fadeIn animate__infinite",children:"Saving, please wait..."})]}),!1===this.state.loading&&Object(N.jsx)(x.a,{type:"submit",theme:"accent",disabled:this.state.loading,children:"Create center"})]})]})})}}]),r}(i.Component),S=function(e){Object(c.a)(r,e);var t=Object(a.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){return Object(N.jsx)("div",{className:"w-full overflow-x-auto",children:Object(N.jsxs)("table",{className:"w-full text-sm text-left",children:[Object(N.jsx)("thead",{className:"bg-primary-100 text-primary-800 border-4 border-white",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"District"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"Center name"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"Center type"}),Object(N.jsx)("th",{className:"px-3 py-2"})]})}),Object(N.jsx)("tbody",{children:null===this.props.centers?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:7,className:"text-xl px-4 py-3 font-light text-center",children:"Loading, please wait..."})}):0===this.props.GetFilteredData().length?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:7,className:"text-xl px-4 py-3 font-light text-center",children:"No data found!"})}):this.props.GetFilteredData().map((function(e,t){return Object(N.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"," hover:bg-accent-400 hover:text-accent-900 cursor-pointer"),children:[Object(N.jsx)("td",{className:"px-3 py-2",children:t+1}),Object(N.jsx)("td",{className:"px-3 py-2",children:e.district_name}),Object(N.jsx)("td",{className:"px-3 py-2",children:e.center_name}),Object(N.jsx)("td",{className:"px-3 py-2",children:e.center_type_name}),Object(N.jsx)("td",{className:"px-2 py-2",children:Object(N.jsx)("div",{className:"".concat("ACTIVE"===e.status?"bg-gray-100 text-gray-700":"bg-red-100 text-red-700"," px-1 py-0 w-max rounded-md text-xs"),children:e.status})})]},t+1)}))})]})})}}]),r}(i.Component),T=r(29),C=function(e){Object(c.a)(r,e);var t=Object(a.a)(r);function r(){var e;Object(n.a)(this,r);for(var s=arguments.length,c=new Array(s),a=0;a<s;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).GetTotalTrainees=function(){var t,r=0,n=Object(T.a)(e.props.GetFilteredData());try{for(n.s();!(t=n.n()).done;){r+=t.value.number_of_trainees}}catch(s){n.e(s)}finally{n.f()}return r},e.GetTotalCenters=function(){var t,r=[],n=Object(T.a)(e.props.GetFilteredData());try{var s=function(){var e=t.value;void 0===r.find((function(t){return t===e.center_id}))&&r.push(e.center_id)};for(n.s();!(t=n.n()).done;)s()}catch(c){n.e(c)}finally{n.f()}return r.length},e.GetTotalRooms=function(){var t,r=[],n=Object(T.a)(e.props.GetFilteredData());try{var s=function(){var e=t.value;void 0===r.find((function(t){return t===e.group_id}))&&r.push(e.group_id)};for(n.s();!(t=n.n()).done;)s()}catch(c){n.e(c)}finally{n.f()}return r.length},e.GetTotalDistrict=function(){var t,r=[],n=Object(T.a)(e.props.GetFilteredData());try{var s=function(){var e=t.value;void 0===r.find((function(t){return t===e.district_id}))&&r.push(e.district_id)};for(n.s();!(t=n.n()).done;)s()}catch(c){n.e(c)}finally{n.f()}return r.length},e}return Object(s.a)(r,[{key:"render",value:function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"px-2",children:Object(N.jsxs)("div",{className:"bg-primary-700 text-white p-2 rounded-md flex flex-row items-center justify-between gap-2",children:[Object(N.jsxs)("div",{className:"pl-2",children:[Object(N.jsx)("div",{className:"text-xl font-bold",children:"General summary"}),Object(N.jsx)("div",{className:"font-light",children:"Get the summary from the list below"})]}),Object(N.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2",children:[Object(N.jsxs)("div",{className:"bg-primary-700 border border-primary-500 rounded-md p-2 px-4",children:[Object(N.jsx)("div",{className:"text-sm",children:"Total districts"}),Object(N.jsx)("div",{className:"text-xl font-bold",children:Object(v.g)(this.GetTotalDistrict())})]}),Object(N.jsxs)("div",{className:"bg-primary-700 border border-primary-500 rounded-md p-2 px-4",children:[Object(N.jsx)("div",{className:"text-sm",children:"Total centers"}),Object(N.jsx)("div",{className:"text-xl font-bold",children:Object(v.g)(this.GetTotalCenters())})]}),Object(N.jsxs)("div",{className:"bg-primary-700 border border-primary-500 rounded-md p-2 px-4",children:[Object(N.jsx)("div",{className:"text-sm",children:"Total rooms"}),Object(N.jsx)("div",{className:"text-xl font-bold",children:Object(v.g)(this.GetTotalRooms())})]}),Object(N.jsxs)("div",{className:"bg-primary-700 border border-primary-500 rounded-md p-2 px-4",children:[Object(N.jsx)("div",{className:"text-sm",children:"Total trainees"}),Object(N.jsx)("div",{className:"text-xl font-bold",children:Object(v.g)(this.GetTotalTrainees())})]})]})]})}),Object(N.jsx)("div",{className:"w-full overflow-x-auto",children:Object(N.jsxs)("table",{className:"w-full text-sm text-left",children:[Object(N.jsx)("thead",{className:"bg-primary-100 text-primary-800 border-4 border-white",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"District"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"Center name"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"Room"}),Object(N.jsx)("th",{className:"px-3 py-2",children:"Number of trainees"})]})}),Object(N.jsx)("tbody",{children:null===this.props.centers?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:7,className:"text-xl px-4 py-3 font-light text-center",children:"Loading, please wait..."})}):0===this.props.GetFilteredData().length?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:7,className:"text-xl px-4 py-3 font-light text-center",children:"No data found!"})}):this.props.GetFilteredData().map((function(e,t){return Object(N.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"," hover:bg-accent-400 hover:text-accent-900 cursor-pointer"),children:[Object(N.jsx)("td",{className:"px-3 py-2",children:t+1}),Object(N.jsx)("td",{className:"px-3 py-2",children:e.district_name}),Object(N.jsx)("td",{className:"px-3 py-2",children:e.center_name}),Object(N.jsx)("td",{className:"px-3 py-2",children:e.group_id}),Object(N.jsx)("td",{className:"px-3 py-2",children:e.number_of_trainees})]},t+1)}))})]})})]})}}]),r}(i.Component),D=r(362),k=r(47),E=function(e){Object(c.a)(r,e);var t=Object(a.a)(r);function r(e){var s;return Object(n.a)(this,r),(s=t.call(this,e)).LoadTrainings=function(e){s.setState({loading:!0,error:"",selectedStatus:e}),Object(D.j)(e,(function(e,t){s.setState({loading:e}),"success"===(null===t||void 0===t?void 0:t.type)&&s.setState({trainings:t.data,error:"",loading:!1}),"error"===(null===t||void 0===t?void 0:t.type)&&s.setState({trainings:[],error:t.msg,loading:!1})}))},s.FilteredTrainings=function(){if(null===s.state.trainings)return[];var e=s.state.trainings;return Object(v.n)(e,s.state.searchData)},s.state={loading:!1,error:"",trainings:null,selectedStatus:D.l.INPROGRESS,searchData:""},s}return Object(s.a)(r,[{key:"componentDidMount",value:function(){this.LoadTrainings(this.state.selectedStatus)}},{key:"render",value:function(){var e=this,t=[{title:"In progress",key:D.l.INPROGRESS},{title:"Completed",key:D.l.COMPLETED},{title:"Canceled",key:D.l.CANCELLED},{title:"Ready for evaluation",key:D.l.READY_FOR_EVALUATION},{title:"Draft",key:D.l.DRAFT}];return!0===this.state.loading||null===this.state.trainings?Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"bg-gray-100 rounded-md w-full flex flex-col items-center justify-center p-3 py-6",children:[Object(N.jsx)("div",{children:Object(N.jsx)(y.e,{className:"loading-animate text-6xl text-accent-900 dark:text-white"})}),Object(N.jsx)("div",{className:"text-xl font-light animate__animated animate__fadeIn animate__infinite",children:"Loading, please wait..."})]})}):Object(N.jsx)("div",{children:Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3 w-full mb-6",children:[Object(N.jsx)("select",{onChange:function(t){return e.LoadTrainings(t.target.value)},value:this.state.selectedStatus,className:"px-3 py-2 rounded border border-primary-500 bg-primary-100 font-bold text-primary-700 w-1/3",children:t.map((function(e,t){return Object(N.jsx)("option",{value:e.key,children:e.title},t+1)}))}),Object(N.jsx)("input",{type:"search",className:"px-3 py-2 rounded border border-gray-400 w-2/3",placeholder:"Search by name",value:this.state.searchData,onChange:function(t){return e.setState({searchData:t.target.value,error:""})}})]}),""!==this.state.error&&Object(N.jsx)("div",{className:"my-3",children:Object(N.jsx)(k.a,{theme:"danger",onClick:function(){return e.setState({error:""})},children:this.state.error})}),0===this.state.trainings.length?Object(N.jsxs)("div",{className:"text-center p-4 rounded-md bg-gray-100 w-full",children:[Object(N.jsx)("div",{className:"text-2xl font-bold",children:"No trainings found!"}),Object(N.jsx)("div",{className:"text-gray-500",children:"For selected status, there are no trainings found"})]}):Object(N.jsx)("div",{className:"w-full overflow-x-auto",children:Object(N.jsxs)("table",{className:"min-w-full text-left text-sm",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"px-3 py-2 border",children:"#"}),Object(N.jsx)("th",{className:"px-3 py-2 border",children:"Training title"}),Object(N.jsx)("th",{className:"px-3 py-2 border",children:"Topic"}),Object(N.jsx)("th",{className:"px-3 py-2 border",children:"Start date"}),Object(N.jsx)("th",{className:"px-3 py-2 border",children:"Ending date"}),Object(N.jsx)("th",{className:"px-3 py-2 border",children:"Training provider"}),Object(N.jsx)("th",{className:"px-3 py-2 border",children:"Phone number"}),Object(N.jsx)("th",{className:"px-3 py-2 border"})]})}),Object(N.jsx)("tbody",{children:0===this.FilteredTrainings().length?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{className:"text-xl text-center font-light",children:"No result found!"})}):this.FilteredTrainings().map((function(t,r){return Object(N.jsxs)("tr",{className:"cursor-pointer hover:bg-accent-400 hover:text-accent-900 group",onClick:function(){return e.props.onSelected(t)},children:[Object(N.jsx)("td",{className:"px-3 py-2 border",children:r+1}),Object(N.jsx)("td",{className:"px-3 py-2 border",children:t.title}),Object(N.jsx)("td",{className:"px-3 py-2 border",children:t.topic}),Object(N.jsx)("td",{className:"px-3 py-2 border",children:Object(v.a)(t.start_date)}),Object(N.jsx)("td",{className:"px-3 py-2 border",children:Object(v.a)(t.end_date)}),Object(N.jsx)("td",{className:"px-3 py-2 border",children:t.development_partner_name}),Object(N.jsx)("td",{className:"px-3 py-2 border",children:t.dp_contact}),Object(N.jsx)("td",{className:"px-1 py-1 border w-10",children:Object(N.jsx)("div",{className:"bg-gray-100 group-hover:bg-accent-900 group-hover:text-white font-bold px-3 py-2 rounded w-max text-current cursor-pointer",children:"Select"})})]},r+1)}))})]})})]})})}}]),r}(i.Component),G=function(e){Object(c.a)(r,e);var t=Object(a.a)(r);function r(e){var s;return Object(n.a)(this,r),(s=t.call(this,e)).GetAllCentersList=function(){s.setState({loading:!0,error:"",success:""}),Object(b.b)((function(e,t){s.setState({loading:e}),"success"===(null===t||void 0===t?void 0:t.status)&&s.setState({loading:!1,centers:t.data,error:"",success:""}),"error"===(null===t||void 0===t?void 0:t.status)&&s.setState({loading:!1,centers:[],error:t.msg,success:""})}))},s.GetAllCentersListByTrainingSelected=function(e){s.setState({loading:!0,error:"",success:""}),Object(b.c)(e,(function(e,t){s.setState({loading:e}),"success"===(null===t||void 0===t?void 0:t.status)&&s.setState({loading:!1,trainingCenters:t.data,error:"",success:""}),"error"===(null===t||void 0===t?void 0:t.status)&&s.setState({loading:!1,centers:[],error:t.msg,success:""})}))},s.GetAllCenterTypesDetails=function(){s.setState({loading:!0,error:"",success:"",openSelectTraining:!1}),Object(b.f)((function(e,t){s.setState({loading:e}),"success"===(null===t||void 0===t?void 0:t.status)&&s.setState({error:"",success:"",centerTypes:t.data,loading:!1}),"error"===(null===t||void 0===t?void 0:t.status)&&s.setState({loading:!1,centerTypes:{center_types:[],center_room_type:[]},error:t.msg,success:""})}))},s.LoadAllDistricts=function(){s.setState({loading:!0}),Object(h.b)((function(e,t,r){null!==t&&s.setState({districts:t,loading:!1})}))},s.GetFilteredData=function(){if(null===s.state.centers)return[];var e=s.state.centers;return""!==s.state.selected_district_code&&(e=e.filter((function(e){return e.district_id.toString()===s.state.selected_district_code.toString()}))),Object(v.n)(e,s.state.search_value)},s.GetFilteredTrainingCenters=function(){if(null===s.state.trainingCenters)return[];var e=s.state.trainingCenters;return""!==s.state.selected_district_code&&(e=e.filter((function(e){return e.district_id.toString()===s.state.selected_district_code.toString()}))),Object(v.n)(e,s.state.search_value)},s.state={loading:!0,centers:null,centerTypes:null,success:"",error:"",search_value:"",selected_district_code:"",openSelectDistrict:!1,addCenter:!1,districts:[],openSelectTraining:!1,selectedTraining:null,trainingCenters:null},s}return Object(s.a)(r,[{key:"componentDidMount",value:function(){this.GetAllCenterTypesDetails(),this.GetAllCentersList(),this.LoadAllDistricts()}},{key:"render",value:function(){var e,t=this;return Object(N.jsxs)(i.Fragment,{children:[Object(N.jsxs)("div",{className:"container mx-auto p-3",children:[Object(N.jsx)("div",{className:"bg-white rounded-md p-3",children:Object(N.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[Object(N.jsx)("div",{className:"col-span-6",children:Object(N.jsxs)("div",{className:"flex flex-col pl-2",children:[Object(N.jsx)("div",{className:"text-2xl font-extrabold",children:"Training centers management"}),Object(N.jsx)("div",{className:"text-sm text-gray-500",children:"List of centers in different locations"})]})}),Object(N.jsx)("div",{className:"col-span-6 flex flex-row items-center justify-end w-full gap-2",children:Object(N.jsxs)("div",{onClick:function(){return t.setState({openSelectTraining:!0})},className:"flex flex-row items-center gap-3 p-1 hover:bg-yellow-50 rounded-md cursor-pointer border ".concat(null!==this.state.selectedTraining?"border-green-400":"border-yellow-300"," group"),children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"".concat(null===this.state.selectedTraining?"bg-yellow-100 text-accent-900":"bg-green-100 text-green-700"," rounded-md h-12 w-12 flex items-center justify-center"),children:Object(N.jsx)(d.d,{className:"text-3xl"})})}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("div",{className:"text-sm text-gray-500 group-hover:text-black",children:"Filter by training training"}),Object(N.jsx)("div",{className:"font-bold text-base -mt-1 truncate",style:{width:"300px"},children:null===this.state.selectedTraining?Object(N.jsx)("span",{className:"italic text-gray-400",children:"Not selected"}):this.state.selectedTraining.title})]}),Object(N.jsx)("div",{children:Object(N.jsx)(p.J,{className:"text-2xl text-gray-400 group-hover:text-black"})})]})})]})}),!0===this.state.loading||null===this.state.centerTypes||null===this.state.centers?Object(N.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white rounded-md mt-2 py-5",children:[Object(N.jsx)(f.a,{}),Object(N.jsx)("div",{className:"text-center text-xl font-light text-gray-500",children:"Loading, please wait..."})]}):Object(N.jsxs)("div",{className:"bg-white rounded-md mt-2 py-2",children:[Object(N.jsxs)("div",{className:"flex flex-row items-center justify-between mb-3 mx-2 gap-3",children:[Object(N.jsxs)("div",{className:"relative w-1/3",children:[!1===this.state.openSelectDistrict?Object(N.jsxs)("div",{onClick:function(){return t.setState({openSelectDistrict:!t.state.openSelectDistrict})},className:"border border-gray-400 rounded px-3 py-2 w-full flex flex-row items-center justify-between gap-2 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[Object(N.jsx)("div",{className:"w-52 truncate",children:""===this.state.selected_district_code?"Filter by district":"".concat(this.state.selected_district_code," - ").concat(null===(e=this.state.districts.find((function(e){return e.district_code.toString()===t.state.selected_district_code.toString()})))||void 0===e?void 0:e.district_name)}),Object(N.jsx)("div",{children:Object(N.jsx)(u.a,{})})]}):Object(N.jsxs)("div",{onClick:function(){return t.setState({openSelectDistrict:!1})},className:"font-bold flex flex-row items-center gap-4 cursor-pointer hover:text-accent-900",children:[Object(N.jsx)("span",{children:"Select district"}),Object(N.jsx)("div",{children:""!==this.state.selected_district_code?Object(N.jsxs)("div",{onClick:function(){return t.setState({selected_district_code:"",openSelectDistrict:!1})},className:"font-normal text-sm cursor-pointer px-2 py-1 rounded-md bg-accent-400 text-accent-900 flex flex-row items-center justify-center gap-2",children:[Object(N.jsx)("div",{children:Object(N.jsx)(l.d,{className:"text-xl"})}),Object(N.jsx)("span",{children:"Reset"})]}):Object(N.jsx)(p.r,{})})]}),!0===this.state.openSelectDistrict&&Object(N.jsx)("div",{className:"w-full absolute mt-2 bg-white",children:Object(N.jsx)(O.a,{loading:!1,id:"district_code",title:"district_name",close:function(){return t.setState({openSelectDistrict:!1})},data:this.state.districts,click:function(e){t.setState({selected_district_code:e.district_code,openSelectDistrict:!1})}})})]}),Object(N.jsx)("input",{type:"search",className:"px-3 py-2 rounded w-1/2 border border-gray-400",placeholder:"Search...",value:this.state.search_value,onChange:function(e){return t.setState({search_value:e.target.value})}}),null===this.state.selectedTraining&&Object(N.jsxs)("div",{className:"",children:[Object(N.jsx)("div",{className:"text-sm text-gray-500 truncate",children:"Total centers"}),Object(N.jsx)("div",{className:"text-xl font-bold",children:this.GetFilteredData().length})]}),null===this.state.selectedTraining?Object(N.jsx)(x.a,{onClick:function(){return t.setState({addCenter:!0})},className:"",children:Object(N.jsx)("span",{className:"truncate",children:"Add center"})}):Object(N.jsxs)(x.a,{onClick:function(){t.setState({selectedTraining:null}),t.GetAllCentersList()},className:"flex flex-row items-center justify-center gap-2",theme:"accent-light",children:[Object(N.jsx)("div",{children:Object(N.jsx)(o.a,{className:"text-2xl"})}),Object(N.jsx)("span",{className:"truncate",children:"Back to general list"})]}),null!==this.state.selectedTraining?Object(N.jsx)(m.a,{fileData:this.GetFilteredTrainingCenters().map((function(e,t){return{No:"".concat(t+1),"District Code":e.district_id,"District Name":e.district_name,"Center Name":e.center_name,"Room Number":e.group_id,"Room Name":e.name,"Number of trainees":e.number_of_trainees}})),fileName:"".concat(this.state.selectedTraining.title," - List of training centers and rooms"),className:"py-2 rounded flex flex-row items-center justify-center gap-2 px-3 border border-green-600 hover:bg-green-600 hover:text-white text-green-600 font-bold",btnName:"Download"}):Object(N.jsx)(m.a,{fileData:this.GetFilteredData().map((function(e,t){return{No:"".concat(t+1),"District Code":e.district_id,"District Name":e.district_name,"Center Name":e.center_name,"Center Category":e.center_type_name}})),fileName:"List of all training centers",className:"py-2 rounded flex flex-row items-center justify-center gap-2 px-3 border border-green-600 hover:bg-green-600 hover:text-white text-green-600 font-bold",btnName:"Download"})]}),null===this.state.selectedTraining?Object(N.jsx)(S,{GetFilteredData:this.GetFilteredData,centers:this.state.centers,districts:this.state.districts}):null!==this.state.trainingCenters&&Object(N.jsx)(C,{GetFilteredData:this.GetFilteredTrainingCenters,centers:this.state.trainingCenters,districts:this.state.districts})]})]}),!0===this.state.addCenter&&Object(N.jsx)(g.d,{backDrop:!0,close:function(){return t.setState({addCenter:!1})},backDropClose:!1,displayClose:!0,padding:{title:!0,body:!0,footer:void 0},title:"Add training center",widthSizeClass:g.b.large,children:null!==this.state.centerTypes&&Object(N.jsx)(w,{districts:this.state.districts,centerTypes:this.state.centerTypes,onCreated:function(){return t.GetAllCentersList()}})}),!0===this.state.openSelectTraining&&Object(N.jsx)(g.d,{backDrop:!0,close:function(){return t.setState({openSelectTraining:!1})},backDropClose:!0,displayClose:!0,padding:{title:!0,body:!0,footer:void 0},title:"Available trainings",widthSizeClass:g.b.maxWidth,marginTop:g.a.small,children:Object(N.jsx)("div",{className:"-mt-5",children:null!==this.state.centerTypes&&Object(N.jsx)(E,{onSelected:function(e){t.setState({openSelectTraining:!1,selectedTraining:e}),t.GetAllCentersListByTrainingSelected(e.id)}})})})]})}}]),r}(i.Component),R=Object(j.b)((function(e){return{auth:e.auth,basic:e.basic}}),{})(G)}}]);
//# sourceMappingURL=32.d2bd56d9.chunk.js.map