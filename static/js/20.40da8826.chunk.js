(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[20],{396:function(e,t,s){"use strict";s(4);var a=s(69),i=s(42),c=s(1);t.a=function(e){var t=function(e){return Object(c.jsx)("div",{className:"mt-2",children:e.data.map((function(e,t){return Object(c.jsxs)("div",{className:"bg-gray-100 mb-2 rounded-md px-2 py-2 flex flex-row items-center gap-2",children:[Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"bg-white rounded-full h-8 w-8 flex items-center justify-center text-primary-700",children:Object(c.jsx)(i.h,{className:"text-xl"})})}),Object(c.jsx)("span",{children:e.name})]},t+1)}))})};return Object(c.jsxs)("div",{children:[e.trainee_criteria.positions.length>0&&Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(c.jsx)("div",{children:Object(c.jsx)(a.e,{className:"text-xl"})}),Object(c.jsx)("span",{className:"font-bold",children:"Required Position"})]}),Object(c.jsx)(t,{data:e.trainee_criteria.positions})]}),e.trainee_criteria.qualifications.length>0&&Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(c.jsx)("div",{children:Object(c.jsx)(a.e,{className:"text-xl"})}),Object(c.jsx)("span",{className:"font-bold",children:"Required Qualification"})]}),Object(c.jsx)(t,{data:e.trainee_criteria.qualifications})]}),e.trainee_criteria.subjects.length>0&&Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(c.jsx)("div",{children:Object(c.jsx)(a.e,{className:"text-xl"})}),Object(c.jsx)("span",{className:"font-bold",children:"Required Subjects"})]}),Object(c.jsx)(t,{data:e.trainee_criteria.subjects.map((function(e){return{id:"".concat(e.course_code),name:"".concat(e.course_name," - ").concat(e.level_name)}}))})]}),e.trainee_criteria.districts.length>0&&Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(c.jsx)("div",{children:Object(c.jsx)(a.e,{className:"text-xl"})}),Object(c.jsx)("span",{className:"font-bold",children:"Required Districts"})]}),Object(c.jsx)(t,{data:e.trainee_criteria.districts})]}),e.trainee_criteria.levels.length>0&&Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(c.jsx)("div",{children:Object(c.jsx)(a.e,{className:"text-xl"})}),Object(c.jsx)("span",{className:"font-bold",children:"Required teaching level"})]}),Object(c.jsx)(t,{data:e.trainee_criteria.levels})]}),e.trainee_criteria.sectors.length>0&&Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(c.jsx)("div",{children:Object(c.jsx)(a.e,{className:"text-xl"})}),Object(c.jsx)("span",{className:"font-bold",children:"Required sectors"})]}),Object(c.jsx)(t,{data:e.trainee_criteria.sectors})]})]})}},428:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var a=s(19),i=s(20),c=s(21),r=s(22),n=s(4),l=s(60),d=s(42),o=s(63),j=s(364),x=s(1),b=function(e){Object(c.a)(s,e);var t=Object(r.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(x.jsx)("div",{className:"bg-white rounded p-3",children:Object(x.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center justify-center",children:[Object(x.jsxs)("div",{className:"col-span-12 lg:col-span-3 flex flex-row items-center gap-2 pr-2",children:[Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"p-1 rounded-md bg-primary-100 h-12 w-12 flex items-center justify-center",children:Object(x.jsx)(d.d,{className:"text-3xl text-primary-800 animate__animated animate__tada"})})}),Object(x.jsx)("div",{className:"truncate",children:Object(x.jsx)("div",{className:"text-xl font-bold text-primary-800",children:"Training Offers"})})]}),Object(x.jsx)("div",{className:"col-span-12 md:col-span-6 lg:col-span-5",children:Object(x.jsxs)("div",{className:"relative",children:[Object(x.jsx)("div",{className:"absolute px-3 py-2",children:Object(x.jsx)(o.e,{className:"text-2xl text-gray-600"})}),Object(x.jsx)("input",{type:"search",className:"font-normal bg-gray-100 w-full px-3 pl-12 py-2 rounded",placeholder:"Search...",value:this.props.search_value,onChange:this.props.onChangeSearchValue})]})}),Object(x.jsx)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4",children:Object(x.jsx)("div",{className:"flex flex-row items-center justify-end gap-2",children:[j.k.INPROGRESS,j.k.COMPLETED].map((function(t,s){return Object(x.jsxs)("div",{onClick:function(){return e.props.onSelectTab(t)},className:"rounded-md px-1 py-1 pr-3 mt-1 flex flex-row items-center gap-2 ".concat(t===e.props.selected_status?"bg-primary-100 text-primary-800 font-bold animate__animated animate__fadeIn":"hover:text-primary-800 hover:bg-primary-100 text-black bg-white"," cursor-pointer group"),children:[Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"h-7 w-7 ".concat(t===e.props.selected_status?"bg-white text-primary-800":"bg-primary-100 text-primary-700 group-hover:bg-primary-800 group-hover:text-white"," rounded-full flex items-center justify-center"),children:t===j.k.INPROGRESS?Object(x.jsx)(d.c,{className:"text-md"}):Object(x.jsx)(l.d,{className:"text-md"})})}),Object(x.jsx)("div",{children:t===j.k.INPROGRESS?"New trainings":"History"})]},s+1)}))})})]})})}}]),s}(n.Component)},429:function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));var a=s(19),i=s(20),c=s(21),r=s(22),n=s(4),l=s(25),d=s(54),o=s(15),j=s(23),x=s(17),b=s(1),m=function(e){Object(c.a)(s,e);var t=Object(r.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"bg-white border border-primary-300 hover:border-primary-500 mt-3 rounded-md flex flex-col lg:flex-row items-end lg:items-center justify-between gap-2 p-4 group animate__animated animate__fadeIn",children:[Object(b.jsxs)("div",{className:"flex flex-col md:flex-row gap-5 w-full",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"relative bg-accent-400 text-accent-900 rounded-lg p-4 h-24 w-24",children:[Object(b.jsx)("div",{className:"px-1 rounded-xl bg-primary-700 text-white w-max font-bold absolute text-xs top-0 right-0 -mt-2 -mr-2 animate__animated animate__fadeIn",children:"New"}),Object(b.jsx)("div",{children:Object(b.jsx)(o.S,{className:"text-6xl"})})]})}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("div",{className:"text-lg font-bold mb-1",children:this.props.item.title}),Object(b.jsx)("div",{className:"text-sm text-black font-light",children:this.props.item.description}),Object(b.jsxs)("div",{className:"flex flex-row items-center gap-4 mt-2",children:[Object(b.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(b.jsx)("div",{children:Object(b.jsx)(d.o,{className:"text-3xl text-accent-900"})}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("div",{className:"text-sm text-gray-500",children:"Start date"}),Object(b.jsx)("div",{className:"font-bold text-sm",children:Object(x.a)(this.props.item.start_date,"DD/MM/YYYY")})]})]}),Object(b.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(b.jsx)("div",{className:"h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"}),Object(b.jsx)("div",{className:"h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"}),Object(b.jsx)("div",{className:"h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"}),Object(b.jsx)("div",{className:"hidden md:block h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"}),Object(b.jsx)("div",{className:"hidden md:block h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"}),Object(b.jsx)("div",{className:"hidden md:block h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"})]}),Object(b.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(b.jsx)("div",{children:Object(b.jsx)(d.o,{className:"text-3xl text-accent-900"})}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("div",{className:"text-sm text-gray-500",children:"Ending date"}),Object(b.jsx)("div",{className:"font-bold text-sm",children:Object(x.a)(this.props.item.end_date,"DD/MM/YYYY")})]})]})]}),Object(b.jsxs)("div",{className:"flex flex-row items-center gap-2 mt-3",children:[Object(b.jsx)("div",{children:Object(b.jsx)(l.l,{className:"text-accent-800"})}),Object(b.jsxs)("span",{className:"text-sm",children:["Provider: ",this.props.item.development_partner_name]})]})]})]}),Object(b.jsx)("div",{className:"",children:Object(b.jsxs)(j.a,{className:"w-40 bg-accent-400 border-accent-500 group-hover:bg-accent-800 group-hover:border-accent-800 group-hover:text-black flex flex-row items-center justify-center gap-2",theme:"accent-light",onClick:this.props.onClick,children:[Object(b.jsx)("span",{children:"More details"}),Object(b.jsx)("div",{children:Object(b.jsx)(l.d,{className:"text-xl"})})]})})]},this.props.i)}}]),s}(n.Component)},430:function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var a=s(19),i=s(20),c=s(21),r=s(22),n=s(4),l=s(25),d=s(42),o=s(15),j=s(23),x=s(17),b=s(396),m=s(1),h=function(e){Object(c.a)(s,e);var t=Object(r.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).state={loading:!1},i}return Object(i.a)(s,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"animate__animated animate__fadeIn mb-10",children:[Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full bg-primary-100 p-2 rounded-md",children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"h-8 w-8 rounded-md flex items-center justify-center bg-white text-primary-700",children:Object(m.jsx)(d.c,{className:"text-xl"})})}),Object(m.jsx)("div",{className:"flex flex-col",children:Object(m.jsx)("div",{className:"font-bold text-lg text-primary-800",children:"Training details"})})]})}),Object(m.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 my-3 px-0 md:px-2",children:[Object(m.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"bg-primary-100 rounded-md h-10 w-10 flex justify-center items-center",children:Object(m.jsx)(o.T,{className:"text-3xl text-primary-800"})})}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("span",{className:"text-gray-500",children:"Training provider"}),Object(m.jsx)("span",{className:"font-bold",children:this.props.training_details.development_partner_name})]})]}),Object(m.jsxs)("div",{className:"flex flex-row items-center justify-between md:justify-end gap-2",children:[Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"text-sm text-gray-500",children:"Total trainees"}),Object(m.jsx)("div",{className:"-mt-1 text-lg font-bold",children:Object(x.g)(null===this.props.training_details.total?0:this.props.training_details.total)})]}),Object(m.jsx)(j.a,{type:"button",className:"",onClick:this.props.onParticipants,children:"View trainees"})]})]}),Object(m.jsx)("div",{className:"border-b border-gray-300 p-2 pb-4 mt-2",children:Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"text-gray-400 font-bold",children:"Training title"}),Object(m.jsx)("div",{children:this.props.training_details.title})]})}),Object(m.jsx)("div",{className:"border-b border-gray-300 p-2 pb-4 mt-2",children:Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"text-gray-400 font-bold",children:"Training description"}),Object(m.jsx)("div",{children:this.props.training_details.description})]})}),Object(m.jsx)("div",{className:"border-b border-gray-300 p-2 pb-4 mt-2",children:Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"text-gray-400 font-bold",children:"Training topic"}),Object(m.jsx)("div",{children:this.props.training_details.topic})]})}),Object(m.jsx)("div",{className:"border-b border-gray-300 p-2 pb-4 mt-2",children:Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"text-gray-400 font-bold",children:"Training area of intervention"}),Object(m.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(m.jsx)("div",{children:this.props.training_details.intervention_area}),Object(m.jsx)("div",{children:Object(m.jsx)(o.K,{className:"text-xl"})}),Object(m.jsx)("div",{children:this.props.training_details.sub_area_name})]})]})}),Object(m.jsx)("div",{className:"border-b border-gray-300 p-2 pb-4 mt-2",children:Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"text-gray-400 font-bold",children:"Trainees categories"}),Object(m.jsx)("div",{className:"mt-2",children:this.props.training_details.trainee_category.map((function(e,t){return Object(m.jsxs)("div",{className:"bg-gray-100 mb-2 rounded-md px-2 py-2 flex flex-row items-center gap-2",children:[Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"bg-white rounded-full h-8 w-8 flex items-center justify-center text-primary-700",children:Object(m.jsx)(l.o,{className:"text-xl"})})}),Object(m.jsx)("span",{children:e.name})]},t+1)}))})]})}),Object(m.jsx)("div",{className:"p-2 pb-4 mt-2",children:Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"text-gray-400 font-bold mb-2",children:"Criteria to select participants"}),Object(m.jsx)("div",{children:Object(m.jsx)(b.a,{trainee_criteria:this.props.training_details.trainee_criteria})})]})})]})}}]),s}(n.Component)},614:function(e,t,s){"use strict";s.r(t),s.d(t,"TrainingOffers",(function(){return R}));var a,i=s(19),c=s(20),r=s(21),n=s(22),l=s(4),d=s(69),o=s(25),j=s(15),x=s(36),b=s(364),m=s(24),h=s(402),p=s(17),u=s(428),f=s(429),g=s(23),O=s(396),v=s(430),_=s(41),N=s(29),y=s(60),w=s(42),S=s(63),T=s(482),I=s(1),C=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).GetParticipantUnique=function(e){var t,s=[],a=Object(N.a)(e);try{var i=function(){var e=t.value;void 0===s.find((function(t){return t.user_id===e.user_id}))&&s.push(e)};for(a.s();!(t=a.n()).done;)i()}catch(c){a.e(c)}finally{a.f()}return s},a.LoadParticipants=function(){a.setState({loading:!0}),Object(b.f)(a.props.training.id,a.props.school_code,(function(e,t){a.setState({loading:e}),null!==t&&"success"===t.type&&a.setState({participants:null===t.data?null:a.GetParticipantUnique(t.data),loading:!1}),null!==t&&"error"===t.type&&a.setState({participants:[],loading:!1,error:t.msg})}))},a.RemoveParticipantOnTraining=function(e,t){a.setState({removing_user_id:e}),Object(b.j)({training_id:a.props.training.id,user_id:e,status:"DISABLED"},(function(s,i){null!==i&&"success"===i.type&&a.setState({participants:null===a.state.participants?[]:a.state.participants.filter((function(t){return t.user_id!==e})),removing_user_id:null,success:"".concat(t," has been removed from participants list successfully!"),error:""}),null!==i&&"error"===i.type&&a.setState({removing_user_id:null,error:i.msg,success:""})}))},a.state={loading:!1,participants:null,addParticipants:!1,error:"",success:"",search_data:"",view_subjects:null,removing_user_id:null},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){null===this.state.participants&&this.LoadParticipants()}},{key:"render",value:function(){var e,t,s=this;return!0===this.state.loading||null===this.state.participants?Object(I.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-gray-100 rounded my-4",children:[Object(I.jsx)(m.a,{}),Object(I.jsx)("div",{className:"text-center font-light text-lg",children:"Loading, please wait..."})]}):Object(I.jsxs)(l.Fragment,{children:[!1===this.state.addParticipants&&Object(I.jsx)("div",{className:"animate__animated animate__fadeIn",children:Object(I.jsxs)("div",{className:"bg-gray-10 rounded-md",children:[Object(I.jsx)("div",{children:this.state.participants.length>0&&Object(I.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-2 w-full",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center gap-4 w-full truncate",children:[Object(I.jsx)("div",{children:Object(I.jsx)(o.r,{className:"text-3xl text-accent-900"})}),Object(I.jsxs)("div",{className:"text-lg font-bold flex flex-col truncate",children:[Object(I.jsx)("div",{children:"List of trainees"}),Object(I.jsx)("div",{className:"text-sm font-normal truncate",title:"".concat(this.props.training.development_partner_name),children:this.props.training.development_partner_name})]})]}),Object(I.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-2 w-full",children:[Object(I.jsxs)("div",{className:"relative w-full",children:[Object(I.jsx)("div",{className:"absolute px-3 py-2",children:Object(I.jsx)(S.e,{className:"text-2xl text-gray-600"})}),Object(I.jsx)("input",{type:"search",className:"font-normal bg-gray-100 w-full px-3 pl-12 py-2 rounded",placeholder:"Search...",value:this.state.search_data,onChange:function(e){return s.setState({search_data:e.target.value})}})]}),Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between md:justify-end gap-2 w-full mt-2 md:mt-0",children:[Object(I.jsxs)("div",{className:"".concat(this.state.participants.length===this.props.training.total?"text-green-600 bg-green-50 px-3 pt-1 rounded-md":"text-gray-900 bg-white px-3 pt-1 rounded-md"," flex flex-col items-start justify-center truncate"),children:[Object(I.jsx)("div",{className:"text-sm",children:"Total trainees"}),Object(I.jsxs)("div",{className:"flex flex-row items-center gap-2 font-bold -mt-1 text-lg",children:[Object(I.jsx)("span",{children:this.state.participants.length})," of"," ",Object(I.jsx)("span",{children:this.props.training.total})]})]}),Object(I.jsx)("div",{children:this.state.participants.length!==this.props.training.total&&"1"!==(null===(e=this.props.training.is_approved)||void 0===e?void 0:e.toString())?Object(I.jsxs)(g.a,{theme:"accent",className:"animate__animated animate__zoomIn truncate flex flex-row items-center justify-center gap-2",onClick:function(){null===s.state.removing_user_id&&(s.setState({addParticipants:!0}),s.props.setDisplayTabs(!1))},children:[Object(I.jsx)("div",{children:Object(I.jsx)(w.m,{className:"text-2xl"})}),Object(I.jsx)("span",{children:"Add trainees"})]}):""})]})]})]})}),0===this.state.participants.length&&Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"bg-gray-100 text-center flex flex-col items-center justify-center p-3 py-8 rounded-lg mt-3",children:[Object(I.jsx)("div",{className:"text-center",children:Object(I.jsx)(w.p,{className:"text-6xl text-gray-400 animate__animated animate__zoomIn"})}),Object(I.jsx)("div",{className:"text-xl font-bold mt-2",children:"List of trainees"}),Object(I.jsx)("div",{className:"text-sm font-light",children:"You are required to add trainee from this training"}),Object(I.jsx)("div",{className:"mt-2",children:"1"!==(null===(t=this.props.training.is_approved)||void 0===t?void 0:t.toString())&&Object(I.jsxs)(g.a,{theme:"accent",className:"animate__animated animate__zoomIn flex flex-row items-center justify-center gap-2",onClick:function(){s.setState({addParticipants:!0,success:"",error:""}),s.props.setDisplayTabs(!1)},children:[Object(I.jsx)("div",{children:Object(I.jsx)(w.m,{className:"text-2xl"})}),Object(I.jsx)("span",{children:"Add trainees"})]})})]})}),this.state.participants.length===this.props.training.total&&Object(I.jsxs)("div",{className:"p-1 flex flex-row items-center gap-3 rounded-md bg-primary-100 my-3",children:[Object(I.jsx)("div",{className:"rounded-md h-14 w-14 flex items-center justify-center bg-white",children:Object(I.jsx)(j.G,{className:"text-5xl text-primary-600 animate__animated animate__zoomIn"})}),Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"font-bold text-primary-800 text-lg",children:"Verify the selected trainees before the approval"}),Object(I.jsx)("div",{className:"text-sm text-primary-800",children:"Now you are able to make modification until the approval will be made. make sure you have well verified the selected trainees"})]})]}),""!==this.state.error&&Object(I.jsxs)("div",{onClick:function(){return s.setState({error:"",success:""})},className:"bg-red-100 text-red-700 px-3 py-2 rounded cursor-pointer flex flex-row items-center justify-between gap-2 my-2 animate__animated animate__shakeX",children:[Object(I.jsxs)("div",{className:"flex flex-col",children:[Object(I.jsx)("span",{className:"text-lg font-bold",children:"Error occurred:"}),Object(I.jsx)("span",{children:this.state.error})]}),Object(I.jsx)("div",{children:Object(I.jsx)(j.r,{className:"text-2xl"})})]}),""!==this.state.success&&Object(I.jsxs)("div",{onClick:function(){return s.setState({error:"",success:""})},className:"bg-green-100 text-green-700 px-3 py-2 rounded cursor-pointer flex flex-row items-center justify-between gap-2 my-2 animate__animated animate__fadeIn",children:[Object(I.jsxs)("div",{className:"flex flex-col",children:[Object(I.jsx)("span",{className:"text-lg font-bold",children:"Done successfully"}),Object(I.jsx)("span",{children:this.state.success})]}),Object(I.jsx)("div",{children:Object(I.jsx)(j.r,{className:"text-2xl"})})]}),this.state.participants.length>0&&Object(I.jsx)("div",{className:"mt-3 w-full overflow-x-auto",children:Object(I.jsxs)("table",{className:"min-w-full text-left text-sm animate__animated animate__fadeIn",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-primary-800 truncate",children:[Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300 text-center",children:"#"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"Full name"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"National ID"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"Teaching level"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"Qualification"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"Position"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300 text-right",children:"Subjects taught"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300 text-right"})]})}),Object(I.jsx)("tbody",{children:0===Object(p.n)(this.state.participants,this.state.search_data).length?Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:8,className:"p-6 text-lg font-light text-center",children:Object(I.jsx)("div",{className:"animate__animated animate__shakeX text-center",children:"No result found!"})})}):Object(p.n)(this.state.participants,this.state.search_data).map((function(e,t){return Object(I.jsxs)("tr",{className:"group",children:[Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-300 text-center",children:t+1}),Object(I.jsxs)("td",{className:"px-2 py-2 border border-gray-300",children:[e.first_name," ",e.last_name]}),Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-300",children:e.nid}),Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-300",children:e.teaching_level}),Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-300",children:e.qualification_name}),Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-300",children:e.position_name}),Object(I.jsxs)("td",{className:"px-1 py-1 border border-gray-300",children:[void 0!==e.subjects&&e.subjects.length>0?Object(I.jsxs)("div",{onClick:function(){return s.setState({view_subjects:e})},className:"bg-gray-100 px-2 py-2 rounded cursor-pointer hover:text-primary-800 text-sm w-max hover:bg-primary-100 float-right",children:["View subjects (",Object(T.b)(e.subjects).length,")"]}):Object(I.jsx)("div",{className:"px-3",children:"No subjects"}),null!==s.state.view_subjects&&s.state.view_subjects.nid===e.nid&&Object(I.jsxs)("div",{className:"bg-white border rounded-md shadow-lg absolute right-5 animate__animated animate__zoomIn animate__faster",style:{zIndex:9},children:[Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 p-2 px-3",children:[Object(I.jsx)("span",{className:"font-bold text-lg",children:"Subjects taught"}),Object(I.jsx)("div",{children:Object(I.jsx)("div",{onClick:function(){return s.setState({view_subjects:null})},className:"h-8 w-8 rounded-full bg-red-100 text-red-700 cursor-pointer hover:bg-red-200 flex items-center justify-center",children:Object(I.jsx)(j.r,{className:"text-2xl"})})})]}),Object(I.jsx)("div",{className:"p-2",children:Object(I.jsxs)("table",{className:"w-full text-sm text-left",children:[Object(I.jsxs)("thead",{children:[Object(I.jsx)("td",{className:"px-3 py-2 border border-gray-300 font-bold",children:"#"}),Object(I.jsx)("td",{className:"px-3 py-2 border border-gray-300 font-bold",children:"Course code"}),Object(I.jsx)("td",{className:"px-3 py-2 border border-gray-300 font-bold",children:"Course name"})]}),Object(I.jsx)("tbody",{children:Object(T.b)(s.state.view_subjects.subjects).map((function(e,t){return Object(I.jsxs)("tr",{className:"",children:[Object(I.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:t+1}),Object(I.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.course_code}),Object(I.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.course_name})]},t+1)}))})]})})]})]}),Object(I.jsx)("td",{className:"px-1 py-1 border border-gray-300",children:Object(I.jsxs)("div",{onClick:function(){null===s.state.removing_user_id&&!0===window.confirm("Are you sure do you want to remove ".concat(e.first_name," ").concat(e.last_name," from participants list?"))&&s.RemoveParticipantOnTraining(e.user_id,"".concat(e.first_name," ").concat(e.last_name))},className:"flex items-center justify-center gap-2 rounded px-3 py-2 ".concat(s.state.removing_user_id===e.user_id?"bg-primary-100 text-primary-800 cursor-wait font-bold":"bg-red-100 text-red-800 group-hover:bg-red-700 group-hover:text-white"," text-sm w-max float-right cursor-pointer font-normal"),children:[s.state.removing_user_id===e.user_id&&Object(I.jsx)("div",{children:Object(I.jsx)(y.e,{className:"text-xl animate-spin"})}),Object(I.jsx)("span",{children:s.state.removing_user_id===e.user_id?"Removing...":"Remove"})]})})]},t+1)}))})]})})]})}),!0===this.state.addParticipants&&Object(I.jsx)(T.a,{onClose:function(){s.setState({addParticipants:!1}),s.props.setDisplayTabs(!0)},onSubmitParticipants:function(e){s.setState({participants:[].concat(Object(_.a)(null===s.state.participants?[]:s.state.participants),[{email:e[0].email,first_name:e[0].first_name,id:1,last_name:e[0].last_name,nid:e[0].nid,phone_numbers:e[0].phone_numbers,position_code:e[0].position_name,position_name:e[0].position_name,qualification_id:e[0].qualification_id,qualification_name:e[0].qualification_name,teaching_level:e[0].teaching_level,teaching_level_id:e[0].teaching_level_id,trainee_request_id:parseInt(s.props.training.trainee_request_id),training_id:s.props.training.id,training_to_group_id:"",user_id:e[0].user_id,subjects:e[0].subjects}])})},addedParticipants:this.state.participants,school_code:this.props.school_code,training_details:this.props.training})]})}}]),s}(l.Component);!function(e){e.PARTICIPANTS="PARTICIPANTS",e.DETAILS="DETAILS",e.CRITERIA="CRITERIA"}(a||(a={}));var k=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(e){var c;return Object(i.a)(this,s),(c=t.call(this,e)).setDisplayTabs=function(e){return c.setState({display_tabs:e})},c.state={loading:!1,selected_tab:a.PARTICIPANTS,display_tabs:!0},c}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=this.props.training_details;return Object(I.jsxs)("div",{children:[!0===this.state.display_tabs&&Object(I.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-2 w-full borde-b border-primary-600 pb-5",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full",children:[Object(I.jsx)("div",{children:Object(I.jsx)("div",{onClick:function(){!1===e.state.loading&&e.props.onClose()},className:"h-11 w-11 flex items-center justify-center rounded-full bg-accent-400 text-accent-900 hover:bg-accent-500 hover:text-accent-900 cursor-pointer",children:Object(I.jsx)(o.a,{className:"text-2xl"})})}),Object(I.jsx)("div",{className:"flex flex-col",children:Object(I.jsx)("div",{className:"font-bold text-xl text-gray-00",children:t.title})})]}),Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"flex flex-row items-center justify-end gap-0",children:[a.PARTICIPANTS,a.DETAILS,a.CRITERIA].map((function(t,s){return Object(I.jsx)("div",{onClick:function(){e.setState({selected_tab:t})},className:"rounded-t-md px-3 py-2 flex flex-row items-center gap-2 border-b-4 ".concat(t===e.state.selected_tab?"bg-white text-primary-700 border-primary-700 font-bold animate__animated animate__fadeIn":"hover:bg-primary-100 hover:border-primary-700  text-gray-700 hover:text-primary-700 bg-gray-10"," cursor-pointer"),children:Object(I.jsx)("div",{className:"truncate",children:t===a.PARTICIPANTS?"List of trainees":t===a.DETAILS?"Details":"Training criteria"})},s+1)}))})})]}),this.state.selected_tab===a.PARTICIPANTS&&Object(I.jsx)(C,{training:this.props.training_details,setDisplayTabs:this.setDisplayTabs,school_code:this.props.school_code}),this.state.selected_tab===a.DETAILS&&Object(I.jsx)(v.a,{training_details:this.props.training_details,onParticipants:function(){return e.setState({selected_tab:a.PARTICIPANTS})}}),this.state.selected_tab===a.CRITERIA&&Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 border-b border-gray-300 pb-3 mb-3",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("div",{onClick:function(){return e.setState({selected_tab:a.DETAILS})},className:"bg-accent-400 hover:bg-accent-500 text-accent-900 rounded px-3 py-2 font-bold cursor-pointer w-max flex flex-row items-center gap-2",children:Object(I.jsx)("div",{children:"Back to details"})})}),Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"text-lg font-bold text-black",children:"Training criteria"}),Object(I.jsx)("div",{className:"text-sm text-gray-500",children:"List of training criteria that the system consider while choosing participants"})]})]}),Object(I.jsx)("div",{children:Object(I.jsx)(g.a,{onClick:function(){return e.setState({selected_tab:a.PARTICIPANTS})},theme:"accent",children:"View trainees"})})]}),Object(I.jsx)(O.a,{trainee_criteria:this.props.training_details.trainee_criteria})]})]})}}]),s}(l.Component),P=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).ValidateTrainingIsOnSchoolLevel=function(e){var t=e.filter((function(e){return void 0!==e.trainee_category.find((function(e){var t;return void 0!==(null===(t=e.roles)||void 0===t?void 0:t.find((function(e){return"SCHOOL"===e.access_level})))}))}));return t.length>0?t:[]},a.LoadAllTrainings=function(e){a.setState({loading:!0,selected_training:null}),Object(b.g)(a.state.school_code,e,(function(e,t){a.setState({loading:e}),null!==t&&"success"===t.type&&a.setState({trainings_list:null!==t.data?a.ValidateTrainingIsOnSchoolLevel(t.data):t.data,loading:!1,error:""}),null!==t&&"error"===t.type&&a.setState({trainings_list:[],error:t.msg,loading:!1})}))},a.state={loading:!1,selected_training:null,trainings_list:null,selected_status:b.k.INPROGRESS,search_value:"",error:"",school_code:null!==a.props.auth.school?a.props.auth.school.school_code:""},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){null===this.state.trainings_list&&this.LoadAllTrainings(this.state.selected_status)}},{key:"render",value:function(){var e=this;return Object(I.jsx)(l.Fragment,{children:Object(I.jsxs)("div",{className:"container mx-auto p-3 relative",children:[Object(I.jsx)(u.a,{loading:this.state.loading,onChangeSearchValue:function(t){return e.setState({search_value:t.target.value})},onSelectTab:function(t){!1===e.state.loading&&(e.setState({selected_status:t,trainings_list:null}),e.LoadAllTrainings(t))},search_value:this.state.search_value,selected_status:this.state.selected_status}),Object(I.jsxs)("div",{className:"bg-white my-2 rounded px-3 py-3 flex flex-row items-center justify-between gap-2",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)(d.g,{className:"text-2xl text-accent-900"})}),Object(I.jsxs)("div",{className:"text-gray-500 font-light",children:[Object(I.jsx)("span",{className:"text-accent-900",children:null!==this.props.auth.school?this.props.auth.school.school_name:"No school selected"})," ","available trainings that can be assigned to trainees"]})]}),Object(I.jsx)("div",{children:Object(I.jsx)(j.r,{className:"text-xl"})})]}),""!==this.state.error&&Object(I.jsxs)("div",{onClick:function(){return e.setState({error:""})},className:"rounded px-3 py-2 bg-red-50 text-red-700 border border-white my-3 animate__animated animate__shakeX shadow flex flex-row items-center justify-between gap-2 cursor-pointer",children:[Object(I.jsx)("span",{children:this.state.error}),Object(I.jsx)("div",{children:Object(I.jsx)(j.r,{className:"text-xl"})})]}),null===this.state.trainings_list||!0===this.state.loading?Object(I.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white rounded-md p-6",children:[Object(I.jsx)(m.a,{}),Object(I.jsx)("div",{className:"text-center text-lg font-light",children:"Loading, please wait"})]}):0===this.state.trainings_list.length?Object(I.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white rounded-md p-6",children:[Object(I.jsx)("div",{className:"mb-2",children:Object(I.jsx)(o.g,{className:"text-6xl text-gray-300 animate__animated animate__shakeX"})}),Object(I.jsx)("div",{className:"text-xl font-bold",children:"No trainings available"}),Object(I.jsx)("div",{className:"text-sm",children:"No training offers available for this school's teachers"})]}):0===Object(p.n)(this.state.trainings_list,this.state.search_value).length?Object(I.jsx)("div",{className:"bg-white rounded-md p-3 py-5 text-center text-xl font-light animate__animated animate__fadeIn",children:Object(I.jsx)("span",{children:"No result found!"})}):Object(p.n)(this.state.trainings_list,this.state.search_value).map((function(t,s){return Object(I.jsx)(f.a,{i:s+1,item:t,onClick:function(){return e.setState({selected_training:t})}},s+1)})),null!==this.state.selected_training&&Object(I.jsx)(h.a,{className:"p-3 px-4",children:Object(I.jsx)(k,{training_details:this.state.selected_training,onClose:function(){return e.setState({selected_training:null})},school_code:this.state.school_code})})]})})}}]),s}(l.Component),R=Object(x.b)((function(e){return{auth:e.auth,basic:e.basic}}),{})(P)}}]);
//# sourceMappingURL=20.40da8826.chunk.js.map