{"version":3,"sources":["components/SelectCustom/SelectCustom.tsx","containers/RequestVacantPositions/AddNewRequest.tsx","containers/RequestVacantPositions/RequestVacantPositions.tsx"],"names":["SelectCustom","loading","title","id","close","data","click","useState","searchText","setSearch","dataList","search","className","htmlFor","type","placeholder","value","onChange","e","target","onClick","length","map","itm","key","defaultErrorMessage","error","AddNewRequest","loading_assets","assets","saveData","school_code","user_id","hierarchy_data","loading_hierarchy","subjects","setSubjects","search_subject","setSearchSubject","teaching_level","setTeachingLevel","position_open","setPosition_open","specialization_open","setSpecialization_open","setError","setLoading","sumWithInitial_teachingPeriods","reduce","previousValue","currentValue","teaching_period","ResultsSubjects","level_code","level_name","combination_code","selected_position","setSelectedPosition","selected_specialization","setSelectedSpecialization","selectSubject","subj","console","log","exist","find","el","school_study_hierarchy_id","filter","Modal","backDrop","theme","Themes","default","window","confirm","backDropClose","widthSizeClass","ModalSize","large","displayClose","padding","body","undefined","footer","Alert","onSubmit","preventDefault","setTimeout","FC_SavePostDetails","district_code","substring","occupation","position_code","specialization_id","education_level","qualification_id","need_post","requested_by","approved_by","approved_date","status","total_period","teaching_level_id","msg","teachingLevel","school_need_post_id","district_name","school_name","position_name","specialization_name","qualification_name","Loading","school_positions","pos","TextInput","label","name","disabled","specializations","InputSelect","size","i","bind","course_name","combination_name","grade_name","Button","_RequestVacantPositions","props","cleanError","setState","addNewItem","state","removeItem","delete_loading","deleting_item","FC_DeleteRequestedPostDescription","create_request","loading_data","this","auth","school","FC_GetPositionsAssets","err","FC_GetVacantDetailedBySchool","data_vac","FC_GetCoursesBySchools","data_hierarch","totalA0","totalA1","totalA2","fixed","user","DashboardContainer","Heading","colSpan","React","Component","RequestVacantPositions","connect"],"mappings":"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","file":"static/js/35.d98470f9.chunk.js","sourcesContent":["import React, { FC, Fragment, ReactElement, useState } from \"react\";\nimport { MdSearch } from \"react-icons/md\";\n// import Spinner from \"../Loading/Spinner\";\n\nimport { search } from \"../../utils/functions\";\nimport Loading from \"../Loading/Loading\";\ntype SelectCustomProps = {\n  loading: boolean;\n  id: string;\n  title: string;\n  close: Function;\n  data: any;\n  click: Function;\n};\n\nconst SelectCustom: FC<SelectCustomProps> = ({\n  loading,\n  id,\n  title,\n  close,\n  data,\n  click,\n}): ReactElement => {\n  const [searchText, setSearch] = useState(\"\");\n  let dataList = search(data, searchText, {\n    [title]: true,\n  });\n  /* function body */\n  return (\n    <div className=\" bg-gray-100 shadow-lg border-gray-500 border-2 h-64 rounded-md flex flex-col\">\n      <div className=\"p-1 bg-white rounded flex items-center\">\n        <label htmlFor=\"search-input-data\">\n          <MdSearch className=\"text-2xl\" />\n        </label>\n        <input\n          type=\"search\"\n          className=\"py-1 px-1 flex-1\"\n          placeholder=\"Search\"\n          value={searchText}\n          id=\"search-input-data\"\n          onChange={(e) => setSearch(e.target.value)}\n        />\n        {loading === false && (\n          <button\n            onClick={() => close()}\n            className=\"px-2 py-0.5 rounded text-sm ml-3 bg-red-200 text-red-800\"\n          >\n            Cancel\n          </button>\n        )}\n      </div>\n      <div className=\"flex-1 p-2 overflow-y-auto border-t \">\n        {loading === true ? (\n          <div className=\"my-4\">\n            {/* <Spinner /> */}\n            <div className=\"mx-auto text-center\">\n              <Loading />\n            </div>\n\n            <p className=\"text-center text-gray-500\">Loading</p>\n          </div>\n        ) : (\n          <Fragment>\n            {dataList.length === 0 ? (\n              <section className=\"p-4 text-center\">\n                <h2 className=\"text-lg text-gray-400\">No results found</h2>\n              </section>\n            ) : (\n              dataList.map((itm: any, key: number) => (\n                <button\n                  onClick={() => click(itm)}\n                  className=\"block p-1 border-b w-full text-left border-gray-300 hover:text-white hover:bg-blue-600\"\n                  key={key}\n                  type=\"button\"\n                >\n                  {itm[title]}\n                </button>\n              ))\n            )}\n          </Fragment>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default SelectCustom;\n","import React, { FC, ReactElement, useState } from \"react\";\nimport { MdCheckBox, MdCheckBoxOutlineBlank } from \"react-icons/md\";\nimport {\n  FC_SavePostDetails,\n  hierarchyDataInterface,\n  RegisterPositionAssets,\n  RegisterPositionAssets__Position,\n  RegisterPositionAssets__Specialization,\n  RequestedVacantDetailsInterface,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\nimport Button from \"../../components/Buttons/Button\";\nimport InputSelect from \"../../components/Inputs/InputSelect\";\nimport TextInput from \"../../components/Inputs/TextInput\";\nimport Loading from \"../../components/Loading/Loading\";\nimport Modal, { Themes, ModalSize } from \"../../components/Modal/Modal\";\nimport SelectCustom from \"../../components/SelectCustom/SelectCustom\";\nimport { search } from \"../../utils/functions\";\n\ntype AddNewRequestProps = {\n  close: () => void;\n  assets: RegisterPositionAssets | null;\n  loading_assets: boolean;\n  saveData: (data: RequestedVacantDetailsInterface) => void;\n  school_name: string;\n  school_code: string;\n  user_id: string;\n  hierarchy_data: hierarchyDataInterface[];\n  loading_hierarchy: boolean;\n};\n\ninterface ErrorDisplay {\n  target:\n    | \"position\"\n    | \"specialization\"\n    | null\n    | \"main-error\"\n    | \"main-success\"\n    | \"subjects\"\n    | \"teaching-level\";\n  error: string;\n}\nlet defaultErrorMessage: ErrorDisplay = {\n  target: null,\n  error: \"\",\n};\n\nconst AddNewRequest: FC<AddNewRequestProps> = ({\n  close,\n  loading_assets,\n  assets,\n  saveData,\n  school_code,\n  user_id,\n  hierarchy_data,\n  loading_hierarchy,\n}): ReactElement => {\n  const [subjects, setSubjects] = useState<hierarchyDataInterface[]>([]);\n  const [search_subject, setSearchSubject] = useState<string>(\"\");\n  const [teaching_level, setTeachingLevel] = useState<string>(\"\");\n  const [position_open, setPosition_open] = useState(false);\n  const [specialization_open, setSpecialization_open] = useState(false);\n  const [error, setError] = useState<ErrorDisplay>(defaultErrorMessage);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const initialValue = 0;\n  const sumWithInitial_teachingPeriods = subjects.reduce(\n    (previousValue, currentValue) =>\n      previousValue + +currentValue.teaching_period,\n    initialValue\n  );\n\n  let ResultsSubjects: hierarchyDataInterface[] = search(\n    hierarchy_data,\n    search_subject,\n    {\n      level_code: true,\n      level_name: true,\n      combination_code: true,\n    }\n  );\n\n  //* Selected Data\n  const [selected_position, setSelectedPosition] =\n    useState<RegisterPositionAssets__Position | null>(null);\n  const [selected_specialization, setSelectedSpecialization] =\n    useState<RegisterPositionAssets__Specialization | null>(null);\n\n  const submitData = (e: any) => {\n    e.preventDefault();\n\n    if (selected_position === null)\n      return setError({ target: \"position\", error: \"Required\" });\n\n    if (selected_specialization === null)\n      return setError({ target: \"specialization\", error: \"Required\" });\n\n    if (teaching_level === \"\")\n      return setError({ target: \"teaching-level\", error: \"Required\" });\n\n    if (subjects.length === 0) {\n      setError({\n        target: \"subjects\",\n        error: \"Please select subject(s)\",\n      });\n\n      setTimeout(() => {\n        setError({\n          target: null,\n          error: \"\",\n        });\n      }, 2000);\n      return;\n    }\n\n    setError(defaultErrorMessage);\n    setLoading(true);\n\n    FC_SavePostDetails(\n      {\n        district_code: school_code.substring(0, 2),\n        school_code: school_code,\n        occupation: selected_position.position_code,\n        specialization_id: selected_specialization.specialization_id,\n        subjects: subjects.map((el) => el.school_study_hierarchy_id),\n        education_level: selected_position.qualification_id,\n        need_post: \"\",\n        requested_by: user_id,\n        approved_by: \"\",\n        approved_date: \"\",\n        status: \"WAITING\",\n        total_period: sumWithInitial_teachingPeriods,\n        teaching_level: teaching_level,\n        teaching_level_id: teaching_level,\n      },\n      (status, data, msg) => {\n        if (status === true) {\n          let teachingLevel = assets?.teaching_level.find(\n            (el) => el.teaching_level_id === teaching_level\n          );\n          saveData({\n            school_need_post_id: data?.id + \"\",\n            district_code: school_code,\n            district_name: \"\",\n            school_code: school_code,\n            school_name: \"\",\n            occupation: selected_position.position_code,\n            position_name: selected_position.position_name,\n            specialization_id: selected_specialization.specialization_id,\n            specialization_name: selected_specialization.specialization_name,\n            education_level: \"\",\n            qualification_name: selected_position.qualification_name,\n            need_post: \"\",\n            status: \"WAITING\",\n            total_period: sumWithInitial_teachingPeriods,\n            teaching_level: teachingLevel ? teachingLevel.teaching_level : \"\",\n            teaching_level_id: teaching_level,\n          });\n\n          setLoading(false);\n          setError({\n            target: \"main-success\",\n            error: \"New request created successfully\",\n          });\n          setTimeout(() => {\n            close();\n          }, 1000);\n        } else {\n          setLoading(false);\n          setError({\n            target: \"main-error\",\n            error: `Error: ${msg}`,\n          });\n        }\n      }\n    );\n  };\n\n  const closeHandler = () => {\n    if (\n      (selected_position !== null || selected_specialization !== null) &&\n      window.confirm(\n        \"Once you close you will lose the selected data, \\n do ypu want to close?\"\n      )\n    ) {\n      close();\n    } else {\n      close();\n    }\n  };\n\n  const selectSubject = (subj: hierarchyDataInterface) => {\n    console.log(subj, subjects);\n\n    let exist = subjects.find(\n      (el) => el.school_study_hierarchy_id === subj.school_study_hierarchy_id\n    );\n\n    if (!exist) {\n      setSubjects([...subjects, subj]);\n    } else {\n      setSubjects(\n        subjects.filter(\n          (el) =>\n            el.school_study_hierarchy_id !== subj.school_study_hierarchy_id\n        )\n      );\n    }\n  };\n\n  return (\n    <>\n      <Modal\n        backDrop={true}\n        theme={Themes.default}\n        close={closeHandler}\n        backDropClose={false}\n        widthSizeClass={ModalSize.large}\n        displayClose={true}\n        title=\"Add new post on school\"\n        padding={{\n          title: true,\n          body: undefined,\n          footer: undefined,\n        }}\n      >\n        {error.target === \"main-error\" && (\n          <Alert theme=\"danger\">{error.error}</Alert>\n        )}\n        {error.target === \"main-success\" && (\n          <Alert theme=\"success\">{error.error}</Alert>\n        )}\n\n        <form onSubmit={submitData}>\n          {loading_assets === true ? (\n            <div className=\"py-8 text-center mx-auto\">\n              <Loading />\n            </div>\n          ) : assets === null ? (\n            <div className={`py-8 text-center text-lg text-red-600`}>\n              No data found!\n            </div>\n          ) : (\n            <div className=\"border-t p-4\">\n              <div className=\"pb-3\">\n                {position_open ? (\n                  <SelectCustom\n                    loading={false}\n                    id={\"position_code\"}\n                    title={\"title\"}\n                    close={() => setPosition_open(!position_open)}\n                    data={assets.school_positions.map((el) => ({\n                      ...el,\n                      title: `${el.position_code} - ${el.position_name} (${el.qualification_name})`,\n                    }))}\n                    click={(pos: RegisterPositionAssets__Position) => {\n                      setSelectedPosition(pos);\n                      setPosition_open(false);\n                    }}\n                  />\n                ) : (\n                  <div\n                    onClick={() =>\n                      loading === false && setPosition_open(!position_open)\n                    }\n                  >\n                    <TextInput\n                      onChange={(e) => {}}\n                      value={\n                        selected_position\n                          ? `${selected_position.position_code} - ${selected_position.position_name} (${selected_position.qualification_name})`\n                          : \"\"\n                      }\n                      error={error.target === \"position\" ? error.error : \"\"}\n                      label={\"Position\"}\n                      placeholder={\"Position\"}\n                      name={\"\"}\n                      disabled\n                    />\n                  </div>\n                )}\n              </div>\n\n              <div\n                className=\"pb-3\"\n                onClick={() =>\n                  loading === false && setPosition_open(!position_open)\n                }\n              >\n                <TextInput\n                  onChange={(e) => {}}\n                  value={\n                    selected_position\n                      ? `${selected_position.qualification_name}`\n                      : \"\"\n                  }\n                  error={error.target === \"position\" ? error.error : \"\"}\n                  label={\"Level of Education\"}\n                  placeholder={\"Select the position\"}\n                  name={\"\"}\n                  disabled\n                />\n              </div>\n\n              <div className=\"pb-3\">\n                {specialization_open ? (\n                  <SelectCustom\n                    loading={false}\n                    id={\"id\"}\n                    title={\"title\"}\n                    close={() => setSpecialization_open(!specialization_open)}\n                    data={assets.specializations.map((el) => ({\n                      ...el,\n                      title: `${el.specialization_name}`,\n                      id: el.specialization_id,\n                    }))}\n                    click={(el: RegisterPositionAssets__Specialization) => {\n                      setSpecialization_open(false);\n                      setSelectedSpecialization(el);\n                    }}\n                  />\n                ) : (\n                  <div\n                    onClick={() =>\n                      loading === false &&\n                      setSpecialization_open(!specialization_open)\n                    }\n                  >\n                    <TextInput\n                      onChange={(e) => {}}\n                      value={\n                        selected_specialization\n                          ? selected_specialization.specialization_name\n                          : \"\"\n                      }\n                      error={\n                        error.target === \"specialization\" ? error.error : \"\"\n                      }\n                      label={\"Specialization\"}\n                      placeholder={\"Specialization\"}\n                      name={\"specialization_name\"}\n                      disabled\n                    />\n                  </div>\n                )}\n              </div>\n\n              <div className=\"pb-3\">\n                <InputSelect\n                  onChange={(e) => setTeachingLevel(e.target.value)}\n                  value={teaching_level}\n                  error={error.target === \"teaching-level\" ? error.error : \"\"}\n                  label={\"Teaching level\"}\n                  placeholder={\"Teaching level\"}\n                  name={\"teaching_level\"}\n                  data={[\n                    {\n                      title: \"\",\n                      value: \"\",\n                    },\n                    ...assets.teaching_level.map((el) => ({\n                      title: el.teaching_level + \"\",\n                      value: el.teaching_level_id + \"\",\n                    })),\n                  ]}\n                />\n              </div>\n\n              {loading_hierarchy === true ? (\n                <div className=\"py-8 text-center pb-2 bg-gray-100 mb-3 mt-1 rounded\">\n                  <Loading />\n                  <h4 className=\"text-gray-500\">Loading subjects</h4>\n                </div>\n              ) : (\n                <div\n                  className={`pb-2 bg-gray-100 mb-3 mt-1 rounded  ${\n                    error.target === \"subjects\" ? \"border-red-500 border-2\" : \"\"\n                  }`}\n                >\n                  <div className=\"pb-1 flex items-center px-2\">\n                    <section className=\"flex-1\">\n                      <TextInput\n                        onChange={(e) => setSearchSubject(e.target.value)}\n                        value={search_subject}\n                        error={\"\"}\n                        label={\"\"}\n                        placeholder={\"Search subject\"}\n                        name={\"\"}\n                        size=\"sm\"\n                      />\n                    </section>\n                    <section className=\"px-2 rounded bg-gray-100\">\n                      <span className=\"text-sm text-gray-400\">Subjects:</span>\n                      <h4 className=\"text-xl -mt-1 font-bold\">\n                        {subjects.length}\n                      </h4>\n                    </section>\n                    <section className=\"px-2 rounded bg-gray-100\">\n                      <span className=\"text-sm text-gray-400\">\n                        Total periods:\n                      </span>\n                      <h4 className=\"text-xl -mt-1 font-bold\">\n                        {sumWithInitial_teachingPeriods}\n                      </h4>\n                    </section>\n                  </div>\n                  <div className=\"h-56 overflow-y-auto\">\n                    <table className=\"w-full\">\n                      <thead>\n                        <tr>\n                          <th className=\"border p-1\"></th>\n                          <th className=\"border p-1\">Course name</th>\n                          <th className=\"border p-1\">Combination</th>\n                          <th className=\"border p-1\">Grade name</th>\n                          <th className=\"border p-1\">Teaching period</th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"\">\n                        {ResultsSubjects.map((el, i) => {\n                          let exist = subjects.find(\n                            (itm) =>\n                              el.school_study_hierarchy_id ===\n                              itm.school_study_hierarchy_id\n                          );\n                          return (\n                            <tr\n                              key={i}\n                              className={`cursor-pointer ${\n                                exist === undefined\n                                  ? \"\"\n                                  : \"bg-green-200 bg-opacity-40\"\n                              }`}\n                              onClick={selectSubject.bind(this, el)}\n                            >\n                              <td\n                                className={`border p-1 text-center text-2xl ${\n                                  exist === undefined ? \"\" : \"text-green-500\"\n                                }`}\n                              >\n                                {exist === undefined ? (\n                                  <MdCheckBoxOutlineBlank />\n                                ) : (\n                                  <MdCheckBox />\n                                )}\n                              </td>\n                              <td className=\"border p-1\">{el.course_name}</td>\n                              <td className=\"border p-1\">\n                                {el.combination_name}\n                              </td>\n                              <td className=\"border p-1\">{el.grade_name}</td>\n                              <td className=\"border p-1\">\n                                {el.teaching_period}\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              )}\n              {error.target === \"subjects\" && (\n                <span className=\"text-red-800 text-center\">{error.error}</span>\n              )}\n\n              <div className=\"pb-2 text-right\">\n                {error.target !== \"main-success\" && (\n                  <Button type=\"submit\" loading={loading}>\n                    Request New vacant\n                  </Button>\n                )}\n              </div>\n            </div>\n          )}\n        </form>\n      </Modal>\n    </>\n  );\n};\nexport default AddNewRequest;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  FC_DeleteRequestedPostDescription,\n  FC_GetPositionsAssets,\n  FC_GetVacantDetailedBySchool,\n  hierarchyDataInterface,\n  RegisterPositionAssets,\n  RequestedVacantDetailsInterface,\n  FC_GetCoursesBySchools,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\nimport Button from \"../../components/Buttons/Button\";\nimport DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport Heading from \"../../components/Heading/Heading\";\nimport Loading from \"../../components/Loading/Loading\";\nimport { StoreState } from \"../../reducers\";\nimport AddNewRequest from \"./AddNewRequest\";\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n}\n\ninterface AppState {\n  loading_assets: boolean;\n  loading_data: boolean;\n  create_request: boolean;\n  assets: RegisterPositionAssets | null;\n  error: {\n    target: \"main-error\" | \"main-success\" | null;\n    msg: string;\n  };\n  data: RequestedVacantDetailsInterface[];\n  hierarchy_data: hierarchyDataInterface[];\n  loading_hierarchy: boolean;\n  delete_loading: boolean;\n  deleting_item: string;\n}\n\nclass _RequestVacantPositions extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      error: {\n        target: null,\n        msg: \"\",\n      },\n      loading_assets: false,\n      create_request: false,\n      assets: null,\n      data: [],\n      loading_data: false,\n      hierarchy_data: [\n        // {\n        //   school_study_hierarchy_id: \"32465\",\n        //   school_code: \"520104\",\n        //   shool_hierarch_id: \"22\",\n        //   status: \"1\",\n        //   studyhierarchyid: \"22\",\n        //   level_code: \"1\",\n        //   level_name: \"PRIMARY\",\n        //   combination_code: \"101\",\n        //   combination_name: \"PRIMARY\",\n        //   grade_code: \"1201\",\n        //   grade_name: \"PRIMARY 1\",\n        //   course_code: \"01\",\n        //   course_name: \"Kinyarwanda 3\",\n        //   teaching_period: \"8\",\n        // },\n        // {\n        //   school_study_hierarchy_id: \"32466\",\n        //   school_code: \"520104\",\n        //   shool_hierarch_id: \"22\",\n        //   status: \"1\",\n        //   studyhierarchyid: \"22\",\n        //   level_code: \"1\",\n        //   level_name: \"PRIMARY\",\n        //   combination_code: \"101\",\n        //   combination_name: \"PRIMARY\",\n        //   grade_code: \"1201\",\n        //   grade_name: \"PRIMARY 1\",\n        //   course_code: \"01\",\n        //   course_name: \"French\",\n        //   teaching_period: \"8\",\n        // },\n        // {\n        //   school_study_hierarchy_id: \"32467\",\n        //   school_code: \"520104\",\n        //   shool_hierarch_id: \"22\",\n        //   status: \"1\",\n        //   studyhierarchyid: \"22\",\n        //   level_code: \"1\",\n        //   level_name: \"PRIMARY\",\n        //   combination_code: \"101\",\n        //   combination_name: \"PRIMARY\",\n        //   grade_code: \"1201\",\n        //   grade_name: \"PRIMARY 1\",\n        //   course_code: \"01\",\n        //   course_name: \"History\",\n        //   teaching_period: \"8\",\n        // },\n        // {\n        //   school_study_hierarchy_id: \"32448\",\n        //   school_code: \"520104\",\n        //   shool_hierarch_id: \"22\",\n        //   status: \"1\",\n        //   studyhierarchyid: \"22\",\n        //   level_code: \"1\",\n        //   level_name: \"PRIMARY\",\n        //   combination_code: \"101\",\n        //   combination_name: \"PRIMARY\",\n        //   grade_code: \"1201\",\n        //   grade_name: \"PRIMARY 1\",\n        //   course_code: \"01\",\n        //   course_name: \"KoStant\",\n        //   teaching_period: \"8\",\n        // },\n      ],\n      loading_hierarchy: false,\n      delete_loading: false,\n      deleting_item: \"\",\n    };\n  }\n\n  componentDidMount(): void {\n    if (this.props.auth.school === null)\n      return this.setState({\n        error: {\n          target: \"main-error\",\n          msg: \"No school assigned to you\",\n        },\n      });\n\n    this.setState({\n      loading_assets: true,\n      loading_data: true,\n      loading_hierarchy: true,\n    });\n\n    FC_GetPositionsAssets(\n      this.props.auth.school.school_code,\n      (status, data, err) => {\n        if (status === true) {\n          this.setState({\n            loading_assets: false,\n            assets: data,\n          });\n        } else {\n          this.setState({\n            loading_assets: false,\n            error: {\n              target: \"main-error\",\n              msg: `Error: ${err}`,\n            },\n          });\n        }\n      }\n    );\n\n    // get the request\n    FC_GetVacantDetailedBySchool(\n      this.props.auth.school.school_code,\n      (status, data_vac, msg) => {\n        if (status === true) {\n          this.setState({\n            data: data_vac,\n            loading_data: false,\n          });\n        } else {\n          this.setState({\n            data: [],\n            loading_data: false,\n            error: {\n              target: \"main-error\",\n              msg: `Error: ${msg}`,\n            },\n          });\n        }\n      }\n    );\n\n    // Get all the data\n    FC_GetCoursesBySchools(\n      this.props.auth.school.school_code,\n      (status, data_hierarch, msg) => {\n        if (status === true) {\n          this.setState({\n            hierarchy_data: data_hierarch,\n            loading_hierarchy: false,\n          });\n        } else {\n          this.setState({\n            hierarchy_data: [],\n            loading_hierarchy: false,\n            error: {\n              target: \"main-error\",\n              msg: `Error: ${msg}`,\n            },\n          });\n        }\n      }\n    );\n  }\n\n  cleanError = () =>\n    this.setState({\n      error: {\n        target: null,\n        msg: \"\",\n      },\n    });\n\n  addNewItem = (data: RequestedVacantDetailsInterface) =>\n    this.setState({\n      data: [...this.state.data, data],\n    });\n\n  removeItem = (id: string) => {\n    if (window.confirm(\"Are you sure you want to remove this record?\")) {\n      this.setState({\n        delete_loading: true,\n        deleting_item: \"\",\n      });\n\n      FC_DeleteRequestedPostDescription(id, (status, msg) => {\n        if (status === true) {\n          this.setState({\n            delete_loading: false,\n            deleting_item: \"\",\n            error: {\n              target: \"main-success\",\n              msg: \"Record removed successfully\",\n            },\n            data: this.state.data.filter((el) => el.school_need_post_id !== id),\n          });\n        } else {\n          this.setState({\n            delete_loading: false,\n            deleting_item: \"\",\n            error: {\n              target: \"main-error\",\n              msg: `Error: ${msg}`,\n            },\n          });\n\n          setTimeout(() => {\n            this.setState({\n              error: {\n                msg: \"\",\n                target: null,\n              },\n            });\n          }, 2000);\n        }\n      });\n    }\n  };\n\n  render() {\n    let totalA0 = this.state.data.filter(\n      (el) => el.qualification_name === \"A0\"\n    ).length;\n    let totalA1 = this.state.data.filter(\n      (el) => el.qualification_name === \"A1\"\n    ).length;\n    let totalA2 = this.state.data.filter(\n      (el) => el.qualification_name === \"A2\"\n    ).length;\n    return (\n      <>\n        {this.state.error.target === \"main-error\" && (\n          <Alert theme=\"danger\" fixed onClick={this.cleanError}>\n            {this.state.error.msg}\n          </Alert>\n        )}\n        {this.state.error.target === \"main-success\" && (\n          <Alert theme=\"success\" fixed onClick={this.cleanError}>\n            {this.state.error.msg}\n          </Alert>\n        )}\n\n        {this.state.create_request === true &&\n          this.props.auth.school !== null &&\n          this.props.auth.user && (\n            <AddNewRequest\n              close={() =>\n                this.setState({\n                  create_request: false,\n                })\n              }\n              loading_assets={this.state.loading_assets}\n              assets={this.state.assets}\n              saveData={this.addNewItem}\n              school_code={this.props.auth.school.school_code}\n              school_name={this.props.auth.school.school_name}\n              user_id={this.props.auth.user.user_id}\n              hierarchy_data={this.state.hierarchy_data}\n              loading_hierarchy={this.state.loading_hierarchy}\n            />\n          )}\n\n        <section className=\"sticky top-1 z-50 mx-auto\">\n          <DashboardContainer>\n            <div className=\"w-full flex items-center\">\n              <section className=\"flex-1\">\n                <Heading size=\"md\">Vacant posts to be filled</Heading>\n                <p className=\"m-0 text-gray-400 text-sm\">\n                  Vacant posts to be filled\n                </p>\n              </section>\n              <section>\n                <Button\n                  type=\"button\"\n                  onClick={() =>\n                    this.setState({\n                      create_request: !this.state.create_request,\n                    })\n                  }\n                >\n                  Add vacant\n                </Button>\n              </section>\n            </div>\n          </DashboardContainer>\n        </section>\n\n        <DashboardContainer>\n          <div className=\"flex gap-2 mb-2 text-center\">\n            <section className=\"border p-1 px-6 rounded bg-gray-100\">\n              <span>A0</span>\n              <h2 className=\"font-bold text-2xl -mt-1\">{totalA0}</h2>\n            </section>\n            <section className=\"border p-1 px-6 rounded bg-gray-100\">\n              <span>A1</span>\n              <h2 className=\"font-bold text-2xl -mt-1\">{totalA1}</h2>\n            </section>\n            <section className=\"border p-1 px-6 rounded bg-gray-100\">\n              <span>A2</span>\n              <h2 className=\"font-bold text-2xl -mt-1\">{totalA2}</h2>\n            </section>\n            <div className=\"flex-1\"></div>\n            <section className=\"border p-1 px-6 rounded bg-gray-100\">\n              <span>Total</span>\n              <h2 className=\"font-bold text-2xl -mt-1\">\n                {totalA2 + totalA1 + totalA0}\n              </h2>\n            </section>\n          </div>\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"text-left\">\n                <th className=\"p-2 border\">#</th>\n                <th className=\"p-2 border\">Code</th>\n                <th className=\"p-2 border\">Position name</th>\n                <th className=\"p-2 border\">Qualification </th>\n                <th className=\"p-2 border\">Specialization</th>\n                <th className=\"p-2 border\">Total Period</th>\n                <th className=\"p-2 border\">Teaching level</th>\n                <th className=\"p-2 border\">Status</th>\n                <th className=\"p-2 border\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.loading_data === true ? (\n                <tr>\n                  <td className=\"py-8 text-center\" colSpan={10}>\n                    <Loading />\n                  </td>\n                </tr>\n              ) : this.state.data.length === 0 ? (\n                <tr>\n                  <td className=\"py-8 text-center\" colSpan={10}>\n                    <h2 className=\"text-2xl font-bold text-gray-600\">\n                      No results found\n                    </h2>\n                  </td>\n                </tr>\n              ) : (\n                <>\n                  {this.state.data.map((el, i) => (\n                    <tr key={i}>\n                      <td className=\"border p-2\">{i + 1}</td>\n                      <td className=\"border p-2\">{el.school_code}</td>\n                      <td className=\"border p-2\">{el.position_name}</td>\n                      <td className=\"border p-2\">{el.qualification_name}</td>\n                      <td className=\"border p-2\">{el.specialization_name}</td>\n                      <td className=\"border p-2\">{el.total_period}</td>\n                      <td className=\"border p-2\">{el.teaching_level}</td>\n                      <td className=\"border p-2 text-center\">\n                        <span\n                          className={`p-1 rounded-lg text-xs ${\n                            el.status === \"APPROVED\"\n                              ? \"bg-green-100 text-green-700\"\n                              : \"bg-gray-200\"\n                          }`}\n                        >\n                          {el.status}\n                        </span>\n                      </td>\n                      <td className=\"border p-2 text-center\">\n                        <Button\n                          theme=\"danger-light\"\n                          type=\"button\"\n                          onClick={this.removeItem.bind(\n                            this,\n                            el.school_need_post_id\n                          )}\n                          disabled={this.state.delete_loading}\n                          loading={\n                            this.state.deleting_item === el.school_need_post_id\n                              ? true\n                              : false\n                          }\n                        >\n                          Remove\n                        </Button>\n                      </td>\n                    </tr>\n                  ))}\n                </>\n              )}\n            </tbody>\n          </table>\n        </DashboardContainer>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth }: StoreState): { auth: Auth } => {\n  return { auth: auth };\n};\n\nexport const RequestVacantPositions = connect(\n  mapStateToProps,\n  {}\n)(_RequestVacantPositions);\n"],"sourceRoot":""}