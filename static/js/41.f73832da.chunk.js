(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[41],{426:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var s=a(41),n=a(19),r=a(20),c=a(21),l=a(22),i=a(4),o=a(25),d=a(15),h=a(43),m=a(23),u=a(138),j=a(39),p=a(26),b=a(1),x=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).cleanForm=function(){s.setState({email:"",first_name:"",full_name:"",last_name:"",middle_name:"",nid:"",phone_number:"",role_id:null})},s.SubmitData=function(e){if(e.preventDefault(),""===s.state.first_name)return s.setState({error:{target:"first_name",msg:"Please fill the first name"}});if(""===s.state.last_name)return s.setState({error:{target:"last_name",msg:"Please fill the last name"}});if(""===s.state.nid)return s.setState({error:{target:"nid",msg:"Please fill national ID"}});if(""===s.state.phone_number)return s.setState({error:{target:"phone_number",msg:"Please fill phone number"}});if(""===s.state.email)return s.setState({error:{target:"email",msg:"Please fill the email"}});if(null===s.state.role_id||isNaN(s.state.role_id))return s.setState({error:{target:"role_id",msg:"Please select the role"}});var t={development_partner_id:s.state.development_partner_id,email:s.state.email,first_name:s.state.first_name,full_name:s.state.first_name+" "+s.state.middle_name+" "+s.state.last_name,last_name:s.state.last_name,middle_name:s.state.middle_name,nid:s.state.nid,phone_number:s.state.phone_number,role_id:s.state.role_id};s.setState({loading:!0}),Object(h.e)(t,(function(e,t){s.setState({loading:e}),null!==t&&"success"===t.status&&(s.setState({success:t.msg,error:null,loading:!1}),s.cleanForm()),null!==t&&"error"===t.status&&s.setState({error:{target:"main",msg:t.msg},success:"",loading:!1})}))},s.state={loading:!1,error:null,success:"",development_partner_id:s.props.developmentPartner.id,email:"",first_name:"",full_name:"",last_name:"",middle_name:"",nid:"",phone_number:"",role_id:null,loading_data:!1,account_levels:null},s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;null!==this.state.account_levels&&0!==this.state.account_levels.length||(this.setState({loading_data:!0}),Object(h.f)(h.a.TRAINING,(function(t,a){e.setState({loading_data:t}),null!==a&&"success"===a.status&&e.setState({account_levels:a.data,loading:!1,loading_data:!1,error:null}),null!==a&&"error"===a.status&&e.setState({account_levels:[],loading:!1,loading_data:!1,error:{target:"main",msg:a.msg}})})))}},{key:"render",value:function(){var e=this;return!0===this.state.loading_data?Object(b.jsxs)("div",{className:"p-8 flex flex-col items-center justify-center bg-white rounded-md my-2",children:[Object(b.jsx)(p.a,{}),Object(b.jsx)("div",{className:"text-lg font-light text-center",children:"Loading, please wait..."})]}):Object(b.jsxs)("div",{className:"bg-white p-2 rounded",children:[Object(b.jsxs)("div",{className:"bg-gray-100 py-1 flex flex-row items-center gap-2 rounded px-2 animate__animated animate__fadeIn",children:[Object(b.jsx)("div",{children:Object(b.jsx)("div",{onClick:function(){!1===e.state.loading&&e.props.onCancel()},className:"bg-white rounded-full flex items-center justify-center h-9 w-9 cursor-pointer hover:bg-accent-900 hover:text-white",children:Object(b.jsx)(o.a,{className:"text-2xl"})})}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("div",{className:"text-xl font-bold",children:"Create new account"}),Object(b.jsx)("div",{className:"text-sm font-bold text-accent-900 bg-accent-400 border border-accent-500 rounded-full px-2 w-max",children:this.props.developmentPartner.development_partner_name})]})]}),Object(b.jsxs)("form",{onSubmit:this.SubmitData,className:"w-full my-3",children:[Object(b.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[Object(b.jsx)(j.a,{onChange:function(t){return e.setState({first_name:t.target.value})},value:this.state.first_name,error:null!==this.state.error&&"first_name"===this.state.error.target?this.state.error.msg:"",label:"First name",placeholder:"Ex: Damascene",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(b.jsx)(j.a,{onChange:function(t){return e.setState({middle_name:t.target.value})},value:this.state.middle_name,error:null!==this.state.error&&"middle_name"===this.state.error.target?this.state.error.msg:"",label:"Middle name (Optional)",placeholder:"",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(b.jsx)(j.a,{onChange:function(t){return e.setState({last_name:t.target.value})},value:this.state.last_name,error:null!==this.state.error&&"last_name"===this.state.error.target?this.state.error.msg:"",label:"Last name ",placeholder:"Ex: KAMANA",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(b.jsx)(j.a,{onChange:function(t){return e.setState({nid:t.target.value})},value:this.state.nid,error:null!==this.state.error&&"nid"===this.state.error.target?this.state.error.msg:"",label:"National ID",placeholder:"",name:"",MainContainer_className:"col-span-6",disabled:this.state.loading}),Object(b.jsx)(j.a,{onChange:function(t){return e.setState({phone_number:t.target.value})},value:this.state.phone_number,error:null!==this.state.error&&"phone_number"===this.state.error.target?this.state.error.msg:"",label:"Phone number",placeholder:"07XXXXXXXX",name:"",MainContainer_className:"col-span-6",disabled:this.state.loading}),Object(b.jsx)(j.a,{onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email,error:null!==this.state.error&&"email"===this.state.error.target?this.state.error.msg:"",label:"Email",placeholder:"email@gmail.com",name:"",MainContainer_className:"col-span-6",disabled:this.state.loading}),Object(b.jsx)(u.a,{onChange:function(t){e.setState({role_id:parseInt(t.target.value)})},value:null===this.state.role_id?"":this.state.role_id,error:null!==this.state.error&&"role_id"===this.state.error.target?this.state.error.msg:"",label:"Select role",placeholder:"Role",name:"role_id",data:[{title:"Select role",value:""}].concat(Object(s.a)(null===this.state.account_levels?[]:this.state.account_levels.map((function(e){return{value:e.role_id,title:e.role}})))),MainContainer_className:"col-span-6",disabled:this.state.loading})]}),null!==this.state.error&&"main"===this.state.error.target&&Object(b.jsxs)("div",{onClick:function(){return e.setState({error:null,success:""})},className:"cursor-pointer px-3 py-2 font-bold bg-red-100 text-red-700 flex flex-row items-center justify-between w-full my-2",children:[Object(b.jsx)("span",{children:this.state.error.msg}),Object(b.jsx)("div",{children:Object(b.jsx)(d.r,{className:"text-2xl"})})]}),""!==this.state.success&&Object(b.jsxs)("div",{onClick:function(){return e.setState({error:null,success:""})},className:"cursor-pointer px-3 py-2 font-bold bg-green-100 text-green-700 flex flex-row items-center justify-between w-full my-2",children:[Object(b.jsx)("span",{children:this.state.success}),Object(b.jsx)("div",{children:Object(b.jsx)(d.r,{className:"text-2xl"})})]}),Object(b.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 mt-3",children:[!0===this.state.loading&&Object(b.jsx)("div",{children:Object(b.jsx)(p.a,{})}),Object(b.jsx)(m.a,{onClick:this.props.onCancel,type:"button",theme:"default",disabled:this.state.loading,children:"Go Back"}),Object(b.jsx)(m.a,{type:"submit",theme:"accent",disabled:this.state.loading,children:!0===this.state.loading?"Loading, please wait...":"Register Account"})]})]})]})}}]),a}(i.Component)},427:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var s=a(19),n=a(20),r=a(21),c=a(22),l=a(4),i=a(25),o=a(23),d=a(26),h=a(17),m=a(1),u=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1,error:"",success:"",search_data:""},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){null===this.props.accounts&&this.props.FC_GetAccounts(this.props.selected_development_partner.id)}},{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"bg-white p-2 rounded",children:[Object(m.jsxs)("div",{className:"bg-gray-100 py-1 flex flex-row items-center gap-2 rounded px-2 animate__animated animate__fadeIn",children:[Object(m.jsx)("div",{children:Object(m.jsx)("div",{onClick:function(){!1===e.state.loading&&e.props.onCancel()},className:"bg-white rounded-full flex items-center justify-center h-9 w-9 cursor-pointer hover:bg-accent-900 hover:text-white",children:Object(m.jsx)(i.a,{className:"text-2xl"})})}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"text-xl font-bold",children:"List of user accounts"}),Object(m.jsx)("div",{className:"text-sm font-bold text-accent-900 bg-accent-400 border border-accent-500 rounded-full px-2 w-max",children:this.props.selected_development_partner.development_partner_name})]})]}),Object(m.jsx)("div",{className:"mt-3 bg-white rounded p-2",children:!0===this.state.loading||null===this.props.accounts||!0===this.props.loading?Object(m.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-8",children:[Object(m.jsx)(d.a,{}),Object(m.jsx)("div",{className:"font-light text-center",children:"Loading, please wait..."})]}):Object(m.jsxs)("div",{children:[this.props.accounts.length>0&&Object(m.jsx)("div",{className:"",children:Object(m.jsx)("input",{type:"search",className:"px-3 py-2 font-bold border border-gray-400 w-full rounded",placeholder:"Search...",value:this.state.search_data,onChange:function(t){return e.setState({search_data:t.target.value,error:"",success:""})}})}),0===this.props.accounts.length&&Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"flex flex-col items-center justify-center text-center bg-gray-100 rounded-md my-3 p-5",children:[Object(m.jsx)("div",{className:"text-xl font-bold",children:"Add new account"}),Object(m.jsxs)("div",{className:"text-sm text-gray-500",children:["Click the following button to add an account under"," ",this.props.selected_development_partner.development_partner_name]}),Object(m.jsx)("div",{className:"mt-2",children:Object(m.jsx)(o.a,{theme:"accent",onClick:this.props.onAddNewAccount,className:"animate__animated animate__zoomIn",children:"Create new account"})})]})}),this.props.accounts.length>0&&Object(m.jsx)("div",{children:0===Object(h.n)(this.props.accounts,this.state.search_data).length?Object(m.jsx)("div",{className:"text-base font-light p-3",children:"No result found!"}):Object(m.jsx)("div",{className:"mt-2",children:Object(m.jsxs)("table",{className:"w-full text-left text-sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{className:"border-b border-gray-300",children:[Object(m.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"First name"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"Last name"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"National ID"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"Phone number"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"Email"}),Object(m.jsx)("th",{className:"px-3 py-2",children:"Role"})]})}),Object(m.jsx)("tbody",{children:Object(h.n)(this.props.accounts,this.state.search_data).map((function(e,t){return Object(m.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"),children:[Object(m.jsx)("td",{className:"px-3 py-2",children:t+1}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.first_name}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.last_name}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.nid}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.phone_numbers}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.email}),Object(m.jsx)("td",{className:"px-3 py-2",children:e.role})]},t+1)}))})]})})})]})})]})})}}]),a}(l.Component)},624:function(e,t,a){"use strict";a.r(t),a.d(t,"DPAccount",(function(){return _}));var s=a(19),n=a(20),r=a(21),c=a(22),l=a(4),i=a(54),o=a(15),d=a(36),h=a(13),m=a(43),u=a(23),j=a(26),p=a(426),b=a(427),x=a(17),g=a(1),v=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1,searchData:""},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"m-2 md:m-6 bg-white p-2 border border-gray-200 rounded-md shadow-xl animate__animated animate__zoomIn",children:[Object(g.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 w-full mb-2",children:[Object(g.jsx)("div",{className:"text-lg font-bold mx-1 mb-1",children:"Choose Training provider"}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{onClick:this.props.onClose,className:"bg-accent-400 text-accent-900 rounded-full cursor-pointer h-8 w-8 flex items-center justify-center hover:bg-accent-900 hover:text-white",children:Object(g.jsx)(o.r,{className:"text-3xl"})})})]}),Object(g.jsx)("div",{children:Object(g.jsx)("input",{type:"text",className:"px-3 py-2 rounded border border-gray-400 w-full",value:this.state.searchData,onChange:function(t){return e.setState({searchData:t.target.value})}})}),Object(g.jsx)("div",{children:0===Object(x.n)(this.props.data,this.state.searchData).length?Object(g.jsx)("div",{className:"text-xl font-light py-3 px-2",children:"No result found!"}):Object(g.jsx)("div",{children:Object(g.jsxs)("table",{className:"w-full text-left text-sm mt-2",children:[Object(g.jsx)("thead",{className:"",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(g.jsx)("th",{className:"px-3 py-2",children:"Provider name"}),Object(g.jsx)("th",{className:"px-3 py-2",children:"Category"}),Object(g.jsx)("th",{className:"px-3 py-2",children:"Phone number"}),Object(g.jsx)("th",{className:"px-3 py-2",children:"Email"}),Object(g.jsx)("th",{className:"px-3 py-2",children:"Location"}),Object(g.jsx)("th",{className:"px-3 py-2"})]})}),Object(g.jsx)("tbody",{children:Object(x.n)(this.props.data,this.state.searchData).map((function(t,a){var s;return Object(g.jsxs)("tr",{className:"".concat((null===(s=e.props.selected)||void 0===s?void 0:s.id)===t.id?"bg-accent-400 text-accent-900":a%2!==0?"bg-white":""," group cursor-pointer hover:bg-accent-400"),onClick:function(){return e.props.onSelectDp(t)},children:[Object(g.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:a+1}),Object(g.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:t.development_partner_name}),Object(g.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:t.organization_category}),Object(g.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:t.phone}),Object(g.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:t.email}),Object(g.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:t.location}),Object(g.jsx)("td",{className:"border border-gray-300 px-2 w-20",children:Object(g.jsx)("div",{className:"bg-accent-400 group-hover:bg-accent-900 text-center w-full px-2 py-1 rounded text-accent-900 float-right group-hover:text-white cursor-pointer",children:"Select"})})]},a+1)}))})]})})})]})})}}]),a}(l.Component),f=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).FC_GetDPApplications=function(){n.setState({loading:!0,error:"",success:""});var e=m.c.APPROVED;Object(m.h)(e,(function(e,t){n.setState({loading:e}),null!==t&&"success"===t.type&&n.setState({developmentPartners:t.data,error:"",success:t.msg,loading:!1}),null!==t&&"error"===t.type&&n.setState({developmentPartners:null,success:"",error:t.msg,loading:!1})}))},n.FC_GetAccounts=function(e){n.setState({loading:!0}),Object(m.g)(e,(function(e,t){n.setState({loading:e}),null!==t&&"success"===t.status&&n.setState({accounts:t.data,loading:!1,error:"",success:""}),null!==t&&"error"===t.status&&n.setState({accounts:[],loading:!1,error:t.msg,success:""})}))},n.componentDidMount=function(){null!==n.state.developmentPartners&&0!==n.state.developmentPartners.dp_application.length||n.FC_GetDPApplications()},n.state={loading:!1,action:"list",developmentPartners:null,error:"",success:"",selected_development_partner:null,open_select_development_partner:!1,accounts:null},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{className:"container mx-auto p-3",children:[Object(g.jsxs)("div",{className:"bg-white rounded p-2 relative",children:[Object(g.jsxs)("div",{className:"grid grid-cols-12 gap-3 lg:gap-0",children:[Object(g.jsxs)("div",{className:"col-span-12 lg:col-span-4",children:[Object(g.jsx)("div",{className:"text-xl font-bold ml-1",children:"Training providers accounts"}),Object(g.jsx)("div",{className:"-mt-1 text-sm text-gray-500 ml-1",children:"List of all accounts grouped in their training providers"})]}),Object(g.jsx)("div",{className:"col-span-12 lg:col-span-4",children:Object(g.jsxs)("div",{className:"flex flex-row items-center justify-between border ".concat(null===this.state.selected_development_partner?"border-accent-800 bg-accent-400":"border-gray-400 font-bold","  px-3 py-2 rounded cursor-pointer hover:bg-accent-400 hover:border-accent-800 hover:text-accent-900"),onClick:function(){return e.setState({open_select_development_partner:!e.state.open_select_development_partner})},children:[Object(g.jsx)("span",{className:"truncate",children:null===this.state.selected_development_partner?"Choose training provider":this.state.selected_development_partner.development_partner_name}),Object(g.jsx)("div",{children:Object(g.jsx)(o.J,{className:"text-xl"})})]})}),Object(g.jsxs)("div",{className:"col-span-12 lg:col-span-4 flex flex-row justify-end gap-2",children:[Object(g.jsxs)("div",{onClick:function(){!1===e.state.loading&&e.setState({action:"list"})},className:"px-2 py-2 pr-4 rounded w-max flex flex-row items-center gap-2 ".concat("list"===this.state.action?"bg-accent-400 text-accent-900 font-bold":"bg-gray-200 hover:bg-accent-400 hover:text-accent-900"," cursor-pointer h-10"),children:[Object(g.jsx)("div",{children:Object(g.jsx)(i.l,{className:"text-xl"})}),Object(g.jsx)("span",{className:"",children:"View list"})]}),Object(g.jsxs)("div",{onClick:function(){!1===e.state.loading&&e.setState({action:"create"})},className:"px-2 py-2 pr-4 rounded w-max flex flex-row items-center gap-2 ".concat("create"===this.state.action?"bg-accent-400 text-accent-900 font-bold":"bg-gray-200 hover:bg-accent-400 hover:text-accent-900"," cursor-pointer h-10"),children:[Object(g.jsx)("div",{children:Object(g.jsx)(i.n,{className:"text-xl"})}),Object(g.jsx)("span",{className:"",children:"Create account"})]})]})]}),!0===this.state.open_select_development_partner&&null!==this.state.developmentPartners&&Object(g.jsx)("div",{className:"absolute right-0 left-0",style:{zIndex:9},children:Object(g.jsx)(v,{data:this.state.developmentPartners.dp_application,selected:this.state.selected_development_partner,onSelectDp:function(t){e.setState({selected_development_partner:t,open_select_development_partner:!1,accounts:null}),"list"===e.state.action&&e.FC_GetAccounts(t.id)},onClose:function(){return e.setState({open_select_development_partner:!1})}})})]}),""!==this.state.error&&Object(g.jsxs)("div",{onClick:function(){return e.setState({error:"",success:""})},className:"bg-red-100 text-red-600 font-bold w-full px-3 py-2 rounded-md cursor-pointer hover:bg-red-200 border-2 border-white my-2 animate__animated animate__shakeX flex flex-row items-center justify-between gap-2",children:[Object(g.jsx)("div",{children:this.state.error}),Object(g.jsx)("div",{children:Object(g.jsx)(o.r,{className:"text-2xl"})})]}),Object(g.jsx)("div",{className:"mt-3",children:!0===this.state.loading?Object(g.jsxs)("div",{className:"bg-white p-8 rounded-md flex flex-col items-center justify-center",children:[Object(g.jsx)(j.a,{}),Object(g.jsx)("div",{className:"text-center text-xl font-light",children:"Loading, please wait..."})]}):Object(g.jsxs)("div",{children:[null===this.state.selected_development_partner&&Object(g.jsx)("div",{className:"bg-white rounded-md my-3 p-4",children:Object(g.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(g.jsx)("div",{className:"text-xl font-bold mt-2",children:"Training provider"}),Object(g.jsx)("div",{className:"text-sm text-gray-600",children:"Click the following button to choose the training provider"}),Object(g.jsx)(u.a,{onClick:function(){return e.setState({open_select_development_partner:!0})},theme:"accent",className:"my-3",children:"Choose Training provider"})]})}),"create"===this.state.action&&null!==this.state.selected_development_partner&&Object(g.jsx)("div",{children:Object(g.jsx)(p.a,{developmentPartner:this.state.selected_development_partner,onCancel:function(){e.setState({action:"create"===e.state.action?"list":"create"})}})}),"list"===this.state.action&&null!==this.state.selected_development_partner&&Object(g.jsx)("div",{children:Object(g.jsx)(b.a,{selected_development_partner:this.state.selected_development_partner,onCancel:function(){e.setState({action:"create"===e.state.action?"list":"create"})},FC_GetAccounts:this.FC_GetAccounts,accounts:this.state.accounts,onAddNewAccount:function(){return e.setState({action:"create"})},loading:this.state.loading})})]})})]})}}]),a}(l.Component),_=Object(d.b)((function(e){return{basic:e.basic}}),{FC_GetAllSystemRoles:h.B})(f)}}]);
//# sourceMappingURL=41.f73832da.chunk.js.map