{"version":3,"sources":["components/GenerateReport/ExportToExcel.tsx","containers/DistributedVaccantReport/DistributedVaccantReport.tsx"],"names":["ExportToExcel","fileData","fileName","btnName","className","showIcon","onClick","e","apiData","wb","Sheets","data","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","type","Blob","FileSaver","exportToCSV","React","memo","_DistributedVaccantReport","props","state","loading","error","target","msg","this","basic","academic_calender","setState","FC_DistributedVacantPosts","academic_year_id","status","theme","academic_year_name","rowSpan","colSpan","length","map","el","i","district_code","district_name","A0_distributed","A0_limits","A0_remaining","A0_total","A1_distributed","A1_limits","A1_remaining","A1_total","A2_distributed","A2_limits","A2_remaining","A2_total","district_total_distributed","district_total_limits","district_total_remaining","district_total","Component","DistributedVaccantReport","connect","auth"],"mappings":"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","file":"static/js/35.d98aaa65.chunk.js","sourcesContent":["import React from \"react\";\nimport * as FileSaver from \"file-saver\";\nimport * as XLSX from \"xlsx\";\nimport { RiFileExcel2Fill } from \"react-icons/ri\";\n\ninterface ExportToExcelProps {\n  fileData: any[];\n  fileName: string;\n  btnName?: string;\n  className?: string;\n  showIcon?: boolean;\n}\n\nconst ExportToExcel: React.FC<ExportToExcelProps> = ({\n  fileData,\n  fileName,\n  btnName = \"Excel\",\n  className = \"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold\",\n  showIcon = true,\n}) => {\n  const fileType =\n    \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\n  const fileExtension = \".xlsx\";\n\n  const exportToCSV = (apiData: any[], fileName: string) => {\n    const ws = XLSX.utils.json_to_sheet(apiData);\n    const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\n    const excelBuffer = XLSX.write(wb, { bookType: \"xlsx\", type: \"array\" });\n    const data = new Blob([excelBuffer], { type: fileType });\n    FileSaver.saveAs(data, fileName + fileExtension);\n  };\n\n  return (\n    <button\n      onClick={(e) => exportToCSV(fileData, fileName)}\n      className={className}\n    >\n      {showIcon && <RiFileExcel2Fill />}\n      {btnName}\n    </button>\n  );\n};\n\nexport default React.memo(ExportToExcel);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  Basic,\n  DistributedVacantPostsReport__Interface,\n  FC_DistributedVacantPosts,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\n// import DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport ExportToExcel from \"../../components/GenerateReport/ExportToExcel\";\nimport Heading from \"../../components/Heading/Heading\";\nimport Loading from \"../../components/Loading/Loading\";\nimport { StoreState } from \"../../reducers\";\n// import Alert, { AlertInterface } from \"../../components/Alert/Alert\";\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n  basic: Basic;\n}\n\ninterface AppState {\n  loading: boolean;\n  data: DistributedVacantPostsReport__Interface[];\n  error: {\n    target: \"main-error\" | \"main-success\" | null;\n    msg: string;\n  };\n}\n\nexport interface DistributionVacant_Qualification {\n  qualification_id: string;\n  qualification_name: string;\n  total: number;\n  limits: number;\n  distributed: number;\n  remaining: number;\n}\nexport interface API_DistributedVacantPosts {\n  district_code: string;\n  district_name: string;\n  teachers_on_qualification: DistributionVacant_Qualification[];\n}\n\nclass _DistributedVaccantReport extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      data: [],\n      error: {\n        target: null,\n        msg: \"\",\n      },\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.basic.academic_calender)\n      return this.setState({\n        error: {\n          target: \"main-error\",\n          msg: \"No academic_calender found!, please try again later\",\n        },\n      });\n    this.setState({\n      loading: true,\n    });\n\n    FC_DistributedVacantPosts(\n      this.props.basic.academic_calender.academic_year_id,\n      (status, data, msg) => {\n        this.setState({\n          loading: false,\n          data: data,\n          error: status\n            ? { msg: \"\", target: null }\n            : { target: \"main-error\", msg },\n        });\n      }\n    );\n  }\n\n  render() {\n    if (this.state.loading === true)\n      return (\n        <div className=\"py-8 text-center text-4xl\">\n          <Loading />\n        </div>\n      );\n    return (\n      <div className=\"max-w-screen-lg  mx-auto bg-white p-2 rounded \">\n        {this.state.error.target === \"main-error\" && (\n          <Alert theme=\"danger\">{this.state.error.msg}</Alert>\n        )}\n        {this.state.error.target === \"main-success\" && (\n          <Alert theme=\"success\">{this.state.error.msg}</Alert>\n        )}\n\n        <div className=\"p-1 py-2 flex\">\n          <section className=\"flex-1\">\n            <Heading>Distributed Vacant Posts</Heading>\n            <h4 className=\"text-gray-700\">\n              {this.props.basic.academic_calender?.academic_year_name}\n            </h4>\n          </section>\n          <section>\n            <ExportToExcel\n              fileData={this.state.data}\n              fileName={`REPORT OF DISTRIBUTED VACANT POSTS ${this.props.basic.academic_calender?.academic_year_name}`}\n              btnName=\"Download EXCEL\"\n            />\n          </section>\n        </div>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"\">\n            <thead>\n              <tr>\n                <th className=\"p-2 border\" rowSpan={2}>\n                  #\n                </th>\n                <th className=\"p-2 border\" rowSpan={2}>\n                  District code\n                </th>\n                <th className=\"p-2 border\" rowSpan={2}>\n                  District name\n                </th>\n\n                <th className=\"p-2 border bg-blue-100\" colSpan={4}>\n                  A0\n                </th>\n\n                <th className=\"p-2 border bg-yellow-100\" colSpan={4}>\n                  A1\n                </th>\n\n                <th className=\"p-2 border bg-indigo-100\" colSpan={4}>\n                  A2\n                </th>\n\n                <th className=\"p-2 border bg-green-100\" colSpan={4}>\n                  District\n                </th>\n              </tr>\n\n              <tr>\n                {/* <th className=\"p-2 border\" >\n                  #\n                </th> */}\n                {/* <th className=\"p-2 border\">district_code</th>\n                <th className=\"p-2 border\">district_name</th> */}\n\n                <th className=\"p-2 border bg-opacity-50 bg-blue-100\">\n                  distributed\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-blue-100\">limits</th>\n                <th className=\"p-2 border bg-opacity-50 bg-blue-100\">\n                  remaining\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-blue-100\">total</th>\n\n                <th className=\"p-2 border bg-opacity-50 bg-yellow-100\">\n                  distributed\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-yellow-100\">\n                  limits\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-yellow-100\">\n                  remaining\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-yellow-100\">\n                  total\n                </th>\n\n                <th className=\"p-2 border bg-opacity-50 bg-indigo-100\">\n                  distributed\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-indigo-100\">\n                  limits\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-indigo-100\">\n                  remaining\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-indigo-100\">\n                  total\n                </th>\n\n                <th className=\"p-2 border bg-opacity-50 bg-green-100\">\n                  District distributed\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-green-100\">\n                  District limits\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-green-100\">\n                  District remaining\n                </th>\n                <th className=\"p-2 border bg-opacity-50 bg-green-100\">\n                  District total\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.data.length <= 0 ? (\n                <tr>\n                  <td colSpan={40}>No data found</td>\n                </tr>\n              ) : (\n                this.state.data.map((el, i) => (\n                  <tr key={i}>\n                    <td className=\"p-2 border\">{i + 1}</td>\n                    <td className=\"p-2 border\">{el.district_code}</td>\n                    <td className=\"p-2 border\">{el.district_name}</td>\n\n                    <td className=\"p-2 border bg-opacity-40 bg-blue-100\">\n                      {el.A0_distributed}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-blue-100\">\n                      {el.A0_limits}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-blue-100\">\n                      {el.A0_remaining}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-blue-100\">\n                      {el.A0_total}\n                    </td>\n\n                    <td className=\"p-2 border bg-opacity-40 bg-yellow-100\">\n                      {el.A1_distributed}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-yellow-100\">\n                      {el.A1_limits}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-yellow-100\">\n                      {el.A1_remaining}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-yellow-100\">\n                      {el.A1_total}\n                    </td>\n\n                    <td className=\"p-2 border bg-opacity-40 bg-indigo-100\">\n                      {el.A2_distributed}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-indigo-100\">\n                      {el.A2_limits}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-indigo-100\">\n                      {el.A2_remaining}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-indigo-100\">\n                      {el.A2_total}\n                    </td>\n\n                    <td className=\"p-2 border bg-opacity-40 bg-green-100\">\n                      {el.district_total_distributed}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-green-100\">\n                      {el.district_total_limits}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-green-100\">\n                      {el.district_total_remaining}\n                    </td>\n                    <td className=\"p-2 border bg-opacity-40 bg-green-100\">\n                      {el.district_total}\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  basic,\n}: StoreState): { auth: Auth; basic: Basic } => {\n  return { auth: auth, basic: basic };\n};\n\nexport const DistributedVaccantReport = connect(\n  mapStateToProps,\n  {}\n)(_DistributedVaccantReport);\n"],"sourceRoot":""}