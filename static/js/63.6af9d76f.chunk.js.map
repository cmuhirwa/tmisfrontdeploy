{"version":3,"sources":["containers/DistrictInternalPermutationReport/DistrictInternalPermutationReport.tsx"],"names":["DistrictInternalPermutationReport","connect","auth","console","log","district","district_code","useState","loading","setLoading","error","setError","data","setData","useEffect","FC_InternalPermutationReport","status","err","className","length","fileData","fileName","Date","toISOString","btnName","theme","colSpan","map","el","i","teacher_one_staff_code","teacher_one_full_name","teacher_one_nid","teacher_one_phone_number","teacher_one_school_code_from","teacher_one_school_name_from","teacher_one_school_code_togo","teacher_one_school_name_togo","teacher_two_staff_code","teacher_two_full_name","teacher_two_nid","teacher_two_phone_number","teacher_two_school_code_from","teacher_two_school_name_from","teacher_two_school_code_togo","teacher_two_school_nane_togo","position_code","position_name","qualification_name","done_at"],"mappings":"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","file":"static/js/63.6af9d76f.chunk.js","sourcesContent":["import React, { FC, ReactElement, useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  FC_InternalPermutationReport,\n  InternalPermutationReport,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\nimport DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport ExportToExcel from \"../../components/GenerateReport/ExportToExcel\";\nimport Heading from \"../../components/Heading/Heading\";\nimport Loading from \"../../components/Loading/Loading\";\nimport { StoreState } from \"../../reducers\";\n\ntype DistrictInternalPermutationReportProps = {\n  auth: Auth;\n};\n\nconst _DistrictInternalPermutationReport: FC<\n  DistrictInternalPermutationReportProps\n> = ({ auth }): ReactElement => {\n  console.log(auth.district?.district_code);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [data, setData] = useState<InternalPermutationReport[]>([]);\n\n  useEffect(() => {\n    if (loading === true) {\n      if (auth.district?.district_code) {\n        console.log(\"Load data\");\n\n        FC_InternalPermutationReport(\n          auth.district?.district_code + \"\",\n          (status, data, err) => {\n            setData(data);\n            if (status === false) setError(err);\n            setLoading(false);\n          }\n        );\n      } else {\n        setError(\"No district assigned to you!\");\n        setLoading(false);\n      }\n    }\n  }, [auth.district?.district_code, loading]);\n\n  /* function body */\n  return (\n    <DashboardContainer>\n      <div className=\"py-1 flex border-b\">\n        <div className=\"flex-1\">\n          <Heading>Internal Permutation report</Heading>\n        </div>\n        <div>\n          {data.length >= 1 && (\n            <ExportToExcel\n              fileData={data}\n              fileName={`Internal Permutation - ${new Date().toISOString()}`}\n              btnName=\"Download EXCEL\"\n            />\n          )}\n        </div>\n      </div>\n\n      {error !== \"\" && <Alert theme=\"danger\">{error}</Alert>}\n\n      <div className=\"lg:pl-10 lg:max-w-screen-lg md:max-w-screen-md xl:max-w-screen-xl 2xl:max-w-screen-2xl overflow-auto\">\n        <table className=\"w-full pl-10 overflow-auto max-w-xl\">\n          <thead>\n            <tr>\n              <th className=\"p-2 border border-gray-400\"></th>\n              <th\n                className=\"p-2 border bg-blue-100 border-gray-400\"\n                colSpan={6}\n              >\n                Teacher one\n              </th>\n              <th\n                className=\"p-2 border bg-green-100 border-gray-400\"\n                colSpan={6}\n              >\n                Teacher two\n              </th>\n              <th className=\"p-2 border\" colSpan={4}>\n                Academic info\n              </th>\n            </tr>\n\n            <tr>\n              <th className=\"p-2 border border-gray-400\">#</th>\n              <th className=\"border p-2 bg-blue-100 border-gray-400\">\n                staff_code\n              </th>\n              <th className=\"border p-2  bg-blue-100 border-gray-400\">\n                full_name\n              </th>\n              <th className=\"border p-2  bg-blue-100 border-gray-400\">nid</th>\n              <th className=\"border p-2  bg-blue-100 border-gray-400\">\n                phone_number\n              </th>\n              <th className=\"border p-2  bg-blue-100 border-gray-400\">\n                school_nane_from\n              </th>\n              <th className=\"border p-2  bg-blue-100 border-gray-400\">\n                school_code_togo\n              </th>\n\n              <th className=\"border p-2 bg-green-100 border-gray-400\">\n                staff_code\n              </th>\n              <th className=\"border p-2 bg-green-100 border-gray-400\">\n                full_name\n              </th>\n              <th className=\"border p-2 bg-green-100 border-gray-400\">nid</th>\n              <th className=\"border p-2 bg-green-100 border-gray-400\">\n                phone_number\n              </th>\n              <th className=\"border p-2 bg-green-100 border-gray-400\">\n                school_name_from\n              </th>\n              <th className=\"border p-2 bg-green-100 border-gray-400\">\n                school_nane_togo\n              </th>\n\n              <th className=\"border p-2\">position_code</th>\n              <th className=\"border p-2\">position_name</th>\n              <th className=\"border p-2\">qualification_name</th>\n              <th className=\"border p-2\">done_at</th>\n            </tr>\n\n            {loading === true && (\n              <tr>\n                <td colSpan={8} className=\"py-8\">\n                  <Loading />\n                </td>\n              </tr>\n            )}\n\n            {data.length === 0 && (\n              <tr>\n                <td colSpan={8} className=\"py-8 text-center\">\n                  <h2 className=\"text-2xl\">No placement found!</h2>\n                  <p>No placement found!</p>\n                </td>\n              </tr>\n            )}\n            {data.map((el, i) => (\n              <tr>\n                <td className=\"p-2 border-1\">{i + 1}</td>\n                <td className=\"border p-2 bg-blue-50 border-gray-400\">\n                  {el.teacher_one_staff_code}\n                </td>\n                <td className=\"border p-2 bg-blue-50 border-gray-400\">\n                  {el.teacher_one_full_name}\n                </td>\n                <td className=\"border p-2 bg-blue-50 border-gray-400\">\n                  {el.teacher_one_nid}\n                </td>\n                <td className=\"border p-2 bg-blue-50 border-gray-400\">\n                  {el.teacher_one_phone_number}\n                </td>\n\n                <td className=\"border p-2 bg-blue-50 border-gray-400\">\n                  {el.teacher_one_school_code_from}{\" \"}\n                  {el.teacher_one_school_name_from}\n                </td>\n\n                <td className=\"border p-2 bg-blue-50 border-gray-400\">\n                  {el.teacher_one_school_code_togo}{\" \"}\n                  {el.teacher_one_school_name_togo}\n                </td>\n                <td className=\"border p-2 bg-green-50 border-gray-400\">\n                  {el.teacher_two_staff_code}\n                </td>\n                <td className=\"border p-2 bg-green-50 border-gray-400\">\n                  {el.teacher_two_full_name}\n                </td>\n                <td className=\"border p-2 bg-green-50 border-gray-400\">\n                  {el.teacher_two_nid}\n                </td>\n                <td className=\"border p-2 bg-green-50 border-gray-400\">\n                  {el.teacher_two_phone_number}\n                </td>\n                <td className=\"border p-2 bg-green-50 border-gray-400\">\n                  {el.teacher_two_school_code_from}{\" \"}\n                  {el.teacher_two_school_name_from}\n                </td>\n                <td className=\"border p-2 bg-green-50 border-gray-400\">\n                  {el.teacher_two_school_code_togo}{\" \"}\n                  {el.teacher_two_school_nane_togo}\n                </td>\n                <td className=\"border p-2 bg-yellow-50 border-gray-400\">\n                  {el.position_code}\n                </td>\n                <td className=\"border p-2 bg-yellow-50 border-gray-400\">\n                  {el.position_name}\n                </td>\n                <td className=\"border p-2 bg-yellow-50 border-gray-400\">\n                  {el.qualification_name}\n                </td>\n                <td className=\"border p-2 bg-yellow-50 border-gray-400\">\n                  {el.done_at}\n                </td>\n              </tr>\n            ))}\n          </thead>\n        </table>\n      </div>\n    </DashboardContainer>\n  );\n};\n\nconst mapStateToProps = ({ auth }: StoreState): { auth: Auth } => {\n  return { auth: auth };\n};\n\nexport const DistrictInternalPermutationReport = connect(\n  mapStateToProps,\n  {}\n)(_DistrictInternalPermutationReport);\n"],"sourceRoot":""}