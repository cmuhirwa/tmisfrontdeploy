{"version":3,"sources":["containers/UserProfile/AssignStaffToSchool.tsx","containers/DisabledUsers/DisabledUsers.tsx"],"names":["_AssignStaffToSchool","props","componentDidMount","district_code","loadDistricts","undefined","school_code","setState","current_school","state","districts","length","loading_districts","FC_GetDistrictList","status","data","msg","error","target","selectDistrict","itm","selected_district","district_name","open_select_district","reloadDistrictResurces","district_id","loading_resource","FC_GetAssignAssets","clearError","loading","this","className","theme","onClick","close","refreshApp","fixed","backDrop","backDropClose","title","displayClose","Themes","default","widthSizeClass","ModalSize","medium","padding","body","footer","map","dist","i","size","bind","userDetails","full_name","nid","staff_code","email","school_name","exclude_roles","assignType","no_position","school","school_id","current_position","only_post_for_school","user_id","formAccess","first_name","last_name","middle_name","phone_numbers","role_id","country_id","sector_code","qualification_id","academic_year_id","stakeholder_id","start_date_in_the_school","position_id","required","success","setTimeout","button_title","React","Component","AssignStaffToSchool","connect","auth","_DisabledUsers","startApp","FC_GetDisabledUsers","search","selected_user","RequestsList","position_code","label","name","type","onChange","e","value","placeholder","colSpan","req","DisabledUsers","basic","FC_DisableUser"],"mappings":"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","file":"static/js/46.ea38177f.chunk.js","sourcesContent":["import React from \"react\";\nimport { MdAccountCircle, MdCheckCircle } from \"react-icons/md\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  DistrictList,\n  FC_GetAssignAssets,\n  FC_GetDistrictList,\n  FT_GetAssignAssets,\n} from \"../../actions\";\nimport { AssignStuffComponent } from \"../../components/AssignStuffComponent/AssignStuffComponent\";\nimport Button from \"../../components/Buttons/Button\";\nimport DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport Loading from \"../../components/Loading/Loading\";\nimport Modal, { ModalSize, Themes } from \"../../components/Modal/Modal\";\nimport { StoreState } from \"../../reducers\";\nimport Alert from \"../../components/Alert/Alert\";\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n  // userInfo: ProfileType | null;\n  user_id: string;\n  close: () => void;\n  FC_GetAssignAssets: FT_GetAssignAssets;\n  district_code?: string | null;\n  school_code?: string | null;\n  school_name?: string | null;\n  district_name?: string | null;\n  userDetails?: {\n    full_name: string | null | undefined;\n    nid: string | null | undefined;\n    staff_code: string | null | undefined;\n    email: string | null | undefined;\n  };\n  current_position?: string | null;\n  refreshApp?: () => void;\n}\n\ninterface AppState {\n  loading: boolean;\n  district_code: string;\n  district_name: string;\n  current_school: boolean;\n  selected_district: string;\n  loading_resource: boolean;\n  error: {\n    target: \"main-success\" | \"main-error\" | \"user-updates-success\" | null;\n    msg: string;\n  };\n  loading_districts: boolean;\n  districts: DistrictList[];\n  open_select_district: boolean;\n}\n\nclass _AssignStaffToSchool extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      district_code: this.props.district_code ? this.props.district_code : \"\",\n      district_name: this.props.district_name ? this.props.district_name : \"\",\n      current_school: true,\n      selected_district: this.props.district_code\n        ? this.props.district_code\n        : \"\",\n      loading_resource: false,\n      error: {\n        msg: \"\",\n        target: null,\n      },\n      loading_districts: false,\n      districts: [],\n      open_select_district: false,\n    };\n  }\n\n  componentDidMount = () => {\n    if (!this.props.district_code) this.loadDistricts();\n    if (this.props.school_code === undefined)\n      this.setState({ current_school: false });\n  };\n\n  loadDistricts = () => {\n    if (this.state.districts.length <= 0) {\n      this.setState({ loading_districts: true });\n      FC_GetDistrictList((status, data, msg) => {\n        if (status) {\n          this.setState({\n            loading_districts: false,\n            districts: data,\n          });\n        } else {\n          this.setState({\n            loading_districts: false,\n            districts: [],\n            error: {\n              msg: msg,\n              target: \"main-error\",\n            },\n          });\n        }\n      });\n    }\n  };\n\n  selectDistrict = (itm: DistrictList) => {\n    this.setState({\n      selected_district: itm.district_code,\n      district_code: itm.district_code,\n      district_name: itm.district_name,\n      open_select_district: false,\n    });\n    this.reloadDistrictResurces(itm.district_code);\n  };\n\n  reloadDistrictResurces = (district_id: string) => {\n    if (!district_id) return;\n\n    this.setState({ loading_resource: true });\n    this.props.FC_GetAssignAssets(district_id, (status, msg) => {\n      if (status) {\n        this.setState({\n          loading_resource: false,\n        });\n      } else {\n        this.setState({\n          loading_resource: false,\n          error: {\n            target: \"main-error\",\n            msg: \"Failed to load district resource, please try again later\",\n          },\n        });\n      }\n    });\n  };\n\n  clearError = () =>\n    this.setState({\n      error: {\n        msg: \"\",\n        target: null,\n      },\n    });\n\n  render() {\n    // if (this.state.error.target === null)\n    if (this.state.error.target === \"user-updates-success\")\n      return (\n        <DashboardContainer className=\"animate__animated animate__zoomIn \">\n          <div className=\"text-center py-10\">\n            <MdCheckCircle className=\"text-8xl text-green-600 mx-auto\" />\n\n            <h1 className=\"text-2xl font-bold text-green-600\">\n              The user has been updated successfully\n            </h1>\n            <p className=\"mt-2 text-gray-600 pb-4\">\n              The information has been updated successfully, <br /> you can\n              close the window and continue with other users\n            </p>\n\n            <Button\n              theme=\"success-light\"\n              onClick={() => {\n                this.props.close();\n                if (this.props.refreshApp) this.props.refreshApp();\n              }}\n            >\n              Goo back to the profile\n            </Button>\n          </div>\n        </DashboardContainer>\n      );\n    return (\n      <>\n        {this.state.error.target === \"main-error\" && (\n          <Alert theme=\"danger\" fixed onClick={this.clearError}>\n            {this.state.error.msg}\n          </Alert>\n        )}\n        {this.state.error.target === \"main-success\" && (\n          <Alert theme=\"success\" fixed onClick={this.clearError}>\n            {this.state.error.msg}\n          </Alert>\n        )}\n\n        <div className=\" \">\n          {this.state.open_select_district === true && (\n            <>\n              <div\n                className=\"fixed top-0 bottom-0 z-50 right-0 left-0 bg-black bg-opacity-60\"\n                onClick={() => this.setState({ open_select_district: false })}\n              ></div>\n              <Modal\n                backDrop={true}\n                backDropClose={true}\n                close={() => this.setState({ open_select_district: false })}\n                title={\"Choose district\"}\n                displayClose={true}\n                theme={Themes.default}\n                widthSizeClass={ModalSize.medium}\n                padding={{\n                  title: true,\n                  body: true,\n                  footer: true,\n                }}\n              >\n                {this.state.loading_districts === true ? (\n                  <Loading className=\"mx-auto text-center\" />\n                ) : this.state.districts.length === 0 ? (\n                  <div className=\"py-5 text-center\">No results found!</div>\n                ) : (\n                  <div>\n                    {this.state.districts.map((dist, i) => (\n                      <div\n                        className=\"p-1 border-b flex hover:bg-yellow-50\"\n                        key={i}\n                      >\n                        <h6>{dist.district_code}</h6>\n                        <h6 className=\"flex-1 font-bold px-4\">\n                          {dist.district_name}\n                        </h6>\n                        <Button\n                          theme=\"accent-light\"\n                          size=\"sm\"\n                          onClick={this.selectDistrict.bind(this, dist)}\n                        >\n                          Select district\n                        </Button>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </Modal>\n            </>\n          )}\n          <div className=\"flex p-1 items-center border-b container mx-auto\">\n            <h1 className=\"text-2xl flex-1 font-bold \">\n              Change user schools & Position\n            </h1>\n            <Button theme=\"danger-light\" onClick={this.props.close}>\n              Close\n            </Button>\n          </div>\n\n          {this.props.userDetails !== undefined && (\n            <DashboardContainer>\n              <div className=\" bg-white mb-2 rounded items-center flex\">\n                <div className=\"\">\n                  <MdAccountCircle className=\"text-6xl\" />\n                </div>\n                <div className=\"flex-1 pl-2 grid grid-cols-2\">\n                  <p>\n                    <span className=\"text-gray-600\">Names: </span>{\" \"}\n                    <b>{this.props.userDetails?.full_name}</b>\n                  </p>\n                  <p>\n                    <span className=\"text-gray-600\">NID: </span>{\" \"}\n                    <b>{this.props.userDetails?.nid}</b>\n                  </p>\n                  <p>\n                    <span className=\"text-gray-600\">Staff code: </span>{\" \"}\n                    <b>{this.props.userDetails?.staff_code}</b>\n                  </p>\n                  <p>\n                    <span className=\"text-gray-600\">Email: </span>{\" \"}\n                    <b>{this.props.userDetails?.email}</b>\n                  </p>\n                </div>\n              </div>\n            </DashboardContainer>\n          )}\n\n          <div className=\"my-2 hidden\">\n            <DashboardContainer>\n              <div className=\"flex gap-3\">\n                <div className=\"flex-1 flex items-center bg-gray-100 rounded p-1\">\n                  {this.state.current_school === false && (\n                    <>\n                      {/* <h2 className=\"text-lg pr-3\">\n                        <b>\n                          {this.state.district_name}\n                        </b>\n                        District\n                      </h2>\n                      <Button\n                        onClick={() => {\n                          this.setState({\n                            open_select_district: true,\n                          });\n                          this.loadDistricts();\n                        }}\n                        size=\"sm\"\n                        theme=\"accent-light\"\n                      >\n                        Choose District\n                      </Button> */}\n\n                      {/* {this.props.district_code + \"\" !==\n                        this.state.selected_district + \"\" &&\n                        this.props.district_code &&\n                        this.props.district_code &&\n                        this.props.district_name && (\n                          <Button\n                            onClick={() => {\n                              if (\n                                this.props.district_code &&\n                                this.props.district_code\n                              )\n                                this.selectDistrict({\n                                  district_code: this.props.district_code,\n                                  district_name: this.props.district_code,\n                                });\n                            }}\n                            size=\"sm\"\n                            theme=\"accent-light\"\n                          >\n                            Choose <b>{this.props.district_name}</b>\n                          </Button>\n                        )} */}\n                    </>\n                  )}\n                </div>\n                <div className=\"flex p-1 rounded bg-gray-100\">\n                  {\" \"}\n                  <h3 className=\"text-lg pr-3\">\n                    {this.state.current_school === true &&\n                      this.props?.school_name}\n                  </h3>\n                  <Button\n                    onClick={() =>\n                      this.setState({\n                        current_school: !this.state.current_school,\n                      })\n                    }\n                    size=\"sm\"\n                    theme=\"accent-light\"\n                  >\n                    {this.state.current_school === false\n                      ? \"Another school\"\n                      : \"Current school\"}\n                  </Button>\n                </div>\n              </div>\n            </DashboardContainer>\n          </div>\n\n          <div className=\"\">\n            <AssignStuffComponent\n              exclude_roles={[\"3\", \"4\", \"18\", \"21\", \"22\", \"25\", \"26\"]}\n              district_id={this.state.selected_district}\n              assignType=\"ASSIGN\"\n              no_position={true}\n              school={\n                this.state.current_school === true &&\n                this.props.school_code &&\n                this.props.school_name\n                  ? {\n                      school_id: this.props.school_code,\n                      school_name: this.props.school_name,\n                    }\n                  : undefined\n              }\n              current_position={this.props.current_position}\n              only_post_for_school={true}\n              user_id={this.props.user_id}\n              formAccess={{\n                first_name: false,\n                last_name: false,\n                full_name: false,\n                middle_name: false,\n                nid: false,\n                phone_numbers: false,\n                role_id: true,\n                country_id: false,\n                district_code: true,\n                sector_code: false,\n                school_code: true,\n                qualification_id: false,\n                academic_year_id: true,\n                stakeholder_id: false,\n                start_date_in_the_school: true,\n                position_id: true,\n              }}\n              required={{\n                first_name: false,\n                last_name: false,\n                full_name: false,\n                middle_name: false,\n                nid: true,\n                phone_numbers: true,\n                role_id: true,\n                country_id: false,\n                district_code: false,\n                sector_code: false,\n                school_code: true,\n                qualification_id: true,\n                academic_year_id: true,\n                stakeholder_id: false,\n                start_date_in_the_school: true,\n                position_id: false,\n              }}\n              success={(data) => {\n                // setStaffCreated(true);\n                this.setState({\n                  error: {\n                    target: \"user-updates-success\",\n                    msg: \"User updated successfully\",\n                  },\n                });\n\n                setTimeout(() => {\n                  if (this.props.refreshApp) this.props.refreshApp();\n                  this.props.close();\n                }, 4000);\n              }}\n              button_title=\"Update staff info\"\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth }: StoreState): { auth: Auth } => {\n  return { auth: auth };\n};\n\nexport const AssignStaffToSchool = connect(mapStateToProps, {\n  FC_GetAssignAssets,\n})(_AssignStaffToSchool);\n","import React, { Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  Basic,\n  FC_DisableUser,\n  FC_GetDisabledUsers,\n  DisabledUser,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\nimport Button from \"../../components/Buttons/Button\";\nimport DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport Heading from \"../../components/Heading/Heading\";\nimport TextInput from \"../../components/Inputs/TextInput\";\nimport Loading from \"../../components/Loading/Loading\";\nimport { StoreState } from \"../../reducers\";\nimport { search } from \"../../utils/functions\";\nimport { AssignStaffToSchool } from \"../UserProfile/AssignStaffToSchool\";\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n}\n\ninterface AppState {\n  loading: boolean;\n  error: {\n    target: \"main-success\" | \"main-error\" | null;\n    msg: string;\n  };\n  data: DisabledUser[];\n  search: string;\n  selected_user: DisabledUser | null;\n}\n\nclass _DisabledUsers extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      data: [],\n      error: {\n        target: null,\n        msg: \"\",\n      },\n      search: \"\",\n      loading: true,\n      selected_user: null,\n    };\n  }\n\n  componentDidMount = () => {\n    this.startApp();\n  };\n\n  startApp = () => {\n    this.setState({\n      loading: true,\n      error: {\n        target: null,\n        msg: \"\",\n      },\n    });\n\n    FC_GetDisabledUsers((status, data, msg) => {\n      if (status === true && data !== null) {\n        // console.log({ status, data, msg });\n        this.setState({\n          loading: false,\n          data: data,\n        });\n      } else {\n        this.setState({\n          loading: false,\n          error: {\n            msg: msg,\n            target: \"main-error\",\n          },\n        });\n      }\n    });\n  };\n\n  render() {\n    let RequestsList: DisabledUser[] = search(\n      this.state.data,\n      this.state.search,\n      {\n        school_code: true,\n        district_code: true,\n        position_code: true,\n        school_name: true,\n        district_name: true,\n        full_name: true,\n        first_name: true,\n        last_name: true,\n        email: true,\n        middle_name: true,\n        nid: true,\n        phone_numbers: true,\n        staff_code: true,\n      }\n    );\n\n    if (this.state.loading === true)\n      return (\n        <div className=\"p-8 text-center\">\n          <div className=\"mx-auto\">\n            <Loading />\n          </div>\n        </div>\n      );\n\n    if (\n      this.state.selected_user !== null &&\n      this.state.selected_user.user_id !== null\n    )\n      return (\n        <AssignStaffToSchool\n          user_id={this.state.selected_user.user_id}\n          // userInfo={this.state.userInfo}\n          userDetails={{\n            email: this.state.selected_user.email + \"\",\n            full_name: this.state.selected_user.full_name + \"\",\n            nid: this.state.selected_user.nid + \"\",\n            staff_code: this.state.selected_user.staff_code + \"\",\n          }}\n          close={() =>\n            this.setState({\n              selected_user: null,\n            })\n          }\n        />\n      );\n\n    return (\n      <Fragment>\n        <>\n          {this.state.error.target === \"main-success\" && (\n            <Alert theme=\"success\" fixed>\n              {this.state.error.msg}\n            </Alert>\n          )}\n\n          {this.state.error.target === \"main-success\" && (\n            <Alert theme=\"success\" fixed>\n              {this.state.error.msg}\n            </Alert>\n          )}\n\n          <DashboardContainer>\n            <div className=\"flex items-center\">\n              <div className=\"flex-1\">\n                <Heading>Disabled users</Heading>\n              </div>\n            </div>\n\n            <div className=\"mt-3\">\n              <div className=\"border border-t mt-2 mb-1 flex items-center pl-3 pr-2 rounded\">\n                <div className=\"flex-1 pr-2\">\n                  <TextInput\n                    error=\"\"\n                    label=\"Search\"\n                    name=\"\"\n                    type=\"search\"\n                    onChange={(e) => this.setState({ search: e.target.value })}\n                    placeholder=\"Search by district name, staff code\"\n                    value={this.state.search}\n                    size=\"sm\"\n                  />\n                </div>\n\n                <div className=\"p-2 px-3 ml-3 bg-accent-800 bg-opacity-30 rounded\">\n                  <label className=\"\">Results:</label>\n                  <h4 className=\"text-2xl -mt-1 font-bold\">\n                    {RequestsList.length}\n                  </h4>\n                </div>\n              </div>\n              <table className=\"w-full text-left table-auto\">\n                <thead>\n                  <tr>\n                    <th className=\"p-2 border\">#</th>\n                    <th className=\"p-2 border\">NID</th>\n                    <th className=\"p-2 border\">First name</th>\n                    <th className=\"p-2 border\">Last name</th>\n                    <th className=\"p-2 border\">Middle name</th>\n                    <th className=\"p-2 border\">Full name</th>\n                    <th className=\"p-2 border\">Phone number</th>\n                    <th className=\"p-2 border\"></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {RequestsList.length <= 0 ? (\n                    <tr>\n                      <td\n                        colSpan={8}\n                        className=\"p-8 border rounded border-opacity-25 animate__animated animate__fadeIn text-center\"\n                      >\n                        <Heading size=\"md\" className=\"opacity-60 font-light\">\n                          No results found\n                        </Heading>\n                      </td>\n                    </tr>\n                  ) : (\n                    RequestsList.map((req, i) => {\n                      return (\n                        <Fragment key={i}>\n                          <tr className=\"group border rounded hover:bg-blue-500 hover:bg-opacity-20 text-sm\">\n                            <td className=\"p-2 border\" key={i}>\n                              {i + 1}\n                            </td>\n                            <td className=\"p-2 border\">{req.nid}</td>\n                            <td className=\"p-2 border\">{req.first_name}</td>\n                            <td className=\"p-2 border\">{req.middle_name}</td>\n                            <td className=\"p-2 border\">{req.last_name}</td>\n                            <td className=\"p-2 border\">{req.full_name}</td>\n                            <td className=\"p-2 border\">{req.phone_numbers}</td>\n                            <td className=\" text-center border\">\n                              <Button\n                                size=\"sm\"\n                                theme=\"accent-light\"\n                                className=\"w-full\"\n                                onClick={() =>\n                                  this.setState({ selected_user: req })\n                                }\n                              >\n                                Open profile\n                              </Button>\n                            </td>\n                          </tr>\n                        </Fragment>\n                      );\n                    })\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </DashboardContainer>\n        </>\n      </Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  basic,\n}: StoreState): { auth: Auth; basic: Basic } => {\n  return { auth: auth, basic: basic };\n};\n\nexport const DisabledUsers = connect(mapStateToProps, { FC_DisableUser })(\n  _DisabledUsers\n);\n"],"sourceRoot":""}