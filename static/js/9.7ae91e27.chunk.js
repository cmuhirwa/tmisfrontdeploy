(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[9],{356:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return h})),a.d(t,"d",(function(){return u}));var s=a(3),n=a(6),i=a(7),c=a.n(i),r=a(13),l=a(12),d=a(8),o=a(11),j=function(e,t){return t(!0,null,""),function(){var a=Object(n.a)(Object(s.a)().mark((function a(n){var i,j;return Object(s.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:r.a.GET_ALL_TRANSFER,payload:[]}),Object(d.a)(),a.next=5,c.a.get("".concat(l.e,"/teachertransfers/requesteddde/").concat(e));case 5:i=a.sent,j=i.data.filter((function(e){return"APPROVED"===e.requested_status})),n({type:r.a.GET_ALL_TRANSFER,payload:j}),t(!1,j,""),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t(!1,null,Object(o.a)(a.t0));case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},b=function(){var e=Object(n.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!1,[{district_code:"11",district_name:"Nyarugenge"},{district_code:"12",district_name:"Gasabo"},{district_code:"13",district_name:"Kicukiro"},{district_code:"21",district_name:"Nyanza"},{district_code:"22",district_name:"Gisagara"},{district_code:"23",district_name:"Nyaruguru"},{district_code:"24",district_name:"Huye"},{district_code:"25",district_name:"Nyamagabe"},{district_code:"26",district_name:"Ruhango"},{district_code:"27",district_name:"Muhanga"},{district_code:"28",district_name:"Kamonyi"},{district_code:"31",district_name:"Karongi"},{district_code:"32",district_name:"Rutsiro"},{district_code:"33",district_name:"Rubavu"},{district_code:"34",district_name:"Nyabihu"},{district_code:"35",district_name:"Ngororero"},{district_code:"36",district_name:"Rusizi"},{district_code:"37",district_name:"Nyamasheke"},{district_code:"41",district_name:"Rulindo"},{district_code:"42",district_name:"Gakenke"},{district_code:"43",district_name:"Musanze"},{district_code:"44",district_name:"Burera"},{district_code:"45",district_name:"Gicumbi"},{district_code:"51",district_name:"Rwamagana"},{district_code:"52",district_name:"Nyagatare"},{district_code:"53",district_name:"Gatsibo"},{district_code:"54",district_name:"Kayonza"},{district_code:"55",district_name:"Kirehe"},{district_code:"56",district_name:"Ngoma"},{district_code:"57",district_name:"Bugesera"}],"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(n.a)(Object(s.a)().mark((function e(t,a){var n,i,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0,n=0,null,""),e.prev=2,Object(d.a)(),(i=new FormData).append("teacher_supporting_document",t),e.next=8,c.a.post("".concat(l.e,"/teachertransfers/uploadSupportingDocument"),i,{onUploadProgress:function(e){n=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,a(!0,n,null,"")}});case 8:r=e.sent,console.log("Uploaded document: ",r.data),a(!1,n,r.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),a(!1,n,"",Object(o.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}(),u=function(e,t,a){a(!0,"");return function(){var i=Object(n.a)(Object(s.a)().mark((function n(i){var j,b;return Object(s.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a(!0,""),console.log("==================doc_title=================="),console.log({doc_title:""}),console.log("==================doc_title=================="),a(!0,""),(j=new FormData).append("teacher_transfer_id",e),j.append("mayor_letter",t),console.log("==================*********************=================="),console.log({doc_title:""}),console.log("==================*********************=================="),s.prev=11,Object(d.a)(),s.next=15,c.a.post("".concat(l.e,"/teachertransfers/outgoing"),j);case 15:b=s.sent,console.log("Uploaded document: ",b.data),i({type:r.a.UPLOAD_SIGNED_DOCUMENT,payload:{teacher_transfer_id:e,mayor_letter:b.data.mayor_letter}}),a(!1,""),s.next=25;break;case 21:s.prev=21,s.t0=s.catch(11),console.error(s.t0),a(!1,Object(o.a)(s.t0));case 25:case"end":return s.stop()}}),n,null,[[11,21]])})));return function(e){return i.apply(this,arguments)}}()}},380:function(e,t,a){"use strict";a(4);var s=a(15),n=a(70),i=a(1);t.a=function(e){var t=e.onChange,a=e.value,c=e.placeholder,r=e.disabled,l=void 0!==r&&r,d=e.name,o=e.Input_className,j=void 0===o?"":o,b=e.InputContainer_className,h=void 0===b?"":b,u=e.MainContainer_className,x=void 0===u?"":u,m=e.size,g=void 0===m?"md":m,O=e.max;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"w-full my-2 ".concat(x),children:Object(i.jsx)("div",{className:"rounded relative ".concat(h," "),children:Object(i.jsxs)("div",{className:"flex p-1 px-2 rounded-lg items-center border bg-gray-100",children:[Object(i.jsx)("label",{htmlFor:d,className:"text-3xl text-gray-700",children:Object(i.jsx)(s.Hb,{})}),Object(i.jsx)("input",{type:"search",name:d,id:d,placeholder:c,onChange:t,className:" outline-none bg-transparent flex-1\n                w-full text-lg \n                ".concat(Object(n.a)(g),"\n                px-3 ").concat(j),value:a,disabled:l,maxLength:O})]})})})})}},460:function(e,t,a){"use strict";a(4);var s=a(15),n=a(23),i=a(16),c=a(1),r=void 0;t.a=function(e){var t=e.training,a=e.viewDetails,l=e.editTraining,d=e.deleteTraining,o=e.delete_loading,j=e.update_loading,b=e.i;return t.title||t.implementation_status&&"DRAFT"!==t.implementation_status?Object(c.jsxs)("tr",{onClick:null===a||void 0===a?void 0:a.bind(r,t.id),className:"text-left hover:bg-yellow-50 cursor-pointer",children:[Object(c.jsx)("td",{className:"p-2 border",children:b+1}),Object(c.jsx)("td",{className:"p-2 border",children:null===t||void 0===t?void 0:t.title}),Object(c.jsx)("td",{className:"p-2 border",children:null===t||void 0===t?void 0:t.development_partner_name}),Object(c.jsx)("td",{className:"p-2 border",children:null===t||void 0===t?void 0:t.intervention_area}),Object(c.jsx)("td",{className:"p-2 border",children:Object(i.a)(null===t||void 0===t?void 0:t.start_date)}),Object(c.jsx)("td",{className:"p-2 border",children:Object(i.a)(null===t||void 0===t?void 0:t.end_date)}),Object(c.jsx)("td",{className:"p-2 border text-center",children:Object(c.jsx)("label",{className:"px-2 py-1 font-bold  ".concat("APPROVED"===t.evaluation_status?"text-green-900 bg-green-100":"text-accent-900 bg-accent-500"," text-xs rounded-full"),children:"DRAFT"===t.implementation_status?t.implementation_status:t.evaluation_status})})]},t.id):Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text-center border",children:b+1}),Object(c.jsx)("td",{className:"bg-red-50 bg-opacity-50 p-3 border",colSpan:12,children:Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("div",{className:"text-4xl pr-3 text-accent-900",children:Object(c.jsx)(s.Rb,{})}),Object(c.jsxs)("div",{className:"flex-1",children:[Object(c.jsx)("h4",{className:"font-bold text-accent-900",children:"This training application is missing some info"}),Object(c.jsxs)("h4",{className:"text-sm",children:["Please click on ",Object(c.jsx)("u",{children:"Edit training application"})," and add more information or delete the draft if you created it accidentally."," "]})]}),Object(c.jsx)("div",{className:"pr-4",children:l&&Object(c.jsx)(n.a,{size:"sm",onClick:l.bind(r,t.id),disabled:null!==j,loading:(null===j||void 0===j?void 0:j.toString())===t.id.toString(),children:"Edit training application"})}),Object(c.jsx)("div",{className:"",children:d&&Object(c.jsx)(n.a,{size:"sm",onClick:d.bind(r,t.id),theme:"danger-light",disabled:null!==o,loading:(null===o||void 0===o?void 0:o.toString())===t.id.toString(),children:"Delete training request"})})]})})]})}},487:function(e,t,a){"use strict";a.d(t,"a",(function(){return Se}));var s=a(41),n=a(9),i=a(19),c=a(20),r=a(21),l=a(22),d=a(4),o=a.n(d),j=a(36),b=a(13),h=a(47),u=a(23),x=a(53),m=a(92),g=a(26),O=a(28),p=a(139),_=a(380),v=a(39),f=a(27),N=a(16),y=a(140),S=a(1),C=void 0,R={target:null,msg:""},T=function(e){var t=e.close,a=e.training_id,i=e.successHandler,c=(e.centers,e.selectedCenter),r=Object(d.useState)(!1),l=Object(O.a)(r,2),o=l[0],j=l[1],x=Object(d.useState)([]),m=Object(O.a)(x,2),T=m[0],E=m[1],A=Object(d.useState)([]),w=Object(O.a)(A,2),I=w[0],k=w[1],D=Object(d.useState)(!0),M=Object(O.a)(D,2),U=M[0],z=M[1],P=Object(d.useState)(R),F=Object(O.a)(P,2),G=F[0],L=F[1],q=Object(d.useState)(""),H=Object(O.a)(q,2),B=H[0],V=H[1],Y=Object(d.useState)(""),K=Object(O.a)(Y,2),W=K[0],Q=K[1],J=Object(d.useState)(""),X=Object(O.a)(J,2),$=X[0],Z=X[1],ee=Object(d.useState)(!1),te=Object(O.a)(ee,2),ae=te[0],se=te[1],ne=Object(d.useState)(null),ie=Object(O.a)(ne,2),ce=ie[0],re=ie[1],le=Object(d.useState)(!1),de=Object(O.a)(le,2),oe=de[0],je=de[1],be=Object(d.useState)(null),he=Object(O.a)(be,2),ue=he[0],xe=he[1],me=Object(d.useState)([]),ge=Object(O.a)(me,2),Oe=ge[0],pe=ge[1],_e=Object(d.useState)(""),ve=Object(O.a)(_e,2),fe=ve[0],Ne=ve[1],ye=Object(d.useState)(10),Se=Object(O.a)(ye,2),Ce=Se[0],Re=Se[1],Te=Object(d.useState)(""),Ee=Object(O.a)(Te,2),Ae=Ee[0],we=Ee[1];Object(d.useEffect)((function(){Object(b.L)((function(e,t,a){e||L({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),z(!1),k(t)})),Object(y.r)(a,(function(e,t,a){pe(t)})),void 0!==c&&null!==c&&(V(c.district_id+""),re({center_id:c.center_id+"",center_type_id:c.center_type_id+"",center_type_name:c.center_name+"",district_id:c.district_id+"",district_name:c.district_name+"",id:c.center_id+"",name:c.center_name+"",status:"ACTIVE"}),ue||Ie())}),[c,ue,a]);var Ie=function(){je(!0),Object(y.p)((function(e,t,a){e&&t?xe(t):L({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),je(!1)}))},ke=T||[];return""!==W.toString()&&(ke=ke.filter((function(e){return e.center_type_id.toString()===W.toString()}))),ke=Object(N.v)(ke||[],$,{name:!0,center_type_name:!0,district_name:!0}),Object(S.jsx)("div",{children:Object(S.jsxs)(f.d,{backDrop:!0,close:t,backDropClose:!1,displayClose:!0,title:"Add center the training",padding:{title:!0,body:void 0,footer:void 0},children:[Object(S.jsxs)("div",{className:"border-t p-2 px-3",children:["MAIN-SUCCESS"===G.target&&Object(S.jsx)(h.a,{theme:"success",children:G.msg}),"MAIN-ERROR"===G.target&&Object(S.jsx)(h.a,{theme:"danger",children:G.msg}),null===ce&&Object(S.jsxs)("div",{className:"lg:flex gap-3 border-b",children:[Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(p.a,{onChange:function(e){var t;V(e.target.value),t=e.target.value,j(!0),ue||Ie(),E([]),Object(y.q)(t,(function(e,t,a){j(!1),e||L({msg:"Error: ".concat(a),target:"MAIN-ERROR"}),E(t)}))},value:B,error:"",label:"Select a district",placeholder:"select district",name:"",data:[{title:"",value:""}].concat(Object(s.a)(I.map((function(e){return{title:e.district_name,value:e.district_code}})))),disabled:U||o})}),Object(S.jsx)("div",{className:"flex-1",children:T&&(null===ue||void 0===ue?void 0:ue.center_types)&&Object(S.jsx)(p.a,{onChange:function(e){Q(e.target.value)},value:W,error:"",label:"Select a center type",placeholder:"select center type",name:"",data:[{title:"All",value:""}].concat(Object(s.a)(null===ue||void 0===ue?void 0:ue.center_types.map((function(e){return{title:e.name||"",value:e.id||""}})))),disabled:U||o})})]}),U&&Object(S.jsx)("div",{className:"py-2 text-center mx-auto text-gray-600 animate__animated animate__fadeIn animate__infinite",children:"Loading assets ..."}),Object(S.jsx)("div",{className:"mx-auto",children:oe&&Object(S.jsx)("div",{className:"py-2 text-center",children:Object(S.jsx)(g.a,{})})}),B&&Object(S.jsx)(S.Fragment,{children:null===ce&&Object(S.jsxs)("div",{className:"p-1 rounded bg-white border animate__animated animate__zoomIn animate__faster",children:[Object(S.jsxs)("div",{className:"flex items-center border-b px-2",children:[Object(S.jsx)("h4",{className:"text-xl flex-1 font-bold ",children:"Training centers"}),Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(_.a,{onChange:function(e){return Z(e.target.value)},value:$,placeholder:"Search for a center",name:"",size:"sm"})})]}),Object(S.jsx)("div",{className:"h-96 border p-1 rounded",children:Object(S.jsxs)("table",{className:"w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"border p-1",children:"#"}),Object(S.jsx)("th",{className:"border p-1",children:"Center"}),Object(S.jsx)("th",{className:"border p-1",children:"Center type"}),Object(S.jsx)("th",{className:"border p-1",children:"District"}),Object(S.jsx)("th",{className:"border p-1 w-4"})]})}),Object(S.jsx)("tbody",{children:o?Object(S.jsx)("tr",{children:Object(S.jsx)("td",{className:"py-4 text-center",colSpan:12,children:Object(S.jsx)("div",{className:"mx-auto text-center",children:Object(S.jsx)(g.a,{})})})}):T.length<=0?Object(S.jsx)("tr",{children:Object(S.jsx)("td",{className:"py-6 text-center text-2xl text-gray-400",colSpan:12,children:Object(S.jsx)("div",{className:"mx-auto",children:"No centers found!"})})}):ke.length<=0?Object(S.jsx)("tr",{children:Object(S.jsx)("td",{className:"py-6 text-center text-2xl text-gray-400",colSpan:12,children:Object(S.jsx)("div",{className:"mx-auto",children:"No results for your search found!"})})}):ke.map((function(e,t){return Object(S.jsxs)("tr",{className:"hover:bg-accent-400",children:[Object(S.jsx)("td",{className:"border p-1 text-center",children:t+1}),Object(S.jsx)("td",{className:"border p-1 font-bold pl-2",children:e.center_name}),Object(S.jsx)("td",{className:"border p-1",children:e.center_type_name}),Object(S.jsx)("td",{className:"border p-1",children:e.district_name}),Object(S.jsx)("td",{className:"border p-1",children:Object(S.jsx)(u.a,{size:"sm",theme:"accent-light",onClick:re.bind(C,e),children:"Select"})})]},t)}))})]})})]})}),null!==ce&&Object(S.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster",children:[Object(S.jsx)("div",{className:"p-1 flex w-full border",children:Object(S.jsxs)("div",{className:"flex-1 ",children:[Object(S.jsxs)("div",{className:"flex items-center pr-2 pb-1 mb-1 border-b",children:[Object(S.jsxs)("section",{className:" p-2 flex-1",children:[Object(S.jsx)("label",{className:"text-sm text-gray-700",children:"Center name:"}),Object(S.jsx)("h2",{className:"font-bold",children:ce.name})]}),Object(S.jsx)("section",{children:Object(S.jsx)(u.a,{theme:"danger-light",onClick:re.bind(C,null),children:"Change center"})})]}),Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsxs)("section",{className:" p-2 flex-1",children:[Object(S.jsx)("label",{className:"text-sm text-gray-700",children:"Center type:"}),Object(S.jsx)("h2",{className:"font-bold",children:ce.center_type_name})]}),Object(S.jsxs)("section",{className:" p-2 flex-1",children:[Object(S.jsx)("label",{className:"text-sm text-gray-700",children:"District:"}),Object(S.jsx)("h2",{className:"font-bold",children:ce.district_name})]})]})]})}),Object(S.jsxs)("div",{className:"flex flex-col",children:[Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(p.a,{onChange:function(e){return Ne(e.target.value)},value:fe,error:"ROOM-TYPE"===G.target?G.msg:"",label:"Select training center",placeholder:"Room",name:"",data:[{title:"",value:""}].concat(Object(s.a)((null===ue||void 0===ue?void 0:ue.center_room_type.map((function(e){var t,a;return{title:null===(t=e.name)||void 0===t?void 0:t.toString(),value:(null===(a=e.id)||void 0===a?void 0:a.toString())||""}})))||[])),disabled:ae})}),Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(p.a,{onChange:function(e){return we(e.target.value)},value:Ae,error:"",label:"Select cohort",placeholder:"",name:"",data:[{title:"",value:""}].concat(Object(s.a)(Oe.map((function(e){return{title:"".concat(e.cohort_name," (").concat(Object(N.a)(e.cohort_start_date)," - ").concat(Object(N.a)(e.cohort_end_date),")"),value:e.cohort_id}}))))})}),Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(v.a,{onChange:function(e){return Re(+e.target.value)},value:Ce,error:"CAPACITY"===G.target?G.msg:"",label:"Capacity",placeholder:"Room capacity",name:"",disabled:ae})})]}),Object(S.jsx)("div",{className:"pt-3 text-right",children:Object(S.jsx)(u.a,{loading:ae,onClick:function(){try{if(L(R),null===ce)return L({target:"MAIN-ERROR",msg:"No selected center"});if(""===fe)return L({target:"ROOM-TYPE",msg:"Please select a group type"});if(Ce<=0)return L({target:"CAPACITY",msg:"Please provide a number"});se(!0),Object(y.a)({training_id:a,center_id:ce.id.toString(),group_id:fe.toString(),number_of_trainees:Ce.toString(),name:"",cohort_id:Ae},(function(e,s,n){var c,r;!0===e&&s?(se(!1),L({target:"MAIN-SUCCESS",msg:"a Group has been added to this training"}),Z(""),i({id:s,number_of_trainees:Ce,training_id:a,center_id:(null===ce||void 0===ce||null===(c=ce.center_id)||void 0===c?void 0:c.toString())||(null===ce||void 0===ce||null===(r=ce.id)||void 0===r?void 0:r.toString()),center_name:(null===ce||void 0===ce?void 0:ce.center_name)||(null===ce||void 0===ce?void 0:ce.name),center_type_id:+(null===ce||void 0===ce?void 0:ce.id),center_type_name:(null===ce||void 0===ce?void 0:ce.center_type_name)||"",district_id:+(null===ce||void 0===ce?void 0:ce.district_id),district_name:null===ce||void 0===ce?void 0:ce.district_name,group_id:s,group_name:"",status:"ACTIVE"}),re(null),setTimeout((function(){L(R),t()}),2e3)):(se(!1),L({target:"MAIN-ERROR",msg:"Error: ".concat(n)}))}))}catch(G){console.log("THis is the error"),console.log(Object(n.a)({},G))}},size:"lg",children:"Add center to the training"})})]})]}),null===ce&&Object(S.jsxs)("div",{className:"py-3 border-t",children:[Object(S.jsx)("h4",{className:"text-xl text-center font-bold",children:"Can't find it?"}),Object(S.jsxs)("p",{className:"text-center text-sm text-gray-500 pb-2",children:["If you can't find the item you are looking for ",Object(S.jsx)("br",{}),"Contact REB, they will add it here"]})]})]})})},E=a(15),A=function(e){var t=e.close,a=e.title,n=e.existing_data,i=e.path_url,c=e.submit,r=e.submit_loading,l=e.success_msg,o=e.error_msg,j=Object(d.useState)(!0),b=Object(O.a)(j,2),x=b[0],m=b[1],p=Object(d.useState)(""),_=Object(O.a)(p,2),v=_[0],N=_[1],C=Object(d.useState)([]),R=Object(O.a)(C,2),T=R[0],A=R[1],w=Object(d.useState)([]),I=Object(O.a)(w,2),k=I[0],D=I[1];Object(d.useEffect)((function(){x&&Object(y.y)(i,(function(e,t,a){m(!1),e||N("Error: ".concat(a)),A(t)}))}),[T,i,x]);return Object(S.jsx)("div",{children:Object(S.jsxs)(f.d,{backDrop:!0,close:t,backDropClose:!1,displayClose:!0,title:a,padding:{title:!0,body:void 0,footer:void 0},children:[Object(S.jsxs)("div",{className:"border-t p-2 px-3",children:[""!==l&&Object(S.jsx)(h.a,{theme:"success",children:l}),""!==o&&Object(S.jsx)(h.a,{theme:"danger",children:o}),Object(S.jsx)("p",{className:"text-center text-gray-500 pb-2",children:"Choose one or more items"}),""!==v&&Object(S.jsx)(h.a,{theme:"danger",children:v}),!0===x&&Object(S.jsx)("div",{className:"py-8 text-center",children:Object(S.jsx)(g.a,{})}),T.map((function(e,t){var a=n.find((function(t){var a,s;return(null===(a=t.id)||void 0===a?void 0:a.toString())===(null===(s=e.id)||void 0===s?void 0:s.toString())})),i=k.find((function(t){var a,s;return(null===(a=t.id)||void 0===a?void 0:a.toString())===(null===(s=e.id)||void 0===s?void 0:s.toString())}));return Object(S.jsxs)("div",{className:"".concat(i?"bg-blue-50":"bg-white","  border rounded p-2 mb-2 flex items-center cursor-pointer ").concat(a?"opacity-60":""),onClick:function(){a||function(e){if(r)return null;var t=k.find((function(t){var a,s;return(null===(a=t.id)||void 0===a?void 0:a.toString())===(null===(s=e.id)||void 0===s?void 0:s.toString())}));D(t?k.filter((function(t){var a,s;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==(null===(s=e.id)||void 0===s?void 0:s.toString())})):[].concat(Object(s.a)(k),[e]))}(e)},children:[Object(S.jsx)("div",{className:"text-3xl pr-2",children:a?Object(S.jsx)("b",{className:"text-green-300",children:Object(S.jsx)(E.o,{})}):i?Object(S.jsx)("span",{className:"text-blue-600",children:Object(S.jsx)(E.m,{})}):Object(S.jsx)("b",{className:"text-gray-700",children:Object(S.jsx)(E.n,{})})}),Object(S.jsxs)("div",{className:"flex-1",children:[Object(S.jsx)("h4",{className:"font-bold",children:e.name}),(null===e||void 0===e?void 0:e.description)&&Object(S.jsx)("p",{className:"text -mt-1",children:null===e||void 0===e?void 0:e.description})]}),Object(S.jsx)("div",{children:a&&Object(S.jsx)("span",{className:"text-xs px-1 py-0.5 bg-green-200 font-bold text-green-800 rounded-full",children:"Selected"})})]},t)})),T.length<=0&&!1===x&&Object(S.jsx)("div",{children:Object(S.jsx)(h.a,{theme:"info",children:"No results found!"})}),k.length>=1&&""===l&&""===o&&Object(S.jsx)("div",{className:"text-right pt-3",children:Object(S.jsxs)(u.a,{onClick:c.bind(undefined,k),theme:"success",size:"lg",loading:r,children:["Add ",k.length," items the list"]})})]}),T.length>=1&&Object(S.jsxs)("div",{className:"py-3 border-t",children:[Object(S.jsx)("h4",{className:"text-xl text-center font-bold",children:"Can't find it?"}),Object(S.jsxs)("p",{className:"text-center text-sm text-gray-500 pb-2",children:["If you can't find the item you are looking for ",Object(S.jsx)("br",{}),"Contact REB, they will add it here"]})]})]})})},w=function(e){var t=e.number,a=e.title,s=e.description,n=e.theme,i=e.active,c=e.priority,r=e.onClick;return Object(S.jsxs)("div",{onClick:r,className:"p-1 lg:p-1  lg:border-t-transparent lg:rounded-t-md cursor-pointer lg:border-b-4 flex text-center lg:text-left flex-row items-center lg:border-".concat(n,"-500 ").concat(!0===i?"bg-".concat(n,"-100"):""," ").concat(!1===c?"opacity-60":""),children:[Object(S.jsx)("section",{className:"p-1 lg:p-1 rounded-full border-4 ".concat("bg-".concat(n,"-500")," 0 ").concat("border-".concat(n,"yellow"===n?"-600":"-200"),"  ").concat("yellow"===n?"text-black":"text-white"," sm:px-2 lg:w-12 lg:h-12 flex items-center text-center"),children:Object(S.jsx)("h3",{className:"text-center w-full lg:text-2xl font-bold ",children:t})}),Object(S.jsxs)("section",{className:"pl-2 text-left",children:[Object(S.jsx)("h3",{className:"lg:text-lg font-bold",children:a}),Object(S.jsx)("p",{className:"text-gray-400 -mt-1 text-sm",children:s})]})]})},I=a(141),k=a(68),D=function(e){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"h-20"}),Object(S.jsxs)("div",{className:"fixed bottom-0 right-0 flex left-0 bg-white shadow-lg border-t-2 px-3 items-center",children:[Object(S.jsx)("div",{className:"main-side-spacer"}),Object(S.jsx)("div",{className:"flex-1 p-2",children:Object(S.jsx)("div",{className:"",children:e.children})})]})]})},M=void 0,U=function(e){var t=e.Icon,a=e.title,s=e.description,n=e.onCreate,i=e.create_btn_label,c=e.onUpdate,r=e.onDelete,l=e.data,d=e.createLading,o=e.deleteLoading,j=e.updateLading,b=e.error;return Object(S.jsxs)("div",{className:"rounded bg-gray-200  flex-1 ".concat(""!==b?"border-2 border-red-500":"border"),children:[Object(S.jsxs)("div",{className:"flex items-center p-2 border-b bg-gray-50",children:[Object(S.jsx)("div",{className:"text-5xl pr-2 text-blue-900 text-opacity-80",children:Object(S.jsx)(t,{})}),Object(S.jsxs)("div",{className:"flex-1",children:[Object(S.jsx)("h1",{className:"text-lg font-bold",children:a}),Object(S.jsx)("p",{className:"text-gray-500 -mt-1 text-sm",children:s})]}),Object(S.jsx)("div",{className:"",children:i&&n&&Object(S.jsx)(u.a,{type:"button",theme:"primary-light",onClick:n,loading:d,children:i})})]}),Object(S.jsxs)("div",{className:"p-2 bg-gray-200",children:[0===l.length&&Object(S.jsxs)("div",{className:"py-4 text-center",children:[Object(S.jsx)("h6",{className:"inline text-8xl text-gray-500",children:Object(S.jsx)(t,{className:"mx-auto"})}),Object(S.jsx)("h4",{className:"text-lg -mt-3 text-gray-500",children:"Nothing yet selected!"})]}),l.map((function(e,t){return Object(S.jsxs)("div",{className:"p-1 border bg-white hover:bg-blue-100 rounded mb-2 items-center hover:border-blue-600 flex",children:[Object(S.jsxs)("section",{className:"px-2 text-blue-900 text-opacity-70 text-xl",children:["#",t+1]}),Object(S.jsxs)("section",{className:"flex-1",children:[Object(S.jsx)("h1",{className:"text-lg font-bold",children:e.name}),Object(S.jsx)("p",{className:"-mt-1 text-gray-500 text-sm",children:e.name})]}),c&&e.id&&Object(S.jsx)("section",{className:"pr-2",children:Object(S.jsx)(u.a,{size:"sm",theme:"primary-light",type:"button",onClick:c.bind(M,e.id),loading:!!j&&j.toString()===e.id.toString(),disabled:null!==j&&void 0!==j,children:Object(S.jsx)("section",{className:"text-2xl",title:"Update this item",children:Object(S.jsx)(E.T,{})})})}),r&&e.id&&Object(S.jsx)("section",{className:"pr-2",children:Object(S.jsx)(u.a,{onClick:r.bind(M,e.id),size:"sm",theme:"danger-light",type:"button",loading:!!o&&o.toString()===e.id.toString(),disabled:null!==o&&void 0!==o,children:Object(S.jsx)("div",{className:"text-2xl",title:"Delete this item",children:Object(S.jsx)(E.u,{})})})})]},t)}))]}),""!==b&&Object(S.jsx)("p",{className:"text-center text-red-500",children:b})]})},z={target:null,msg:""},P=function(e){var t=e.sub_area_id,a=e.successData,s=e.trainee_category,n=e.trainer_institutions,i=e.removeTraineeCategory,c=e.removeTrainerInstitution,r=e.loadingTraineeCategoryRemove,l=e.loadingTrainersInstitutionRemove,o=e.addTraineeCategory,j=e.addTrainerInstitution,b=e.loadingStepOneSave,h=e.step_one__title,m=e.step_one__description,g=e.step_one__start_date,p=e.step_one__end_date,_=e.step_one__sub_area,f=e.step_one__budget,N=e.setStepOne__title,C=e.setStepOne__description,R=e.setStepOne__start_date,T=e.setStepOne__end_date,A=e.setStepOne__sub_area,w=e.setStepOne__budget,M=e.setStepOne__topic,P=e.step_one__topic,F=e.step_one__total_trainees,G=e.setStepOne__total_trainees,L=Object(d.useState)([]),q=Object(O.a)(L,2),H=q[0],B=q[1],V=Object(d.useState)([]),Y=Object(O.a)(V,2),K=Y[0],W=Y[1],Q=Object(d.useState)(!0),J=Object(O.a)(Q,2),X=J[0],$=J[1],Z=Object(d.useState)(!0),ee=Object(O.a)(Z,2),te=ee[0],ae=ee[1],se=Object(d.useState)(!1),ne=Object(O.a)(se,2),ie=ne[0],ce=ne[1],re=Object(d.useState)(!1),le=Object(O.a)(re,2),de=le[0],oe=le[1],je=H.find((function(e){return e.id+""===_+""})),be=K.find((function(e){return e.id+""===P+""})),he=Object(d.useState)(z),ue=Object(O.a)(he,2),xe=ue[0],me=ue[1];Object(d.useEffect)((function(){!0===X&&0===H.length&&($(!1),Object(y.y)(y.U,(function(e,t,a){!1===e&&me({target:"SUB_AREA",msg:"Error: ".concat(a)}),B(t),$(!1)})),Object(y.y)(y.W,(function(e,t,a){!1===e&&me({target:"TOPICS",msg:"Error: ".concat(a)}),W(t),ae(!1)})))}),[t,X,H.length]);var ge=function(){return setTimeout((function(){return me(z)}),3e3)};return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),h.length<=4?(ge(),me({target:"TITLE",msg:"Please provide the title"})):m.length<=4?(ge(),me({target:"DESCRIPTION",msg:"Please provide the description"})):je?be?0===+f?(ge(),me({target:"BUDGET",msg:"Budget is required"})):""===g?(ge(),me({target:"START_DATE",msg:"Please provide the start date"})):""===p?(ge(),me({target:"END_DATE",msg:"Please provide the end date"})):new Date(g).getTime()>new Date(p).getTime()?(ge(),me({target:"END_DATE",msg:"This (end date) must be later than (start date)"})):""===p?(ge(),me({target:"END_DATE",msg:"Please provide the end date"})):0===n.length?(ge(),me({target:"TRAINING_INSTITUTION",msg:"You must provide at least one institution"})):0===s.length?(ge(),me({target:"TRAINEE_CATEGORY",msg:"You must provide at least one category"})):void a():(ge(),me({target:"TOPICS",msg:"Please select a topic"})):(ge(),me({target:"SUB_AREA",msg:"Please select a sub-area"}))},children:[Object(S.jsx)(x.a,{className:"animate__animated animate__zoomIn animate__faster",children:Object(S.jsxs)("div",{className:"p-2",children:[Object(S.jsx)("div",{className:"pb-2",children:Object(S.jsx)(v.a,{onChange:function(e){N(e.target.value),me(z)},value:h,error:"TITLE"===xe.target?xe.msg:"",label:"Training Title",placeholder:"Title of the training",name:"",disabled:b})}),Object(S.jsx)("div",{className:"",children:Object(S.jsx)(I.a,{onChange:function(e){C(e.target.value),me(z)},value:m,error:"DESCRIPTION"===xe.target?xe.msg:"",label:"Description of the training",placeholder:"Description of the task",name:"",disabled:b})}),Object(S.jsxs)("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 py-2 w-full",children:[Object(S.jsxs)("div",{className:"pb-2 flex-1",children:[!ie&&Object(S.jsx)("section",{onClick:function(){return!b&&ce(!ie)},className:"cursor-pointer",children:Object(S.jsx)(v.a,{onChange:function(e){},value:"".concat(X?"Loading...":je?"".concat(null===je||void 0===je?void 0:je.name," - ( ").concat(null===je||void 0===je?void 0:je.intervention_area,")"):""),error:"SUB_AREA"===xe.target?xe.msg:"",label:"Select sub Area",placeholder:"",name:"",disabled:!0})}),ie&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{className:"block text-gray-400",children:"Select sub area"}),Object(S.jsx)(k.a,{loading:X,id:"id",title:"name",close:function(){return ce(!ie)},data:H,click:function(e){A(e.id),ce(!ie)}})]})]}),Object(S.jsxs)("div",{className:"pb-2 flex-1",children:[!de&&Object(S.jsx)("section",{onClick:function(){return!b&&oe(!de)},className:"cursor-pointer",children:Object(S.jsx)(v.a,{onChange:function(e){},value:"".concat(te?"Loading...":be?"".concat(null===be||void 0===be?void 0:be.name):""),error:"TOPICS"===xe.target?xe.msg:"",label:"Select topic",placeholder:"",name:"",disabled:!0})}),de&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{className:"text-gray-400 block",children:"Select a topic"}),Object(S.jsx)(k.a,{loading:te,id:"id",title:"name",close:function(){return oe(!de)},data:K,click:function(e){M(e.id),oe(!de)}})]})]}),Object(S.jsx)("div",{className:"pb-2 flex-1",children:Object(S.jsx)(v.a,{onChange:function(e){w(e.target.value),me(z)},value:f,error:"BUDGET"===xe.target?xe.msg:"",label:"Budget",placeholder:"Budget of the training",name:""})}),Object(S.jsx)("div",{className:"pb-2 flex-1",children:Object(S.jsx)(v.a,{onChange:function(e){G(+e.target.value),me(z)},value:F,error:"BUDGET"===xe.target?xe.msg:"",label:"Total trainees",placeholder:"Total trainees",name:""})})]}),Object(S.jsxs)("div",{className:"border lg:p-2 lg:px-4 rounded bg-gray-50",children:[Object(S.jsxs)("section",{className:"flex items-center text-yellow-800",children:[Object(S.jsx)(E.t,{className:"text-3xl"}),Object(S.jsx)("h4",{className:"font-bold text-lg pl-1",children:"Training dates"})]}),Object(S.jsxs)("div",{className:"lg:flex gap-4",children:[Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)(v.a,{onChange:function(e){R(e.target.value),me(z)},value:g,type:"date",error:"START_DATE"===xe.target?xe.msg:"",label:"Start Date",placeholder:"Start date",name:"",disabled:b})}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)(v.a,{onChange:function(e){T(e.target.value),me(z)},value:p,type:"date",error:"END_DATE"===xe.target?xe.msg:"",label:"End Date",placeholder:"End date",name:"",disabled:b})})]})]}),Object(S.jsxs)("div",{className:"lg:flex py-4 lg:gap-4",children:[Object(S.jsx)(U,{Icon:E.F,title:"Assign training institution",description:"Institution which will help to train",data:n,create_btn_label:"Add institution",createLading:!1,updateLading:null,deleteLoading:l,onCreate:j,onDelete:c,error:"TRAINING_INSTITUTION"===xe.target?xe.msg:""}),Object(S.jsx)(U,{Icon:E.F,title:"Assign trainee category",description:"Assign the type of users you are about to train",data:s,create_btn_label:"Add category",deleteLoading:r,onCreate:o,onDelete:i,error:"TRAINEE_CATEGORY"===xe.target?xe.msg:""})]})]})}),Object(S.jsx)(D,{children:Object(S.jsx)("div",{className:"text-right flex-1 ",children:Object(S.jsx)(u.a,{loading:b,children:"Save and Continue"})})})]})})},F=a(29),G=function(e){e.click;return Object(S.jsx)(x.a,{className:"animate__animated animate__zoomIn animate__faster",children:Object(S.jsx)("div",{className:"p-2 py-8",children:Object(S.jsxs)("div",{className:"text-center",children:[Object(S.jsx)("div",{className:"mx-auto",children:Object(S.jsxs)("div",{className:"text-gray-400 bg-gray-100 inline-block rounded-xl text-8xl mx-auto  text-center",children:[Object(S.jsx)(E.Lb,{className:"inline"}),Object(S.jsx)(E.Q,{className:"inline"})]})}),Object(S.jsx)("h1",{className:"text-xl lg:text-3xl font-bold mb-1 mt-2 text-gray-700",children:"Add center, with the trainers"}),Object(S.jsx)("p",{className:"text-gray-500",children:"It looks like you haven't created a center yet, click on the button bellow"})]})})})},L=function(e){var t=e.click;return Object(S.jsx)("div",{className:"p-2 py-8",children:Object(S.jsxs)("div",{className:"text-center",children:[Object(S.jsx)("div",{className:"mx-auto",children:Object(S.jsx)("div",{className:"text-gray-400 bg-gray-100 inline-block rounded-xl text-6xl mx-auto  text-center",children:Object(S.jsx)(E.F,{className:"inline"})})}),Object(S.jsx)("h1",{className:"text-xl lg:text-2xl font-bold mb-1 mt-2 text-gray-700",children:"Add groups, with the trainers"}),Object(S.jsxs)("p",{className:"text-gray-500",children:["It looks like you haven't yet added a group on this center, ",Object(S.jsx)("br",{}),"click on the button bellow to add a group"]}),Object(S.jsx)("div",{className:"py-3",children:Object(S.jsx)(u.a,{onClick:function(){return t()},children:"Add a group to this center"})})]})})},q=void 0,H={target:null,msg:""},B=function(e){var t=e.addTraineeToGroup,a=e.group,s=e.trainers,i=e.deleteCenterGroup,c=e.delete_group_loading,r=e.updatedRoomCapacity,l=e.loading_delete_trainer,o=e.removeTrainerHandler,j=Object(d.useState)(0),b=Object(O.a)(j,2),x=b[0],m=b[1],g=Object(d.useState)(!1),p=Object(O.a)(g,2),_=p[0],f=p[1],N=Object(d.useState)(H),C=Object(O.a)(N,2),R=C[0],T=C[1],A=Object(d.useState)(null),w=Object(O.a)(A,2),I=w[0],k=w[1],D=s.filter((function(e){var t,s,n;return e.group_id.toString()===(null===a||void 0===a||null===(t=a.group_id)||void 0===t?void 0:t.toString())&&(null===(s=e.center_id)||void 0===s?void 0:s.toString())===(null===(n=a.center_id)||void 0===n?void 0:n.toString())})),M=function(){return T(H)},U=function(){return setTimeout((function(){T(H)}),2e3)};return Object(S.jsxs)(S.Fragment,{children:["MAIN-ERROR"===R.target&&Object(S.jsx)(h.a,{theme:"danger",children:R.msg}),"MAIN-SUCCESS"===R.target&&Object(S.jsx)(h.a,{theme:"success",children:R.msg}),Object(S.jsxs)("div",{className:"p-2 rounded mb-2 hover:border-yellow-500 hover:border-2 hover:border bg-white flex border border-rounded",children:[Object(S.jsxs)("div",{className:"flex w-44",children:[null!==I&&Object(S.jsxs)("div",{className:"p-2 rounded items-center border mr-1 animate__animated animate__zoomIn animate__faster",children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("section",{className:"flex-1 ",children:Object(S.jsx)("h2",{className:"text-lg font-bold",children:"Update"})}),Object(S.jsx)("section",{children:Object(S.jsx)(u.a,{size:"sm",theme:"danger-light",onClick:k.bind(q,null),disabled:_,children:"close"})})]}),Object(S.jsxs)("div",{className:"pt-2",children:[Object(S.jsx)(v.a,{onChange:function(e){return m(+e.target.value)},value:x,error:"",label:"Trainee capacity",placeholder:"",name:""})," ",Object(S.jsx)("section",{className:"text-right pt-2",children:Object(S.jsx)(u.a,{onClick:function(){return I?x<=0?(M(),U(),T({target:"TRAINING-CAPACITY",msg:"The capacity must be greater than zero"})):(f(!0),void Object(y.M)({id:I.id.toString(),number_of_trainees:x,training_id:I.training_id},(function(e,t){f(!1),e?(T({target:"MAIN-SUCCESS",msg:"Data Updated successfully"}),r(Object(n.a)(Object(n.a)({},a),{},{number_of_trainees:x})),k(null)):T({target:"MAIN-ERROR",msg:"Error: ".concat(t)}),U()}))):(M(),U(),T({target:"TRAINING-CAPACITY",msg:"No room selected"}))},type:"button",theme:"success",loading:_,children:"Update capacity"})})]})]}),null===I&&Object(S.jsxs)("div",{className:"pl-2",children:[Object(S.jsxs)("div",{className:"flex-1 border-b pb-1",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Group:"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:a.group_name})]}),Object(S.jsxs)("div",{className:"flex-1 border-b py-1",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Center capacity"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:a.number_of_trainees})]}),Object(S.jsxs)("div",{className:"pt-2 pr-2",children:[Object(S.jsx)(u.a,{theme:"primary-light",onClick:function(){k(a),m(+a.number_of_trainees)},className:"w-full mb-2",children:"Edit capacity"}),Object(S.jsx)(u.a,{theme:"danger-light",className:"w-full",onClick:function(){return i({training_id:a.training_id,id:a.id.toString()})},disabled:null!==c,loading:(null===c||void 0===c?void 0:c.toString())===a.id.toString(),children:"Remove room"})]})]})]}),Object(S.jsxs)("div",{className:"flex-1 rounded p-2 border",children:[Object(S.jsxs)("div",{className:"flex items-center p-0.5 px-1 mb-1 rounded bg-gray-200",children:[Object(S.jsx)("section",{className:"flex-1 pl-2",children:Object(S.jsx)("h3",{className:"text-lg font-bold",children:"Trainers"})}),Object(S.jsx)("section",{className:"text-right",children:Object(S.jsxs)(u.a,{onClick:t.bind(q,a),children:["Add a trainer to Group: ",a.group_name]})})]}),Object(S.jsxs)("table",{className:"border w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-left",children:[Object(S.jsx)("th",{className:"p-1.5 border",children:"#"}),Object(S.jsx)("th",{className:"p-1.5 border",children:"NID"}),Object(S.jsx)("th",{className:"p-1.5 border",children:"Names"}),Object(S.jsx)("th",{className:"p-1.5 border",children:"Phone number"}),Object(S.jsx)("th",{className:"p-1.5 border",children:"Email"}),Object(S.jsx)("th",{className:"p-1.5 border w-10"})]})}),Object(S.jsxs)("tbody",{children:[D.length<=0&&Object(S.jsx)("tr",{children:Object(S.jsxs)("td",{className:"py-3 text-center",colSpan:20,children:[Object(S.jsx)("section",{className:"mx-auto text-center text-6xl opacity-50",children:Object(S.jsx)(E.Lb,{className:"inline"})}),Object(S.jsxs)("h2",{className:"font-bold opacity-50",children:["Add trainer","(s)"," to this room"]})]})}),D.map((function(e,t){return Object(S.jsxs)("tr",{className:"hover:bg-yellow-100 text-sm",children:[Object(S.jsx)("td",{className:"p-2 border",children:t+1}),Object(S.jsx)("td",{className:"p-2 border",children:e.nid}),Object(S.jsxs)("td",{className:"p-2 border",children:[e.first_name," ",e.last_name]}),Object(S.jsx)("td",{className:"p-2 border",children:e.phone_numbers}),Object(S.jsx)("td",{className:"p-2 border",children:e.email}),Object(S.jsx)("td",{className:"p-0.5 text-center border",children:Object(S.jsx)(u.a,{size:"sm",theme:"danger-light",type:"button",onClick:o.bind(q,e.user_id.toString()),disabled:null!==l,loading:(null===l||void 0===l?void 0:l.toString())===e.user_id.toString(),children:"Remove"})})]},t)}))]})]})]})]})]})},V=void 0,Y=function(e){var t,a=e.addGroupHandler,s=e.center,n=e.selected,i=e.selectHandler,c=e.trainers,r=e.groups,l=e.deleteCenterGroup,d=e.updatedRoomCapacity,o=e.delete_group_loading,j=e.setAddTrainer,b=e.loading_delete_trainer,h=e.removeTrainerHandler,x=r.filter((function(e){return e.center_id+""===s.center_id+""})),m=0,g=Object(F.a)(x);try{for(g.s();!(t=g.n()).done;){m+=+t.value.number_of_trainees}}catch(O){g.e(O)}finally{g.f()}return x.sort(N.x),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:" rounded-lg overflow-hidden hover:border-yellow-700 bg-white border mb-3 items-center",children:[Object(S.jsxs)("div",{className:"lg:flex sm:grid sm:grid-cols-2 w-full items-center py-2",children:[Object(S.jsx)("div",{className:" text-yellow-700 pl-2",children:Object(S.jsx)("label",{className:"text-4xl",children:Object(S.jsx)(E.kb,{})})}),Object(S.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Center type"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===s||void 0===s?void 0:s.center_type_name})]}),Object(S.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Center name"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===s||void 0===s?void 0:s.center_name})]}),Object(S.jsxs)("div",{className:"flex-1 border-r pl-2",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"District"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:null===s||void 0===s?void 0:s.district_name})]}),Object(S.jsxs)("div",{className:"pl-2 w-36 border-r",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Center capacity"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:m})]}),Object(S.jsxs)("div",{className:"pl-2 w-36",children:[Object(S.jsx)("label",{className:"text-gray-500 text-sm",children:"Total Groups"}),Object(S.jsx)("h4",{className:"text-bold text-lg font-bold -mt-1",children:x.length})]}),Object(S.jsxs)("div",{className:"text-right flex pr-2",children:[n.toString()===s.id.toString()?Object(S.jsx)("div",{className:"flex gap-2",children:Object(S.jsx)(u.a,{theme:"accent-light",onClick:a.bind(V,s),disabled:null!==o,children:"Add a group"})}):Object(S.jsx)(u.a,{theme:"primary-light",onClick:function(){return i(s.id.toString())},disabled:null!==o,children:"Open"}),Object(S.jsx)("div",{className:"text-right pl-2 pr-2",children:n.toString()===s.id.toString()&&Object(S.jsx)(u.a,{theme:"default",onClick:function(){return i("")},disabled:null!==o,children:"Close"})})]})]}),n.toString()===s.id.toString()&&Object(S.jsxs)("div",{className:"p-4 bg-gray-300 bg-opacity-25 border-t animate__animated animate__zoomIn animate__faster",children:[x.length>=1&&Object(S.jsxs)("h2",{className:"text-xl font-bold mb-2",children:["Groups list"," ",Object(S.jsx)("b",{className:"py-0.5 text-md rounded-lg text-white p-2 bg-accent-900",children:x.length})]}),x.map((function(e,t){return Object(S.jsx)(B,{addTraineeToGroup:j,updatedRoomCapacity:d,group:e,trainers:c,deleteCenterGroup:l,delete_group_loading:o,loading_delete_trainer:b,removeTrainerHandler:h},t)})),x.length<=0&&Object(S.jsx)(L,{click:a.bind(V,s)})]})]})})},K=function(e){var t=e.search,a=e.setSearch,s=e.total_centers,n=e.total_groups,i=e.total_trainers,c=e.total_trainees,r=e.clickAction;return Object(S.jsx)(x.a,{className:"-mt-7 mb-4",children:Object(S.jsxs)("div",{className:"lg:flex gap-3 items-center w-full flex-items-center pt-3 bg-white ",children:[Object(S.jsxs)("section",{className:"pr-4",children:[Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Training Centers"}),Object(S.jsx)("p",{className:"text-sm text-gray-400 hidden lg:block -mt-1",children:"Location for your trainings"})]}),Object(S.jsxs)("div",{className:"flex gap-3 w-full lg:w-auto",children:[s?Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total centers"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:s})]}):null,n?Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total groups"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:n})]}):null,i?Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total trainers"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:i})]}):null,c?Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total trainees"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:c})]}):null]}),Object(S.jsx)("section",{className:"flex-1 lg:px-4",children:Object(S.jsx)(_.a,{onChange:function(e){return a(e.target.value)},value:t,placeholder:"Search a center",name:"input-containers-search",size:"sm"})}),r&&Object(S.jsx)("section",{className:"text-right flex-right ",children:Object(S.jsx)(u.a,{onClick:r,children:"add a center"})})]})})},W={target:null,msg:""},Q=function(e){var t,a,n,i=e.training,c=e.addCenter,r=e.deleteCenterGroup,l=e.delete_group_loading,o=e.addGroupHandler,j=e.updatedRoomCapacity,b=e.nextStep,m=e.prevStep,v=e.successSubmitTrainer,C=e.removeTrainerSuccess,R=Object(d.useState)(W),T=Object(O.a)(R,2),E=T[0],A=T[1],w=Object(d.useState)(""),I=Object(O.a)(w,2),k=I[0],M=I[1],U=Object(d.useState)(""),z=Object(O.a)(U,2),P=z[0],L=z[1],q=Object(d.useState)(""),H=Object(O.a)(q,2),B=H[0],V=H[1],Q=Object(d.useState)(null),J=Object(O.a)(Q,2),X=J[0],$=J[1],Z=Object(d.useState)(""),ee=Object(O.a)(Z,2),te=ee[0],ae=ee[1],se=Object(d.useState)(!1),ne=Object(O.a)(se,2),ie=ne[0],ce=ne[1],re=Object(d.useState)(null),le=Object(O.a)(re,2),de=le[0],oe=le[1],je=Object(d.useState)([]),be=Object(O.a)(je,2),he=be[0],ue=be[1],xe=Object(d.useState)(null),me=Object(O.a)(xe,2),ge=me[0],Oe=me[1],pe=function(e){window.confirm("Are you sure you want remove this trainer to the training")&&(Oe(e),Object(y.F)(e,i.id,(function(t,a){t?(A({target:"MAIN-SUCCESS",msg:"User has been removed to this training!"}),C(e)):A({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),Te(),Oe(null)})))},_e=[],ve=Object(F.a)(i.groups||[]);try{var fe=function(){var e=n.value;void 0===_e.find((function(t){var a;return(null===(a=t.center_id)||void 0===a?void 0:a.toString())===e.center_id+""}))&&_e.push(e)};for(ve.s();!(n=ve.n()).done;)fe()}catch(we){ve.e(we)}finally{ve.f()}var Ne=0;if(i.groups){var ye,Se=Object(F.a)(i.groups);try{for(Se.s();!(ye=Se.n()).done;){Ne+=ye.value.number_of_trainees}}catch(we){Se.e(we)}finally{Se.f()}}var Ce=Object(N.v)(he,te,{nid:!0,first_name:!0,full_name:!0,last_name:!0,phone_numbers:!0,email:!0}),Re=Object(N.v)(_e||[],k,{name:!0,district_name:!0,center_type_name:!0}),Te=function(){setTimeout((function(){A(W)}),3e3)},Ee=function(e){window.confirm("Are you sure you want to add ".concat(e.full_name," to this training?"))&&(oe(e),Object(y.d)({training_id:i.id+"",training_to_group_id:(null===X||void 0===X?void 0:X.id)+"",user_id:e.user_id},(function(t,a){t?(A({target:"MAIN-SUCCESS",msg:"Candidate has been added to the training"}),v({center_id:null!==X&&void 0!==X&&X.center_id?(null===X||void 0===X?void 0:X.center_id)+"":"",email:e.email,group_id:(null===X||void 0===X?void 0:X.group_id)+"",id:(null===X||void 0===X?void 0:X.id)+"",phone_numbers:e.phone_numbers,training_to_group_id:(null===X||void 0===X?void 0:X.id)+"",status:"ACTIVE",user_id:e.user_id,first_name:e.first_name,full_name:e.full_name,last_name:e.last_name,nid:e.nid,staff_code:e.staff_code,training_id:i.id}),console.log({email:e.email,group_id:(null===X||void 0===X?void 0:X.group_id)+"",id:(null===X||void 0===X?void 0:X.id)+"",phone_numbers:e.phone_numbers,training_to_group_id:(null===X||void 0===X?void 0:X.id)+"",status:"ACTIVE",user_id:e.user_id,first_name:e.first_name,full_name:e.full_name,last_name:e.last_name,nid:e.nid,staff_code:e.staff_code,training_id:i.id})):A({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),oe(null),Te()})))},Ae=[{title:"",value:""}].concat(Object(s.a)(i.trainer_institution?i.trainer_institution.map((function(e){return{title:e.name+"",value:e.id+""}})):[]));return Object(S.jsxs)(S.Fragment,{children:["MAIN-SUCCESS"===E.target&&Object(S.jsx)(h.a,{theme:"success",fixed:!0,children:E.msg}),"MAIN-ERROR"===E.target&&Object(S.jsx)(h.a,{theme:"danger",fixed:!0,children:E.msg}),null!==X&&Object(S.jsx)(f.d,{backDrop:!0,close:function(){return $(null)},backDropClose:!1,displayClose:!0,widthSizeClass:f.b.extraLarge,padding:{title:!0,body:void 0,footer:void 0},title:"Add trainer to training",children:null!==de?Object(S.jsxs)("div",{className:"py-6 text-center border-t",children:[Object(S.jsx)("section",{className:"inline-block",children:Object(S.jsx)(g.a,{})}),Object(S.jsxs)("h2",{className:"pt-3 text-xl",children:["Adding ",Object(S.jsx)("b",{children:de.full_name})," to this training"]})]}):Object(S.jsxs)("div",{className:"border-t p-4",children:[Object(S.jsxs)("div",{className:"flex w-full gap-2 items-center",children:[Object(S.jsx)("section",{children:Object(S.jsx)(p.a,{onChange:function(e){return function(e){if(V(e),ue([]),null===e)return ue([]),void A(W);ce(!0),Object(y.C)({end_date:i.end_date+"",start_date:i.start_date+"",training_institution_id:e},(function(e,t,a){e||(A({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),Te()),ce(!1),ue(t)}))}(e.target.value)},value:B,error:"",label:"Training institution",placeholder:"",name:"",data:Ae,disabled:ie})}),Object(S.jsx)("section",{className:"flex-1 pt-3",children:Object(S.jsx)(_.a,{onChange:function(e){return ae(e.target.value)},value:te,placeholder:"",name:""})})]}),ie&&Object(S.jsx)("div",{className:"text-center py-4",children:Object(S.jsx)(g.a,{})}),""===B&&Object(S.jsx)("div",{className:"py-5 text-center border-t",children:Object(S.jsxs)("h2",{className:"text-2xl text-gray-400 ",children:["Please select an institution, ",Object(S.jsx)("br",{})," in order to get the list of trainers"]})}),!ie&&""!==B&&Object(S.jsxs)("table",{className:"border w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"p-2 border",children:"#"}),Object(S.jsx)("th",{className:"p-2 border",children:"Nid"}),Object(S.jsx)("th",{className:"p-2 border",children:"Names"}),Object(S.jsx)("th",{className:"p-2 border",children:"Email"}),Object(S.jsx)("th",{className:"p-2 border",children:"Phone"}),Object(S.jsx)("th",{className:"p-2 border w-10"})]})}),Object(S.jsxs)("tbody",{children:[Ce.length<=0&&Object(S.jsx)("tr",{children:Object(S.jsx)("td",{className:"py-5 text-center",colSpan:12,children:Object(S.jsx)("h2",{className:"text-2xl text-gray-600",children:"No results found!"})})}),Ce.map((function(e,t){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"p-2 border",children:t+1}),Object(S.jsx)("td",{className:"p-2 border",children:e.nid}),Object(S.jsx)("td",{className:"p-2 border",children:e.full_name}),Object(S.jsx)("td",{className:"p-2 border",children:e.email}),Object(S.jsx)("td",{className:"p-2 border",children:e.phone_numbers}),Object(S.jsx)("td",{className:"p-1 border",children:Object(S.jsx)(u.a,{size:"sm",onClick:Ee.bind(undefined,e),children:"Add"})})]},t)}))]})]})]})}),Object(S.jsx)(K,{search:k,clickAction:c,setSearch:M,total_centers:null===_e||void 0===_e?void 0:_e.length,total_groups:null===(t=i.groups)||void 0===t?void 0:t.length,total_trainees:Ne,total_trainers:null===(a=i.trainers)||void 0===a?void 0:a.length}),Object(S.jsx)(x.a,{transparent:!0,className:"-mt-7",children:Object(S.jsx)("div",{className:"",children:Object(S.jsxs)("div",{className:"",children:[_e&&_e.length<=0&&Object(S.jsx)(G,{click:function(){}}),Re.map((function(e,t){return Object(S.jsx)(Y,{updatedRoomCapacity:j,deleteCenterGroup:r,addGroupHandler:o,center:e,selectHandler:function(e){return L(e)},selected:P,trainers:i.trainers||[],groups:i.groups?i.groups:[],delete_group_loading:l,setAddTrainer:function(e){return $(e)},loading_delete_trainer:ge,removeTrainerHandler:pe},t)}))]})})}),Object(S.jsx)(D,{children:Object(S.jsxs)("div",{className:"text-right  flex-1 flex",children:[m&&Object(S.jsx)("section",{className:"flex-1 text-left",children:Object(S.jsx)(u.a,{theme:"default",onClick:m,loading:!1,children:"Previous"})}),b&&Object(S.jsx)("section",{className:"flex-1 text-right",children:Object(S.jsx)(u.a,{loading:!1,onClick:b,children:"Next"})})]})})]})},J=a(97),X=a(356),$=function(e){var t=e.title,a=e.title_key,s=e.description,n=e.addButton,i=e.disable;return Object(S.jsxs)("div",{className:"p-2 border rounded bg-white",children:[Object(S.jsxs)("div",{className:"flex items-center border-b pb-1",children:[Object(S.jsxs)("section",{className:"flex-1",children:[Object(S.jsx)("h3",{className:"text-lg font-bold",children:t}),Object(S.jsx)("p",{className:"text-sm text-gray-500",children:s})]}),Object(S.jsx)("section",{children:n&&Object(S.jsxs)(u.a,{onClick:n,theme:"accent-light",disabled:i,children:["Add ",a]})})]}),Object(S.jsx)("div",{className:"py-2 h-44 overflow-auto",children:e.children})]})},Z=function(e){var t=e.title,a=e.removeItem,s=e.el,n=e.loadingRemove,i=e.id;return Object(S.jsxs)("div",{className:"flex p-1 mb-2 bg-gray-100 rounded border items-center",children:[Object(S.jsx)("section",{className:"pr-2 text-gray-400",children:s}),Object(S.jsx)("section",{className:"flex-1 font-bold",children:Object(S.jsx)("h4",{children:t})}),Object(S.jsx)("section",{children:Object(S.jsx)(u.a,{size:"sm",theme:"danger-light",disabled:null!==n,loading:n===i.toString(),onClick:a,children:"Remove"})})]})},ee=void 0,te={msg:"",target:null},ae={districts:[],levels:[],positions:[],qualifications:[],sectors:[],strict:0,subjects:[],education_certificate:[],training_id:""},se=function(e){var t=e.training,a=e.successCriterial,i=e.nextStep,c=e.prevStep,r=Object(d.useState)(ae),l=Object(O.a)(r,2),o=l[0],j=l[1],b=Object(d.useState)(!1),v=Object(O.a)(b,2),N=v[0],C=v[1],R=Object(d.useState)(te),T=Object(O.a)(R,2),A=T[0],w=T[1],I=Object(d.useState)(null),k=Object(O.a)(I,2),M=k[0],U=k[1],z=Object(d.useState)(!1),P=Object(O.a)(z,2),F=P[0],G=P[1],L=Object(d.useState)(!1),q=Object(O.a)(L,2),H=q[0],B=q[1],V=Object(d.useState)(!1),Y=Object(O.a)(V,2),K=Y[0],W=Y[1],Q=Object(d.useState)(!1),se=Object(O.a)(Q,2),ne=se[0],ie=se[1],ce=Object(d.useState)(!1),re=Object(O.a)(ce,2),le=re[0],de=re[1],oe=Object(d.useState)(!1),je=Object(O.a)(oe,2),be=je[0],he=je[1],ue=Object(d.useState)(!1),xe=Object(O.a)(ue,2),me=xe[0],ge=xe[1],Oe=Object(d.useState)(!1),pe=Object(O.a)(Oe,2),_e=pe[0],ve=pe[1],fe=Object(d.useState)(!1),Ne=Object(O.a)(fe,2),ye=Ne[0],Se=Ne[1],Ce=Object(d.useState)(!1),Re=Object(O.a)(Ce,2),Te=Re[0],Ee=Re[1],Ae=Object(d.useState)(""),we=Object(O.a)(Ae,2),Ie=we[0],ke=we[1],De=Object(d.useState)([]),Me=Object(O.a)(De,2),Ue=Me[0],ze=Me[1],Pe=Object(d.useState)(""),Fe=Object(O.a)(Pe,2),Ge=Fe[0],Le=Fe[1],qe=Object(d.useState)(!1),He=Object(O.a)(qe,2),Be=He[0],Ve=He[1],Ye=Object(d.useState)([]),Ke=Object(O.a)(Ye,2),We=Ke[0],Qe=Ke[1],Je=Object(d.useState)([]),Xe=Object(O.a)(Je,2),$e=Xe[0],Ze=Xe[1];Object(d.useEffect)((function(){var e;t&&null!==(e=t.trainee_criteria)&&void 0!==e&&e.training_id&&!1===H&&(j(t.trainee_criteria),B(!0)),Object(X.b)((function(e,t,a){t&&Ze(t)}))}),[t,H]);var et=function(e){window.confirm("Are you sure you want to remove this item")&&j(Object(n.a)(Object(n.a)({},o),{},{subjects:o.subjects.filter((function(t){return t.course_code.toString()!==e.toString()}))}))},tt=function(){M||(C(!0),Object(y.s)((function(e,t,a){e&&t?U(t):w({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),C(!1)})))},at=function(e,t){j(Object(n.a)(Object(n.a)({},o),{},Object(J.a)({},t,[].concat(Object(s.a)(o[t]),[e]))))},st=function(e,t){window.confirm("Are you sure you want to remove this item")&&j(Object(n.a)(Object(n.a)({},o),{},Object(J.a)({},t,o[t].filter((function(t){var a;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==e})))))},nt=function(e){j(Object(n.a)(Object(n.a)({},o),{},{subjects:[].concat(Object(s.a)(o.subjects),[e])}))};return Object(S.jsxs)(S.Fragment,{children:[me&&Object(S.jsxs)(f.d,{backDrop:!0,close:ge.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add subjects",children:[Object(S.jsx)("div",{className:"p-2 border-b",children:Object(S.jsx)(p.a,{onChange:function(e){ke(e.target.value),function(e){if(""===e)return ze([]);Ee(!0),Object(y.z)(e,(function(e,t,a){t&&ze(t),e||w({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),Ee(!1)}))}(e.target.value)},value:Ie,error:"",label:"",placeholder:"",name:"",data:[{title:"",value:""}].concat(Object(s.a)(o.levels.map((function(e){return{title:e.name+"",value:e.id+""}})))),disabled:Te})}),Object(S.jsxs)("div",{className:"border-t p-2",children:[Te&&Object(S.jsx)("div",{className:"py-8 text-center",children:Object(S.jsx)("div",{className:"inline-block",children:Object(S.jsx)(g.a,{})})}),Ue.map((function(e,t){var a=o.subjects.find((function(t){return t.course_code+""===e.course_code+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsxs)("b",{children:[e.course_code," - ",e.course_name," - ",e.level_name]})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(u.a,{onClick:et.bind(ee,e.course_code),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(u.a,{theme:"primary-light",size:"sm",onClick:nt.bind(ee,e),children:"Add"})})]},e.course_code)}))]})]}),F&&Object(S.jsx)(f.d,{backDrop:!0,close:G.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add district",children:Object(S.jsx)("div",{className:"border-t p-2",children:$e.map((function(e,t){var a=o.districts.find((function(t){return t.id+""===e.district_code+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.district_name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(u.a,{onClick:st.bind(ee,e.district_code,"districts"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(u.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,{name:e.district_name,id:e.district_code.toString()},"districts"),children:"Add"})})]},e.district_code)}))})}),ne&&Object(S.jsxs)(f.d,{backDrop:!0,close:ie.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add levels",children:[N&&Object(S.jsx)("div",{className:"text-center py-2",children:Object(S.jsx)(g.a,{className:"inline-block"})}),Object(S.jsx)("div",{className:"border-t p-2",children:M&&M.school_level.map((function(e,t){var a=o.levels.find((function(t){return t.id+""===e.level_code+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.level_name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(u.a,{onClick:st.bind(ee,e.level_code,"levels"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(u.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,{name:e.level_name,id:e.level_code.toString()},"levels"),children:"Add"})})]},e.level_name)}))})]}),le&&Object(S.jsxs)(f.d,{backDrop:!0,close:de.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add Qualification",children:[N&&Object(S.jsx)("div",{className:"text-center py-2",children:Object(S.jsx)(g.a,{className:"inline-block"})}),Object(S.jsx)("div",{className:"border-t p-2",children:M&&M.qualifications.map((function(e,t){var a=o.qualifications.find((function(t){return t.id+""===e.id+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(u.a,{onClick:st.bind(ee,e.id+"","qualifications"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(u.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,e,"qualifications"),children:"Add"})})]},e.id)}))})]}),_e&&Object(S.jsxs)(f.d,{backDrop:!0,close:ve.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add Education certificates",children:[N&&Object(S.jsx)("div",{className:"text-center py-2",children:Object(S.jsx)(g.a,{className:"inline-block"})}),Object(S.jsx)("div",{className:"border-t p-2",children:M&&M.education_certificate.map((function(e,t){var a=o.qualifications.find((function(t){return t.id+""===e.id+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(u.a,{onClick:st.bind(ee,e.id+"","qualifications"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(u.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,e,"education_certificate"),children:"Add"})})]},e.id)}))})]}),K&&Object(S.jsxs)(f.d,{backDrop:!0,close:W.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},widthSizeClass:f.b.large,title:"Add Positions",children:[Object(S.jsx)("div",{className:"px-2 py-0.5 border-t border-p",children:Object(S.jsx)(_.a,{onChange:function(e){},value:"",placeholder:"Search by position or code",name:"",size:"sm"})}),Object(S.jsxs)("div",{className:"border-t p-2 h-80vh overflow-auto",children:[N&&Object(S.jsx)("div",{className:"text-center py-2",children:Object(S.jsx)(g.a,{className:"inline-block"})}),M&&M.positions.map((function(e,t){var a=o.positions.find((function(t){return t.id+""===e.id+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(u.a,{onClick:st.bind(ee,e.id+"","positions"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(u.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,e,"positions"),children:"Add"})})]},t)}))]})]}),be&&Object(S.jsxs)(f.d,{backDrop:!0,close:he.bind(ee,!1),backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},widthSizeClass:f.b.large,title:"Add Sector(s)",children:[Object(S.jsx)("div",{className:"px-2 py-0.5 border-t border-p flex gap-3",children:Object(S.jsx)("section",{children:Object(S.jsx)(p.a,{onChange:function(e){return function(e){if(Le(e),""===e)return Qe([]);Ve(!0),Object(y.x)(e,(function(e,t,a){t&&Qe(t),e||w({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),Ve(!1)}))}(e.target.value)},value:Ge,error:"",label:"Select Sector",placeholder:"",name:"",data:[{title:"Select district",value:""}].concat(Object(s.a)(o.districts.map((function(e){return{title:e.name+"",value:e.id+""}}))))})})}),Object(S.jsxs)("div",{className:"border-t p-2 h-80vh overflow-auto",children:[Be&&Object(S.jsx)("div",{className:"text-center py-2",children:Object(S.jsx)("section",{className:"inline",children:Object(S.jsx)(g.a,{})})}),We.map((function(e,t){var a=o.sectors.find((function(t){return t.id+""===e.id+""}));return Object(S.jsxs)("section",{className:"p-1 border rounded items-center flex mb-1 hover:bg-blue-50",children:[Object(S.jsxs)("span",{className:"inline-block pr-2 text-gray-500",children:[t+1," - "]}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)("b",{children:e.name})}),Object(S.jsx)("section",{children:a?Object(S.jsx)(u.a,{onClick:st.bind(ee,e.id+"","sectors"),theme:"danger-light",size:"sm",children:"Remove"}):Object(S.jsx)(u.a,{theme:"primary-light",size:"sm",onClick:at.bind(ee,e,"sectors"),children:"Add"})})]},t)}))]})]}),"MAIN-ERROR"===A.target&&Object(S.jsx)(h.a,{theme:"danger",fixed:!0,children:A.msg}),"MAIN-SUCCESS"===A.target&&Object(S.jsx)(h.a,{theme:"success",fixed:!0,children:A.msg}),Object(S.jsxs)(x.a,{transparent:!0,children:[Object(S.jsxs)("div",{className:"p-2 border bg-white flex items-center",children:[Object(S.jsx)("section",{className:"text-4xl pr-2",children:Object(S.jsx)(E.rb,{})}),Object(S.jsx)("section",{className:"flex-1",children:Object(S.jsx)(m.a,{size:"md",children:"Add training criterial"})}),Object(S.jsxs)("section",{className:"flex items-center pl-2 rounded-lg overflow-hidden bg-gray-100",children:[Object(S.jsx)("section",{children:1===o.strict?Object(S.jsxs)("p",{className:"m-0 pr-2 animate__animated animate__fadeIn animate__faster",children:["All the candidates ",Object(S.jsx)("br",{})," Must have the selected criteria"]}):Object(S.jsxs)("p",{className:"m-0 pr-2 animate__animated animate__fadeIn animate__faster",children:["All the candidates ",Object(S.jsx)("br",{}),"May or may not have the selected criteria"]})}),Object(S.jsx)(u.a,{theme:"default",size:"sm",type:"button",onClick:function(){j(Object(n.a)(Object(n.a)({},o),{},{strict:1===o.strict?0:1}))},children:Object(S.jsx)("h4",{className:"text-5xl",children:o.strict?Object(S.jsx)(E.vb,{className:"text-green-600"}):Object(S.jsx)(E.ub,{className:"text-red-500"})})})]})]}),Object(S.jsxs)("div",{className:"grid lg:grid-cols-2 gap-4 pt-3",children:[Object(S.jsxs)($,{description:"A trainee without one of these district (s) will not attend",title:"Districts",title_key:"district",addButton:function(){G(!0),tt()},disable:ye,children:[o.districts.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.districts.map((function(e,t){return Object(S.jsx)(Z,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:st.bind(ee,e.id+"","districts"),title:e.name},t)}))]}),Object(S.jsxs)($,{description:"A trainee without one of these district (s) will not attend",title:"Levels",title_key:"level",addButton:function(){ie(!0),tt()},disable:ye,children:[o.levels.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.levels.map((function(e,t){return Object(S.jsx)(Z,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:st.bind(ee,e.id+"","levels"),title:e.name},t)}))]}),Object(S.jsxs)($,{disable:ye,description:"A trainee without one of these qualifications (s) will not attend",title:"Qualifications",title_key:"qualification",addButton:function(){de(!0),tt()},children:[o.qualifications.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.qualifications.map((function(e,t){return Object(S.jsx)(Z,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:st.bind(ee,e.id+"","qualifications"),title:e.name},t)}))]}),Object(S.jsxs)($,{disable:ye,description:"A trainee without one of these positions (s) will not attend",title:"Position",title_key:"position",addButton:function(){W(!0),tt()},children:[o.positions.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.positions.map((function(e,t){return Object(S.jsx)(Z,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:st.bind(ee,e.id+"","positions"),title:e.name},t)}))]}),Object(S.jsxs)($,{disable:ye,description:"A trainee without one of these subjects (s) will not attend",title:"Subjects",title_key:"subject",addButton:function(){ge(!0)},children:[o.subjects.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.subjects.map((function(e,t){return Object(S.jsx)(Z,{el:t+1,id:e.course_code+"",loadingRemove:null,removeItem:et.bind(ee,e.course_code),title:"".concat(e.course_code," - ").concat(e.course_name," - ").concat(e.level_name)},t)}))]}),Object(S.jsxs)($,{disable:ye,description:"",title:"Education certified",title_key:"education certificate type",addButton:function(){ve(!0),tt()},children:[o.education_certificate.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.education_certificate.map((function(e,t){return Object(S.jsx)(Z,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:st.bind(ee,e.id+"","education_certificate"),title:"".concat(e.name," ")},t)}))]}),(o.districts&&o.districts.length>=1||o.sectors.length>=1)&&Object(S.jsxs)($,{disable:ye,description:"A trainee must come from one of these sector(s) will not attend",title:"Sectors",title_key:"sector",addButton:function(){he(!0)},children:[o.sectors.length<=0&&Object(S.jsx)("div",{className:"text-center py-6",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Not compulsory"})}),o.sectors.map((function(e,t){return Object(S.jsx)(Z,{el:t+1,id:e.id+"",loadingRemove:null,removeItem:st.bind(ee,e.id+"","sectors"),title:"".concat(e.name," ")},t)}))]})]})]}),Object(S.jsx)(D,{children:Object(S.jsxs)("div",{className:"text-right  flex-1 flex",children:[c&&Object(S.jsx)("section",{className:"flex-1 text-left",children:Object(S.jsx)(u.a,{theme:"default",onClick:c,loading:!1,children:"Previous"})}),i&&Object(S.jsx)("section",{className:"flex-1 text-right",children:Object(S.jsx)(u.a,{loading:ye,theme:"success",onClick:function(){t&&(Se(!0),Object(y.L)({districts:o.districts,levels:o.levels,positions:o.positions,qualifications:o.qualifications,sectors:o.sectors,subjects:o.subjects,strict:1,training_id:null===t||void 0===t?void 0:t.id,education_certificate:o.education_certificate},(function(e,t){e?(w({target:"MAIN-SUCCESS",msg:"Criterial updated successfully"}),a(o)):w({target:"MAIN-ERROR",msg:"Error: ".concat(t)}),Se(!1)})))},children:"Update & Continue"})})]})})]})},ne=a(3),ie=a(6),ce=a(566),re=a(8),le=a(7),de=a.n(le),oe=a(11),je=a(95),be=a(12),he={target:null,msg:""},ue=function(e){var t=e.training,a=e.submitTrainingResource,n=e.loading_materials,i=e.uploadFileSuccess,c=e.prevStep,r=e.stake_holder_id,l=Object(d.useState)([]),o=Object(O.a)(l,2),j=o[0],b=o[1],g=Object(d.useState)(!1),p=Object(O.a)(g,2),_=p[0],N=p[1],C=Object(d.useState)(he),R=Object(O.a)(C,2),T=R[0],A=R[1],w=Object(d.useState)(""),I=Object(O.a)(w,2),k=I[0],M=I[1],U=Object(d.useState)(""),z=Object(O.a)(U,2),P=z[0],F=z[1],G=Object(d.useState)(""),L=Object(O.a)(G,2),q=L[0],H=L[1],B=Object(d.useState)(!1),V=Object(O.a)(B,2),Y=V[0],K=V[1],W=Object(d.useState)(null),Q=Object(O.a)(W,2),J=Q[0],X=Q[1],$=Object(d.useState)(0),Z=Object(O.a)($,2),ee=Z[0],te=Z[1],ae=Object(d.useState)(!1),se=Object(O.a)(ae,2),le=se[0],ue=se[1];Object(d.useEffect)((function(){null!==t&&void 0!==t&&t.material_links&&b(null===t||void 0===t?void 0:t.material_links)}),[t]);var xe=function(){return setTimeout((function(){A(he)}),3e3)},me=function(e){if(window.confirm("Are you sure you want to remove this resource??")){var t=j.filter((function(t){var a;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==e}));a(t),b(t),N(!1)}},ge=function(){var e=Object(ie.a)(Object(ne.a)().mark((function e(){var a;return Object(ne.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.prev=1,(a=new FormData).append("development_partner_id",r),a.append("id",(null===t||void 0===t?void 0:t.id)+""),a.append("agenda_file_name",J[0]),Object(re.a)(),e.next=9,de.a.patch(y.hb,a,{onUploadProgress:function(e){var t=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100;te(t)}});case 9:X(null),te(0),A({target:"MAIN-SUCCESS",msg:"Document uploaded successfully!"}),i(J[0].name),setTimeout((function(){A(he)}),3e3),K(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),A({target:"MAIN-ERROR",msg:"Error: ".concat(Object(oe.a)(e.t0))}),K(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:["MAIN-SUCCESS"===T.target&&Object(S.jsx)(h.a,{theme:"success",fixed:!0,children:T.msg}),"MAIN-ERROR"===T.target&&Object(S.jsx)(h.a,{theme:"danger",fixed:!0,children:T.msg}),_&&Object(S.jsx)(f.d,{backDrop:!0,close:function(){return N(!1)},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Add training Material(s) ",children:Object(S.jsxs)("div",{className:"border-t p-2",children:[Object(S.jsx)("section",{className:"p-2",children:Object(S.jsx)(v.a,{onChange:function(e){return M(e.target.value)},value:k,error:"",label:"Title",placeholder:"",disabled:n,name:""})}),Object(S.jsx)("section",{className:"p-2",children:Object(S.jsx)(v.a,{onChange:function(e){return F(e.target.value)},value:P,error:"",label:"Description",placeholder:"",name:"",disabled:n})}),Object(S.jsx)("section",{className:"p-2",children:Object(S.jsx)(v.a,{onChange:function(e){return H(e.target.value)},value:q,error:"",label:"Material link from e-learning",placeholder:"",name:"",disabled:n})}),Object(S.jsx)("div",{className:"p-2 text-right",children:Object(S.jsx)(u.a,{type:"button",onClick:function(){if(k.length<=1)return xe(),A({target:"MAIN-ERROR",msg:"Please provide a name"});if(q.length<=1)return xe(),A({target:"MAIN-ERROR",msg:"Please provide a link"});var e={description:P,title:k,url:q,id:Object(ce.a)()};a([].concat(Object(s.a)(j),[e])),b([].concat(Object(s.a)(j),[e])),N(!1),M(""),F(""),H("")},loading:n,children:"Add material"})})]})}),le&&Object(S.jsx)(f.d,{widthSizeClass:f.b.maxWidth,backDrop:!0,close:function(){return ue(!1)},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Agenda file preview",children:Object(S.jsx)("div",{className:"border-t",children:Object(S.jsx)(je.a,{file_url:"".concat(be.a).concat(null===t||void 0===t?void 0:t.agenda_file_name),class_name:"w-full h-100vh",frame_title:"",setLoadingFile:function(){}})})}),Object(S.jsxs)(x.a,{children:[Object(S.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(S.jsx)("section",{className:"text-5xl pr-2",children:Object(S.jsx)(E.j,{})}),Object(S.jsxs)("section",{children:[Object(S.jsx)(m.a,{size:"md",children:"Add training resource"}),Object(S.jsx)("p",{className:"text-gray-500",children:"Add the training plan and the resources"})]})]}),Object(S.jsxs)("div",{className:"p-2 flex w-full gap-4",children:[Object(S.jsx)("div",{className:"flex-1 py-4 text-center flex items-center bg-gray-100 rounded",children:!0===Y?Object(S.jsxs)("div",{className:"text-center w-full",children:[Object(S.jsx)("section",{className:"text-8xl text-gray-500 pb-2 mx-auto animate__animated animate__fadeIn animate__infinite animate__slow",children:Object(S.jsx)(E.D,{className:"inline-block"})}),Object(S.jsxs)("div",{className:"px-5",children:[Object(S.jsx)("div",{className:"p-1  bg-blue-200 w-full rounded-full text-center",children:Object(S.jsxs)("section",{style:{width:"".concat(ee,"%")},className:" rounded-full w-6 bg-blue-600 text-center text-white py-0.5 font-bold text-xs",children:[ee.toFixed(0),"%"]})}),Object(S.jsx)("h2",{className:"pt-2 font-bold text-lg text-gray-400 text-center",children:"Uploading agenda"})]})]}):Object(S.jsx)("div",{className:"text-center w-full",children:Object(S.jsxs)("section",{children:[null!==t&&void 0!==t&&t.agenda_file_name&&t.agenda_file_name.length>=1?Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"flex border m-2 mx-4 bg-white p-1",children:[Object(S.jsx)("section",{className:"text-6xl text-blue-500 pb-2 mx-auto",children:Object(S.jsx)(E.K,{className:"inline-block"})}),Object(S.jsxs)("section",{className:"text-left pt-2 flex-1 pl-2",children:[Object(S.jsx)("h4",{className:"text-lg font-bold",children:t.agenda_file_name}),Object(S.jsx)("button",{onClick:function(){return ue(!0)},className:"p-2 px-0 text-blue-700 font-bold hover:underline",children:"Preview agenda document"})]})]}),Object(S.jsx)("p",{className:"text-gray-500 mb-3",children:"You can replace the agenda document by uploading the new one"})]}):Object(S.jsxs)("section",{children:[Object(S.jsx)("section",{className:"text-8xl text-gray-500 pb-2 mx-auto",children:Object(S.jsx)(E.x,{className:"inline-block"})}),Object(S.jsx)("h2",{className:"text-2xl font-bold",children:"Upload agenda document"}),Object(S.jsx)("p",{className:"text-gray-500 mb-3",children:Object(S.jsx)("b",{children:"1MB max"})})]}),Object(S.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),J.length<=0)return A({target:"MAIN-ERROR",msg:"Pease provide a file"}),void xe();ge()},children:Object(S.jsxs)("div",{className:"flex gap-3 bg-blue-100 items-center p-2 m-2 rounded",children:[Object(S.jsx)("div",{className:"flex-1 ",children:Object(S.jsx)("input",{type:"file",className:"p-2 border rounded bg-white w-full text-xl",onChange:function(e){return X(e.target.files)}})}),Object(S.jsx)(u.a,{theme:"primary",size:"lg",children:"Upload"})]})})," "]})})}),Object(S.jsxs)("div",{className:"flex-1 rounded border p-2",children:[Object(S.jsxs)("section",{className:"text-center border-b p-2 flex items-center",children:[Object(S.jsx)("section",{className:"text-2xl p-2 inline-block rounded-lg bg-blue-100 text-blue-600",children:Object(S.jsx)(E.jb,{className:"block"})}),Object(S.jsx)("h3",{className:"text-xl flex-1 font-bold text-left pl-2",children:"E-learning material links"}),Object(S.jsx)("section",{children:Object(S.jsx)(u.a,{theme:"success-light",onClick:function(){return N(!0)},children:"Add material"})})]}),Object(S.jsx)("div",{className:"p-3",children:j.map((function(e,t){return Object(S.jsxs)("section",{className:"p-2 border mb-2 rounded items-center border-blue-600 bg-blue-50 bg-opacity-40 hover:bg-blue-50 flex",children:[Object(S.jsx)("section",{className:"text-4xl pr-1 text-blue-600",children:Object(S.jsx)(E.jb,{className:"block"})}),Object(S.jsxs)("section",{className:"flex-1",children:[Object(S.jsx)("h2",{className:"font-bold hover:text-blue-500 hover:underline",children:e.title}),Object(S.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),Object(S.jsx)("section",{children:Object(S.jsx)(u.a,{theme:"danger-light",size:"sm",onClick:me.bind(undefined,e.id+""),disabled:n,children:Object(S.jsx)("h3",{className:"text-2xl",children:Object(S.jsx)(E.u,{})})})})]},t)}))})]})]})]}),Object(S.jsx)(D,{children:Object(S.jsxs)("div",{className:"text-right  flex-1 flex",children:[c&&Object(S.jsx)("section",{className:"flex-1 text-left",children:Object(S.jsx)(u.a,{theme:"default",onClick:c,loading:!1,children:"Previous"})}),Object(S.jsx)("section",{className:"flex-1 text-right",children:Object(S.jsx)(u.a,{loading:!1,children:"Next"})})]})})]})},xe=function(e){var t=e.total_trainees,a=e.assigned_trainees,s=e.unassigned_trainees,n=e.total_cohorts,i=e.total_sessions,c=e.clickAction;return Object(S.jsxs)(x.a,{className:"-mt-7 mb-4",children:[Object(S.jsxs)("div",{className:"lg:flex gap-3 items-center w-full flex-items-center pt-3 bg-white ",children:[Object(S.jsx)("section",{className:"pr-4 flex-1",children:Object(S.jsx)("h2",{className:"text-xl font-bold",children:"Cohorts & Sessions"})}),Object(S.jsxs)("div",{className:"flex gap-3 w-full lg:w-auto",children:[void 0!==t?Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total trainees"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:t})]}):null,void 0!==a?Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Assigned trainees"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:a})]}):null,void 0!==s?Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Unassigned trainees"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:s})]}):null,void 0!==n?Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total cohorts"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:n})]}):null,void 0!==i?Object(S.jsxs)("section",{className:"bg-blue-50 px-2 rounded",children:[Object(S.jsx)("label",{className:"m-0 text-sm text-blue-700 text-opacity-70",children:"Total sessions"}),Object(S.jsx)("h4",{className:"text-lg font-bold -mt-1.5 text-blue-800",children:i})]}):null]}),c&&Object(S.jsx)("section",{className:"text-right flex-right flex-1",children:Object(S.jsx)(u.a,{onClick:c,children:"Add cohort"})})]}),Object(S.jsx)("div",{className:"",children:t&&a&&t<=a&&Object(S.jsx)("div",{className:"",children:Object(S.jsx)(h.a,{theme:"danger",children:"The total trainees assigned to the training must be greater than the trainees assigned to the cohorts"})})})]})},me=void 0,ge={msg:"",target:null},Oe=function(e){var t=e.training,a=e.nextStep,n=e.prevStep,i=Object(d.useState)(ge),c=Object(O.a)(i,2),r=c[0],l=c[1],o=Object(d.useState)([]),j=Object(O.a)(o,2),m=j[0],p=j[1],_=Object(d.useState)(null),v=Object(O.a)(_,2),f=v[0],C=v[1],R=Object(d.useState)(!1),T=Object(O.a)(R,2),A=T[0],w=T[1],I=Object(d.useState)(!0),k=Object(O.a)(I,2),M=k[0],U=k[1],z=Object(d.useState)(!1),P=Object(O.a)(z,2),F=P[0],G=P[1],L=Object(d.useState)(!1),q=Object(O.a)(L,2),H=q[0],B=q[1],V=Object(d.useState)(null),Y=Object(O.a)(V,2),K=Y[0],W=Y[1];Object(d.useEffect)((function(){m.length<=0&&!0===M&&Object(b.E)(t.id,(function(e,t,a){U(!1),e&&t&&p(t),!a&&e||l({target:"MAIN-ERROR",msg:a||"Failed to load cohorts"})}))}),[t.id,m,M]);var Q=function(e){C(f===e?null:e)},J=function(e){window.confirm("Are you sure you want to delete this cohort?")&&(W(e),Object(y.i)(e,(function(t,a){W(null),t?(l({target:"MAIN-SUCCESS",msg:"Cohort deleted successfully"}),p(m.filter((function(t){return t.cohort_id!==e})))):l({target:"MAIN-ERROR",msg:a||"Failed to delete cohort"})})))},X=function(e){B(!0),Object(y.K)(e,(function(t,a,s){t?(p(m.map((function(t){return t.cohort_id===e.cohort_id?e:t}))),l({target:"MAIN-SUCCESS",msg:"Session updated successfully!"})):l({target:"MAIN-ERROR",msg:s||"Failed to update session"})})),B(!1)},$=m.reduce((function(e,t){return e+t.total_trainees}),0);return Object(S.jsxs)(S.Fragment,{children:["MAIN-ERROR"===r.target&&Object(S.jsx)(h.a,{theme:"danger",fixed:!0,onClick:l.bind(me,ge),children:r.msg}),"MAIN-SUCCESS"===r.target&&Object(S.jsx)(h.a,{theme:"success",fixed:!0,onClick:l.bind(me,ge),children:r.msg}),A&&Object(S.jsx)(fe,{close:w.bind(me,!1),addCohort:function(e){G(!0),Object(y.g)(e,(function(t,a){G(!1),t?(p([].concat(Object(s.a)(m),[e])),w(!1),l({target:"MAIN-SUCCESS",msg:"Cohort added successfully!"})):l({target:"MAIN-ERROR",msg:a||"Something went wrong, try again later."})}))},loading:F,error:"ADD-COHORT"===r.target?r.msg:"",trainingId:t.id,totalAssignedTrainees:$,totalTrainingTrainees:t.total_trainees||0}),Object(S.jsx)(xe,{assigned_trainees:$,total_cohorts:m.length,total_trainees:t.total_trainees||0,unassigned_trainees:t.total_trainees?t.total_trainees-$:0,clickAction:w.bind(me,!0)}),Object(S.jsx)(x.a,{className:"-mt-4 mb-4 px-3",noPadding:!0,transparent:!0,children:Object(S.jsxs)("table",{className:"w-full",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"bg-white text-left",children:[Object(S.jsx)("th",{className:"p-2 w-20 border"}),Object(S.jsx)("th",{className:"p-2 border",children:"Cohort name"}),Object(S.jsx)("th",{className:"p-2 border",children:"Start date"}),Object(S.jsx)("th",{className:"p-2 border",children:"End date"}),Object(S.jsx)("th",{className:"p-2 border",children:"Trainees"}),Object(S.jsx)("th",{className:"p-2 border",children:"Sessions"}),Object(S.jsx)("th",{className:"p-2 border"})]})}),Object(S.jsxs)("tbody",{children:[M&&Object(S.jsx)("tr",{children:Object(S.jsx)("td",{colSpan:10,className:"py-4 text-center",children:Object(S.jsx)(g.a,{})})}),m.map((function(e,a){var s=e.cohort_name,n=e.cohort_end_date,i=e.cohort_id,c=e.cohort_sessions,r=e.cohort_start_date,l=e.total_trainees,o=e.total_days;return Object(S.jsxs)(d.Fragment,{children:[f!==i&&Object(S.jsxs)("tr",{className:"hover:bg-gray-100 bg-white group ".concat(f===i?"bg-white mt-4":""),onClick:function(){return Q(i)},children:[Object(S.jsx)("td",{className:"p-2 border text-center text-gray-600 ",children:c.length!==o?Object(S.jsx)(E.Rb,{className:"text-3xl inline text-yellow-500 animate__animated animate__fadeIn animate__slow animate__infinite",title:"The total sessions and selected days are not matching"}):Object(S.jsx)(E.o,{className:"text-3xl inline text-green-500"})}),Object(S.jsx)("td",{className:"p-2 border font-bold",children:s}),Object(S.jsx)("td",{className:"p-2 border",children:Object(N.m)(r)}),Object(S.jsx)("td",{className:"p-2 border",children:Object(N.m)(n)}),Object(S.jsx)("td",{className:"p-2 border",children:l}),Object(S.jsx)("td",{className:"p-2 border",children:c.length}),Object(S.jsx)("td",{className:"p-2 border text-center w-10 px-4 text-gray-600 group-hover:bg-blue-200",children:Object(S.jsx)(E.X,{className:"text-2xl inline text-blue-800"})})]}),f===i&&Object(S.jsx)("tr",{children:Object(S.jsx)("td",{className:"pb-4 m-0",colSpan:10,children:Object(S.jsx)(_e,{cohort:e,cohort_lists:m,close:function(){return Q(i)},onDelete:J,deleteLoading:K,totalAssignedTrainees:$,totalTrainingTrainees:t.total_trainees||0,updateCohort:X,updateLoading:H})})})]},a)}))]})]})}),Object(S.jsx)(D,{children:Object(S.jsxs)("div",{className:"text-right  flex-1 flex",children:[n&&Object(S.jsx)("section",{className:"flex-1 text-left",children:Object(S.jsx)(u.a,{theme:"default",onClick:n,loading:!1,children:"Previous"})}),a&&Object(S.jsx)("section",{className:"flex-1 text-right",children:Object(S.jsx)(u.a,{theme:"success",children:"Update & Continue"})})]})})]})},pe=function(e){var t=e.item;return Object(S.jsxs)("div",{className:"p-1 border rounded bg-white flex items-center",children:[Object(S.jsx)("section",{className:"text-4xl pr-3 pl-2 text-gray-400",children:Object(S.jsx)(E.t,{})}),Object(S.jsxs)("section",{className:"flex-1",children:[Object(S.jsx)("label",{className:"text-xs text-gray-500 m-0",children:"Date"}),Object(S.jsx)("h6",{className:" -mt-1 font-bold",children:t.date})]})]})},_e=function(e){var t=e.cohort,a=e.close,i=e.onDelete,c=e.deleteLoading,r=e.updateCohort,l=e.updateLoading,o=e.totalTrainingTrainees,j=e.totalAssignedTrainees,b=e.cohort_lists,x=t.cohort_end_date,m=t.cohort_id,g=t.cohort_name,_=t.cohort_sessions,f=t.cohort_start_date,y=t.total_days,C=t.total_trainees,R=Object(d.useState)(!1),T=Object(O.a)(R,2),A=T[0],w=T[1],I=Object(d.useState)(""),k=Object(O.a)(I,2),D=k[0],M=k[1],U=Object(d.useState)(""),z=Object(O.a)(U,2),P=z[0],G=z[1],L=Object(d.useState)(""),q=Object(O.a)(L,2),H=q[0],B=q[1],V=Object(d.useState)(0),Y=Object(O.a)(V,2),K=Y[0],W=Y[1],Q=Object(d.useState)(0),J=Object(O.a)(Q,2),X=J[0],$=J[1],Z=Object(d.useState)([]),ee=Object(O.a)(Z,2),te=ee[0],ae=ee[1],se=Object(d.useState)({target:null,msg:""}),ne=Object(O.a)(se,2),ie=ne[0],re=ne[1],le=Object(d.useState)({months:[],years:[]}),de=Object(O.a)(le,2),oe=de[0],je=de[1],be=Object(d.useState)(""),he=Object(O.a)(be,2),ue=he[0],xe=he[1],ge=Object(d.useState)(""),Oe=Object(O.a)(ge,2),_e=Oe[0],ve=Oe[1];Object(d.useEffect)((function(){var e=Object(N.o)(P,H);je(e),xe(e.months[0]+""),ve(e.years[0])}),[P,H]),Object(d.useEffect)((function(){M(g),G(Object(N.m)(f)),B(Object(N.m)(x)),W(y),ae(_),$(C)}),[g,f,x,y,_,C]);var fe=function(e,t){if(te.find((function(t){return Object(N.m)(t.date)===Object(N.m)(e)})))ae(te.filter((function(t){return Object(N.m)(t.date)!==Object(N.m)(e)})));else{if(!t||K<=te.length)return;var a={id:Object(ce.a)(),date:Object(N.m)(e)};ae([].concat(Object(s.a)(te),[a]))}},Ne=Array.from({length:Object(N.p)(+ue,+_e)},(function(e,t){var a="".concat(_e,"-").concat(ue,"-").concat(t+1),s=Object(N.q)(a,P,H),n=te.find((function(e){return Object(N.m)(e.date)===Object(N.m)(a)})),i=s&&K>=te.length?"cursor-pointer":"cursor-not-allowed";return Object(S.jsxs)("div",{className:"border-0.5 p-2 h-28 ".concat(i,"  ").concat(n?"bg-green-100 text-green-800 border-green-500":"bg-gray-50 border-gray-500","    border ").concat(s?"":"opacity-25"),onClick:fe.bind(me,a,s),children:[Object(S.jsxs)("div",{className:"text-right",children:[Object(S.jsx)("h4",{className:"text-xl font-bold text-right",children:t+1}),Object(S.jsx)("p",{children:Object(N.n)(a)}),Object(S.jsx)("p",{className:"text-xs text-right opacity-40",children:a})]}),n&&Object(S.jsx)("h4",{className:"text-4xl",children:Object(S.jsx)(E.F,{})})]},t)}));return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"bg-white my-3 pt-1 animate__animated animate__zoomIn animate__faster",children:[Object(S.jsxs)("div",{className:"border-b p-2 flex items-center ",children:[Object(S.jsx)("section",{className:"flex-1",children:A?Object(S.jsx)("h4",{className:"text-2xl font-bold pl-2",children:"Edit Cohort"}):Object(S.jsxs)("h4",{className:"text-2xl font-bold pl-2",children:[Object(S.jsx)(E.F,{className:"text-4xl inline text-gray-500"})," ",g]})}),Object(S.jsx)("section",{children:Object(S.jsx)(u.a,{size:"sm",theme:"danger-light",onClick:a,disabled:null!==c||l,children:"Close"})})]}),Object(S.jsxs)("div",{className:" flex flex-col lg:flex-row ",children:[Object(S.jsxs)("div",{className:"flex border-b p-3 flex-col lg:w-72 lg:flex-col",children:[A?Object(S.jsxs)("section",{className:"flex-1 pr-6 grid lg:block grid-cols-3 lg:grid-cols-1 gap-4 lg:gap-0 flex-row lg:w-72 lg:flex-col",children:[Object(S.jsx)(v.a,{onChange:function(e){return M(e.target.value)},value:D,error:"name"===ie.target?ie.msg:"",label:"Cohort name",placeholder:"",name:D,disabled:l}),Object(S.jsx)(v.a,{onChange:function(e){var t=e.target.value;G(t);var a,s=[],n=Object(F.a)(te);try{for(n.s();!(a=n.n()).done;){var i=a.value;Object(N.q)(Object(N.m)(i.date),Object(N.m)(t),Object(N.m)(H))&&s.push(i)}}catch(c){n.e(c)}finally{n.f()}ae(s)},type:"date",value:P,error:"startDate"===ie.target?ie.msg:"",label:"Start date",placeholder:"",name:"",maxValue:H,disabled:l}),Object(S.jsx)(v.a,{onChange:function(e){var t=e.target.value;B(t);var a,s=[],n=Object(F.a)(te);try{for(n.s();!(a=n.n()).done;){var i=a.value;Object(N.q)(Object(N.m)(i.date),Object(N.m)(P),Object(N.m)(t))&&s.push(i)}}catch(c){n.e(c)}finally{n.f()}ae(s)},type:"date",value:H,minValue:P,error:"startDate"===ie.target?ie.msg:"",label:"End date",placeholder:"",name:"",disabled:l}),Object(S.jsx)(v.a,{onChange:function(e){return $(+e.target.value||0)},type:"text",value:X,error:"totalTrainees"===ie.target?ie.msg:"",label:"Total trainees",placeholder:"",name:"",disabled:l}),Object(S.jsx)(v.a,{onChange:function(e){return W(+e.target.value||0)},type:"text",value:K,error:"totalDays"===ie.target?ie.msg:"",label:"Total sessions",placeholder:"",name:"",disabled:l}),Object(S.jsxs)("div",{className:"py-2 bg-blue-100 items-center pr-3 flex text-blue-900 px-2 rounded mb-2",children:[Object(S.jsx)("label",{className:"flex-1",children:"Selected session"}),Object(S.jsx)("h4",{className:"text-xl font-bold",children:te.length})]})]}):Object(S.jsxs)("section",{className:"flex-1",children:[Object(S.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(S.jsx)("label",{className:"text-gray-500 flex-1 pr-4",children:"Total trainee"}),Object(S.jsx)("h3",{className:"text-lg font-bold",children:C})]}),Object(S.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(S.jsx)("label",{className:"text-gray-500 flex-1 pr-4",children:"Start date"}),Object(S.jsx)("h3",{className:"text-lg font-bold",children:Object(N.m)(f)})]}),Object(S.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(S.jsx)("label",{className:"text-gray-500 flex-1 pr-4",children:"End date"}),Object(S.jsx)("h3",{className:"text-lg font-bold",children:Object(N.m)(x)})]}),Object(S.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(S.jsx)("label",{className:"text-gray-500 flex-1 pr-4",children:"Total sessions"}),Object(S.jsx)("h3",{className:"text-lg font-bold",children:_.length})]}),Object(S.jsxs)("div",{className:"p-2 border-b flex items-center",children:[Object(S.jsx)("label",{className:"text-gray-500 flex-1 pr-4",children:"Selected days"}),Object(S.jsx)("h3",{className:"text-lg font-bold",children:y})]})]}),Object(S.jsxs)("div",{className:" pb-3 ",children:[te.length!==K&&Object(S.jsxs)(h.a,{theme:"warning",children:[Object(S.jsx)(E.Rb,{className:"inline"})," The selected days are not matching with the total sessions"]}),"main-error"===ie.target&&Object(S.jsx)(h.a,{theme:"danger",children:ie.msg})]}),Object(S.jsx)("section",{className:"flex pt-2 gap-2",children:A?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(u.a,{full:!0,theme:"success",onClick:function(){return function(){if(re({target:null,msg:""}),D.length<=2)return re({target:"name",msg:"Required"});if(!H)return re({target:"endDate",msg:"Required"});if(!X)return re({target:"totalTrainees",msg:"Required"});if(!K)return re({target:"totalDays",msg:"Required"});if(te.length<=0)return re({target:"main-error",msg:"Please add sessions"});if(b.filter((function(e){return e.cohort_id!==t.cohort_id})).find((function(e){return e.cohort_name.toLowerCase()===D.toLowerCase()})))return re({target:"name",msg:"Name already exists, please choose another"});var e=j-C;if(e+X>o)return re({target:"totalTrainees",msg:"The total trainees must not be greater than:  ".concat(o-e)});r(Object(n.a)(Object(n.a)({},t),{},{cohort_end_date:H,cohort_start_date:P,total_days:K,total_trainees:X,cohort_sessions:te,cohort_name:D})),w(!1)}()},loading:l,children:"Save changes"}),Object(S.jsx)(u.a,{full:!0,theme:"danger-light",onClick:w.bind(me,!1),loading:c===m,disabled:null!==c||l,children:"Cancel"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(u.a,{full:!0,theme:"primary-light",onClick:w.bind(me,!0),children:"Edit cohort"}),Object(S.jsx)(u.a,{full:!0,theme:"danger-light",onClick:i.bind(me,m),loading:c===m,disabled:null!==c,children:"Remove Cohort"})]})})]}),Object(S.jsx)("div",{className:"flex-1 bg-gray-200",children:A?Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsxs)("div",{className:"flex-1",children:[Object(S.jsxs)("div",{className:"flex gap-2 px-2 border border-y-2 bg-gray-700 border-b items-center",children:[Object(S.jsx)(E.z,{className:"text-white text-4xl"}),Object(S.jsxs)("div",{className:"flex-1 pl-1 flex items-center",children:[Object(S.jsx)("h4",{className:"text-2xl text-white",children:"Sessions"}),Object(S.jsx)("label",{className:"text-xl bg-white px-2 rounded-full text-black m-2 ",children:te.length})]}),A&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{children:Object(S.jsx)(p.a,{onChange:function(e){return xe(e.target.value)},size:"sm",value:ue,error:"",label:"",placeholder:"",name:"",data:oe.months.map((function(e){return{title:N.e[e-1||0],value:e}}))})}),Object(S.jsx)("div",{children:Object(S.jsx)(p.a,{size:"sm",onChange:function(e){return ve(e.target.value)},value:_e,error:"",label:"",placeholder:"",name:"",data:oe.years.map((function(e){return{title:e+"",value:e}}))})})]})]}),Object(S.jsx)("div",{className:"grid flex-1 grid-cols-7 border-1",children:Ne})]}),oe.months.length>1&&te.length>=1&&Object(S.jsxs)("div",{className:"bg-white hidden xl:block",children:[Object(S.jsx)("h3",{className:"py-1 font-bold text-xl text-center text-blue-400",children:"Selected"}),Object(S.jsx)("div",{className:"flex flex-col overflow-auto gap-2 pl-2 p-2 bg-white overflow-x-auto",style:{height:"32rem",overflow:"auto"},children:te.map((function(e,t){var a=Object(N.m)(e.date);return Object(S.jsxs)("div",{className:"flex p-0.5 w-30 bg-blue-100 items-center rounded-full pl-2",children:[Object(S.jsx)("section",{className:"flex-1 px-2 text-sm text-blue-800",children:Object(S.jsx)("span",{children:a})}),Object(S.jsx)("section",{onClick:fe.bind(me,a,!0),className:"bg-red-200 hover:bg-red-300 text-red-800 p-1 rounded-full",children:Object(S.jsx)(E.Y,{})})]},t)}))})]})]}):Object(S.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4  gap-3 p-3 ",children:[_.length<=0&&Object(S.jsxs)("div",{className:"col-span-8 text-center py-6",children:[Object(S.jsx)(E.H,{className:"text-8xl inline text-gray-500"}),Object(S.jsx)("h2",{className:"text-2xl mt-2",children:"No split found!"})]}),_.map((function(e,t){return Object(S.jsx)(pe,{item:e},t)}))]})})]})]})})},ve={target:null,msg:""},fe=function(e){var t=e.close,a=e.addCohort,s=e.loading,n=(e.error,e.trainingId),i=e.totalAssignedTrainees,c=e.totalTrainingTrainees,r=Object(d.useState)(ve),l=Object(O.a)(r,2),o=l[0],j=l[1],b=Object(d.useState)(""),h=Object(O.a)(b,2),x=h[0],m=h[1],g=Object(d.useState)(0),p=Object(O.a)(g,2),_=p[0],N=p[1],y=Object(d.useState)(0),C=Object(O.a)(y,2),R=C[0],T=C[1],E=Object(d.useState)(""),A=Object(O.a)(E,2),w=A[0],I=A[1],k=Object(d.useState)(""),D=Object(O.a)(k,2),M=D[0],U=D[1];return Object(S.jsx)(f.d,{backDrop:!0,close:t,backDropClose:!1,displayClose:!0,padding:{title:!0,body:!1,footer:!1},title:"Add cohort",children:Object(S.jsx)("div",{className:"border-t p-3",children:Object(S.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),x.length<=2?j({target:"name",msg:"Please provide the name"}):w.length<=2?j({target:"start_date",msg:"Required!"}):M.length<=2?j({target:"end_date",msg:"Required!"}):x.length<=2?j({target:"name",msg:"Required!"}):_<=0?j({target:"total_trainees",msg:"Required!"}):R<=0?j({target:"total_days",msg:"Required!"}):i+_>c?j({target:"total_trainees",msg:"The total trainees must not be greater than:  ".concat(c-i)}):void a({cohort_end_date:M,cohort_id:Object(ce.a)(),cohort_name:x,cohort_sessions:[],cohort_start_date:w,total_days:R,total_trainees:_,training_id:n})},className:"",children:[Object(S.jsx)(v.a,{onChange:function(e){I(e.target.value),j(ve)},type:"date",value:w,error:"start_date"===o.target?o.msg:"",label:"Start date",placeholder:"Start Date",name:"Cohort name",disabled:s}),Object(S.jsx)(v.a,{onChange:function(e){U(e.target.value),j(ve)},type:"date",value:M,error:"end_date"===o.target?o.msg:"",label:"End date",placeholder:"End Date",name:"End",disabled:s}),Object(S.jsx)(v.a,{onChange:function(e){m(e.target.value),j(ve)},value:x,error:"name"===o.target?o.msg:"",label:"Cohort name",placeholder:"Cohort name",name:"Cohort name",disabled:s}),Object(S.jsx)(v.a,{onChange:function(e){return N(+e.target.value||0)},value:_,type:"number",error:"total_trainees"===o.target?o.msg:"",label:"Total trainees",placeholder:"Total trainees",name:"Total trainees",disabled:s}),Object(S.jsx)(v.a,{onChange:function(e){return T(+e.target.value||0)},value:R,type:"text",error:"total_days"===o.target?o.msg:"",label:"Total days",placeholder:"Total days",name:"Total days",disabled:s}),Object(S.jsx)("div",{className:"py-2 text-right",children:Object(S.jsx)(u.a,{size:"lg",type:"submit",loading:s,children:"Add Cohort"})})]})})})},Ne={target:null,msg:""},ye=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(i.a)(this,a),(c=t.call(this,e)).updatedRoomCapacity=function(e){c.state.training&&c.state.training.groups&&c.setState({training:Object(n.a)(Object(n.a)({},c.state.training),{},{groups:c.state.training.groups.map((function(t){var a;return t.id.toString()===(null===e||void 0===e||null===(a=e.id)||void 0===a?void 0:a.toString())?Object(n.a)(Object(n.a)({},t),{},{number_of_trainees:e.number_of_trainees}):t}))})})},c.setStepOne__title=function(e){return c.setState({step_one__title:e})},c.setStepOne__description=function(e){return c.setState({step_one__description:e})},c.setStepOne__start_date=function(e){return c.setState({step_one__start_date:e})},c.setStepOne__end_date=function(e){return c.setState({step_one__end_date:e})},c.setStepOne__sub_area=function(e){return c.setState({step_one__sub_area:e})},c.setStepOne__budget=function(e){return c.setState({step_one__budget:e})},c.setStepOne__topic=function(e){return c.setState({step_one__topic:e})},c.setStepOne__total_trainees=function(e){return c.setState({step_one__total_trainees:+e})},c.AddTrainingInstitution=function(e){var t;c.state.training&&window.confirm("Are you sure you want to save changes")&&(c.setState({alert:Ne,loading__add_training_institution:!0}),Object(b.e)({training_id:null===(t=c.state.training)||void 0===t?void 0:t.id,data:e},(function(e,t,a){!0===e?(c.setState({alert:{target:"SUCCESS-ADD-TRAINING-INSTITUTION",msg:"The new institution has been added"},training:c.state.training?Object(n.a)(Object(n.a)({},c.state.training),{},{trainer_institution:c.state.training.trainer_institution?[].concat(Object(s.a)(c.state.training.trainer_institution),Object(s.a)(t)):Object(s.a)(t)}):c.state.training,loading__add_training_institution:!1}),c.cleanError(),setTimeout((function(){c.setState({add_training_institution:!1})}),3500)):c.setState({alert:{target:"ERROR-ADD-TRAINING-INSTITUTION",msg:"Error: ".concat(a)},loading__add_training_institution:!1}),c.cleanError()})))},c.AddTraineeCategory=function(e){c.state.training&&window.confirm("Are you sure you want to save changes")&&(c.setState({alert:Ne,loading__add_trainee_category:!0}),Object(b.c)({training_id:c.state.training.id,data:e},(function(e,t,a){!0===e?(c.setState({alert:{target:"SUCCESS-ADD-TRAINEE-CATEGORY",msg:"The new trainee categories has been added"},training:c.state.training?Object(n.a)(Object(n.a)({},c.state.training),{},{trainee_category:c.state.training.trainee_category?[].concat(Object(s.a)(c.state.training.trainee_category),Object(s.a)(t)):Object(s.a)(t)}):c.state.training,loading__add_trainee_category:!1}),c.cleanError(),setTimeout((function(){c.setState({add_trainee_category:!1})}),3500)):c.setState({alert:{target:"ERROR-ADD-TRAINEE-CATEGORY",msg:"Error: ".concat(a)},loading__add_trainee_category:!1})})))},c.DeleteTrainingInstitution=function(e){c.state.training&&window.confirm("Are you sure you want to remove the institution to this training?")&&(c.setState({delete_training_institution:e,alert:Ne}),Object(b.w)({training_id:c.state.training.id,id:e.toString()},(function(t,a){t?(c.setState({delete_training_institution:null,alert:{target:"MAIN-SUCCESS",msg:"Training institution has been removed to this training"},training:c.state.training?Object(n.a)(Object(n.a)({},c.state.training),{},{trainer_institution:c.state.training.trainer_institution?c.state.training.trainer_institution.filter((function(t){return(null===t||void 0===t?void 0:t.id)+""!==e+""})):c.state.training.trainer_institution}):c.state.training}),c.cleanError()):c.setState({delete_training_institution:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)}})})))},c.DeleteTraineeCategory=function(e){c.state.training&&window.confirm("Are you sure you want to remove the trainee category to this training?")&&(c.setState({delete_trainee_category:e,alert:Ne}),Object(b.u)({training_id:c.state.training.id,id:e.toString()},(function(t,a){t?c.setState({delete_trainee_category:null,alert:{target:"MAIN-SUCCESS",msg:"Trainee category has been removed to this training"},training:c.state.training?Object(n.a)(Object(n.a)({},c.state.training),{},{trainee_category:c.state.training.trainee_category?c.state.training.trainee_category.filter((function(t){var a;return(null===(a=t.id)||void 0===a?void 0:a.toString())!==e.toString()})):c.state.training.trainee_category}):c.state.training}):c.setState({delete_trainee_category:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)}})})))},c.saveStepOneData=function(){var e,t;c.state.training&&(c.setState({loadingStepOneSave:!0}),Object(b.bc)({agenda_file_name:c.state.training.agenda_file_name||"",budget:+c.state.step_one__budget,description:c.state.step_one__description,development_partner_id:(null===(e=c.props.auth.stakeholder)||void 0===e?void 0:e.development_partner_id)+"",end_date:c.state.step_one__start_date,id:null===(t=c.state.training)||void 0===t?void 0:t.id,material_links:c.state.training.material_links,start_date:c.state.step_one__start_date,sub_area_id:c.state.step_one__sub_area,title:c.state.step_one__title,topic_id:c.state.step_one__topic,total:0,total_trainees:c.state.step_one__total_trainees},(function(e,t){var a,s;e?c.setState({loadingStepOneSave:!1,alert:{target:"MAIN-SUCCESS",msg:"Data updated successfully"},step:2,training:c.state.training?Object(n.a)(Object(n.a)({},c.state.training),{},{agenda_file_name:c.state.training.agenda_file_name||"",budget:+c.state.step_one__budget,description:c.state.step_one__description,development_partner_id:(null===(a=c.props.auth.stakeholder)||void 0===a?void 0:a.development_partner_id)+"",end_date:c.state.step_one__start_date,id:null===(s=c.state.training)||void 0===s?void 0:s.id,material_links:c.state.training.material_links,start_date:c.state.step_one__start_date,sub_area_id:c.state.step_one__sub_area,title:c.state.step_one__title,topic_id:c.state.step_one__topic,total_trainees:c.state.step_one__total_trainees}):c.state.training}):c.setState({loadingStepOneSave:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}});c.cleanError()})))},c.deleteCenterGroup=function(e){var t=e.training_id,a=e.id;window.confirm("Are you sure you want to remove this center")&&(c.setState({delete_group_loading:a}),Object(b.r)(a,t,(function(e,t){var s;e?c.setState({delete_group_loading:null,alert:{target:"MAIN-SUCCESS",msg:"the center has bee removed"},training:c.state.training&&Object(n.a)(Object(n.a)({},c.state.training),{},{groups:null===(s=c.state.training.groups)||void 0===s?void 0:s.filter((function(e){return e.id.toString()!==a.toString()}))})||c.state.training}):c.setState({delete_group_loading:null,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}});c.cleanError()})))},c.addGroupHandler=function(e){c.state.training&&c.setState({open_add_group:e,addCenter:!0})},c.addRoomToCenterData=function(e){c.state.training&&c.setState({training:Object(n.a)(Object(n.a)({},c.state.training),{},{groups:[].concat(Object(s.a)(c.state.training.groups||[]),[e])}),open_add_group:null})},c.updateCriterial=function(e){c.state.training&&c.setState({training:Object(n.a)(Object(n.a)({},c.state.training),{},{trainee_criteria:Object(n.a)({},e)}),open_add_group:null,step:4})},c.updateMaterials=function(e){var t,a;c.state.training&&(c.setState({loading_materials:!0}),Object(b.bc)({agenda_file_name:c.state.training.agenda_file_name||"",budget:+c.state.step_one__budget,description:c.state.step_one__description,development_partner_id:(null===(t=c.props.auth.stakeholder)||void 0===t?void 0:t.development_partner_id)+"",end_date:c.state.step_one__start_date,id:null===(a=c.state.training)||void 0===a?void 0:a.id,material_links:e,start_date:c.state.step_one__start_date,sub_area_id:c.state.step_one__sub_area,title:c.state.step_one__title,topic_id:c.state.step_one__topic,total:0,total_trainees:c.state.step_one__total_trainees},(function(t,a){console.log({total__trainees:c.state.step_one__total_trainees}),t?c.setState({loading_materials:!1,alert:{target:"MAIN-SUCCESS",msg:"Material links updated successfully"},training:c.state.training?Object(n.a)(Object(n.a)({},c.state.training),{},{material_links:e}):c.state.training}):c.setState({loading_materials:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)}}),c.cleanError()})))},c.uploadFileSuccess=function(e){c.state.training&&c.setState({training:Object(n.a)(Object(n.a)({},c.state.training),{},{agenda_file_name:e})})},c.successSubmitTrainer=function(e){var t;console.log({data:e,trainers:null===(t=c.state.training)||void 0===t?void 0:t.trainers,new:Object(n.a)(Object(n.a)({},e),{},{center_id:e.center_id?+e.center_id:"",group_id:e.group_id?+e.group_id:""})}),c.setState({training:c.state.training?Object(n.a)(Object(n.a)({},c.state.training),{},{trainers:c.state.training.trainers?[].concat(Object(s.a)(c.state.training.trainers),[Object(n.a)({},e)]):c.state.training.trainers}):c.state.training})},c.removeTrainerSuccess=function(e){c.setState({training:c.state.training?Object(n.a)(Object(n.a)({},c.state.training),{},{trainers:c.state.training.trainers?c.state.training.trainers.filter((function(t){return t.user_id!==e})):c.state.training.trainers}):c.state.training})},c.state={loading:!0,step:1,loading_submit:!1,training:null,alert:Ne,add_training_institution:!1,delete_training_institution:null,loading__add_training_institution:!1,add_trainee_category:!1,loading__add_trainee_category:!1,delete_trainee_category:null,loadingStepOneSave:!1,step_one__title:"",step_one__description:"",step_one__start_date:"",step_one__end_date:"",step_one__sub_area:"",step_one__budget:"",step_one__topic:"",step_one__total_trainees:0,addCenter:!1,addCenter_loading:!1,delete_group_loading:null,open_add_group:null,loading_add_group:!1,loading_materials:!1,delete_loading:null},c}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getTrainingDetails()}},{key:"getTrainingDetails",value:function(){var e,t=this;if(null===(e=this.props.auth.stakeholder)||void 0===e||!e.development_partner_id)return this.setState({loading:!1,alert:{msg:"Failed to authenticate you",target:"MAIN-ERROR"}});Object(b.xb)(this.props.training_id,(function(e,a,s){var n,i;e?t.setState({loading:!1,alert:Ne,training:a,step_one__title:(null===a||void 0===a?void 0:a.title)||"",step_one__description:(null===a||void 0===a?void 0:a.description)||"",step_one__start_date:Object(N.m)((null===a||void 0===a?void 0:a.start_date)+""),step_one__end_date:Object(N.m)((null===a||void 0===a?void 0:a.end_date)+""),step_one__sub_area:(null===a||void 0===a?void 0:a.sub_area_id)||"",step_one__budget:(null===a||void 0===a||null===(n=a.budget)||void 0===n?void 0:n.toString())||"",step_one__topic:(null===a||void 0===a||null===(i=a.topic_id)||void 0===i?void 0:i.toString())+"",step_one__total_trainees:(null===a||void 0===a?void 0:a.total_trainees)||0}):t.setState({loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(s)},training:a})}))}},{key:"cleanError",value:function(){var e=this;setTimeout((function(){e.setState({alert:Ne})}),3e3)}},{key:"render",value:function(){var e,t,a,i,c,r=this;return this.state.loading?Object(S.jsx)("div",{className:"py-8 text-center",children:Object(S.jsx)(g.a,{})}):Object(S.jsxs)(S.Fragment,{children:[!0===this.state.add_training_institution&&Object(S.jsx)(A,{close:function(){return r.setState({add_training_institution:!1})},path_url:b.Kc,submit:this.AddTrainingInstitution,submit_loading:this.state.loading__add_training_institution,title:"Add Training institution(s)",existing_data:(null===(e=this.state.training)||void 0===e?void 0:e.trainer_institution)||[],error_msg:"ERROR-ADD-TRAINING-INSTITUTION"===this.state.alert.target?this.state.alert.msg:"",success_msg:"SUCCESS-ADD-TRAINING-INSTITUTION"===this.state.alert.target?this.state.alert.msg:""}),!0===this.state.add_trainee_category&&Object(S.jsx)(A,{close:function(){return r.setState({add_trainee_category:!1})},path_url:b.Ic,submit:this.AddTraineeCategory,submit_loading:this.state.loading__add_trainee_category,title:"Add Trainee category",existing_data:(null===(t=this.state.training)||void 0===t?void 0:t.trainee_category)||[],error_msg:"ERROR-ADD-TRAINEE-CATEGORY"===this.state.alert.target?this.state.alert.msg:"",success_msg:"SUCCESS-ADD-TRAINEE-CATEGORY"===this.state.alert.target?this.state.alert.msg:""}),!0===this.state.addCenter&&this.state.training&&Object(S.jsx)(T,{training_id:null===(a=this.state.training)||void 0===a?void 0:a.id,close:function(){return r.setState({addCenter:!1,open_add_group:null})},selectedCenter:this.state.open_add_group,centers:(null===(i=this.state.training)||void 0===i?void 0:i.centers)||[],successHandler:function(e){return r.setState({training:r.state.training&&Object(n.a)(Object(n.a)({},r.state.training),{},{groups:[].concat(Object(s.a)(r.state.training.groups||[]),[e])})||r.state.training})}}),"MAIN-SUCCESS"===this.state.alert.target&&Object(S.jsx)(h.a,{theme:"success",fixed:!0,children:this.state.alert.msg}),"MAIN-ERROR"===this.state.alert.target&&Object(S.jsx)(h.a,{theme:"danger",fixed:!0,children:this.state.alert.msg}),Object(S.jsx)("div",{className:"lg:sticky top-3 z-50 ",children:Object(S.jsxs)(x.a,{children:[Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)("div",{className:"flex-1",children:Object(S.jsx)(m.a,{size:"lg",className:" py-2 lg:pb-3 lg:pt-2 font-light text-left text-gray-500",children:this.state.training?"".concat(this.state.training.title||"Training application request"):"Training request"})}),!1===this.state.loading_submit&&Object(S.jsx)(u.a,{size:"md",theme:"danger-light",onClick:function(){return window.confirm("Are you sure you want to stop the request process \n All your previous choices will be lost")&&r.props.close()},children:"Close"})]}),Object(S.jsx)("div",{className:"grid overflow-hidden grid-cols-2 lg:grid-cols-5 border rounded-md",children:[{step:1,title:"Basic info",description:"Basic information",active:!0},{step:2,title:"Cohorts",description:"Cohorts and sessions"},{step:3,title:"Training area",description:"Centers & groups & Trainers"},{step:4,title:"Criterial",description:"Users group and criterial"},{step:5,title:"Resources",description:"Documents & Resources"}].map((function(e,t){return Object(S.jsx)(w,{onClick:function(){r.setState({step:e.step})},active:e.step===r.state.step,description:e.description,number:e.step,theme:e.step===r.state.step?"yellow":r.state.step>e.step?"green":"gray",title:e.title,priority:e.step<=r.state.step},t)}))})]})}),1===this.state.step&&this.state.training&&Object(S.jsx)(P,{setStepOne__total_trainees:this.setStepOne__total_trainees,loadingStepOneSave:this.state.loadingStepOneSave,sub_area_id:this.state.training.sub_area_id||"",successData:this.saveStepOneData,trainee_category:this.state.training.trainee_category?this.state.training.trainee_category:[],trainer_institutions:this.state.training.trainer_institution?this.state.training.trainer_institution:[],addTraineeCategory:function(){return r.setState({add_trainee_category:!0})},addTrainerInstitution:function(){return r.setState({add_training_institution:!0})},loadingTraineeCategory:!1,loadingTrainerInstitution:!1,removeTraineeCategory:this.DeleteTraineeCategory,removeTrainerInstitution:this.DeleteTrainingInstitution,loadingTraineeCategoryRemove:this.state.delete_trainee_category,loadingTrainersInstitutionRemove:this.state.delete_training_institution,step_one__total_trainees:this.state.step_one__total_trainees,step_one__title:this.state.step_one__title,step_one__description:this.state.step_one__description,step_one__start_date:this.state.step_one__start_date,step_one__end_date:this.state.step_one__end_date,step_one__sub_area:this.state.step_one__sub_area,step_one__budget:this.state.step_one__budget,setStepOne__title:this.setStepOne__title,setStepOne__description:this.setStepOne__description,setStepOne__start_date:this.setStepOne__start_date,setStepOne__end_date:this.setStepOne__end_date,setStepOne__sub_area:this.setStepOne__sub_area,setStepOne__budget:this.setStepOne__budget,step_one__topic:this.state.step_one__topic,setStepOne__topic:this.setStepOne__topic}),2===this.state.step&&this.state.training&&Object(S.jsx)(Oe,{prevStep:function(){return r.setState({step:1})},nextStep:function(){r.setState({step:3})},training:this.state.training}),3===this.state.step&&this.state.training&&Object(S.jsx)(Q,{training:this.state.training,addCenter:function(){return r.setState({addCenter:!0})},deleteCenterGroup:this.deleteCenterGroup,delete_group_loading:this.state.delete_group_loading,addGroupHandler:this.addGroupHandler,updatedRoomCapacity:this.updatedRoomCapacity,prevStep:function(){return r.setState({step:1})},nextStep:function(){r.setState({step:4})},successSubmitTrainer:this.successSubmitTrainer,removeTrainerSuccess:this.removeTrainerSuccess}),4===this.state.step&&this.state.training&&Object(S.jsx)(se,{training:this.state.training,successCriterial:this.updateCriterial,prevStep:function(){return r.setState({step:3})},nextStep:function(){return r.setState({step:5})}}),5===this.state.step&&this.state.training&&Object(S.jsx)(ue,{training:this.state.training,submitTrainingResource:this.updateMaterials,loading_materials:this.state.loading_materials,uploadFileSuccess:this.uploadFileSuccess,prevStep:function(){return r.setState({step:4})},stake_holder_id:(null===(c=this.props.auth.stakeholder)||void 0===c?void 0:c.development_partner_id)+""})]})}}]),a}(o.a.Component),Se=Object(j.b)((function(e){return{auth:e.auth}}),{})(ye)},488:function(e,t,a){"use strict";a.d(t,"a",(function(){return H}));var s,n=a(9),i=a(19),c=a(20),r=a(21),l=a(22),d=a(4),o=a.n(d),j=a(15),b=a(36),h=a(13),u=a(47),x=a(23),m=a(53),g=a(92),O=a(141),p=a(26),_=a(27),v=a(95),f=a(12),N=a(16),y=a(29),S=a(41),C=a(28),R=a(380),T=a(140),E=a(356),A=a(139),w=a(39),I=a(1),k={target:null,msg:""},D=function(e){var t=e.successHandler,a=e.close,s=e.training,n=e.training_schools,i=(e.remaining,Object(d.useState)(k)),c=Object(C.a)(i,2),r=c[0],l=c[1],o=Object(d.useState)([]),j=Object(C.a)(o,2),b=j[0],m=j[1],g=Object(d.useState)(""),O=Object(C.a)(g,2),v=O[0],f=O[1],y=Object(d.useState)(""),D=Object(C.a)(y,2),M=D[0],U=D[1],z=Object(d.useState)(!1),P=Object(C.a)(z,2),F=P[0],G=P[1],L=Object(d.useState)(""),q=Object(C.a)(L,2),H=q[0],B=q[1],V=Object(d.useState)([]),Y=Object(C.a)(V,2),K=Y[0],W=Y[1],Q=Object(d.useState)(null),J=Object(C.a)(Q,2),X=J[0],$=J[1],Z=Object(d.useState)(null),ee=Object(C.a)(Z,2),te=ee[0],ae=ee[1],se=Object(d.useState)("TEACHERS"),ne=Object(C.a)(se,2),ie=ne[0],ce=ne[1],re=Object(d.useState)(!1),le=Object(C.a)(re,2),de=le[0],oe=le[1],je=Object(d.useState)(0),be=Object(C.a)(je,2),he=be[0],ue=be[1],xe=Object(d.useState)(!1),me=Object(C.a)(xe,2),ge=me[0],Oe=me[1],pe=Object(d.useState)(""),_e=Object(C.a)(pe,2),ve=_e[0],fe=_e[1],Ne=Object(d.useState)([]),ye=Object(C.a)(Ne,2),Se=ye[0],Ce=ye[1];Object(d.useEffect)((function(){var e,t,a;null!==(e=s.trainee_criteria)&&void 0!==e&&e.districts&&(null===(t=s.trainee_criteria)||void 0===t?void 0:t.districts.length)>=1?m(null===(a=s.trainee_criteria)||void 0===a?void 0:a.districts.map((function(e){return{district_code:e.id+"",district_name:e.name}}))):Object(E.b)((function(e,t,a){t?(m(t),l(k)):l({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),Te()}))}),[s]);var Re=function(e){if(s){if(ue(0),!e)return $(null);$(e),oe(!0),Object(T.H)({criteria:s.trainee_criteria,end_date:s.end_date+"",start_date:s.start_date+"",school_code:e.school_code,sub_area_id:s.sub_area_id+"",topic:s.topic_id+"",training_id:s.id+""},(function(e,t,a){e||l({msg:"Error: ".concat(a),target:"MAIN-ERROR"}),Te(),oe(!0),Object(h.E)(s.id,(function(e,t,a){!0===e&&Ce(t),""!==a&&l({target:"MAIN-ERROR",msg:a})})),oe(!1),t&&ue(t.total)}))}},Te=function(){return setTimeout((function(){l(k)}),3e3)},Ee=Object(N.v)(K,M,{school_code:!0,school_name:!0});return Object(I.jsx)(_.d,{backDrop:!0,close:a,backDropClose:!1,displayClose:!0,widthSizeClass:_.b.extraLarge,padding:{title:!0,body:void 0,footer:void 0},title:"".concat("TEACHERS"===ie?"Add teachers":"").concat("DISTRICT"===ie?"Add district's staff":"").concat("SECTORS"===ie?"Add sector's staff":""," "),children:Object(I.jsxs)("div",{className:"border-t p-2",children:["MAIN-SUCCESS"===r.target&&Object(I.jsx)(u.a,{theme:"success",fixed:!0,children:r.msg}),"MAIN-ERROR"===r.target&&Object(I.jsx)(u.a,{theme:"danger",fixed:!0,children:r.msg}),Object(I.jsxs)("div",{className:"p-1 rounded flex bg-gray-100 gap-2",children:[Object(I.jsx)(x.a,{theme:"TEACHERS"===ie?"accent":"default",onClick:function(){return ce("TEACHERS")},size:"sm",children:"Teachers"}),Object(I.jsx)(x.a,{theme:"DISTRICT"===ie?"accent":"default",onClick:function(){return ce("DISTRICT")},size:"sm",children:"District"})]}),null!==X||te?Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"border p-2 rounded items-center flex",children:[Object(I.jsx)("section",{children:Object(I.jsx)(x.a,{type:"button",theme:"default",onClick:function(){$(null),ae(null)},children:"Back"})}),Object(I.jsxs)("section",{className:"pl-4 flex-1",children:[Object(I.jsx)("label",{className:"text-gray-400 text-sm",children:"Selected school"}),Object(I.jsxs)("h2",{className:"font-bold text-lg",children:["TEACHERS"===ie&&Object(I.jsxs)(I.Fragment,{children:[null===X||void 0===X?void 0:X.school_code," ",null===X||void 0===X?void 0:X.school_name]}),"DISTRICT"===ie&&Object(I.jsxs)(I.Fragment,{children:[null===te||void 0===te?void 0:te.district_code," ",null===te||void 0===te?void 0:te.district_name]})]})]})]}),Object(I.jsxs)("div",{className:"p-2",children:[de&&Object(I.jsx)("div",{className:"py-4 text-center",children:Object(I.jsx)("section",{className:"inline-block",children:Object(I.jsx)(p.a,{})})}),Object(I.jsx)("div",{className:"my-2 p-2 rounded border flex-- items-center",children:"TEACHERS"===ie&&Object(I.jsxs)("div",{className:"flex-1",children:[Object(I.jsx)("label",{className:"text-sm text-gray-600",children:"Total candidates available"}),Object(I.jsx)("h3",{className:"text-2xl font-bold",children:he})]})})," ",Object(I.jsxs)("section",{className:"flex flex-row items-center justify-end gap-2",children:[Object(I.jsx)(A.a,{onChange:function(e){fe(e.target.value),l(k)},value:ve,error:"COHORT"===r.target?r.msg:"",label:"Choose cohort",placeholder:"Choose cohort",name:"",data:[{title:"",value:""}].concat(Object(S.a)(Se.map((function(e){return{title:"".concat(e.cohort_name," start from ").concat(Object(N.a)(e.cohort_start_date),", ending on\n                      ").concat(Object(N.a)(e.cohort_end_date)),value:e.cohort_id}}))))}),Object(I.jsx)(w.a,{onChange:function(e){B(e.target.value),l(k)},value:H,type:"text",error:"INPUT-NUMBER"===r.target?r.msg:"",label:"Total trainee needed on this school",placeholder:"",name:"",max:he})]}),Object(I.jsx)("section",{className:"text-right",children:Object(I.jsx)(x.a,{size:"lg",type:"button",loading:ge,onClick:function(){if(X||te){if(!Number.isInteger(+H))return l({target:"INPUT-NUMBER",msg:"Please provide a valid number"});if("TEACHERS"===ie&&he<+H)l({target:"MAIN-ERROR",msg:"the number of teacher you are submitting is higher than tha available teachers on this school"});else{if(""===ve)return l({target:"COHORT",msg:"Please select the cohort"});Oe(!0),Object(T.J)({training_id:s.id,school_id:(null===X||void 0===X?void 0:X.school_code)||null,district_id:(null===te||void 0===te?void 0:te.district_code)||null,sector_id:null,institution_id:null,total:+H,cohort_id:ve},(function(e,n){Oe(!1),e?(t({approved_by:"",approved_date:"",available_trainee:0,district_id:(null===te||void 0===te?void 0:te.district_code)||"",district_name:(null===te||void 0===te?void 0:te.district_name)||"",group_id:"",id:"",institution_id:s.development_partner_id+"",school_code:(null===X||void 0===X?void 0:X.school_code)||"",school_id:(null===X||void 0===X?void 0:X.school_id)||"",school_name:(null===X||void 0===X?void 0:X.school_name)||"",sector_id:"",total:+H,training_id:s.id}),l({target:"MAIN-SUCCESS",msg:"The data submitted successfully"})):l({msg:"Error: ".concat(n),target:"MAIN-ERROR"}),Te(),setTimeout((function(){a()}),3e3)}))}}},children:"Add school to the list"})})]})]})}):Object(I.jsxs)(I.Fragment,{children:["DISTRICT"===ie&&Object(I.jsx)("div",{className:"p-1 w-full",children:Object(I.jsx)("div",{className:"h-80vh overflow-auto",children:Object(I.jsxs)("table",{className:"w-full",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{className:"border p-2",children:"District code"}),Object(I.jsx)("th",{className:"border p-2",children:"District name"}),Object(I.jsx)("th",{className:"border p-2",children:"##"})]})}),Object(I.jsx)("tbody",{children:b.map((function(e,t){var a=n.find((function(t){return t.district_id===e.district_code}));return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"p-2 border",children:e.district_code}),Object(I.jsx)("td",{className:"p-2 border",children:e.district_name}),Object(I.jsx)("td",{className:"p-2 border w-5",children:!a&&Object(I.jsx)(x.a,{size:"sm",type:"button",theme:"accent-light",onClick:function(){return ae(e)},children:"Select"})})]},t)}))})]})})}),"TEACHERS"===ie&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"p-2 border m-1 rounded flex items-center gap-2",children:[Object(I.jsx)("section",{children:Object(I.jsx)(A.a,{onChange:function(e){var t=e.target.value;f(t),""!==t&&(G(!0),Object(h.ob)(t,(function(e,t,a){e&&t?W(t):l({target:"MAIN-ERROR",msg:"Error: ".concat(a)}),G(!1)})))},value:v,error:"",label:"",placeholder:"",name:"",data:[{title:"Select a district",value:""}].concat(Object(S.a)(b.map((function(e){return{title:e.district_name,value:e.district_code}}))))})}),Object(I.jsx)("section",{className:"flex-1",children:Object(I.jsx)(R.a,{onChange:function(e){return U(e.target.value)},size:"sm",value:M,placeholder:"Search for the school name or school code",name:""})})]}),""===v?Object(I.jsxs)("div",{className:"text-center py-6",children:[Object(I.jsx)("h2",{className:"text-2xl pb-1 text-gray-600",children:"Please select a district"}),Object(I.jsx)("p",{children:"You must select a district in order to see some results"})]}):Object(I.jsxs)("div",{className:"pt-2 mt-2 border-t",children:[F&&Object(I.jsx)("div",{className:"py-8 text-center",children:Object(I.jsx)("section",{className:"inline-block",children:Object(I.jsx)(p.a,{})})})," ",!F&&K.length<=0&&Object(I.jsx)("div",{className:"py-4 text-center",children:Object(I.jsx)("h3",{className:"text-2xl text-gray-600",children:"No results found"})}),!F&&Ee.length<=0&&Object(I.jsx)("div",{className:"h-80vh overflow-auto",children:Object(I.jsx)("div",{className:"py-4 text-center",children:Object(I.jsx)("h3",{className:"text-2xl text-gray-600",children:"No results found"})})}),Ee.length>=1&&K.length>=1&&Object(I.jsx)("div",{className:"h-80vh overflow-auto",children:Object(I.jsxs)("table",{className:"w-full",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{className:"border p-2",children:"School code"}),Object(I.jsx)("th",{className:"border p-2",children:"School name"}),Object(I.jsx)("th",{className:"border p-2",children:"School Category"}),Object(I.jsx)("th",{className:"border p-2",children:"School status"}),Object(I.jsx)("th",{className:"border p-2",children:"##"})]})}),Object(I.jsx)("tbody",{children:Ee.map((function(e,t){var a=n.find((function(t){return t.school_code===e.school_code}));return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"p-2 border",children:e.school_code}),Object(I.jsx)("td",{className:"p-2 border",children:e.school_name}),Object(I.jsx)("td",{className:"p-2 border",children:e.school_category}),Object(I.jsx)("td",{className:"p-2 border",children:e.school_status}),Object(I.jsx)("td",{className:"p-2 border w-5",children:!a&&Object(I.jsx)(x.a,{size:"sm",type:"button",theme:"accent-light",onClick:function(){return Re(e)},children:"Select"})})]},t)}))})]})})]})]})]})]})})},M=function(e){var t=e.close,a=e.school,s=(e.remaining,e.training),i=e.success,c=Object(d.useState)(""),r=Object(C.a)(c,2),l=r[0],o=r[1],j=Object(d.useState)(!1),b=Object(C.a)(j,2),h=b[0],m=b[1],g=Object(d.useState)(""),O=Object(C.a)(g,2),v=O[0],f=O[1],y=Object(d.useState)(!0),R=Object(C.a)(y,2),E=R[0],k=R[1],D=Object(d.useState)(null),M=Object(C.a)(D,2),U=M[0],z=M[1],P=Object(d.useState)(""),F=Object(C.a)(P,2),G=F[0],L=F[1];Object(d.useEffect)((function(){o(a.total+""),E&&s&&(k(!0),Object(T.H)({criteria:s.trainee_criteria,end_date:s.end_date+"",start_date:s.start_date+"",school_code:a.school_id+"",sub_area_id:s.sub_area_id+"",topic:s.topic_id+"",training_id:s.id+""},(function(e,t,a){e||f("Error: ".concat(a)),k(!1)}))),null===U&&(k(!0),Object(T.r)(s.id,(function(e,t,a){!0===e&&(z(t),k(!1)),""!==a&&f(a)})))}),[a,E,s,U]);return Object(I.jsx)(_.d,{backDrop:!0,close:t,backDropClose:!1,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Update school number",children:Object(I.jsxs)("div",{className:"border-t p-4",children:[""!==v&&Object(I.jsx)(u.a,{theme:"danger",children:v}),E?Object(I.jsxs)("div",{className:"text-center",children:[Object(I.jsx)("section",{className:"inline-block",children:Object(I.jsx)(p.a,{})}),Object(I.jsx)("h2",{className:"text-lg pt-2",children:"Checking available on school"})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"border p-2 rounded",children:[Object(I.jsx)("label",{className:"text-sm opacity-30",children:"School"}),Object(I.jsxs)("h2",{className:"text-lg font-bold",children:[a.school_code," ",a.school_name]})]}),null!==U&&Object(I.jsx)("div",{className:"py-2",children:Object(I.jsx)(A.a,{onChange:function(e){L(e.target.value),f("")},value:G,error:"",label:"Training Cohort",placeholder:"Training cohort",name:"",data:[{title:"",value:""}].concat(Object(S.a)(U.map((function(e){return{title:"".concat(e.cohort_name," start from ").concat(Object(N.a)(e.cohort_start_date),", ending on\n                  ").concat(Object(N.a)(e.cohort_end_date)),value:e.cohort_id}}))))})}),Object(I.jsx)("div",{className:"py-2",children:Object(I.jsx)(w.a,{onChange:function(e){o(e.target.value),f("")},value:l,error:"",type:"text",label:"Set Teachers you need",placeholder:"Set Teachers you need",name:"",disabled:h})}),Object(I.jsx)("div",{className:"text-right",children:Object(I.jsx)(x.a,{type:"button",loading:h,onClick:function(){return f(""),Number.isInteger(+l)?+l<=0?f("The total must not be less than zero"):""===G?f("Please choose cohort"):(m(!0),void Object(T.N)({training_id:s.id,total:l,school_id:a.school_code,district_id:a.district_id,cohort_id:G},(function(e,t){e?i(Object(n.a)(Object(n.a)({},a),{},{total:+l})):(f("Error: ".concat(t)),m(!1))}))):f("Please provide a valid number")},children:"Update numbers"})})]})]})})},U=void 0,z={target:null,msg:""},P=function(e){var t=e.close,a=e.training,s=Object(d.useState)([]),n=Object(C.a)(s,2),i=n[0],c=n[1],r=Object(d.useState)(z),l=Object(C.a)(r,2),o=l[0],j=l[1],b=Object(d.useState)(!0),h=Object(C.a)(b,2),g=h[0],O=h[1],_=Object(d.useState)(""),v=Object(C.a)(_,2),f=v[0],E=v[1],A=Object(d.useState)(!1),w=Object(C.a)(A,2),k=w[0],P=w[1],F=Object(d.useState)(null),G=Object(C.a)(F,2),L=G[0],q=G[1],H=Object(d.useState)(null),B=Object(C.a)(H,2),V=B[0],Y=B[1];Object(d.useEffect)((function(){g&&Object(T.w)((null===a||void 0===a?void 0:a.id)+"",(function(e,t,a){e||j({msg:"Error: ".concat(a),target:"MAIN-ERROR"}),O(!1),c(t)}))}),[g,a]);var K=function(){return setTimeout((function(){j(z)}),2e3)},W=function(e){window.confirm("Are you sure you want to remove this school to the request list?")&&(q(e),Object(T.k)(e.school_code,(null===a||void 0===a?void 0:a.id)+"",e.district_id,(function(t,a){if(t){var s=[];e.school_code&&null===e.district_id?s=i.filter((function(t){var a;return(null===t||void 0===t||null===(a=t.school_code)||void 0===a?void 0:a.toString())!==e.school_code.toString()})):null===e.school_code&&e.district_id&&(s=i.filter((function(t){var a;return(null===t||void 0===t||null===(a=t.district_id)||void 0===a?void 0:a.toString())!==e.district_id.toString()&&null===t.school_code}))),c(s),j({target:"MAIN-SUCCESS",msg:"The school has been removed to the list"})}else j({target:"MAIN-ERROR",msg:"Error: ".concat(a)});K(),q(null)})))};if(!a)return Object(I.jsx)(m.a,{children:Object(I.jsxs)("div",{className:"py-5 text-center",children:[Object(I.jsx)("h3",{className:"py-2 font-bold text-2xl",children:"No training found"}),Object(I.jsx)(x.a,{theme:"default",type:"button",size:"lg",onClick:t,children:"Back"})]})});var Q,J=Object(N.v)(i,f,{school_name:!0,district_name:!0}),X=a.total_trainees||0,$=0,Z=0,ee=Object(y.a)(i);try{for(ee.s();!(Q=ee.n()).done;){Z+=Q.value.total,$+=+((null===a||void 0===a?void 0:a.total_available_trainee)||0)}}catch(ae){ee.e(ae)}finally{ee.f()}var te=X-Z;return Object(I.jsxs)(I.Fragment,{children:["MAIN-SUCCESS"===o.target&&Object(I.jsx)(u.a,{theme:"success",fixed:!0,children:o.msg}),"MAIN-ERROR"===o.target&&Object(I.jsx)(u.a,{theme:"danger",fixed:!0,children:o.msg}),k&&a&&Object(I.jsx)(D,{successHandler:function(e){c([].concat(Object(S.a)(i),[e]))},close:function(){return P(!1)},training:a,training_schools:i,remaining:te}),null!==V&&a&&Object(I.jsx)(M,{school:V,close:Y.bind(U,null),success:function(e){c(i.map((function(t){return t.school_code===e.school_code?e:t}))),j({target:"MAIN-SUCCESS",msg:"School total updated successfully"}),K(),Y(null)},remaining:te,training:a}),Object(I.jsxs)(m.a,{children:[Object(I.jsxs)("div",{className:"w-full border-b py-2 flex",children:[Object(I.jsx)("section",{children:Object(I.jsx)(x.a,{theme:"default",type:"button",size:"sm",onClick:t,children:"Back"})}),Object(I.jsx)("section",{className:"px-2 flex-1",children:Object(I.jsx)("h3",{className:"text-2xl font-bold text-gray-500",children:"Request training schools"})})]}),Object(I.jsxs)("div",{className:"flex items-center",children:[Object(I.jsxs)("div",{className:"p-2 flex-1",title:a.title+"",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500",children:"Training title:"}),Object(I.jsx)("h4",{className:"text-lg -mt-1 font-bold ",children:Object(N.w)(a.title+"",40)})]}),Object(I.jsxs)("section",{className:"px-2",children:[Object(I.jsx)("label",{className:"text-sm text-gray-400",children:"Start date"}),Object(I.jsx)("h3",{className:" font-bold text-gray-500",children:Object(N.a)(a.start_date)})]}),Object(I.jsxs)("section",{className:"px-2 ",children:[Object(I.jsx)("label",{className:"text-sm text-gray-400",children:"End date"}),Object(I.jsx)("h3",{className:" font-bold text-gray-500",children:Object(N.a)(a.start_date)})]})]}),Object(I.jsxs)("div",{className:"py-1 border-t pt-2 flex gap-3 pb-3",children:[Object(I.jsxs)("section",{className:"px-2 border rounded bg-blue-50 text-blue-700",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500",children:"Total trainees"}),Object(I.jsx)("h2",{className:"text-lg font-bold -mt-1",children:X})]}),Object(I.jsxs)("section",{className:"px-2 border rounded bg-blue-50 text-blue-700",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500",children:"Total available"}),Object(I.jsx)("h2",{className:"text-lg font-bold -mt-1",children:$})]}),Object(I.jsxs)("section",{className:"px-2 border rounded bg-blue-50 text-blue-700",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500",children:"Total distributed"}),Object(I.jsx)("h2",{className:"text-lg font-bold -mt-1",children:Z})]}),Object(I.jsxs)("section",{className:"px-2 border rounded bg-blue-50 text-blue-700",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500",children:"Total remaining"}),Object(I.jsx)("h2",{className:"text-lg font-bold -mt-1",children:te})]})]}),a.trainee_criteria&&Object(I.jsx)("div",{className:"gap-4 p-1 bg-gray-100 border rounded grid grid-cols-2"})]}),Object(I.jsxs)(m.a,{children:[Object(I.jsxs)("div",{className:"p-1 flex gap-2 items-center pb-2",children:[Object(I.jsx)("section",{className:"flex-1",children:Object(I.jsx)(R.a,{onChange:function(e){return E(e.target.value)},value:f,placeholder:"Search by a school name or district",name:"",size:"sm"})}),Object(I.jsx)("section",{className:"pl-2 flex gap-2",children:Object(I.jsx)(x.a,{onClick:function(){return P(!0)},children:"Request trainees"})})]}),Object(I.jsxs)("table",{className:"border w-full",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-left bg-gray-100",children:[Object(I.jsx)("th",{className:"p-2 border",children:"School code"}),Object(I.jsx)("th",{className:"p-2 border",children:"School name"}),Object(I.jsx)("th",{className:"p-2 border",children:"District name"}),Object(I.jsx)("th",{className:"p-2 border",children:"Total"}),Object(I.jsx)("th",{className:"p-2 border",children:"Available trainee"}),Object(I.jsx)("th",{className:"p-2 border"}),Object(I.jsx)("th",{className:"p-2 border"})]})}),Object(I.jsxs)("tbody",{children:[i.length<=0&&!1===g&&Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:12,className:"py-5 text-center",children:Object(I.jsx)("h2",{className:"text-4xl text-gray-400",children:"No data found"})})}),!1===g&&J.length<=0&&!1===g&&0!==i.length&&Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:12,className:"py-5 text-center",children:Object(I.jsx)("h2",{className:"text-4xl text-gray-400",children:"No results found"})})}),g&&Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:12,className:"py-5 text-center",children:Object(I.jsx)("section",{className:"section",children:Object(I.jsx)(p.a,{})})})}),J.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"p-2 border",children:e.school_code}),Object(I.jsx)("td",{className:"p-2 border",children:e.school_name}),Object(I.jsx)("td",{className:"p-2 border",children:e.district_name}),Object(I.jsx)("td",{className:"p-2 border",children:e.total}),Object(I.jsx)("td",{className:"p-2 border",children:e.available_trainee}),Object(I.jsx)("td",{className:"p-2 border w-10",children:Object(I.jsx)(x.a,{size:"sm",type:"button",theme:"primary-light",onClick:Y.bind(U,e),children:"Update"})}),Object(I.jsx)("td",{className:"p-2 border w-10",children:Object(I.jsx)(x.a,{onClick:W.bind(U,e),size:"sm",type:"button",theme:"danger-light",disabled:null!==L,loading:((null===L||void 0===L?void 0:L.school_code)===e.school_code||(null===L||void 0===L?void 0:L.district_id)===e.district_id)&&null!==L,children:"Remove"})})]},t)}))]})]})]})]})},F=function(e){var t=e.training,a=Object(T.db)(t),s=Object(T.eb)(t),n=Object(T.fb)(t),i=Object(T.gb)(t);return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{className:"p-2 -mt-3 rounded bg-gray-100 border ",children:Object(I.jsx)("div",{className:"border-t-2 mt-5 border-green-500 border-dashed",children:Object(I.jsxs)("div",{className:" -mt-5 grid grid-cols-4",children:[Object(I.jsx)("section",{className:"",children:a.status?Object(I.jsxs)("div",{children:[Object(I.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(I.jsx)(j.o,{})}),Object(I.jsx)("p",{className:"-mt-1 font-bold",children:"Basic info"})]}):Object(I.jsxs)("div",{title:"".concat(null===a||void 0===a?void 0:a.errors[0]),children:[Object(I.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(I.jsx)(j.Rb,{})}),Object(I.jsx)("p",{className:"-mt-1 font-bold",children:"Basic info"})]})}),Object(I.jsx)("div",{className:"text-center",children:s.status?Object(I.jsxs)("div",{children:[Object(I.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(I.jsx)(j.o,{})}),Object(I.jsx)("p",{className:"-mt-1 font-bold",children:"Training area"})]}):Object(I.jsxs)("div",{title:"".concat(null===s||void 0===s?void 0:s.errors[0]),children:[Object(I.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(I.jsx)(j.Rb,{})}),Object(I.jsx)("p",{className:"-mt-1 font-bold",children:"Training area"})]})}),Object(I.jsx)("section",{className:"text-center",children:n.status?Object(I.jsxs)("div",{children:[Object(I.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(I.jsx)(j.o,{})}),Object(I.jsx)("p",{className:"-mt-1 font-bold",children:"Criterial"})]}):Object(I.jsxs)("div",{title:"".concat(null===n||void 0===n?void 0:n.errors[0]),children:[Object(I.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(I.jsx)(j.Rb,{})}),Object(I.jsx)("p",{className:"-mt-1 font-bold",children:"Criterial"})]})}),Object(I.jsx)("section",{children:i.status?Object(I.jsxs)("div",{className:"text-right",children:[Object(I.jsx)("section",{className:"text-2xl inline-block p-1 text-white rounded-full w-100 h-100 bg-green-400",children:Object(I.jsx)(j.o,{})}),Object(I.jsx)("p",{className:"-mt-1 font-bold",children:"Plan & Materials"})]}):Object(I.jsxs)("div",{title:"".concat(null===i||void 0===i?void 0:i.errors[0]),className:"text-right",children:[Object(I.jsx)("section",{className:"text-2xl inline-block p-2 text-white rounded-full w-100 h-100 bg-yellow-600",children:Object(I.jsx)(j.Rb,{})}),Object(I.jsx)("p",{className:"-mt-1 font-bold",children:"Plan & Materials"})]})})]})})})})},G=function(e){var t=e.training_id,a=Object(d.useState)(null),s=Object(C.a)(a,2),n=s[0],i=s[1],c=Object(d.useState)([]),r=Object(C.a)(c,2),l=r[0],o=r[1],j=function(e){i(e===n?null:e)};return Object(d.useEffect)((function(){Object(h.E)(t,(function(e,t,a){o(t)}))}),[t]),Object(I.jsx)("div",{children:Object(I.jsx)("div",{children:Object(I.jsxs)("table",{className:"w-full text-left",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{className:"border p-2",children:"#"}),Object(I.jsx)("th",{className:"border p-2",children:"Name"}),Object(I.jsx)("th",{className:"border p-2",children:"Sessions"}),Object(I.jsx)("th",{className:"border p-2",children:"Start date"}),Object(I.jsx)("th",{className:"border p-2",children:"End date"}),Object(I.jsx)("th",{className:"border p-2"})]})}),Object(I.jsx)("tbody",{children:l.map((function(e,t){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("tr",{className:" border p-2\n                  ".concat((e.cohort_id,"")," "),onClick:j.bind(undefined,e.cohort_id),children:[Object(I.jsx)("td",{className:"border p-2",children:t+1}),Object(I.jsx)("td",{className:"border p-2",children:e.cohort_name}),Object(I.jsx)("td",{className:"border p-2",children:e.cohort_sessions.length}),Object(I.jsx)("td",{className:"border p-2",children:e.cohort_start_date}),Object(I.jsx)("td",{className:"border p-2",children:e.cohort_end_date}),Object(I.jsx)("td",{className:"border p-2",children:t})]},t),n===e.cohort_id&&Object(I.jsx)("tr",{children:Object(I.jsxs)("td",{colSpan:9,className:"py-2",children:["Sessions:",Object(I.jsx)("div",{className:"grid gap-3 grid-cols-5",children:e.cohort_sessions.map((function(e,t){return Object(I.jsxs)("div",{className:"bg-gray-200 text-center py-3 w-32 h-32 flex items-center",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:""}),Object(I.jsx)("section",{children:Object(I.jsx)("h4",{className:"text-2xl font-bold",children:new Date(e.date).getDate()})})]}),Object(I.jsx)("p",{children:Object(N.m)(e.date)})]},t)}))})]})})]})}))})]})})})},L={target:null,msg:""};!function(e){e.DEFAULT="DEFAULT",e.CENTERS_TRAINERS="CENTERS_TRAINERS",e.TRAINING_CRITERIAL="TRAINING_CRITERIAL",e.TRAINEE="TRAINEE",e.PREVIEW_AGENDA="PREVIEW_AGENDA",e.TRAINING_MATERIALS="TRAINING_MATERIALS",e.COHORTS="COHORTS"}(s||(s={}));var q=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(i.a)(this,a),(c=t.call(this,e)).deleteTraining=function(e){window.confirm("Are you sure you want to delete this training")&&(c.setState({delete_loading:!0}),Object(h.v)(e,(function(e,t){e?(c.setState({delete_loading:!1,alert:{target:"MAIN-SUCCESS",msg:"Training removed successfully"}}),setTimeout((function(){c.props.deleteUpdate()}),2e3)):c.setState({delete_loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)}})})))},c.changeDraftStatus=function(){if(window.confirm("Are you sure you want to change the training status")){if(!c.state.training)return c.setState({alert:{target:"MAIN-ERROR",msg:"No training provided"}});c.setState({loading_change_draft:!0}),Object(h.l)(c.state.training.id,h.Lc.READY_FOR_EVALUATION,(function(e,t){e?c.setState({loading:!1,alert:{target:"MAIN-SUCCESS",msg:"Training status updated"},loading_change_draft:!1,training:c.state.training?Object(n.a)(Object(n.a)({},c.state.training),{},{implementation_status:h.Lc.READY_FOR_EVALUATION}):c.state.training}):c.setState({loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(t)},loading_change_draft:!1}),c.cleanError()}))}},c.evaluateTraining=function(e){var t;if(c.state.training&&window.confirm("Are you sure  you want to ".concat(e))){if(c.state.evaluation_comment.length<=0)return c.setState({alert:{target:"MAIN-ERROR",msg:"Please provide a comment"}});c.setState({loading_evaluation:!0}),Object(h.Qb)({training_id:null===(t=c.state.training)||void 0===t?void 0:t.id,status:e,evaluation_comment:c.state.evaluation_comment},(function(t,a){t?c.setState({alert:{target:"MAIN-SUCCESS",msg:"Training evaluated successfully"},loading_evaluation:!1,evaluation_comment:"",training:c.state.training?Object(n.a)(Object(n.a)({},c.state.training),{},{evaluation_status:e,evaluation_comment:c.state.evaluation_comment}):c.state.training,evaluation_mode:!1}):c.setState({loading_evaluation:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(a)}}),c.cleanError()}))}},c.state={loading:!0,step:2,loading_submit:!1,training:null,alert:L,tab:s.DEFAULT,delete_loading:!1,centers_type:"CENTERS",change_training_status:!1,loading_training_status:!1,status_value:"DRAFT",loading_change_draft:!1,evaluation_mode:!1,evaluation_comment:"",loading_evaluation:!1,request_schools_candidate:!1},c}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(h.xb)(this.props.training_id,(function(t,a,s){t?e.setState({loading:!1,alert:L,training:a}):e.setState({loading:!1,alert:{target:"MAIN-ERROR",msg:"Error: ".concat(s)},training:a})}))}},{key:"cleanError",value:function(){var e=this;setTimeout((function(){e.setState({alert:L})}),3e3)}},{key:"render",value:function(){var e,t,a,n,i,c,r,l,d,o,b,y,S,C,R,T,E,A,w,k,D,M,U,z,L,q,H,B,V,Y,K,W,Q,J=this;if(this.state.loading)return Object(I.jsx)("div",{className:"py-8 text-center",children:Object(I.jsx)(p.a,{})});var X=this.state.training;return this.state.request_schools_candidate?Object(I.jsx)(P,{training:this.state.training,close:function(){return J.setState({request_schools_candidate:!1})}}):Object(I.jsxs)(I.Fragment,{children:["MAIN-SUCCESS"===this.state.alert.target&&Object(I.jsx)(u.a,{theme:"success",fixed:!0,children:this.state.alert.msg}),"MAIN-ERROR"===this.state.alert.target&&Object(I.jsx)(u.a,{theme:"danger",fixed:!0,children:this.state.alert.msg}),this.state.change_training_status&&Object(I.jsx)(_.d,{backDrop:!0,close:function(){return J.setState({change_training_status:!1})},backDropClose:!0,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Change training",children:Object(I.jsxs)("div",{className:"border-t p-2",children:[Object(I.jsx)("section",{className:"p-2 pt-4",children:Object(I.jsx)(F,{training:X})}),Object(I.jsx)("p",{className:"py-2 text-gray-600 px-2",children:"If you set this draft ready for review, REB will be able so see it and start the evaluation process"}),this.state.training&&this.state.training.implementation_status===h.Lc.DRAFT&&Object(I.jsx)("section",{className:"p-2",children:Object(I.jsx)(x.a,{type:"button",theme:"success",size:"lg",onClick:this.changeDraftStatus,loading:this.state.loading_change_draft,children:"Set draft ready for review"})})]})}),!0===this.state.evaluation_mode&&Object(I.jsxs)(_.d,{backDrop:!0,close:function(){return J.setState({evaluation_mode:!1})},backDropClose:!1,displayClose:!0,padding:{title:!0,body:void 0,footer:void 0},title:"Evaluate training",children:[Object(I.jsx)("div",{className:"border-t p-3",children:Object(I.jsx)(O.a,{onChange:function(e){return J.setState({evaluation_comment:e.target.value})},value:this.state.evaluation_comment,error:"",label:"",placeholder:"",name:""})}),Object(I.jsx)("div",{className:"p-2 text-right",children:this.state.loading_evaluation?Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(x.a,{type:"button",theme:"default",loading:!0,children:"Reject training"})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(x.a,{type:"button",theme:"danger",onClick:this.evaluateTraining.bind(this,h.Mc.REJECTED),children:"Reject training"})," ",Object(I.jsx)(x.a,{type:"button",theme:"success",onClick:this.evaluateTraining.bind(this,h.Mc.APPROVED),children:"Approve training"})]})})]}),Object(I.jsxs)(m.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(I.jsxs)("div",{className:"border-b p-2 flex items-center",children:[Object(I.jsx)("div",{className:"",children:Object(I.jsx)(x.a,{theme:"primary-light",size:"sm",onClick:this.props.close,children:"Back"})}),Object(I.jsx)("div",{className:"pl-2 text-2xl font-bold text-gray-500",children:"Training details"}),this.props.rebPreview&&Object(I.jsxs)("div",{className:"flex-1 text-right",children:[Object(I.jsx)(x.a,{onClick:function(){return J.setState({evaluation_mode:!0})},theme:"success-light",children:"Evaluate training"})," "]}),(!1===this.props.rebPreview||void 0===this.props.rebPreview)&&Object(I.jsxs)("div",{className:"flex-1 text-right",children:[(null===(e=this.state.training)||void 0===e?void 0:e.id)&&"APPROVED"!==this.state.training.evaluation_status&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(x.a,{onClick:this.props.editTraining.bind(this,null===(t=this.state.training)||void 0===t?void 0:t.id.toString()),theme:"primary-light",children:"Edit training"})," ",Object(h.Nc)(this.state.training).status&&Object(h.Oc)(this.state.training).status&&Object(h.Pc)(this.state.training).status&&this.state.training&&this.state.training.implementation_status===h.Lc.DRAFT&&Object(I.jsx)(x.a,{onClick:function(){J.setState({change_training_status:!0})},theme:"success-light",children:"Set training for review"})]})," ",(null===(a=this.state.training)||void 0===a?void 0:a.id)&&this.state.training.implementation_status===h.Lc.DRAFT&&Object(I.jsx)(x.a,{onClick:this.deleteTraining.bind(this,null===(n=this.state.training)||void 0===n?void 0:n.id.toString()),theme:"danger-light",children:"Delete training"})]})]}),Object(I.jsxs)("div",{className:"p-2 lg:flex",children:[Object(I.jsxs)("div",{className:"flex-1 lg:pr-3",children:[Object(I.jsx)("label",{className:"text-xs text-accent-900",children:"Training name:"}),Object(I.jsx)("h1",{className:"text-xl font-bold pb-1",children:null===X||void 0===X?void 0:X.title}),Object(I.jsx)("label",{className:"text-xs text-accent-900 pt-2",children:"Training description:"}),Object(I.jsx)("p",{className:"-mt-1 text-gray-600",children:null===X||void 0===X?void 0:X.description}),Object(I.jsx)("div",{className:"pt-8 ",children:Object(I.jsx)("div",{className:"flex",children:Object(I.jsx)("div",{className:"flex-1",children:Object(I.jsx)(F,{training:X})})})})]}),Object(I.jsxs)("div",{className:"flex-2",children:[Object(I.jsx)("div",{className:"py-2 text-right gap-2"}),Object(I.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{title:"Trainee's capacity",number:null===X||void 0===X?void 0:X.total_trainees},{title:"Available Trainees",number:null===X||void 0===X?void 0:X.total_trainees},{title:"Attended trainee",number:null===X||void 0===X?void 0:X.total_trainee_capacity},{title:"Total Trainers",number:null===X||void 0===X?void 0:X.total_trainers},{title:"Total Groups",number:null===X||void 0===X?void 0:X.total_groups},{title:"Total Center",number:null===X||void 0===X?void 0:X.total_centers}].map((function(e,t){return Object(I.jsxs)("div",{className:"py-1 px-2 text-center rounded border",children:[Object(I.jsx)("label",{className:"text-gray-500 text-sm",children:e.title}),Object(I.jsx)("h2",{className:"text-xl font-bold",children:e.number})]},t)}))}),!this.props.rebPreview&&"APPROVED"===(null===(i=this.state.training)||void 0===i?void 0:i.evaluation_status)&&Object(I.jsxs)("div",{className:"p-2 bg-green-100 rounded mt-2 flex items-center",children:[Object(I.jsxs)("section",{className:"flex-1 px-2 pr-3",children:[Object(I.jsx)("h4",{className:"text-lg font-bold text-green-800",children:"Request schools"}),Object(I.jsx)("p",{className:"text-sm -mt-1",children:"Your draft has been approved, you can start to required"})]}),Object(I.jsx)("section",{className:"",children:Object(I.jsx)(x.a,{theme:"success",type:"button",onClick:function(){return J.setState({request_schools_candidate:!0})},children:"Request schools"})})]})]})]}),Object(I.jsx)("div",{className:"border-b pt-3",children:Object(I.jsxs)("section",{className:"flex",children:[Object(I.jsx)("button",{onClick:function(){return J.setState({tab:s.DEFAULT})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===s.DEFAULT?"bg-accent-400 text-accent-900":""),children:"Details"}),Object(I.jsx)("button",{onClick:function(){return J.setState({tab:s.COHORTS})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===s.COHORTS?"bg-accent-400 text-accent-900":""),children:"Cohorts"}),Object(I.jsx)("button",{onClick:function(){return J.setState({tab:s.CENTERS_TRAINERS})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===s.CENTERS_TRAINERS?"bg-accent-400 text-accent-900":""),children:"Centers & Trainers"}),Object(I.jsx)("button",{onClick:function(){return J.setState({tab:s.TRAINING_CRITERIAL})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===s.TRAINING_CRITERIAL?"bg-accent-400 text-accent-900":""),children:"Training criteria"}),Object(I.jsx)("button",{onClick:function(){return J.setState({tab:s.TRAINEE})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===s.TRAINEE?"bg-accent-400 text-accent-900":""),children:"Trainee"}),Object(I.jsx)("button",{onClick:function(){return J.setState({tab:s.PREVIEW_AGENDA})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===s.PREVIEW_AGENDA?"bg-accent-400 text-accent-900":""),children:"Training agenda"}),Object(I.jsx)("button",{onClick:function(){return J.setState({tab:s.TRAINING_MATERIALS})},className:"p-2 hover:bg-accent-800 hover:text-white px-3 font-bold rounded-t ".concat(this.state.tab===s.TRAINING_MATERIALS?"bg-accent-400 text-accent-900":""),children:"Training materials"})]})}),Object(I.jsxs)("div",{className:"pt-2",children:[this.state.tab===s.DEFAULT&&Object(I.jsxs)("div",{className:"flex gap-4 w-full  animate__animated animate__zoomIn animate__faster",children:[Object(I.jsxs)("div",{className:"flex-1 p-3",children:[Object(I.jsxs)("div",{className:"border rounded p-1 px-2",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500",children:"Development partner"}),Object(I.jsx)("h4",{className:"font-bold",children:null===X||void 0===X?void 0:X.development_partner_name})]}),Object(I.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500",children:"Sub area"}),Object(I.jsx)("h4",{className:"font-bold",children:null===X||void 0===X?void 0:X.intervention_area})]}),Object(I.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500",children:"Sub area"}),Object(I.jsx)("h4",{className:"font-bold",children:null===X||void 0===X?void 0:X.sub_area_name})]}),Object(I.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500 ",children:"Evaluation status"}),Object(I.jsx)("h4",{className:"font-bold text-accent-900",children:null===X||void 0===X?void 0:X.evaluation_status})]}),Object(I.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500 ",children:"Implementation status"}),Object(I.jsx)("h4",{className:"font-bold text-accent-900",children:null===X||void 0===X?void 0:X.implementation_status})]}),Object(I.jsxs)("div",{className:"border rounded p-1 px-2 mt-4",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500",children:"Training start date"}),Object(I.jsx)("h4",{className:"font-bold",children:Object(N.m)((null===X||void 0===X?void 0:X.start_date)+"")})]}),Object(I.jsxs)("div",{className:"border rounded p-1 px-2 mt-1",children:[Object(I.jsx)("label",{className:"text-sm text-gray-500",children:"Training end date"}),Object(I.jsx)("h4",{className:"font-bold",children:Object(N.m)((null===X||void 0===X?void 0:X.start_date)+"")})]})]}),Object(I.jsxs)("div",{className:"flex-1 p-3",children:[Object(I.jsxs)("div",{className:"p-2 border rounded",children:[Object(I.jsx)("h1",{className:"text-xl font-bold",children:"Trainee category"}),Object(I.jsx)("p",{className:"text-gray-500",children:"Who you are going to train"}),Object(I.jsx)("div",{className:"pt-2",children:null===X||void 0===X||null===(c=X.trainee_category)||void 0===c?void 0:c.map((function(e,t){return Object(I.jsxs)("div",{className:"p-2 mb-1 border border-blue-600 rounded font-bold text-lg bg-blue-50",children:[Object(I.jsxs)("span",{className:"text-gray-400",children:[t+1," - "]})," ",e.name]},t)}))}),(!(null!==X&&void 0!==X&&X.trainee_category)||(null===X||void 0===X?void 0:X.trainee_category.length)<=0)&&Object(I.jsx)("div",{className:"py-8 text-center opacity-25 bg-gray-100 rounded",children:Object(I.jsx)("h2",{className:"font-bold",children:"No trainee's category "})})]}),Object(I.jsxs)("div",{className:"p-2 border rounded mt-4",children:[Object(I.jsx)("h1",{className:"text-xl font-bold",children:"Trainers institution"}),Object(I.jsx)("p",{className:"text-gray-500",children:"Who will help you to provide trainings"}),Object(I.jsxs)("div",{className:"pt-2",children:[null===X||void 0===X||null===(r=X.trainer_institution)||void 0===r?void 0:r.map((function(e,t){return Object(I.jsxs)("div",{className:"p-2 mb-1 border border-blue-600 rounded font-bold text-lg bg-blue-50",children:[Object(I.jsxs)("span",{className:"text-gray-400",children:[t+1," - "]})," ",e.name]},t)})),(!(null!==X&&void 0!==X&&X.trainer_institution)||(null===X||void 0===X?void 0:X.trainer_institution.length)<=0)&&Object(I.jsx)("div",{className:"py-8 text-center opacity-25 bg-gray-100 rounded",children:Object(I.jsxs)("h2",{className:"font-bold",children:["No trainer institutions"," "]})})]})]})]})]}),this.state.tab===s.COHORTS&&X&&Object(I.jsx)(G,{training_id:null===X||void 0===X?void 0:X.id}),this.state.tab===s.CENTERS_TRAINERS&&Object(I.jsxs)("div",{className:" animate__animated animate__zoomIn animate__faster",children:[Object(I.jsxs)("div",{className:"p-3 bg-gray-100 items-center rounded-t-md mt-2 flex",children:[Object(I.jsx)("section",{className:"flex-1",children:Object(I.jsx)(g.a,{size:"lg",children:"Centers & Trainers"})}),Object(I.jsxs)("section",{className:"p-1 flex gap-2 bg-blue-300 rounded",children:[Object(I.jsx)(x.a,{theme:"CENTERS"===this.state.centers_type?"primary":"primary-light",onClick:function(){return J.setState({centers_type:"CENTERS"})},children:"Centers"}),Object(I.jsx)(x.a,{theme:"TRAINERS"===this.state.centers_type?"primary":"primary-light",onClick:function(){return J.setState({centers_type:"TRAINERS"})},children:"Trainers"})]})]}),"CENTERS"===this.state.centers_type&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("table",{className:"w-full table-border",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-left",children:[Object(I.jsx)("th",{className:"p-2 border",children:"#"}),Object(I.jsx)("th",{className:"p-2 border",children:"Center name"}),Object(I.jsx)("th",{className:"p-2 border",children:"District"}),Object(I.jsx)("th",{className:"p-2 border",children:"Center type"}),Object(I.jsx)("th",{className:"p-2 border",children:"Group"}),Object(I.jsx)("th",{className:"p-2 border",children:"Total trainees"})]})}),Object(I.jsxs)("tbody",{children:[(!(null!==(l=this.state.training)&&void 0!==l&&l.groups)||(null===(d=this.state.training)||void 0===d||null===(o=d.groups)||void 0===o?void 0:o.length)<=0)&&Object(I.jsx)("tr",{children:Object(I.jsxs)("td",{className:"py-8 text-center",colSpan:12,children:[Object(I.jsx)("h1",{className:"text-2xl",children:"No trainings found"}),Object(I.jsx)("p",{children:"No trainings center assigned to this"})]})}),(null===(b=this.state.training)||void 0===b?void 0:b.groups)&&(null===(y=this.state.training)||void 0===y?void 0:y.groups.map((function(e,t){return Object(I.jsxs)("tr",{className:"hover:bg-accent-400",children:[Object(I.jsx)("td",{className:"p-2 border",children:t+1}),Object(I.jsx)("td",{className:"p-2 border font-bold",children:e.center_name}),Object(I.jsx)("td",{className:"p-2 border",children:e.district_name}),Object(I.jsx)("td",{className:"p-2 border",children:e.center_type_name}),Object(I.jsx)("td",{className:"p-2 border",children:e.group_name}),Object(I.jsx)("td",{className:"p-2 border",children:e.number_of_trainees})]},t)})))]})]})}),"TRAINERS"===this.state.centers_type&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("table",{className:"w-full table-border",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-left",children:[Object(I.jsx)("th",{className:"p-2 border",children:"#"}),Object(I.jsx)("th",{className:"p-2 border",children:"NID"}),Object(I.jsx)("th",{className:"p-2 border",children:"Names"}),Object(I.jsx)("th",{className:"p-2 border",children:"Phone"}),Object(I.jsx)("th",{className:"p-2 border",children:"Email"})]})}),Object(I.jsx)("tbody",{children:Object(I.jsx)("tr",{children:Object(I.jsxs)("td",{className:"py-9 text-center ",colSpan:10,children:[Object(I.jsx)("h2",{className:"text-4xl ",children:"No trainers found"}),Object(I.jsx)("h2",{className:"text-gray-500",children:"No trainers found on this training"})]})})})]})})]}),this.state.tab===s.TRAINING_CRITERIAL&&Object(I.jsxs)("div",{className:"p-4 rounded bg-gray-100 animate__animated animate__zoomIn animate__faster",children:[!(null!==(S=this.state.training)&&void 0!==S&&S.trainee_criteria)&&Object(I.jsx)("div",{className:"text-center py-5",children:Object(I.jsxs)("div",{className:"text-center py-8 opacity-60",children:[Object(I.jsx)("h1",{className:"text-8xl inline-block",children:Object(I.jsx)(j.Ib,{})}),Object(I.jsx)("h2",{className:"font-bold text-xl",children:"This training has no criterial"})]})}),(null===(C=this.state.training)||void 0===C?void 0:C.trainee_criteria)&&Object(I.jsxs)("div",{className:"grid sm:grid-cols-1 lg:grid-cols-2 gap-4",children:[(null===(R=this.state.training)||void 0===R?void 0:R.trainee_criteria.positions.length)>=1&&Object(I.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(I.jsx)("h1",{className:"text-xl font-bold pb-1",children:"Positions"}),Object(I.jsxs)("table",{className:"border w-full",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-left",children:[Object(I.jsx)("th",{className:"border p-2",children:"#"}),Object(I.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(I.jsxs)("tbody",{children:[(null===(T=this.state.training)||void 0===T?void 0:T.trainee_criteria.positions.length)<=0&&Object(I.jsx)("tr",{className:"",children:Object(I.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(I.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(E=this.state.training)||void 0===E?void 0:E.trainee_criteria.positions.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"p-2 border",children:e.id}),Object(I.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(A=this.state.training)||void 0===A?void 0:A.trainee_criteria.levels.length)>=1&&Object(I.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(I.jsx)("h1",{className:"text-xl font-bold",children:"Levels"}),Object(I.jsxs)("table",{className:"border w-full",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-left",children:[Object(I.jsx)("th",{className:"border p-2",children:"#"}),Object(I.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(I.jsxs)("tbody",{children:[(null===(w=this.state.training)||void 0===w?void 0:w.trainee_criteria.levels.length)<=0&&Object(I.jsx)("tr",{className:"",children:Object(I.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(I.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(k=this.state.training)||void 0===k?void 0:k.trainee_criteria.levels.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"p-2 border",children:e.id}),Object(I.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(D=this.state.training)||void 0===D?void 0:D.trainee_criteria.qualifications.length)>=1&&Object(I.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(I.jsx)("h1",{className:"text-xl font-bold",children:"Qualifications"}),Object(I.jsxs)("table",{className:"border w-full",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-left",children:[Object(I.jsx)("th",{className:"border p-2",children:"#"}),Object(I.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(I.jsxs)("tbody",{children:[(null===(M=this.state.training)||void 0===M?void 0:M.trainee_criteria.qualifications.length)<=0&&Object(I.jsx)("tr",{className:"",children:Object(I.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(I.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(U=this.state.training)||void 0===U?void 0:U.trainee_criteria.qualifications.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"p-2 border",children:e.id}),Object(I.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(z=this.state.training)||void 0===z?void 0:z.trainee_criteria.districts.length)>=1&&Object(I.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(I.jsx)("h1",{className:"text-xl font-bold",children:"Districts"}),Object(I.jsxs)("table",{className:"border w-full",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-left",children:[Object(I.jsx)("th",{className:"border p-2",children:"#"}),Object(I.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(I.jsxs)("tbody",{children:[(null===(L=this.state.training)||void 0===L?void 0:L.trainee_criteria.districts.length)<=0&&Object(I.jsx)("tr",{className:"",children:Object(I.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(I.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(q=this.state.training)||void 0===q?void 0:q.trainee_criteria.districts.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"p-2 border",children:e.id}),Object(I.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(H=this.state.training)||void 0===H?void 0:H.trainee_criteria.sectors.length)>=1&&Object(I.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(I.jsx)("h1",{className:"text-xl font-bold",children:"Sector"}),Object(I.jsxs)("table",{className:"border w-full",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-left",children:[Object(I.jsx)("th",{className:"border p-2",children:"#"}),Object(I.jsx)("th",{className:"border p-2",children:"Name"})]})}),Object(I.jsxs)("tbody",{children:[(null===(B=this.state.training)||void 0===B?void 0:B.trainee_criteria.sectors.length)<=0&&Object(I.jsx)("tr",{className:"",children:Object(I.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(I.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(V=this.state.training)||void 0===V?void 0:V.trainee_criteria.sectors.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"p-2 border",children:e.id}),Object(I.jsx)("td",{className:"p-2 border",children:e.name})]},e.id)}))]})]})]}),(null===(Y=this.state.training)||void 0===Y?void 0:Y.trainee_criteria.subjects.length)>=1&&Object(I.jsxs)("div",{className:"bg-white p-2 rounded-lg border",children:[Object(I.jsx)("h1",{className:"text-xl font-bold",children:"Subjects"}),Object(I.jsxs)("table",{className:"border w-full",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-left",children:[Object(I.jsx)("th",{className:"border p-2",children:"Code"}),Object(I.jsx)("th",{className:"border p-2",children:"Name"}),Object(I.jsx)("th",{className:"border p-2",children:"Level"})]})}),Object(I.jsxs)("tbody",{children:[(null===(K=this.state.training)||void 0===K?void 0:K.trainee_criteria.subjects.length)<=0&&Object(I.jsx)("tr",{className:"",children:Object(I.jsx)("td",{colSpan:10,className:"p-4 py-6 text-center",children:Object(I.jsx)("h2",{className:"text-3xl text-gray-300",children:"No results found!"})})}),null===(W=this.state.training)||void 0===W?void 0:W.trainee_criteria.subjects.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"p-2 border",children:e.course_code}),Object(I.jsx)("td",{className:"p-2 border",children:e.course_name}),Object(I.jsx)("td",{className:"p-2 border",children:e.level_name})]},e.course_code)}))]})]})]})]})]}),this.state.tab===s.TRAINEE&&Object(I.jsxs)("div",{className:" animate__animated animate__zoomIn animate__faster",children:[" ","TRAINEE"]}),this.state.tab===s.PREVIEW_AGENDA&&Object(I.jsx)("div",{className:" animate__animated animate__zoomIn animate__faster",children:X&&X.agenda_file_name?Object(I.jsx)(v.a,{file_url:"".concat(f.a).concat(null===X||void 0===X?void 0:X.agenda_file_name),class_name:"w-full h-100vh",frame_title:"",setLoadingFile:function(){}}):Object(I.jsxs)("div",{className:"text-center py-8",children:[Object(I.jsx)("h1",{className:"text-8xl inline-block",children:Object(I.jsx)(j.K,{})}),Object(I.jsx)("h2",{children:"No training agenda found"})]})}),this.state.tab===s.TRAINING_MATERIALS&&Object(I.jsx)("div",{className:" animate__animated animate__zoomIn animate__faster",children:X&&null!==X&&void 0!==X&&X.material_links&&(null===X||void 0===X||null===(Q=X.material_links)||void 0===Q?void 0:Q.length)>=1?Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"px-3 py-1 flex bg-gray-100 rounded items-center ",children:[Object(I.jsx)("h2",{className:"text-6xl text-blue-600 font-bold",children:Object(I.jsx)(j.O,{})}),Object(I.jsx)("h2",{className:"text-2xl font-bold",children:"Training materials"})]}),Object(I.jsx)("div",{className:"p-3",children:X&&X.material_links&&X.material_links.map((function(e,t){return Object(I.jsxs)("section",{className:"p-2 border mb-2 rounded items-center border-blue-600 bg-blue-50 bg-opacity-40 hover:bg-blue-50 flex",children:[Object(I.jsx)("section",{className:"text-4xl pr-1 text-blue-600",children:Object(I.jsx)(j.jb,{className:"block"})}),Object(I.jsxs)("section",{className:"flex-1",children:[Object(I.jsx)("h2",{className:"font-bold hover:text-blue-500 hover:underline",children:e.title}),Object(I.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),Object(I.jsx)("section",{})]},t)}))})]}):Object(I.jsxs)("div",{className:"text-center py-8",children:[Object(I.jsx)("h1",{className:"text-8xl inline-block opacity-50",children:Object(I.jsx)(j.O,{})}),Object(I.jsx)("h2",{className:"text-2xl font-bold opacity-50",children:"No resources found"})]})})]})]})]})}}]),a}(o.a.Component),H=Object(b.b)((function(e){return{auth:e.auth}}),{})(q)},566:function(e,t,a){"use strict";var s,n=new Uint8Array(16);function i(){if(!s&&!(s="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(n)}var c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var r=function(e){return"string"===typeof e&&c.test(e)},l=[],d=0;d<256;++d)l.push((d+256).toString(16).substr(1));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!r(a))throw TypeError("Stringified UUID is invalid");return a};t.a=function(e,t,a){var s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){a=a||0;for(var n=0;n<16;++n)t[a+n]=s[n];return t}return o(s)}}}]);
//# sourceMappingURL=9.7ae91e27.chunk.js.map