(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[82],{611:function(e,t,s){"use strict";s.r(t),s.d(t,"DistrictTrainingOffers",(function(){return B}));var a,r=s(19),i=s(20),n=s(21),c=s(22),l=s(4),d=s(69),o=s(24),h=s(15),p=s(36),x=s(363),j=s(26),m=s(402),u=s(16),b=s(454),g=s(455),_=s(23),f=s(428),O=s(458),v=s(41),y=s(29),N=s(60),w=s(42),S=s(63),C=s(39),I=s(1),T=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).submitData=function(e){return e.preventDefault(),a.setState({success:null,error:null}),""===a.state.first_name?a.setState({error:{target:"first_name",msg:"Please fill the first name"}}):""===a.state.last_name?a.setState({error:{target:"last_name",msg:"Please fill the last name"}}):""===a.state.phone_number?a.setState({error:{target:"phone_number",msg:"Please fill phone number"}}):""===a.state.email?a.setState({error:{target:"email",msg:"Please fill the email"}}):(a.setState({loading:!0}),void a.props.setLoading(!0))},a.state={loading:!1,error:null,success:null,email:"",first_name:"",full_name:"",last_name:"",middle_name:"",phone_number:""},a}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return null!==this.state.success?Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"bg-green-50 rounded-md flex flex-col items-center justify-center p-8 text-green-700 animate__animated animate__fadeIn animate__faster",children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.o,{className:"text-7xl animate__animated animate__zoomIn"})}),Object(I.jsx)("div",{className:"text-xl font-bold text-black",children:"Trainee has been added successfully"}),Object(I.jsx)("div",{children:"".concat(this.state.first_name).concat(" "+this.state.middle_name).concat(" "+this.state.last_name)}),Object(I.jsx)("div",{className:"text-sm text-black",children:"This trainee has been added to the training, click the the following button to view the list"}),Object(I.jsx)(_.a,{onClick:function(){null!==e.state.success&&e.props.onSuccess(e.state.success),e.props.setLoading(!1)},className:"mt-5",children:"View trainees list"})]})}):Object(I.jsxs)("div",{className:"animate__animated animate__fadeIn",children:[Object(I.jsxs)("div",{className:"flex fle-row items-center justify-between gap-2 w-full bg-primary-100 px-2 py-2 pr-3 rounded-md my-4",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center gap-3 w-full",children:[Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"bg-white rounded-md p-2 text-primary-600",children:Object(I.jsx)(o.v,{className:"text-3xl"})})}),Object(I.jsxs)("div",{className:"flex flex-col text-primary-800",children:[Object(I.jsx)("div",{className:"text-sm font-light",children:"Selected trainee National ID number"}),Object(I.jsxs)("div",{className:"text-base bg-primary-100 w-max font-bold",children:["NID: ",this.props.nid]})]})]}),Object(I.jsx)("div",{children:Object(I.jsxs)("div",{onClick:function(){!0===window.confirm("If you continue, you may loose your changes in the form. Are sure do you want to go back?")&&!1===e.state.loading&&e.props.editNID()},className:"bg-white hover:text-accent-900 rounded-md truncate flex flex-row items-center gap-2 justify-center p-2 cursor-pointer text-sm",children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.y,{className:"text-2xl text-accent-900"})}),Object(I.jsx)("div",{children:"Edit National ID"})]})})]}),Object(I.jsx)("div",{children:Object(I.jsxs)("form",{onSubmit:this.submitData,className:"w-full my-3",children:[Object(I.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[Object(I.jsx)(C.a,{onChange:function(t){return e.setState({first_name:t.target.value,error:null})},value:this.state.first_name,error:null!==this.state.error&&"first_name"===this.state.error.target?this.state.error.msg:"",label:"First name",placeholder:"Ex: Damascene",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(I.jsx)(C.a,{onChange:function(t){return e.setState({middle_name:t.target.value,error:null})},value:this.state.middle_name,error:null!==this.state.error&&"middle_name"===this.state.error.target?this.state.error.msg:"",label:"Middle name (Optional)",placeholder:"",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(I.jsx)(C.a,{onChange:function(t){return e.setState({last_name:t.target.value,error:null})},value:this.state.last_name,error:null!==this.state.error&&"last_name"===this.state.error.target?this.state.error.msg:"",label:"Last name ",placeholder:"Ex: KAMANA",name:"",MainContainer_className:"col-span-4",disabled:this.state.loading}),Object(I.jsx)(C.a,{onChange:function(t){return e.setState({phone_number:t.target.value,error:null})},value:this.state.phone_number,error:null!==this.state.error&&"phone_number"===this.state.error.target?this.state.error.msg:"",label:"Phone number",placeholder:"07XXXXXXXX",name:"",MainContainer_className:"col-span-6",disabled:this.state.loading}),Object(I.jsx)(C.a,{onChange:function(t){return e.setState({email:t.target.value,error:null})},value:this.state.email,error:null!==this.state.error&&"email"===this.state.error.target?this.state.error.msg:"",label:"Email",placeholder:"email@gmail.com",name:"",MainContainer_className:"col-span-6",disabled:this.state.loading})]}),null!==this.state.error&&"main"===this.state.error.target&&Object(I.jsxs)("div",{className:"bg-red-50 text-red-700 flex flex-row items-center justify-between gap-3 px-3 py-2 cursor-pointer hover:bg-red-100 my-3 animate__animated animate__shakeX rounded-md",onClick:function(){return e.setState({error:null,success:null})},children:[Object(I.jsx)("span",{children:this.state.error.msg}),Object(I.jsx)("div",{children:Object(I.jsx)(h.r,{className:"text-2xl"})})]}),null!==this.state.success&&Object(I.jsxs)("div",{className:"bg-green-50 text-green-700 flex flex-row items-center justify-between gap-3 px-3 py-2 cursor-pointer hover:bg-green-100 my-3 animate__animated animate__fadeIn rounded-md",onClick:function(){return e.setState({error:null,success:null})},children:[Object(I.jsx)("span",{children:"Trainee has registered successfully!"}),Object(I.jsx)("div",{children:Object(I.jsx)(h.r,{className:"text-2xl"})})]}),Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 mt-3 pt-3",children:[!1===this.state.loading?Object(I.jsx)(_.a,{onClick:this.props.onClose,type:"button",theme:"default",disabled:this.state.loading,children:"Cancel process"}):Object(I.jsx)("div",{className:"animate__animated animate__fadeIn animate__infinite font-light text-accent-900"}),Object(I.jsxs)("div",{className:"flex flex-row items-center justify-end gap-3",children:[!0===this.state.loading&&Object(I.jsx)("div",{children:Object(I.jsx)(N.e,{className:"text-4xl text-accent-900 animate-spin"})}),Object(I.jsx)(_.a,{type:"submit",theme:"accent",disabled:this.state.loading,children:!0===this.state.loading?Object(I.jsx)("span",{className:"animate__animated animate__fadeIn animate__infinite",children:"Adding, please wait..."}):"Submit trainee info"})]})]})]})})]})}}]),s}(l.Component),A=s(54),D=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var i;return Object(r.a)(this,s),(i=t.call(this,e)).returnStatusText=function(){return i.props.data.hasTrainingStatus===a.AVAILABLE?"Available for training":i.props.data.hasTrainingStatus===a.ALREADY_TRAINED?"Already has trained":i.props.data.hasTrainingStatus===a.HAS_TRAINING?"Has assigned to training":void 0},i.returnStatusComponent=function(){return i.props.data.hasTrainingStatus===a.AVAILABLE?Object(I.jsxs)("div",{className:"bg-green-100 text-sm rounded-full font-bold text-green-700 border border-green-600 px-0 pr-2 py-0 w-max flex flex-row items-center gap-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.o,{className:"text-2xl"})}),Object(I.jsx)("span",{children:i.returnStatusText()})]}):i.props.data.hasTrainingStatus===a.ALREADY_TRAINED?Object(I.jsxs)("div",{className:"bg-red-100 text-sm rounded-full font-bold text-red-700 border border-red-600 px-0 pr-2 py-0 w-max flex flex-row items-center gap-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)(w.m,{className:"text-2xl"})}),Object(I.jsx)("span",{children:i.returnStatusText()})]}):Object(I.jsxs)("div",{className:"bg-yellow-100 text-sm rounded-full font-bold text-yellow-700 border border-yellow-600 px-0 pr-2 py-0 w-max flex flex-row items-center gap-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)(A.j,{className:"text-2xl"})}),Object(I.jsx)("span",{children:i.returnStatusText()})]})},i.AddParticipant=function(){i.setState({loading:!0}),i.props.setLoading(!0),Object(x.b)({district_code:null,level_id:"",position_code:"",qualification_id:"",school_code:parseInt(i.props.school_code),sector_id:null,trainee_request_id:parseInt(i.props.training_details.trainee_request_id),training_id:i.props.training_details.id,training_to_group_id:parseInt(i.props.training_details.training_to_group_id),user_id:i.props.data.user_id,trainee_category_id:i.props.trainee_category_id,cohort_id:i.props.training_details.cohort_id},(function(e,t){null!==t&&"success"===t.type&&(i.setState({loading:!1}),i.setState({success:t.msg})),null!==t&&"error"===t.type&&i.setState({error:t.msg,success:"",loading:!1})}))},i.state={loading:!1,error:"",success:""},i}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"p-3 bg-primary-100 my-3 rounded-md animate__animated animate__fadeIn",children:Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[!1===this.state.loading&&Object(I.jsx)("div",{children:Object(I.jsx)("div",{onClick:this.props.close,className:"flex items-center justify-center h-10 w-10 rounded-full bg-white text-primary-700 border border-primary-300 hover:bg-accent-900 hover:text-white hover:border-white cursor-pointer",children:Object(I.jsx)(o.a,{className:"text-2xl"})})}),Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"text-lg font-bold text-primary-800",children:[this.props.data.first_name," ",this.props.data.last_name]}),Object(I.jsx)("div",{children:Object(I.jsx)(this.returnStatusComponent,{})})]})]}),!1===this.state.loading?""===this.state.success&&Object(I.jsx)("div",{className:"flex flex-row items-center gap-2",children:this.props.data.hasTrainingStatus===a.AVAILABLE?Object(I.jsxs)(_.a,{theme:"success",className:"flex flex-row items-center gap-2 justify-center",onClick:function(){return e.AddParticipant()},children:[Object(I.jsx)("div",{children:Object(I.jsx)(w.d,{className:"text-xl"})}),Object(I.jsx)("span",{children:"Add participant"})]}):Object(I.jsx)("div",{onClick:this.props.close,className:"w-max bg-white rounded px-3 py-2 font-bold cursor-pointer",children:"Go back"})}):Object(I.jsxs)("div",{className:"flex flex-row items-center gap-2 justify-center bg-white text-accent-900 font-bold px-3 py-2 rounded-md cursor-wait",children:[Object(I.jsx)("div",{children:Object(I.jsx)(N.e,{className:"text-2xl animate-spin"})}),Object(I.jsx)("span",{className:"animate__animated animate__fadeIn animate__infinite",children:"Adding participant, please wait..."})]})]})}),""!==this.state.error&&Object(I.jsxs)("div",{onClick:function(){return e.setState({error:"",success:""})},className:"flex flex-row items-center justify-between font-bold text-lg gap-2 px-3 py-2 rounded-md bg-red-50 text-red-600 hover:bg-red-100 cursor-pointer my-2 border border-white animate__animated animate__shakeX",children:[Object(I.jsx)("span",{children:this.state.error}),Object(I.jsx)("div",{children:Object(I.jsx)(h.r,{className:"text-2xl"})})]}),""!==this.state.success&&Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between font-bold text-lg gap-2 px-3 py-2 rounded-md bg-green-50 text-green-600 hover:bg-green-100 cursor-pointer my-2 border border-white",children:[Object(I.jsx)("span",{children:this.state.success}),Object(I.jsx)("div",{children:Object(I.jsx)(_.a,{theme:"success",onClick:function(){e.props.onSuccess(e.props.data),e.props.setLoading(!1)},className:"text-base",children:"Continue"})})]}),Object(I.jsxs)("div",{className:"animate__animated animate__fadeIn",children:[Object(I.jsxs)("div",{className:"flex flex-col border-b border-gray-300 pb-2 my-2",children:[Object(I.jsx)("span",{className:"text-gray-500 font-bold",children:"National ID"}),Object(I.jsx)("span",{children:this.props.data.nid})]}),Object(I.jsxs)("div",{className:"flex flex-col border-b border-gray-300 pb-2 my-2",children:[Object(I.jsx)("span",{className:"text-gray-500 font-bold",children:"Phone number"}),Object(I.jsx)("span",{children:this.props.data.phone_numbers})]}),Object(I.jsxs)("div",{className:"flex flex-col border-b border-gray-300 pb-2 my-2",children:[Object(I.jsx)("span",{className:"text-gray-500 font-bold",children:"Email"}),Object(I.jsx)("span",{children:this.props.data.email})]}),Object(I.jsxs)("div",{className:"flex flex-col border-b border-gray-300 pb-2 my-2",children:[Object(I.jsx)("span",{className:"text-gray-500 font-bold",children:"Participant status"}),Object(I.jsx)("span",{children:this.returnStatusText()})]})]})]})}}]),s}(l.Component);!function(e){e.AVAILABLE="AVAILABLE",e.HAS_TRAINING="HAS_TRAINING",e.ALREADY_TRAINED="ALREADY_TRAINED"}(a||(a={}));var k,L=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).GetParentToBeTrainedByNid=function(e){if(e.preventDefault(),""===a.state.search_nid)return a.setState({error:{target:"main",msg:"Please fill National ID the participant"}});a.setState({loading:!0,error:null,success:""})},a.AssignParticipantToTraining=function(e){console.log("Testing one: ",e),a.props.onSubmitParticipants([e]),a.setState({loaded_participant:null})},a.state={loading:!1,error:null,success:"",search_nid:"",user_id:"",first_name:"",last_name:"",phone_numbers:"",email:"",hasTraining:!1,open_register:!1,loaded_participant:null,open_register_user:""},a}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return""!==this.state.open_register_user?Object(I.jsx)(T,{nid:this.state.open_register_user,onSuccess:function(t){e.AssignParticipantToTraining(t),e.props.onClose()},onClose:function(){e.setState({open_register_user:"",error:null,success:"",search_nid:""})},training_details:this.props.training_details,setLoading:this.props.setLoading,school_code:this.props.district_code,editNID:function(){return e.setState({open_register_user:"",error:null,success:""})}}):Object(I.jsxs)("div",{children:[null===this.state.loaded_participant&&Object(I.jsxs)("div",{className:"bg-primary-100 rounded-md p-3 animate__animated animate__fadeIn",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center gap-2 mb-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)(S.e,{className:"text-primary-800 text-2xl"})}),Object(I.jsx)("div",{className:"text-primary-800 font-bold",children:"Search for the trainee by NID"})]}),Object(I.jsxs)("div",{className:"text-sm text-primary-800 mb-2 font-light",children:["Enter national ID for a person you want to attend this training",Object(I.jsxs)("span",{className:"font-normal",children:[" ",this.props.training_details.title]})]}),(null===this.props.training_details.total?0:this.props.training_details.total)>this.props.addedParticipants.length?Object(I.jsxs)("form",{onSubmit:this.GetParentToBeTrainedByNid,className:"flex flex-row items-center gap-2 truncate",children:[Object(I.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between w-full gap-2",children:Object(I.jsx)("div",{className:"relative w-full",children:Object(I.jsx)("input",{type:"search",className:"fbg-white text-primary-800 w-full px-3 py-2 rounded border border-primary-700 font-normal",placeholder:"Type national ID number...",value:this.state.search_nid,onChange:function(t){return e.setState({search_nid:t.target.value})}})})}),Object(I.jsx)("div",{children:Object(I.jsxs)(_.a,{type:"submit",theme:"primary-light",className:"flex flex-row items-center justify-center gap-2 animate__animated animate__zoomIn bg-primary-700 text-white",children:[!0===this.state.loading&&Object(I.jsx)("div",{children:Object(I.jsx)(N.e,{className:"text-2xl animate-spin text-white"})}),Object(I.jsx)("span",{className:"".concat(!0===this.state.loading?"animate__animated animate__fadeIn animate__infinite":""," text-white"),children:!0===this.state.loading?"Loading, wait...":"Search NID"})]})})]}):Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"bg-white rounded-md mt-3 text-center p-10 animate__animated animate__zoomIn",children:[Object(I.jsx)("div",{className:"flex items-center justify-center",children:Object(I.jsx)("div",{className:"relative",children:Object(I.jsx)(h.p,{className:"text-6xl text-gray-400"})})}),Object(I.jsx)("div",{className:"font-bold text-xl",children:"All trainees has added"}),Object(I.jsx)("div",{className:"text-m text-gray-400",children:"All required trainees has added to the training, you can not add another trainee"})]})})]}),null!==this.state.error&&"main"===this.state.error.target&&Object(I.jsxs)("div",{onClick:function(){return e.setState({error:null})},className:"bg-red-50 text-red-700  px-3 py-2 rounded-md cursor-pointer flex flex-row items-center justify-between gap-2 mt-3 animate__animated animate__shakeX",children:[Object(I.jsx)("span",{children:this.state.error.msg}),Object(I.jsx)("div",{children:Object(I.jsx)(h.r,{className:"text-2xl"})})]}),Object(I.jsx)("div",{children:null===this.state.loaded_participant&&!1===this.state.open_register&&(null===this.props.training_details.total?0:this.props.training_details.total)>this.props.addedParticipants.length&&Object(I.jsxs)("div",{className:"bg-gray-100 rounded-md mt-3 text-center p-10",children:[Object(I.jsx)("div",{className:"flex items-center justify-center",children:Object(I.jsx)("div",{className:"relative",children:Object(I.jsx)(w.d,{className:"text-6xl text-gray-400"})})}),Object(I.jsx)("div",{className:"font-bold text-xl",children:"No trainee selected"}),Object(I.jsx)("div",{className:"text-m text-gray-400",children:"Search for a trainee to be added on the trainees list"})]})}),null!==this.state.loaded_participant&&Object(I.jsx)(D,{school_code:this.props.district_code,data:this.state.loaded_participant,close:function(){return e.setState({loaded_participant:null})},setLoading:this.props.setLoading,onSuccess:function(t){e.AssignParticipantToTraining(t)},training_details:this.props.training_details,trainee_category_id:this.props.trainee_category_id})]})}}]),s}(l.Component),P=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).GetSelectedTraineesCategory=function(){if(""!==a.state.selected_trainee_category&&a.props.training_details.trainee_category.length>0){var e=a.props.training_details.trainee_category.find((function(e){return e.id===a.state.selected_trainee_category}));if(void 0!==e)return e}return null},a.LoadData=function(e){var t={training_id:a.props.training_details.id,sub_area_id:a.props.training_details.sub_area_id,district_code:a.props.district_code,topic:a.props.training_details.topic_id,criteria:a.props.training_details.trainee_criteria};a.setState({loading:!0}),Object(x.h)(t,(function(t,s){a.setState({loading:t}),null!==s&&"success"===s.type&&a.setState({data:null===s.data?[]:s.data.filter((function(t){return void 0!==e.find((function(e){return e.role_id.toString()===t.role_id.toString()}))})),loading:!1,error:""}),null!==s&&"error"===s.type&&a.setState({data:[],loading:!1,error:s.msg})}))},a.AddNewParticipants=function(e){a.setState({loading:!1,adding_participant:{user_id:e.user_id,names:"".concat(e.first_name," ").concat(e.last_name)}}),Object(x.b)({district_code:parseInt(a.props.district_code),level_id:"",position_code:"",qualification_id:"",school_code:null,sector_id:"",trainee_request_id:parseInt(a.props.training_details.trainee_request_id),training_id:a.props.training_details.id,training_to_group_id:parseInt(a.props.training_details.training_to_group_id),user_id:e.user_id,trainee_category_id:a.state.selected_trainee_category,cohort_id:a.props.selected_cohort.cohort_id},(function(t,s){null!==s&&"success"===s.type&&(a.props.onSubmitParticipants([e]),a.setState({data:null===a.state.data?[]:a.state.data.filter((function(t){return t.nid!==e.nid})),success:"Trainee ".concat(e.first_name," ").concat(e.last_name," has added successfully!"),error:"",loading:!1,adding_participant:null}),window.scrollTo(0,0)),null!==s&&"error"===s.type&&a.setState({error:s.msg,success:"",loading:!1,adding_participant:null})}))},a.state={loading:!1,error:"",success:"",search_data:"",data:null,continue:!1,adding_participant:null,selected_trainee_category:0===a.props.training_details.trainee_category.filter((function(e){return null===e.roles||void 0!==e.roles.find((function(e){return null===e.access_level||e.access_level.toLocaleLowerCase()==="DISTRICT".toLocaleLowerCase()}))})).length?"":a.props.training_details.trainee_category.filter((function(e){return null===e.roles||void 0!==e.roles.find((function(e){return null===e.access_level||e.access_level.toLocaleLowerCase()==="DISTRICT".toLocaleLowerCase()}))}))[0].id,adding_parent_participant:!1},a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){null===this.state.data&&null!==this.GetSelectedTraineesCategory()&&null!==this.GetSelectedTraineesCategory().roles&&this.LoadData(this.GetSelectedTraineesCategory().roles)}},{key:"render",value:function(){var e,t,s=this;return Object(I.jsxs)("div",{className:"animate__animated animate__fadeIn bg-white rounded-md mt-1",children:[Object(I.jsx)("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-2",children:Object(I.jsxs)("div",{className:"flex flex-row items-center gap-3 w-full",children:[!1===this.state.continue&&Object(I.jsx)("div",{children:Object(I.jsxs)("div",{onClick:function(){!1===s.state.loading&&!1===s.state.adding_parent_participant&&s.props.onClose()},className:"bg-accent-400 hover:bg-accent-500 text-accent-900 px-3 py-2 rounded-md flex flex-row items-center justify-center gap-2 hover:text-black cursor-pointer",children:[Object(I.jsx)("div",{children:Object(I.jsx)(o.a,{className:"text-xl"})}),Object(I.jsx)("span",{className:"hidden md:block truncate",children:"Back to list"})]})}),Object(I.jsxs)("div",{className:"",children:[Object(I.jsx)("div",{className:"text-xl font-bold",children:"Add training trainees"}),Object(I.jsx)("div",{className:"text-sm font-semibold text-primary-800",children:this.props.training_details.title})]})]})}),Object(I.jsxs)("div",{className:"my-5",children:[Object(I.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-2",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"font-bold text-lg",children:"List of categorized training trainees"}),Object(I.jsx)("div",{className:"text-sm text-gray-500",children:"The following are trainee's categories that can be added to the training. please select the category"})]}),Object(I.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2",children:[!1===this.state.loading&&!1===this.state.adding_parent_participant&&Object(I.jsxs)("div",{className:"flex flex-col bg-gray-10 rounded px-3 text-center border border-primary-500 pt-1 text-primary-800 bg-primary-100 hover:bg-primary-300 cursor-pointer animate__animated animate__bounceIn",onClick:this.props.onClose,children:[Object(I.jsx)("div",{className:"text-sm",children:"Trainees"}),Object(I.jsx)("div",{className:"font-extrabold -mt-1 text-xl",children:this.props.addedParticipants.length})]}),null!==this.props.selected_cohort.total_trainees&&Object(I.jsxs)("div",{className:"flex flex-col bg-gray-10 rounded px-3 text-center border pt-1",children:[Object(I.jsx)("div",{className:"text-sm",children:"Total"}),Object(I.jsx)("div",{className:"font-extrabold -mt-1 text-xl",children:null===this.props.selected_cohort.total_trainees?0:this.props.selected_cohort.total_trainees})]}),!0===this.state.continue&&Object(I.jsxs)(_.a,{theme:"accent",className:"px-3 py-2 rounded-md flex flex-row items-center justify-center gap-2 hover:text-black cursor-pointer animate__animated animate__fadeIn",onClick:function(){!1===s.state.loading&&s.props.onClose()},children:[Object(I.jsx)("div",{className:"hidden md:block truncate",children:"Continue"}),Object(I.jsx)("div",{children:Object(I.jsx)(o.b,{className:"text-xl"})})]})]})]}),Object(I.jsx)("div",{className:"my-3 w-full overflow-x-auto",children:Object(I.jsxs)("div",{className:"flex flex-row items-end gap-0 truncate",children:[this.props.training_details.trainee_category.filter((function(e){return null===e.roles||void 0!==e.roles.find((function(e){return null===e.access_level||e.access_level.toLocaleLowerCase()==="DISTRICT".toLocaleLowerCase()}))})).map((function(e,t){return Object(I.jsx)("div",{onClick:function(){!1===s.state.loading&&!1===s.state.adding_parent_participant&&(null!==e.roles&&s.LoadData(e.roles),s.setState({selected_trainee_category:e.id,success:"",error:""}))},className:"px-5 pt-2 pb-1 rounded-t-md ".concat(e.id===s.state.selected_trainee_category?"border-t border-l border-r bg-white text-primary-700 border-primary-300 font-semibold":"border-b border-primary-300 cursor-pointer hover:bg-primary-100 hover:text-primary-800"),children:e.name},t+1)})),Object(I.jsx)("div",{className:"border-b border-primary-300 w-full"})]})})]}),!0===this.state.loading&&!1===this.state.adding_parent_participant?Object(I.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-gray-100 rounded-md m-1",children:[Object(I.jsx)(j.a,{}),Object(I.jsx)("div",{className:"text-center text-lg font-light",children:"Loading, please wait..."})]}):Object(I.jsxs)(l.Fragment,{children:[""!==this.state.error&&Object(I.jsxs)("div",{onClick:function(){return s.setState({error:"",success:""})},className:"bg-red-100 text-red-700 font-bold flex flex-row items-center justify-between gap-2 px-3 py-2 rounded cursor-pointer my-2 animate__animated animate__shakeX",children:[Object(I.jsx)("div",{children:this.state.error}),Object(I.jsx)("div",{children:Object(I.jsx)(h.r,{className:"text-2xl"})})]}),""!==this.state.success&&Object(I.jsxs)("div",{onClick:function(){return s.setState({error:"",success:""})},className:"bg-green-100 text-green-700 font-bold flex flex-row items-center justify-between gap-2 px-3 py-2 rounded cursor-pointer my-2 animate__animated animate__zoomIn",children:[Object(I.jsx)("div",{children:this.state.success}),Object(I.jsx)("div",{children:Object(I.jsx)(h.r,{className:"text-2xl"})})]}),""!==this.state.selected_trainee_category&&null!==this.GetSelectedTraineesCategory()&&null!==this.GetSelectedTraineesCategory().roles&&Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between w-full gap-2 mb-2",children:Object(I.jsxs)("div",{className:"relative w-full",children:[Object(I.jsx)("div",{className:"absolute px-3 py-2",children:Object(I.jsx)(S.e,{className:"text-2xl text-gray-600"})}),Object(I.jsx)("input",{type:"search",className:"font-normal bg-gray-100 w-full px-3 pl-12 py-2 rounded",placeholder:"Search...",value:this.state.search_data,onChange:function(e){return s.setState({search_data:e.target.value})}})]})}),Object(I.jsxs)("div",{className:" text-accent-900 mt-4 mb-3 font-semibold flex flex-row items-center gap-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)(o.f,{className:"text-2xl"})}),Object(I.jsxs)("span",{children:["List of qualified"," ",null===(e=this.GetSelectedTraineesCategory())||void 0===e?void 0:e.name," for this training"]})]})]}),null!==this.GetSelectedTraineesCategory()&&(null!==this.GetSelectedTraineesCategory().roles&&void 0!==(null===(t=this.GetSelectedTraineesCategory().roles)||void 0===t?void 0:t.find((function(e){return null!==e.access_level})))&&null!==this.state.data?Object(I.jsx)("div",{className:"w-full overflow-x-auto mb-10",children:Object(I.jsxs)("table",{className:"min-w-full text-left text-sm",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-primary-800 truncate",children:[Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-200 text-center",children:"#"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-200",children:"Full name"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-200",children:"National ID"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-200",children:"Phone number"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-200",children:"Role"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-200",children:"Action"})]})}),Object(I.jsx)("tbody",{children:0===Object(u.u)(this.state.data,this.state.search_data).length?Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:8,className:"text-center text-xl font-light py-4",children:Object(I.jsx)("div",{className:"bg-gray-100 w-full px-2 py-2 rounded",children:"No result found!"})})}):Object(u.u)(this.state.data,this.state.search_data).map((function(e,t){return Object(I.jsxs)("tr",{className:"group",children:[Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-200 text-center",children:t+1}),Object(I.jsxs)("td",{className:"px-2 py-2 border border-gray-200",children:[e.first_name," ",e.last_name]}),Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-200",children:e.nid}),Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-200",children:e.phone_numbers}),Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-200",children:e.role}),Object(I.jsx)("td",{className:"px-1 py-1 border border-gray-200 w-10",children:Object(I.jsxs)("div",{onClick:function(){s.setState({success:"",error:""}),null===s.props.selected_cohort.total_trainees||s.props.addedParticipants.length<(null===s.props.selected_cohort.total_trainees?0:s.props.selected_cohort.total_trainees)?s.AddNewParticipants(e):(s.setState({error:"You can not override the limit which is "+(null===s.props.selected_cohort.total_trainees?"0":s.props.selected_cohort.total_trainees),success:""}),alert("You can not override the limit which is "+(null===s.props.selected_cohort.total_trainees?"0":s.props.selected_cohort.total_trainees)),s.props.onClose()),s.setState({continue:!0})},className:"".concat(null!==s.state.adding_participant&&s.state.adding_participant.user_id===e.user_id?"bg-primary-100 text-primary-800 cursor-wait":"bg-accent-400 text-accent-900 group-hover:bg-accent-800 group-hover:text-black cursor-pointer"," text-sm font-bold w-max px-3 rounded py-2 float-right flex flex-row items-center justify-center gap-2"),children:[null!==s.state.adding_participant&&s.state.adding_participant.user_id===e.user_id&&Object(I.jsx)("div",{children:Object(I.jsx)(N.e,{className:"text-xl animate-spin"})}),Object(I.jsx)("span",{children:null!==s.state.adding_participant&&s.state.adding_participant.user_id===e.user_id?"Adding...":"Add participant"})]})})]},t+1)}))})]})}):Object(I.jsx)("div",{children:Object(I.jsx)("div",{children:Object(I.jsx)(L,{addedParticipants:this.props.addedParticipants,district_code:this.props.district_code,onClose:this.props.onClose,training_details:this.props.training_details,onSubmitParticipants:function(e){console.log("Test data 2: ",e),s.props.onSubmitParticipants(e)},setLoading:function(e){return s.setState({adding_parent_participant:e})},trainee_category_id:this.state.selected_trainee_category})})}))]})]})}}]),s}(l.Component),R=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).GetParticipantUnique=function(e){var t,s=[],a=Object(y.a)(e);try{var r=function(){var e=t.value;void 0===s.find((function(t){return t.user_id===e.user_id}))&&s.push(e)};for(a.s();!(t=a.n()).done;)r()}catch(i){a.e(i)}finally{a.f()}return s},a.LoadParticipants=function(){a.setState({loading:!0}),Object(x.c)(a.props.training.id,a.props.district_code,(function(e,t){a.setState({loading:e}),null!==t&&"success"===t.type&&(a.props.setParticipants(null===t.data?[]:a.GetParticipantUnique(t.data.school_teachers)),a.setState({participants:null===t.data?null:a.GetParticipantUnique(t.data.school_teachers),loading:!1})),null!==t&&"error"===t.type&&a.setState({participants:[],loading:!1,error:t.msg})}))},a.RemoveParticipantOnTraining=function(e,t,s){a.setState({removing_user_id:e}),Object(x.k)({training_id:a.props.training.id,user_id:e,status:"DISABLED",cohort_id:s},(function(s,r){null!==r&&"success"===r.type&&a.setState({participants:null===a.state.participants?[]:a.state.participants.filter((function(t){return t.user_id!==e})),removing_user_id:null,success:"".concat(t," has been removed from participants list successfully!"),error:""}),null!==r&&"error"===r.type&&a.setState({removing_user_id:null,error:r.msg,success:""})}))},a.FilteredCohortData=function(e){return e.filter((function(e){var t;return e.cohort_id===(null===(t=a.props.selected_cohort)||void 0===t?void 0:t.cohort_id)}))},a.state={loading:!1,participants:a.props.participants,addParticipants:!1,error:"",success:"",search_data:"",removing_user_id:null},a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){null!==this.state.participants&&0!==this.state.participants.length||this.LoadParticipants()}},{key:"render",value:function(){var e,t,s,a,r,i,n=this;return!0===this.state.loading||null===this.state.participants?Object(I.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-gray-100 rounded my-4",children:[Object(I.jsx)(j.a,{}),Object(I.jsx)("div",{className:"text-center font-light text-lg",children:"Loading, please wait..."})]}):Object(I.jsxs)(l.Fragment,{children:[!1===this.state.addParticipants&&Object(I.jsx)("div",{className:"animate__animated animate__fadeIn",children:Object(I.jsxs)("div",{className:"bg-gray-10 rounded-md",children:[Object(I.jsx)("div",{children:this.FilteredCohortData(this.state.participants).length>0&&Object(I.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-2 w-full",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center gap-4 w-full truncate",children:[Object(I.jsx)("div",{children:Object(I.jsx)(o.u,{className:"text-3xl text-accent-900"})}),Object(I.jsxs)("div",{className:"text-lg font-bold flex flex-col truncate",children:[Object(I.jsx)("div",{children:"List of trainees"}),Object(I.jsx)("div",{className:"text-sm font-normal truncate",title:"".concat(this.props.training.development_partner_name),children:this.props.training.development_partner_name})]})]}),Object(I.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-2 w-full",children:[Object(I.jsxs)("div",{className:"relative w-full",children:[Object(I.jsx)("div",{className:"absolute px-3 py-2",children:Object(I.jsx)(S.e,{className:"text-2xl text-gray-600"})}),Object(I.jsx)("input",{type:"search",className:"font-normal bg-gray-100 w-full px-3 pl-12 py-2 rounded",placeholder:"Search...",value:this.state.search_data,onChange:function(e){return n.setState({search_data:e.target.value})}})]}),Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between md:justify-end gap-2 w-full mt-2 md:mt-0",children:[Object(I.jsxs)("div",{className:"".concat(this.FilteredCohortData(this.state.participants).length===(null===(e=this.props.selected_cohort)||void 0===e?void 0:e.total_trainees)?"text-green-600 bg-green-50 px-3 pt-1 rounded-md":"text-gray-900 bg-white px-3 pt-1 rounded-md"," flex flex-col items-start justify-center truncate"),children:[Object(I.jsx)("div",{className:"text-sm",children:"Total trainees"}),Object(I.jsxs)("div",{className:"flex flex-row items-center gap-2 font-bold -mt-1 text-lg",children:[Object(I.jsx)("span",{children:this.FilteredCohortData(this.state.participants).length})," ","of"," ",Object(I.jsx)("span",{children:null===(t=this.props.selected_cohort)||void 0===t?void 0:t.total_trainees})]})]}),Object(I.jsx)("div",{children:this.FilteredCohortData(this.state.participants).length!==(null===(s=this.props.selected_cohort)||void 0===s?void 0:s.total_trainees)&&"1"!==(null===(a=this.props.training.is_approved)||void 0===a?void 0:a.toString())?Object(I.jsxs)(_.a,{theme:"accent",className:"animate__animated animate__zoomIn truncate flex flex-row items-center justify-center gap-2",onClick:function(){null===n.state.removing_user_id&&(n.setState({addParticipants:!0}),n.props.setDisplayTabs(!1))},children:[Object(I.jsx)("div",{children:Object(I.jsx)(w.n,{className:"text-2xl"})}),Object(I.jsx)("span",{children:"Add trainees"})]}):""})]})]})]})}),0===this.FilteredCohortData(this.state.participants).length&&Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"bg-gray-100 text-center flex flex-col items-center justify-center p-3 py-8 rounded-lg mt-3",children:[Object(I.jsx)("div",{className:"text-center",children:Object(I.jsx)(w.q,{className:"text-6xl text-gray-400 animate__animated animate__zoomIn"})}),Object(I.jsx)("div",{className:"text-xl font-bold mt-2",children:"List of trainees"}),Object(I.jsx)("div",{className:"text-sm font-light",children:"You are required to add trainee from this training"}),Object(I.jsx)("div",{className:"mt-2",children:"1"!==(null===(r=this.props.training.is_approved)||void 0===r?void 0:r.toString())&&Object(I.jsxs)(_.a,{theme:"accent",className:"animate__animated animate__zoomIn flex flex-row items-center justify-center gap-2",onClick:function(){n.setState({addParticipants:!0,success:"",error:""}),n.props.setDisplayTabs(!1)},children:[Object(I.jsx)("div",{children:Object(I.jsx)(w.n,{className:"text-2xl"})}),Object(I.jsx)("span",{children:"Add trainees"})]})})]})}),this.FilteredCohortData(this.state.participants).length===(null===(i=this.props.selected_cohort)||void 0===i?void 0:i.total_trainees)&&Object(I.jsxs)("div",{className:"p-1 flex flex-row items-center gap-3 rounded-md bg-primary-100 my-3",children:[Object(I.jsx)("div",{className:"rounded-md h-14 w-14 flex items-center justify-center bg-white",children:Object(I.jsx)(h.I,{className:"text-5xl text-primary-600 animate__animated animate__zoomIn"})}),Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"font-bold text-primary-800 text-lg",children:"Verify the selected trainees before the approval"}),Object(I.jsx)("div",{className:"text-sm text-primary-800",children:"Now you are able to make modification until the approval will be made. make sure you have well verified the selected trainees"})]})]}),""!==this.state.error&&Object(I.jsxs)("div",{onClick:function(){return n.setState({error:"",success:""})},className:"bg-red-100 text-red-700 px-3 py-2 rounded cursor-pointer flex flex-row items-center justify-between gap-2 my-2 animate__animated animate__shakeX",children:[Object(I.jsxs)("div",{className:"flex flex-col",children:[Object(I.jsx)("span",{className:"text-lg font-bold",children:"Error occurred:"}),Object(I.jsx)("span",{children:this.state.error})]}),Object(I.jsx)("div",{children:Object(I.jsx)(h.r,{className:"text-2xl"})})]}),""!==this.state.success&&Object(I.jsxs)("div",{onClick:function(){return n.setState({error:"",success:""})},className:"bg-green-100 text-green-700 px-3 py-2 rounded cursor-pointer flex flex-row items-center justify-between gap-2 my-2 animate__animated animate__fadeIn",children:[Object(I.jsxs)("div",{className:"flex flex-col",children:[Object(I.jsx)("span",{className:"text-lg font-bold",children:"Done successfully"}),Object(I.jsx)("span",{children:this.state.success})]}),Object(I.jsx)("div",{children:Object(I.jsx)(h.r,{className:"text-2xl"})})]}),this.FilteredCohortData(this.state.participants).length>0&&Object(I.jsx)("div",{className:"mt-3 w-full overflow-x-auto",children:Object(I.jsxs)("table",{className:"min-w-full text-left text-sm animate__animated animate__fadeIn",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{className:"text-primary-800 truncate",children:[Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300 text-center",children:"#"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"Full name"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"National ID"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"Phone number"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300",children:"Role"}),Object(I.jsx)("th",{className:"px-2 py-2 border border-gray-300 text-right"})]})}),Object(I.jsx)("tbody",{children:0===Object(u.u)(this.FilteredCohortData(this.state.participants),this.state.search_data).length?Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:8,className:"p-6 text-lg font-light text-center",children:Object(I.jsx)("div",{className:"animate__animated animate__shakeX text-center",children:"No result found!"})})}):Object(u.u)(this.FilteredCohortData(this.state.participants),this.state.search_data).map((function(e,t){var s;return Object(I.jsxs)("tr",{className:"group",children:[Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-300 text-center",children:t+1}),Object(I.jsxs)("td",{className:"px-2 py-2 border border-gray-300",children:[e.first_name," ",e.last_name]}),Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-300",children:e.nid}),Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-300",children:e.phone_numbers}),Object(I.jsx)("td",{className:"px-2 py-2 border border-gray-300",children:e.role}),Object(I.jsx)("td",{className:"px-1 py-1 border border-gray-300",children:"1"!==(null===(s=n.props.training.is_approved)||void 0===s?void 0:s.toString())&&Object(I.jsxs)("div",{onClick:function(){null===n.state.removing_user_id&&null!==e.cohort_id&&!0===window.confirm("Are you sure do you want to remove ".concat(e.first_name," ").concat(e.last_name," from participants list?"))&&n.RemoveParticipantOnTraining(e.user_id,"".concat(e.first_name," ").concat(e.last_name),e.cohort_id)},className:"flex items-center justify-center gap-2 rounded px-3 py-2 ".concat(n.state.removing_user_id===e.user_id?"bg-primary-100 text-primary-800 cursor-wait font-bold":"bg-red-100 text-red-800 group-hover:bg-red-700 group-hover:text-white"," text-sm w-max float-right cursor-pointer font-normal"),children:[n.state.removing_user_id===e.user_id&&Object(I.jsx)("div",{children:Object(I.jsx)(N.e,{className:"text-xl animate-spin"})}),Object(I.jsx)("span",{children:n.state.removing_user_id===e.user_id?"Removing...":"Remove"})]})})]},t+1)}))})]})})]})}),!0===this.state.addParticipants&&null!==this.props.selected_cohort&&Object(I.jsx)(P,{onClose:function(){n.setState({addParticipants:!1}),n.props.setDisplayTabs(!0)},onSubmitParticipants:function(e){var t=[].concat(Object(v.a)(null===n.props.participants?[]:n.props.participants),[{staff_code:e[0].staff_code,user_id:e[0].user_id,nid:e[0].nid,first_name:e[0].first_name,last_name:e[0].last_name,phone_numbers:e[0].phone_numbers,email:null===e[0].email?"":e[0].email,role_id:e[0].role_id,role:e[0].role,cohort_id:n.props.selected_cohort.cohort_id}]);n.props.setParticipants(t),n.setState({participants:t}),window.scrollTo(0,0)},addedParticipants:this.FilteredCohortData(this.state.participants),district_code:this.props.district_code,training_details:this.props.training,selected_cohort:this.props.selected_cohort})]})}}]),s}(l.Component),E=s(493),G=s(459);!function(e){e.PARTICIPANTS="PARTICIPANTS",e.DETAILS="DETAILS",e.CRITERIA="CRITERIA"}(k||(k={}));var F=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).setDisplayTabs=function(e){return a.setState({display_tabs:e})},a.state={loading:!1,selected_tab:k.PARTICIPANTS,display_tabs:!0,selectedCohort:a.props.selected_cohort,switchSelectedCohort:!1,participants:null},a}return Object(i.a)(s,[{key:"render",value:function(){var e=this,t=this.props.training_details;return Object(I.jsxs)("div",{children:[!0===this.state.display_tabs&&Object(I.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-2 w-full borde-b border-primary-600",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full",children:[Object(I.jsx)("div",{children:Object(I.jsx)("div",{onClick:function(){!1===e.state.loading&&e.props.onClose()},className:"h-11 w-11 flex items-center justify-center rounded-full bg-accent-400 text-accent-900 hover:bg-accent-500 hover:text-accent-900 cursor-pointer",children:Object(I.jsx)(o.a,{className:"text-2xl"})})}),Object(I.jsxs)("div",{className:"flex flex-col",children:[Object(I.jsx)("div",{className:"font-bold text-xl text-gray-00",children:t.title}),Object(I.jsx)("div",{className:"text-sm text-gray-500 font-normal",children:t.development_partner_name})]})]}),Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"flex flex-row items-center justify-end gap-0",children:[k.PARTICIPANTS,k.DETAILS,k.CRITERIA].map((function(t,s){return Object(I.jsx)("div",{onClick:function(){e.setState({selected_tab:t})},className:"rounded-t-md px-3 py-2 flex flex-row items-center gap-2 border-b-4 ".concat(t===e.state.selected_tab?"bg-white text-primary-700 border-primary-700 font-bold animate__animated animate__fadeIn":"hover:bg-primary-100 hover:border-primary-700  text-gray-700 hover:text-primary-700 bg-gray-10"," cursor-pointer"),children:Object(I.jsx)("div",{className:"truncate",children:t===k.PARTICIPANTS?"List of trainees":t===k.DETAILS?"Details":"Training criteria"})},s+1)}))})})]}),Object(I.jsx)(G.a,{selectedCohort:this.state.selectedCohort,setOpenSwitchSelectCohort:function(t){return e.setState({switchSelectedCohort:t,display_tabs:!0})},setSelectCohort:function(t){return e.setState({selectedCohort:t})},switchSelectedCohort:this.state.switchSelectedCohort}),!1===this.state.switchSelectedCohort?Object(I.jsxs)(I.Fragment,{children:[this.state.selected_tab===k.PARTICIPANTS&&Object(I.jsx)(R,{training:this.props.training_details,setDisplayTabs:this.setDisplayTabs,district_code:this.props.district_code,selected_cohort:this.state.selectedCohort,setSelectedCohort:function(t){return e.setState({selectedCohort:t})},participants:this.state.participants,setParticipants:function(t){return e.setState({participants:t})}}),this.state.selected_tab===k.DETAILS&&Object(I.jsx)(O.a,{training_details:this.props.training_details,onParticipants:function(){return e.setState({selected_tab:k.PARTICIPANTS})}}),this.state.selected_tab===k.CRITERIA&&Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 border-b border-gray-300 pb-3 mb-3",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)("div",{onClick:function(){return e.setState({selected_tab:k.DETAILS})},className:"bg-accent-400 hover:bg-accent-500 text-accent-900 rounded px-3 py-2 font-bold cursor-pointer w-max flex flex-row items-center gap-2",children:Object(I.jsx)("div",{children:"Back to details"})})}),Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"text-lg font-bold text-black",children:"Training criteria"}),Object(I.jsx)("div",{className:"text-sm text-gray-500",children:"List of training criteria that the system consider while choosing participants"})]})]}),Object(I.jsx)("div",{children:Object(I.jsx)(_.a,{onClick:function(){return e.setState({selected_tab:k.PARTICIPANTS})},theme:"accent",children:"View trainees"})})]}),Object(I.jsx)(f.a,{trainee_criteria:this.props.training_details.trainee_criteria})]})]}):Object(I.jsx)("div",{children:Object(I.jsx)(E.a,{cohortList:this.props.cohortList,onGoBack:function(){return e.setState({switchSelectedCohort:!1})},selectedCohort:this.state.selectedCohort,setSelectedCohort:function(t){return e.setState({selectedCohort:t,switchSelectedCohort:!1})}})})]})}}]),s}(l.Component),X=s(567),q=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).ValidateTrainingIsOnDistrictLevel=function(e){var t=e.filter((function(e){return void 0!==e.trainee_category.find((function(e){var t;return void 0!==(null===(t=e.roles)||void 0===t?void 0:t.find((function(e){return"DISTRICT"===e.access_level})))}))}));return t.length>0?t:[]},a.LoadAllTrainings=function(e){a.setState({loading:!0,selected_training:null}),Object(x.d)(a.state.district_code,e,(function(e,t){a.setState({loading:e}),null!==t&&"success"===t.type&&a.setState({trainings_list:null===t.data?[]:a.ValidateTrainingIsOnDistrictLevel(t.data),loading:!1,error:""}),null!==t&&"error"===t.type&&a.setState({trainings_list:[],error:t.msg,loading:!1})}))},a.state={loading:!1,selected_training:null,trainings_list:null,selected_status:x.l.INPROGRESS,search_value:"",error:"",district_code:null!==a.props.auth.district?a.props.auth.district.district_code:""},a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){null===this.state.trainings_list&&this.LoadAllTrainings(this.state.selected_status)}},{key:"render",value:function(){var e=this;return Object(I.jsx)(l.Fragment,{children:Object(I.jsxs)("div",{className:"container mx-auto p-3 relative",children:[Object(I.jsx)(b.a,{loading:this.state.loading,onChangeSearchValue:function(t){return e.setState({search_value:t.target.value})},onSelectTab:function(t){!1===e.state.loading&&(e.setState({selected_status:t,trainings_list:null}),e.LoadAllTrainings(t))},search_value:this.state.search_value,selected_status:this.state.selected_status}),Object(I.jsxs)("div",{className:"bg-white my-2 rounded px-3 py-3 flex flex-row items-center justify-between gap-2",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(I.jsx)("div",{children:Object(I.jsx)(d.g,{className:"text-2xl text-accent-900"})}),Object(I.jsxs)("div",{className:"text-gray-500 font-light",children:[Object(I.jsxs)("span",{className:"text-accent-900",children:[null!==this.props.auth.district?this.props.auth.district.district_name:"Not found"," ","district"]})," ","available trainings that can be assigned to trainees"]})]}),Object(I.jsx)("div",{children:Object(I.jsx)(h.r,{className:"text-xl"})})]}),""!==this.state.error&&Object(I.jsxs)("div",{onClick:function(){return e.setState({error:""})},className:"rounded px-3 py-2 bg-red-50 text-red-700 border border-white my-3 animate__animated animate__shakeX shadow flex flex-row items-center justify-between gap-2 cursor-pointer",children:[Object(I.jsx)("span",{children:this.state.error}),Object(I.jsx)("div",{children:Object(I.jsx)(h.r,{className:"text-xl"})})]}),null===this.state.trainings_list||!0===this.state.loading?Object(I.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white rounded-md p-6",children:[Object(I.jsx)(j.a,{}),Object(I.jsx)("div",{className:"text-center text-lg font-light",children:"Loading, please wait"})]}):0===this.state.trainings_list.length?Object(I.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white rounded-md p-6",children:[Object(I.jsx)("div",{className:"mb-2",children:Object(I.jsx)(o.g,{className:"text-6xl text-gray-300 animate__animated animate__shakeX"})}),Object(I.jsx)("div",{className:"text-xl font-bold",children:"No trainings available"}),Object(I.jsx)("div",{className:"text-sm",children:"No training offers available for this school's teachers"})]}):0===Object(u.u)(this.state.trainings_list,this.state.search_value).length?Object(I.jsx)("div",{className:"bg-white rounded-md p-3 py-5 text-center text-xl font-light animate__animated animate__fadeIn",children:Object(I.jsx)("span",{children:"No result found!"})}):Object(X.RemoveDuplicateTrainingRequests)(Object(u.u)(this.state.trainings_list,this.state.search_value)).map((function(t,s){return Object(I.jsx)(g.a,{i:s+1,item:t,onClick:function(s){return e.setState({selected_training:{training:t.training,cohort:s,cohort_list:t.trainingCohorts}})}},s+1)})),null!==this.state.selected_training&&Object(I.jsx)(m.a,{className:"p-3 px-4",children:Object(I.jsx)(F,{training_details:this.state.selected_training.training,selected_cohort:this.state.selected_training.cohort,onClose:function(){return e.setState({selected_training:null})},district_code:this.state.district_code,cohortList:this.state.selected_training.cohort_list})})]})})}}]),s}(l.Component),B=Object(p.b)((function(e){return{auth:e.auth,basic:e.basic}}),{})(q)}}]);
//# sourceMappingURL=82.c7586c6e.chunk.js.map