(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[37],{361:function(e,t,s){"use strict";s(4);var a=s(1);t.a=function(e){var t=function(){for(var t=[],s=0;s<e.cols;s++)t.push(s);return t.map((function(e){return Object(a.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(a.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},228),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},22648),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},229768)]})}},367:function(e,t,s){"use strict";s.d(t,"f",(function(){return l})),s.d(t,"d",(function(){return n})),s.d(t,"e",(function(){return o})),s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return u})),s.d(t,"c",(function(){return h}));var a,c,r,i=s(15),l=100;!function(e){e.GOVERNMENT_AIDED="GOVERNMENT_AIDED",e.PRIVATE="GOVERNMENT_AIDED",e.PUBLIC="PUBLIC"}(a||(a={})),function(e){e.EXIST="Exist",e.NEW="new"}(c||(c={})),function(e){e.role="role",e.district_name="district_name",e.full_name="full_name",e.phone_numbers="phone_numbers",e.email="email",e.sex="sex",e.dob="dob",e.marital_status="marital_status",e.nid="nid",e.passport="passport",e.position="position",e.specialization="specialization",e.qualification="qualification",e.status="status",e.school_code="school_code",e.school_name="school_name",e.school_category="school_category",e.school_status="school_status",e.subjects="subjects",e.grades="grades",e.date_in_school="date_in_school",e.date_of_hire="date_of_hire"}(r||(r={}));var n=[{key:r.full_name,title:"Staff Full Names",status:!0,isChangeAllowed:!0},{key:r.nid,title:"National ID",status:!0,isChangeAllowed:!1},{key:r.passport,title:"Passport Number",status:!0,isChangeAllowed:!0},{key:r.sex,title:"Sex",status:!0,isChangeAllowed:!0},{key:r.dob,title:"Date of Birth",status:!0,isChangeAllowed:!0},{key:r.marital_status,title:"Marital status",status:!0,isChangeAllowed:!0},{key:r.phone_numbers,title:"Staff Phone",status:!0,isChangeAllowed:!0},{key:r.email,title:"Staff Email",status:!0,isChangeAllowed:!0},{key:r.qualification,title:"Qualification",status:!0,isChangeAllowed:!0},{key:r.position,title:"Position",status:!0,isChangeAllowed:!0},{key:r.subjects,title:"Subjects",status:!0,isChangeAllowed:!0},{key:r.grades,title:"Grade (No of Group)",status:!0,isChangeAllowed:!0},{key:r.specialization,title:"Specialization",status:!0,isChangeAllowed:!0},{key:r.role,title:"Staff role",status:!0,isChangeAllowed:!0},{key:r.status,title:"Status",status:!0,isChangeAllowed:!0},{key:r.date_of_hire,title:"Date to hire",status:!0,isChangeAllowed:!0},{key:r.date_in_school,title:"Date in school",status:!0,isChangeAllowed:!0},{key:r.school_name,title:"School Name",status:!0,isChangeAllowed:!0},{key:r.school_code,title:"School Code",status:!0,isChangeAllowed:!0},{key:r.school_category,title:"School Category",status:!0,isChangeAllowed:!0},{key:r.school_status,title:"School Status",status:!0,isChangeAllowed:!0},{key:r.district_name,title:"District Name",status:!0,isChangeAllowed:!0}],o={system:["26","Admin"],country:["REB","4","RTB","300","MINECOFIN","27","26","Admin"],district:["DDE","3","Human Resource","25"],school:["Head Teacher","Teacher","2"]},d=function(e){return null===e?"":h(e)?Object(i.a)(e):e},u=function(e){var t="",s=[],a="",c={grade_names:[],grade_codes:[],courses:[],group:[]},r=0;if(e){var l=function(a){var l=e[a];if(s.includes(l.course_code)||(s.push(l.course_code),t+=Object(i.r)(t)?l.course_name:", "+l.course_name),c.grade_codes.includes(l.grade_code)){if(c.courses.findIndex((function(e){return e===l.course_code}))>=0){var n=c.courses.findIndex((function(e){return e===l.course_code}));c.group[n]+=JSON.parse(l.grade_group).length}}else c.grade_codes.push(l.grade_code),c.grade_names.push(l.grade_name),c.courses.push(l.course_code),c.group.push(Object(i.b)(JSON.parse(l.grade_group)));r+=Number(l.teaching_period)*JSON.parse(l.grade_group).length};for(var n in e)l(n);for(var o in c.courses)a+=Object(i.r)(a)?"".concat(c.grade_names[o]," (").concat(c.group[o],")"):", ".concat(c.grade_names[o]," (").concat(c.group[o],")")}return{courses:t,grades:a,periods:r.toString()}},h=function(e){if(null===e)return!1;var t=new Date(e);return!isNaN(t.getDate())}},575:function(e,t,s){"use strict";s.r(t),s.d(t,"_PlacementReport",(function(){return R})),s.d(t,"PlacementReport",(function(){return T}));var a=s(11),c=s(29),r=s(41),i=s(19),l=s(20),n=s(21),o=s(22),d=s(4),u=s(69),h=s(45),p=s(36),m=s(13),j=s(53),b=s(92),x=s(15),f=s(367),g=s(39),_=s(27),O=s(16),y=s(93),N=s(139),v=s(361),P=s(94),S=s(23),C=s(24),w=s(398),A=s(182),D=s(5),k=s(1),I=new Date,R=function(e){Object(n.a)(s,e);var t=Object(o.a)(s);function s(e){var l;return Object(i.a)(this,s),(l=t.call(this,e)).setDownloading=function(e){l.setState({downloading:e})},l.setSortProperty=function(e){l.setState({sortProperty:e})},l.setSortOrder=function(e){l.setState({sortOrder:e})},l.setSearchInput=function(e){l.setState({searchInput:e})},l.setReportTitle=function(e){l.setState({reportTitle:e})},l.setSelectAll=function(e){l.setState({selectAll:e})},l.setFormError=function(e){l.setState({formError:e})},l.setSort=function(e){l.state.sortProperty===e&&"ASC"===l.state.sortOrder?l.setSortOrder("DESC"):l.setSortOrder("ASC"),l.setSortProperty(e)},l.setGenerateReport=function(e){l.setState({generateReport:e})},l.setReportContent=function(e){l.setState({reportContent:e})},l.setCurrentPage=function(e){l.setState({currentPage:e})},l.loadDataFormAPI=function(e,t){l.props.auth.district&&l.props.auth.role&&null!==l.state.selected_district?Object(m.fb)(l.state.selected_district.district_code,t,e,(function(e,t,s){l.setState({loading:e,reportAPIData:null}),console.log("=================reportsss DISTRICT LEVEL ==================="),console.log({report:s}),console.log("=================reportsss DISTRICT LEVEL ==================="),!1===e&&null!==s?l.setState({reportAPIData:s}):e||Object(x.r)(t)||console.error({status:e,msg:t})})):l.props.auth.school&&l.props.auth.role?Object(m.gb)(l.props.auth.school.school_code,t,l.state.selectedMonth,(function(t,s,a){l.setState({loading:t,reportAPIData:null}),!1===t&&null!==a?l.setState({reportAPIData:a.filter((function(t){return t.month===e}))}):t||Object(x.r)(s)||console.error({status:t,msg:s})})):l.props.auth.role&&null!==l.state.selected_district&&!Object(x.r)(l.state.selected_district.district_code)&&Object(m.fb)(l.state.selected_district.district_code,t,e,(function(e,t,s){l.setState({loading:e,reportAPIData:null}),!1===e&&null!==s?l.setState({reportAPIData:s}):!e&&Object(x.r)(t)}))},l.loadCountryDataAPI=function(e,t,s){l.props.auth.role&&!Object(x.r)(s)&&Object(m.fb)(s,t,e,(function(e,t,s){l.setState({loading:e,reportAPIData:null}),!1===e&&null!==s?l.setState({reportAPIData:s}):!e&&Object(x.r)(t)}))},l.componentDidMount=function(){null!==l.state.districtList&&30===l.state.districtList.length||null===l.props.auth.role||Object(m.L)((function(e,t,s){l.setState({loading:!0,districtList:null}),!0===e?l.setState({loading:!1,districtList:t}):Object(x.r)(s)||l.setState({formError:{element:"main-error",msg:s},loading:!1})})),l.props.basic.academic_calender&&l.loadDataFormAPI(l.state.selectedMonth,l.props.basic.academic_calender.academic_year_id),null===l.props.placement.academics||0===l.props.placement.academics.length?l.props.FC_GetAcademics((function(e,t,s){l.setState({loadingAcademics:e})})):l.setState({loadingAcademics:!1}),l.setState({selected_district:l.props.auth.district})},l.updateDataToPrint=function(){if(l.props.auth.district&&null!==l.props.auth.role){var e="Placement Report / "+l.props.auth.district.district_name+" district";l.props.basic.academic_calender&&(e=e+" / "+l.props.basic.academic_calender.academic_year_name+" / Month of "+l.state.selectedMonth),l.setReportTitle(e)}else if(l.props.auth.school&&null!==l.props.auth.role){var t="Placement Report / "+l.props.auth.school.school_name+" school";l.props.basic.academic_calender&&(t=t+" / "+l.props.basic.academic_calender.academic_year_name+" / Month of "+l.state.selectedMonth),l.setReportTitle(t)}else if(l.props.auth.role&&l.state.districtList&&null!==l.state.selected_district){var s=Object(m.K)(l.state.districtList,l.state.selected_district.district_code),a="Placement Report / "+l.props.auth.role.role;a=s?a+" / "+s.district_name+" district":a,l.props.basic.academic_calender&&(a=a+" / "+l.props.basic.academic_calender.academic_year_name+" / Month of "+l.state.selectedMonth),l.setReportTitle(a)}var c=[],r=1,i=l.getUserList();if(i){for(var n in i){var o,d;null===(null===(o=i[n].location)||void 0===o?void 0:o.sector_name)&&console.log("Test loc: ",null===(d=i[n].location)||void 0===d?void 0:d.sector_name);var u={no:r,full_name:i[n].full_name?i[n].full_name:"",nid:i[n].nid?i[n].nid:"",passport:i[n].passport?i[n].passport:"",sex:i[n].sex?i[n].sex:"",dob:Object(f.c)(i[n].dob)?i[n].dob:"",marital_status:i[n].marital_status?i[n].marital_status:"",phone_numbers:i[n].phone_numbers?i[n].phone_numbers:"",email:i[n].email?i[n].email:"",qualification:i[n].qualification?i[n].qualification:"",position:i[n].position?i[n].position:"",subjects:Object(f.a)(i[n].teacher_hierarch).courses,grades:Object(f.a)(i[n].teacher_hierarch).grades,specialization:i[n].specialization?i[n].specialization:"",role:i[n].role?i[n].role:"",status:i[n].status?i[n].status:"",date_of_hire:void 0!==i[n].hired_date?Object(f.b)(i[n].hired_date):"",date_in_school:Object(f.c)(i[n].start_date_in_the_school)?i[n].start_date_in_the_school:"",school_name:i[n].school?Object(f.b)(i[n].school.school_name):"",school_code:i[n].school?Object(f.b)(i[n].school.school_code):"",school_category:i[n].school?Object(f.b)(i[n].school.school_category):"",school_status:i[n].school?Object(f.b)(i[n].school.school_status):"",district_name:i[n].location?Object(f.b)(i[n].location.district_name):"",sector_name:i[n].location&&null!==i[n].location.sector_name?Object(f.b)(i[n].location.sector_name):"",teaching_level:i[n].teaching_level_id?Object(f.b)(i[n].teaching_level_id||""):"",education_certificate:i[n].education_certificate_id?Object(f.b)(i[n].education_certificate_id||""):""};for(var h in l.state.reportContent)Object.prototype.hasOwnProperty.call(l.state.reportContent,h)&&(l.state.reportContent[h].status||delete u[l.state.reportContent[h].key]);c.push(u),r++}l.setState({reportToPrint:c}),c=[],r=1}},l.resetReportContent=function(e){var t=l.state.reportContent;for(var s in t)t[s].isChangeAllowed&&(t[s].status=!e);l.setReportContent(t),l.setSelectAll(!e),l.updateDataToPrint()},l.updateReportContent=function(e){var t=l.state.reportContent.findIndex((function(t){return t.key===e})),s=l.state.reportContent;s[t].status=!s[t].status,l.setReportContent(s),s.find((function(e){return!1===e.status}))?l.setSelectAll(!1):l.setSelectAll(!0),l.updateDataToPrint()},l.getUserList=function(){var e=[];if(null===l.state.reportAPIData)return null;var t=l.state.reportAPIData.filter((function(e){return e.month=l.state.selectedMonth}));for(var s in t){var a=JSON.parse(t[s].list),c=l.changeSchoolData(a,{name:t[s].school_name,code:t[s].school_code});e=[].concat(Object(r.a)(e),Object(r.a)(c))}return console.log("=================getUserList==================="),console.log({getUserList:e}),console.log("=================getUserList==================="),e},l.changeSchoolData=function(e,t){var s,r=[],i=Object(c.a)(e);try{for(i.s();!(s=i.n()).done;){var l=s.value,n=l.school;n&&(n.school_code=t.code,n.school_name=t.name),r.push(Object(a.a)(Object(a.a)({},l),{},{school:n}))}}catch(o){i.e(o)}finally{i.f()}return r},l.generatePages=function(e){var t=Math.ceil(e/l.state.tablePageLength),s=Array.from(Array(t+1-1).keys()).map((function(e){return 1+e})).slice(0,5);t>4&&l.state.currentPage>2&&(s=t-l.state.currentPage>1?[l.state.currentPage-2,l.state.currentPage-1,l.state.currentPage,l.state.currentPage+1,l.state.currentPage+2]:t-l.state.currentPage===1?[l.state.currentPage-3,l.state.currentPage-2,l.state.currentPage-1,l.state.currentPage,l.state.currentPage+1]:[l.state.currentPage-4,l.state.currentPage-3,l.state.currentPage-2,l.state.currentPage-1,l.state.currentPage]);var a=!1,c=!1,r=!1,i=!1;return t>1&&1!==l.state.currentPage&&(r=!0),t>1&&l.state.currentPage!==t&&(i=!0),t>3&&l.state.currentPage>3&&(a=!0),t>3&&l.state.currentPage!==t&&t-l.state.currentPage>2&&(c=!0),Object(k.jsxs)("div",{className:"flex text-gray-700",children:[a&&Object(k.jsx)("button",{className:"h-12 w-12 ml-1 flex justify-center items-center rounded-full bg-gray-100 hover:bg-gray-200 cursor-pointer",onClick:function(){return l.setCurrentPage(1)},children:Object(k.jsx)(P.b,{className:"w-6 h-6"})}),r&&Object(k.jsx)("button",{className:"h-12 w-12 ml-1 flex justify-center items-center rounded-full bg-gray-100 hover:bg-gray-200",onClick:function(){return l.setCurrentPage(l.state.currentPage-1)},children:Object(k.jsx)(P.d,{className:"w-6 h-6"})}),Object(k.jsx)("div",{className:"flex h-12 font-medium rounded-full mx-1 bg-gray-100",children:s.map((function(e,t){return Object(k.jsx)("button",{className:"w-12 md:flex justify-center items-center gap-2 rounded-full ".concat(l.state.currentPage===e?"bg-gray-600 hover:bg-gray-500 text-white cursor-auto":"hover:bg-gray-200"),disabled:l.state.currentPage===e,onClick:function(){l.setCurrentPage(e)},children:e},Math.random())}))}),i&&Object(k.jsx)("button",{className:"h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-100 hover:bg-gray-200 cursor-pointer",onClick:function(){l.setCurrentPage(l.state.currentPage+1)},children:Object(k.jsx)(P.e,{className:"w-6 h-6"})}),c&&Object(k.jsx)("button",{className:"h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-100 hover:bg-gray-200 cursor-pointer",onClick:function(){l.setCurrentPage(t)},children:Object(k.jsx)(P.c,{className:"w-6 h-6"})})]})},l.countTeacherByGender=function(e,t){return e.filter((function(e){return e.sex&&e.sex.toLocaleLowerCase()===t})).length},l.state={loading:!0,loadingAcademics:!1,downloading:!1,sortOrder:"ASC",sortProperty:"",searchInput:"",reportTitle:"",selectAll:!0,generateReport:!1,formError:null,reportContent:f.d,reportToPrint:null,selectedMonth:x.e[I.getMonth()],reportAPIData:null,currentPage:1,tablePageLength:f.f,selectedAcademic:l.props.basic.academic_calender?l.props.basic.academic_calender.academic_year_id:"",districtList:null,selected_district:e.auth.district,export_type:"Excel",openSelectDistrict:!1},l}return Object(l.a)(s,[{key:"render",value:function(){var e,t,s=this,a=this.getUserList();return null===this.state.selected_district?Object(k.jsx)("div",{className:"p-2 md:p-4",children:Object(k.jsxs)("div",{className:"flex flex-col items-center justify-center w-full text-center py-6 border border-primary-300 rounded-md",children:[Object(k.jsxs)("div",{className:"font-bold text-2xl",children:["Placement Report for"," ",Object(k.jsx)("span",{className:"text-base bg-primary-700 text-white px-1 rounded-md",children:null===(t=this.props.auth.district)||void 0===t?void 0:t.district_name})]}),Object(k.jsx)("div",{className:"text-gray-500 mb-3",children:"Click the following button to load the placement report"}),Object(k.jsx)(S.a,{onClick:function(){s.setState({selected_district:s.props.auth.district}),null!==s.props.auth.district&&s.loadCountryDataAPI(s.state.selectedMonth,s.state.selectedAcademic,s.props.auth.district.district_code)},children:"Load Report"})]})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(j.a,{children:[Object(k.jsxs)("section",{className:"flex flex-col sm:flex-row justify-between",children:[Object(k.jsxs)("div",{className:"px-3",children:[Object(k.jsxs)(b.a,{size:"lg",className:"",children:["Monthly Teacher Placement Report"," ",null===(e=this.state.selected_district)||void 0===e?void 0:e.district_name]}),Object(k.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 text-base",children:[Object(k.jsx)("span",{className:"text-gray-500",children:"Done on"}),Object(k.jsx)("p",{children:Object(x.a)(Date())})]})]}),Object(k.jsx)("div",{className:"px-3 float-right",children:Object(k.jsx)("div",{className:"float-right -mr-2 mt-2",children:Object(k.jsxs)("div",{className:"flex flex-row items-center justify-end font-bold",children:[Object(k.jsx)("span",{className:"",children:"Download:"}),Object(k.jsx)(S.a,{theme:this.state.loading||null===this.state.reportAPIData||0===this.state.reportAPIData.length?"default":"success",disabled:this.state.loading||null===this.state.reportAPIData||0===this.state.reportAPIData.length,className:"".concat(this.state.loading||null===this.state.reportAPIData||0===this.state.reportAPIData.length?"cursor-not-allowed":""," mx-3"),onClick:function(){s.setState({export_type:"Excel"}),s.updateDataToPrint(),s.setGenerateReport(!0)},children:Object(k.jsx)("div",{className:"flex flex-row items-center w-full gap-2",children:Object(k.jsx)("span",{children:"Excel format"})})})]})})})]}),Object(k.jsx)("section",{className:"flex flex-col sm:flex-row justify-between bg-accent-400 w-max rounded-md mx-2",children:Object(k.jsx)("div",{className:"px-3",children:null!==this.props.auth.role?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(b.a,{size:"sm",children:this.props.auth.school?this.props.auth.school.school_name:""}),Object(k.jsx)("p",{className:"opacity-50",children:this.props.auth.district?this.props.auth.district.district_name+" district":""})]}):null!==this.props.auth.role?Object(k.jsx)(b.a,{size:"sm",children:this.props.auth.district?this.props.auth.district.district_name+" district":""}):null!==this.props.auth.role&&Object(k.jsx)(b.a,{size:"sm",children:null!==this.props.auth.role?this.props.auth.role:""})})}),Object(k.jsxs)("div",{className:"border-t border-gray-400 mt-4 mb-1 flex flex-col md:flex-row items-center justify-between px-3 gap-2",children:[Object(k.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-2",children:[Object(k.jsx)("div",{className:"",children:Object(k.jsx)(N.a,{data:this.props.placement.academics?Object(r.a)(this.props.placement.academics.map((function(e){return{title:e.academic_year_name,value:e.academic_year_id}}))):[],error:"",name:"select_academic",onChange:function(e){s.setState({selectedAcademic:e.target.value}),s.loadDataFormAPI(s.state.selectedMonth,e.target.value)},label:"Select academic",placeholder:"Select academic",value:this.state.selectedAcademic,size:"sm",disabled:this.state.loadingAcademics||this.state.loading||null===this.props.placement.academics})}),null!==this.props.auth.role&&Object(D.c)(this.props.auth.role.access,D.b.ALLOW_SELECT_DISTRICT)&&Object(k.jsx)("div",{className:"",children:Object(k.jsx)(N.a,{data:this.state.districtList?[{title:"Select district",value:""}].concat(Object(r.a)(this.state.districtList.map((function(e){return{title:e.district_name,value:e.district_code}})))):[],error:"",name:"select_district",onChange:function(e){if(null!==s.state.districtList){var t=s.state.districtList.find((function(t){return t.district_code===e.target.value}));void 0!==t&&(s.setState({selected_district:t}),s.props.FC_SetAuthDistrict({district_code:t.district_code,district_name:t.district_name,province_code:t.district_code[0]}))}s.loadCountryDataAPI(s.state.selectedMonth,s.state.selectedAcademic,e.target.value)},label:"Select district",placeholder:"Select district",value:null===this.state.selected_district?"":this.state.selected_district.district_code,size:"sm",disabled:this.state.loadingAcademics||this.state.loading||null===this.state.districtList})}),Object(k.jsx)("div",{className:"",children:Object(k.jsx)(N.a,{data:Object(r.a)(x.e.map((function(e){return{title:e,value:e}}))),error:"",name:"select_month",onChange:function(e){s.setState({selectedMonth:e.target.value}),s.loadDataFormAPI(e.target.value,s.state.selectedAcademic)},label:"Select month",placeholder:"Select month",value:this.state.selectedMonth,size:"sm",disabled:this.state.loadingAcademics||this.state.loading||null===this.props.placement.academics})})]}),a&&Object(k.jsx)("div",{className:"py-1",children:Object(k.jsxs)("div",{className:"flex justify-between space-x-4 text-right",children:[Object(k.jsxs)("div",{className:"flex-1 rounded-lg px-3 py-1",children:[Object(k.jsx)("span",{className:"text-primary-800 mt-1",children:"Female"}),Object(k.jsx)("h2",{className:"text-4xl font-bold text-gray-800",children:Object(x.l)(this.countTeacherByGender(a,"female"))})]}),Object(k.jsxs)("div",{className:"flex-1 rounded-lg px-3 py-1",children:[Object(k.jsx)("span",{className:"text-primary-800 mt-1",children:"Male"}),Object(k.jsx)("h2",{className:"text-4xl font-bold text-gray-800",children:Object(x.l)(this.countTeacherByGender(a,"male"))})]}),Object(k.jsxs)("div",{className:"flex-1 rounded-lg px-3 py-1",children:[Object(k.jsx)("span",{className:"text-primary-800 mt-1",children:"Total"}),Object(k.jsx)("h2",{className:"text-4xl font-bold text-gray-800",children:Object(x.l)(a.length)})]})]})})]})]}),Object(k.jsxs)(j.a,{children:[Object(k.jsxs)("div",{className:"border border-t mt-2 mb-1 flex flex-col md:flex-row items-center px-3 rounded",children:[Object(k.jsx)("div",{className:"flex-1 pr-2",children:Object(k.jsx)(g.a,{label:"Search",name:"search",type:"search",onChange:function(e){return s.setSearchInput(e.target.value)},placeholder:"Search by names, codes,...",value:this.state.searchInput,disabled:!a||0===a.slice(this.state.currentPage-1,this.state.currentPage-1+this.state.tablePageLength).length,size:"sm",error:""})}),Object(k.jsx)("div",{className:"",children:Object(k.jsx)(N.a,{data:[{title:f.f.toString(),value:f.f},{title:(2*f.f).toString(),value:2*f.f},{title:(3*f.f).toString(),value:3*f.f},{title:(4*f.f).toString(),value:4*f.f},{title:(5*f.f).toString(),value:5*f.f}],error:"",name:"page_limit",onChange:function(e){return s.setState({tablePageLength:Number(e.target.value),currentPage:1})},label:"Show",placeholder:"page limit",value:this.state.tablePageLength,size:"sm"})})]}),Object(k.jsx)("div",{className:"w-full overflow-x-auto",children:Object(k.jsxs)("table",{className:"w-full shadow",id:"report_content",children:[Object(k.jsx)("thead",{className:"bg-white border-b-2 border-gray-300 text-gray-600 font-bold text-sm",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-2 py-2",children:"#"}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("staff_code")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Staff Code ",Object(k.jsx)(u.f,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("staff_nid")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Staff NID ",Object(k.jsx)(u.f,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("passport")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Passport ",Object(k.jsx)(u.f,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("full_name")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Names ",Object(k.jsx)(u.f,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("dob")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["DOB ",Object(k.jsx)(u.f,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("sex")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Sex ",Object(k.jsx)(u.f,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("qualification")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Qualification ",Object(k.jsx)(u.f,{})]})}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",children:"School"}),Object(k.jsx)("td",{className:"px-2 py-2 cursor-pointer",onClick:function(){return s.setSort("position")},children:Object(k.jsxs)("div",{className:"flex items-center gap-1",children:["Position ",Object(k.jsx)(u.f,{})]})})]})}),Object(k.jsx)("tbody",{children:this.state.loading?Object(k.jsx)(v.a,{cols:11}):null!==this.state.selected_district&&Object(x.r)(this.state.selected_district.district_code)&&this.props.auth.role?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:11,className:"px-2 py-2",children:Object(k.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(k.jsx)(h.e,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(k.jsx)("span",{className:"text-base font-bold",children:"Please select district to get data!"})]})})}):null===a?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:11,className:"px-2 py-2",children:Object(k.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(k.jsx)(h.e,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(k.jsx)("span",{className:"text-sm font-bold",children:"Something went wrong, try again!"})]})})}):0===Object(x.v)(a.slice(this.state.currentPage-1,this.state.currentPage-1+this.state.tablePageLength),this.state.searchInput).length?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:11,className:"px-2 py-2",children:Object(k.jsxs)("div",{className:"flex flex-col text-gray-400 items-center justify-center bg-gray-100 rounded py-10",children:[Object(k.jsx)(h.e,{className:"text-8xl text-gray-400 mb-2 animate__animated animate__shakeX"}),Object(k.jsx)("span",{className:"text-sm font-bold",children:"No result found! Please try to search again"})]})})}):Object(x.y)(!Object(x.r)(this.state.sortProperty),Object(x.v)(a.slice(this.state.currentPage-1,this.state.currentPage-1+this.state.tablePageLength),this.state.searchInput),this.state.sortProperty,this.state.sortOrder).map((function(e,t){return Object(k.jsxs)("tr",{className:"".concat(t%2!==0?"bg-gray-100":"bg-white"," text-gray-600 hover:bg-accent-100 hover:text-accent-700 border-b border-gray-300 hover:border-accent-500 text-sm"),children:[Object(k.jsx)("td",{className:"px-2 py-2",children:(s.state.currentPage-1)*s.state.tablePageLength+t+1}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.staff_code?e.staff_code:""}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.nid?e.nid:""}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.passport?e.passport:""}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.full_name?e.full_name:""}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.dob?e.dob:""}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.sex?e.sex:""}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.qualification?e.qualification:""}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.school?e.school.school_name:""}),Object(k.jsx)("td",{className:"px-2 py-2",children:e.position?e.position:""})]},t+1)}))})]})}),!this.state.loading&&Object(k.jsx)("div",{className:"flex flex-col items-center mt-3 mb-2 overflow-x-auto",children:a&&this.generatePages(a.length)})]}),this.state.generateReport&&Object(k.jsx)(_.d,{title:Object(k.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:["Excel"===this.state.export_type?Object(k.jsx)(w.a,{className:"text-5xl text-gray-900"}):Object(k.jsx)(C.m,{className:"text-5xl text-gray-900"}),Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)("span",{className:"font-bold text-2xl text-gray-900",children:"Generating Report contents"}),Object(k.jsx)("span",{className:"text-sm text-blue-600 font-normal",children:"Excel"===this.state.export_type?"Generating Excel Report":"Generating PDF Report"})]})]}),backDrop:!0,theme:_.c.default,close:function(){return s.setGenerateReport(!1)},backDropClose:!1,widthSizeClass:_.b.medium,displayClose:!0,padding:{title:!0},children:Object(k.jsxs)("div",{className:"px-6",children:[Object(k.jsxs)("div",{className:"my-2 text-base text-gray-700 sm:text-lg",children:[Object(k.jsx)(g.a,{disabled:this.state.loading,label:"Report title",name:"report_title",type:"text",value:this.state.reportTitle,placeholder:"Report title",className:"p-2",onChange:function(e){s.setFormError(null),s.setReportTitle(e.target.value)},error:this.state.formError&&"report_title"===this.state.formError.element?this.state.formError.msg:""}),Object(k.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(k.jsx)("label",{children:"Report content"}),Object(k.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-2 mt-2",children:[this.state.reportContent.map((function(e,t){return Object(k.jsxs)("div",{className:"flex items-center gap-1 ".concat(e.isChangeAllowed?"cursor-pointer":"cursor-not-allowed"),onClick:function(){return e.isChangeAllowed&&s.updateReportContent(e.key)},title:e.isChangeAllowed?"":"Required for every report!",children:[e.status?Object(k.jsx)(O.m,{className:"w-6 h-6 text-blue-700"}):Object(k.jsx)(O.n,{className:"w-6 h-6"}),Object(k.jsx)("span",{children:e.title})]},t)})),Object(k.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer ",title:" dfd",children:[Object(k.jsx)(O.m,{className:"w-6 h-6 text-blue-700"}),Object(k.jsx)("label",{children:"Sector name"})]}),Object(k.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer ",title:" dfd",children:[Object(k.jsx)(O.m,{className:"w-6 h-6 text-blue-700"}),Object(k.jsx)("label",{children:"Teaching level"})]}),Object(k.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer ",title:" dfd",children:[Object(k.jsx)(O.m,{className:"w-6 h-6 text-blue-700"}),Object(k.jsx)("label",{children:"sector"})]})]})]})]}),Object(k.jsxs)("div",{className:"flex justify-between mb-2 mt-4",children:[Object(k.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:function(){return s.resetReportContent(s.state.selectAll)},children:[this.state.selectAll?Object(k.jsx)(O.m,{className:"w-6 h-6 text-blue-700"}):Object(k.jsx)(O.n,{className:"w-6 h-6"}),Object(k.jsx)("span",{children:"Select all"})]}),!this.state.loading&&this.state.reportToPrint&&"Excel"===this.state.export_type&&Object(k.jsx)(y.a,{fileData:this.state.reportToPrint,fileName:this.state.reportTitle,btnName:"Download"}),!this.state.loading&&this.state.reportToPrint&&"PDF"===this.state.export_type&&Object(k.jsx)("div",{children:"Export to PDF"})]})]})}),!0===this.state.openSelectDistrict&&Object(k.jsx)(_.d,{title:Object(k.jsx)("div",{className:"flex flex-row gap-4 items-center",children:Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)("span",{className:"font-bold text-2xl text-gray-900",children:"Choose district"}),Object(k.jsx)("span",{className:"text-sm text-blue-600 font-normal",children:"Choose district you want to view placement report"})]})}),backDrop:!0,theme:_.c.default,close:function(){return s.setGenerateReport(!1)},backDropClose:!1,widthSizeClass:_.b.large,displayClose:!0,padding:{title:!0},children:Object(k.jsx)("div",{className:"px-3 pb-4",children:Object(k.jsx)(A.a,{districtList:this.state.districtList,selected_district_code:null===this.state.selected_district?"":this.state.selected_district.district_code,onSelect:function(e){s.setState({selected_district:e}),s.props.FC_SetAuthDistrict({district_code:e.district_code,district_name:e.district_name,province_code:e.district_code[0]}),s.loadCountryDataAPI(s.state.selectedMonth,s.state.selectedAcademic,e.district_code)}})})})]})}}]),s}(d.Component),T=Object(p.b)((function(e){return{auth:e.auth,basic:e.basic,placement:e.placement}}),{FC_GetPlacementByDistrict:m.Z,FC_GetAcademics:m.z,FC_SetAuthDistrict:m.kc})(R)}}]);
//# sourceMappingURL=37.3ef9ce0f.chunk.js.map