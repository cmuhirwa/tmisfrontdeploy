(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[22,28],{105:function(e,t,c){"use strict";c.d(t,"b",(function(){return r})),c.d(t,"a",(function(){return s}));var r,a,s,l=c(11),n=c(1);!function(e){e.default="default",e.primary="primary",e.secondary="secondary",e.danger="danger",e.success="success",e.warning="warning"}(r||(r={})),function(e){e.none="top-0",e.small="top-28",e.medium="top-1/3",e.large="top-1/2",e.extra="top-2/3"}(a||(a={})),function(e){e.small="max-w-sm",e.medium="max-w-screen-sm",e.large="max-w-screen-md",e.extraLarge="max-w-screen-lg",e.maxWidth="max-w-screen h-full"}(s||(s={}));t.c=function(e){var t,c=e.title,o=e.backDrop,i=e.theme,d=e.close,b=e.backDropClose,h=e.widthSizeClass,j=e.displayClose,u=e.padding,m=void 0===u?{title:!0,body:!0,footer:!0}:u;switch(i){case r.primary:t="blue-primary";break;case r.secondary:t="gray-300";break;case r.danger:t="red-500";break;case r.success:t="green-500";break;case r.warning:t="yellow-500";break;default:t="white"}return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{onClick:function(){return b&&d()},className:"fixed bg-black bg-opacity-".concat(!0===o?"60":"0"," h-full w-full left-0 top-0 z-50 animate__animated animate__fadeIn animate__faster")}),Object(n.jsxs)("div",{className:"fixed items-center justify-items-center ".concat(void 0===e.marginTop?a.none:e.marginTop," left-0 right-0 bottom-0 bg-white rounded shadow-xl self-center ").concat(h," animate__animated ").concat(void 0!==e.marginTop&&e.marginTop!==a.none?"animate__fadeInUp":"animate__zoomIn"," animate__faster"),style:{width:"100%",maxHeight:"99vh",height:"".concat(h===s.maxWidth?void 0===e.marginTop?"100%":"unset":"fit-content"),overflowY:"auto",margin:"auto",zIndex:99999999},children:[Object(n.jsxs)("div",{className:"flex justify-between bg-".concat(t," ").concat(!0===m.title?"py-4 px-4":""," rounded-t text-").concat(i===r.default||i===r.secondary?"black":"white"),children:[c&&""!==c?Object(n.jsx)("h4",{className:"text-lg font-bold ",children:c}):Object(n.jsx)("div",{}),!1===j?"":Object(n.jsx)("div",{className:"hover:text-red-600 hover:bg-red-100 rounded-full p-1 h-8 w-8",children:Object(n.jsx)(l.h,{className:"cursor-pointer font-extrabold text-2xl",onClick:function(){return d()}})})]}),Object(n.jsx)("div",{className:"space-x-3 ".concat(!0===m.body?"py-4 px-4":""),children:Object(n.jsx)("div",{children:""!==e.children?e.children:""})}),void 0!==e.footer&&""!==e.footer?Object(n.jsx)("div",{className:"flex float-right ".concat(!0===m.footer?"py-4 px-4":""),children:e.footer}):""]})]})}},132:function(e,t,c){"use strict";c.r(t),c.d(t,"FilteredData",(function(){return A})),c.d(t,"SubjectsList",(function(){return D}));var r=c(26),a=c(27),s=c(28),l=c(29),n=c(2),o=c(111),i=c(37),d=c(11),b=c(12),h=c(18),j=c(48),u=c(16),m=c(30),x=c(10),p=c(105),f=c(4),O=c(6),y=c(20),v=c(3),g=c.n(v),_=c(5),N=c.n(_),w=c(13),S=c(8),C=c(9),k=c(1);function H(e){var t=Object(n.useState)(e.data.course_code),c=Object(y.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(e.data.course_name),l=Object(y.a)(s,2),o=l[0],i=l[1],d=Object(n.useState)(e.data.teaching_period),b=Object(y.a)(d,2),h=b[0],j=b[1],u=Object(n.useState)(""),m=Object(y.a)(u,2),x=m[0],p=m[1],v=Object(n.useState)(!1),_=Object(y.a)(v,2),H=_[0],A=_[1],I=Object(n.useState)(null),D=Object(y.a)(I,2),F=D[0],T=D[1],L=function(){var t=Object(O.a)(g.a.mark((function t(c){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),T(null),""!==r){t.next=4;break}return t.abrupt("return",T({element:"course_code",msg:"Please fill course code"}));case 4:if(""!==o){t.next=6;break}return t.abrupt("return",T({element:"course_name",msg:"Please fill course name"}));case 6:if(""!==h){t.next=8;break}return t.abrupt("return",T({element:"periods",msg:"Please fill teaching periods"}));case 8:return A(!0),Object(S.a)(),t.prev=10,t.next=13,N.a.post("".concat(w.c,"/hierarch/upperiod"),{studyhierarchyid:e.data.studyhierarchyid,course_code:r,course_name:o,teaching_period:parseInt(h)});case 13:200===t.sent.status&&(e.reload(),A(!1),p("Subject updated successfully!")),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(10),console.log("Erro: ",Object(f.a)({},t.t0)),T({element:"main",msg:Object(C.a)(t.t0)}),A(!1);case 22:case"end":return t.stop()}}),t,null,[[10,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"py-3",children:[Object(k.jsxs)("div",{className:"bg-blue-100 rounded p-3 flex flex-col gap-2 mb-3",children:[Object(k.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(k.jsx)("span",{className:"text-gray-800",children:"School level:"}),Object(k.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.level_code,") ",e.data.level_name]})]}),Object(k.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(k.jsx)("span",{className:"text-gray-800",children:"Combination:"}),Object(k.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.combination_code,") ",e.data.combination_name]})]}),Object(k.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(k.jsx)("span",{className:"text-gray-800",children:"Grade:"}),Object(k.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.grade_code,") ",e.data.grade_name]})]})]}),Object(k.jsxs)("form",{onSubmit:L,children:[Object(k.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(k.jsx)("span",{children:"Course code"}),Object(k.jsx)("input",{type:"text",value:r,onChange:function(e){a(e.target.value)},className:"border ".concat(null!==F&&"course_code"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill course code",disabled:H}),null!==F&&"course_code"===F.element&&Object(k.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),Object(k.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(k.jsx)("span",{children:"Course name"}),Object(k.jsx)("input",{type:"text",value:o,onChange:function(e){i(e.target.value)},className:"border ".concat(null!==F&&"course_name"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill course name",disabled:H}),null!==F&&"course_name"===F.element&&Object(k.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),Object(k.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(k.jsx)("span",{children:"Periods"}),Object(k.jsx)("input",{type:"number",value:h,onChange:function(e){j(e.target.value)},className:"border ".concat(null!==F&&"periods"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill number of periods",disabled:H}),null!==F&&"periods"===F.element&&Object(k.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),null!==F&&"main"===F.element&&Object(k.jsx)("div",{onClick:function(){return T(null)},className:"cursor-pointer text-red-600 font-bold text-base bg-red-100 rounded px-3 py-2",children:F.msg}),""!==x&&Object(k.jsx)("div",{onClick:function(){return p("")},className:"cursor-pointer text-green-600 font-bold text-base bg-green-100 rounded px-3 py-2",children:x}),Object(k.jsxs)("div",{className:"flex flex-row justify-between items-center gap-3 mb-3 mt-3",children:[Object(k.jsx)("div",{}),Object(k.jsx)("button",{type:"submit",className:"flex items-center justify-center px-3 py-2 rounded cursor-pointer bg-primary-800 text-white font-bold hover:bg-blue-500",disabled:H,children:"Update subject"})]})]})]})}var A=function(e,t,c){var r=e;return null!==r?(null!==t&&""!==t&&(r=r.filter((function(e){return e.level_code===t}))),null!==c&&(r=r.filter((function(e){return e.combination_code===c}))),r):[]},I=function(e){Object(s.a)(c,e);var t=Object(l.a)(c);function c(e){var a;return Object(r.a)(this,c),(a=t.call(this,e)).componentDidMount=function(){null===a.props.schoolHierarchyStore.hierarchy&&(a.setState({loading:!0}),a.props.FC_AllSchoolHierarchyDetails((function(e,t){!0===e&&a.setState({loading:!1})})))},a.state={selected_level_code:null,filter_by_combination:!1,selected_combination_code:null,search_comb:"",addedSubjects:[],loading:!1,success:"",error:"",ediSubject:null},a}return Object(a.a)(c,[{key:"render",value:function(){var e,t,c=this;return Object(k.jsxs)(n.Fragment,{children:[Object(k.jsx)(m.a,{children:Object(k.jsxs)("div",{className:"bg-white rounded-md z-50 w-full h-full overflow-auto",children:[Object(k.jsxs)("div",{className:"rounded-t-md flex flex-row items-center justify-between gap-4 py-2 border-b border-gray-400",children:[Object(k.jsxs)("div",{className:"text-xl font-bold ml-2 uppercase mt-2",children:["List of subjects (",null===(e=this.props.schoolHierarchyStore.hierarchy)||void 0===e?void 0:e.length,")"]}),Object(k.jsxs)(x.b,{to:"/hierarchy-add-subject",className:"flex items-center justify-center py-2 px-3 rounded bg-gray-100 text-2xl hover:bg-blue-100 hover:text-primary-800 cursor-pointer",title:"Close window",children:[Object(k.jsx)(d.b,{}),Object(k.jsx)("span",{className:"text-base",children:"Add subject"})]})]}),Object(k.jsx)("div",{className:"",children:Object(k.jsx)("div",{className:"",children:Object(k.jsx)("div",{className:"mb-10",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"mt-4",children:[Object(k.jsx)("div",{children:"Filter by"}),Object(k.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(k.jsxs)("select",{onChange:function(e){return c.setState({selected_level_code:e.target.value})},value:null===this.state.selected_level_code?"":this.state.selected_level_code,className:"border border-gray-400 rounded px-3 py-2",children:[Object(k.jsx)("option",{value:"",children:"Choose education level"}),Object(k.jsx)("option",{value:"",children:"Show all levels"}),this.props.schoolHierarchyStore.hierarchy&&Object(b.A)(this.props.schoolHierarchyStore.hierarchy,{type:b.X.SCHOOL_LEVELS,status:!0}).levels.map((function(e,t){return Object(k.jsx)("option",{value:e.level_code,children:e.level_name},t+1)}))]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{onClick:function(){return c.setState({filter_by_combination:!c.state.filter_by_combination})},className:"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[null===this.state.selected_combination_code?Object(k.jsx)("span",{children:"All- Click to filter by combination"}):Object(k.jsx)("span",{children:this.props.schoolHierarchyStore.hierarchy&&(null===(t=Object(b.A)(this.props.schoolHierarchyStore.hierarchy,{type:b.X.COMBINATIONS,status:!0}).combinations.find((function(e){return e.combination_code===c.state.selected_combination_code})))||void 0===t?void 0:t.combination_name)}),Object(k.jsx)("div",{className:"-mr-3",children:!0===this.state.filter_by_combination?Object(k.jsx)(d.h,{}):Object(k.jsx)(i.a,{})})]}),!0===this.state.filter_by_combination&&Object(k.jsxs)("div",{className:"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl",children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"flex flex-row items-center w-full justify-between gap-2",children:[Object(k.jsx)("input",{value:this.state.search_comb,onChange:function(e){return c.setState({search_comb:e.target.value})},placeholder:"Search...",type:"text",className:"border border-gray-400 rounded px-3 py-2 text-sm w-full"}),Object(k.jsx)("div",{children:Object(k.jsx)("div",{onClick:function(){return c.setState({filter_by_combination:!1})},className:"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white",children:Object(k.jsx)(d.h,{})})})]}),null!==this.state.selected_combination_code&&Object(k.jsxs)("div",{onClick:function(){c.setState({selected_combination_code:null,filter_by_combination:!1})},className:"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full",children:[Object(k.jsx)("div",{children:Object(k.jsx)(o.a,{className:"text-xl"})}),Object(k.jsx)("span",{children:"Click to view all"})]})]}),Object(k.jsx)("div",{className:"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn",style:{minWidth:"28rem"},children:0===Object(h.f)(this.props.schoolHierarchyStore.hierarchy&&Object(b.A)(this.props.schoolHierarchyStore.hierarchy,{type:b.X.COMBINATIONS,status:!0}).combinations,this.state.search_comb).length?Object(k.jsx)("div",{className:"text-center text-lg font-bold p-5 px-10 text-gray-500",children:"No result found!"}):this.props.schoolHierarchyStore.hierarchy&&Object(h.f)(Object(b.A)(this.props.schoolHierarchyStore.hierarchy,{type:b.X.COMBINATIONS,status:!0}).combinations,this.state.search_comb).map((function(e,t){return Object(k.jsxs)("div",{className:"w-full flex flex-row items-center border-b ".concat(c.state.selected_combination_code===e.combination_code?"border-yellow-100 bg-yellow-100 font-bold":"border-gray-200"," py-1 gap-4 hover:bg-yellow-100 cursor-pointer"),onClick:function(){c.setState({selected_combination_code:e.combination_code,filter_by_combination:!1})},children:[Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold",children:t+1})}),Object(k.jsx)("div",{children:e.combination_name})]},t+1)}))})]})]})]})]})}),Object(k.jsx)("div",{className:"bg-white rounded border border-gray-200",children:Object(k.jsx)("div",{className:"w-full overflow-x-auto",children:Object(k.jsxs)("table",{className:"min-w-full text-left",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"font-semibold border-b text-base",children:[Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-center",children:"#"}),Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Subject"}),Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Level"}),Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Combination"}),Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Grade"}),Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Periods"}),Object(k.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-right",children:"Action"})]})}),Object(k.jsx)("tbody",{className:"text-sm",children:null===this.props.schoolHierarchyStore.hierarchy?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:7,children:Object(k.jsx)("div",{className:"flex w-full items-center justify-center py-3",children:Object(k.jsx)(j.a,{})})})}):0===A(this.props.schoolHierarchyStore.hierarchy,this.state.selected_level_code,this.state.selected_combination_code).length?Object(k.jsx)("td",{colSpan:7,children:Object(k.jsx)("div",{className:"text-lg p-3 text-center",children:"No result found"})}):A(this.props.schoolHierarchyStore.hierarchy,this.state.selected_level_code,this.state.selected_combination_code).map((function(e,t){return Object(k.jsxs)("tr",{className:"text-gray-500 group",children:[Object(k.jsx)("td",{className:"p-2 border-b text-center",children:t+1}),Object(k.jsxs)("td",{className:"p-2 border-b",children:[e.course_code,"-",e.course_name]}),Object(k.jsx)("td",{className:"p-2 border-b",children:e.level_name}),Object(k.jsx)("td",{className:"p-2 border-b",children:e.combination_name}),Object(k.jsx)("td",{className:"p-2 border-b",children:e.grade_name}),Object(k.jsx)("td",{className:"p-2 border-b",children:e.teaching_period}),Object(k.jsx)("td",{className:"p-2 border-b",children:Object(k.jsx)("div",{className:"flex flex-row items-center justify-end",children:Object(k.jsx)("div",{onClick:function(){return c.setState({ediSubject:e})},className:"px-3 py-1 rounded bg-blue-100 group-hover:bg-primary-800 cursor-pointer text-black font-bold group-hover:text-white",children:"Edit"})})})]},t+1)}))})]})})})]})})})})]})}),null!==this.state.ediSubject&&Object(k.jsx)(p.c,{title:"Update subject",backDrop:!0,theme:p.b.default,close:function(){return c.setState({ediSubject:null})},backDropClose:!0,widthSizeClass:p.a.medium,displayClose:!0,padding:{title:!0,body:!1},children:Object(k.jsx)("div",{className:"border-t border-gray-400 px-3",children:Object(k.jsx)(H,{data:this.state.ediSubject,reload:function(){c.setState({loading:!0}),c.props.FC_AllSchoolHierarchyDetails((function(e,t){!0===e&&c.setState({loading:!1})}))}})})})]})}}]),c}(n.Component),D=Object(u.b)((function(e){return{auth:e.auth,basic:e.basic,schoolHierarchyStore:e.schoolHierarchyStore}}),{FC_AllSchoolHierarchyDetails:b.c})(I)},165:function(e,t,c){"use strict";c.r(t),c.d(t,"AddNewSubject",(function(){return D}));var r=c(26),a=c(27),s=c(28),l=c(29),n=c(2),o=c(111),i=c(37),d=c(11),b=c(12),h=c(18),j=c(48),u=c(16),m=c(30),x=c(10),p=c(132),f=c(105),O=c(4),y=c(6),v=c(20),g=c(3),_=c.n(g),N=c(5),w=c.n(N),S=c(13),C=c(8),k=c(9),H=c(1);function A(e){var t=Object(n.useState)(""),c=Object(v.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(""),l=Object(v.a)(s,2),o=l[0],i=l[1],d=Object(n.useState)("1"),b=Object(v.a)(d,2),h=b[0],j=b[1],u=Object(n.useState)(""),m=Object(v.a)(u,2),x=m[0],p=m[1],f=Object(n.useState)(!1),g=Object(v.a)(f,2),N=g[0],A=g[1],I=Object(n.useState)(null),D=Object(v.a)(I,2),F=D[0],T=D[1],L=function(){var t=Object(y.a)(_.a.mark((function t(c){var s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),T(null),""!==r){t.next=4;break}return t.abrupt("return",T({element:"course_code",msg:"Please fill course code"}));case 4:if(""!==o){t.next=6;break}return t.abrupt("return",T({element:"course_name",msg:"Please fill course name"}));case 6:if(""!==h){t.next=8;break}return t.abrupt("return",T({element:"periods",msg:"Please fill teaching periods"}));case 8:return A(!0),Object(C.a)(),console.log({level_code:e.data.level_code,level_name:e.data.level_name,combination_code:e.data.combination_code,combination_name:e.data.combination_name,grade_code:e.data.grade_code,grade_name:e.data.grade_name,course_code:r,course_name:o,teaching_period:parseInt(h)}),t.prev=11,t.next=14,w.a.post("".concat(S.c,"/hierarch/create"),{level_code:e.data.level_code,level_name:e.data.level_name,combination_code:e.data.combination_code,combination_name:e.data.combination_name,grade_code:e.data.grade_code,grade_name:e.data.grade_name,course_code:r,course_name:o,teaching_period:parseInt(h)});case 14:s=t.sent,console.log("Res: ",s),200===s.status&&(a(""),i(""),j(""),e.reload(),A(!1),p("Subject added successfully!")),t.next=24;break;case 19:t.prev=19,t.t0=t.catch(11),console.log("Erro: ",Object(O.a)({},t.t0)),T({element:"main",msg:Object(k.a)(t.t0)}),A(!1);case 24:case"end":return t.stop()}}),t,null,[[11,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(H.jsxs)("div",{className:"py-3",children:[Object(H.jsxs)("div",{className:"bg-blue-100 rounded p-3 flex flex-col gap-2 mb-3",children:[Object(H.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(H.jsx)("span",{className:"text-gray-800",children:"School level:"}),Object(H.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.level_code,") ",e.data.level_name]})]}),Object(H.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(H.jsx)("span",{className:"text-gray-800",children:"Combination:"}),Object(H.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.combination_code,") ",e.data.combination_name]})]}),Object(H.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(H.jsx)("span",{className:"text-gray-800",children:"Grade:"}),Object(H.jsxs)("span",{className:"text-primary-800 font-bold",children:["(",e.data.grade_code,") ",e.data.grade_name]})]})]}),Object(H.jsxs)("form",{onSubmit:L,children:[Object(H.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(H.jsx)("span",{children:"Course code"}),Object(H.jsx)("input",{type:"text",value:r,onChange:function(e){a(e.target.value)},className:"border ".concat(null!==F&&"course_code"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill course code",disabled:N}),null!==F&&"course_code"===F.element&&Object(H.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),Object(H.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(H.jsx)("span",{children:"Course name"}),Object(H.jsx)("input",{type:"text",value:o,onChange:function(e){i(e.target.value)},className:"border ".concat(null!==F&&"course_name"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill course name",disabled:N}),null!==F&&"course_name"===F.element&&Object(H.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),Object(H.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(H.jsx)("span",{children:"Periods"}),Object(H.jsx)("input",{type:"number",value:h,onChange:function(e){j(e.target.value)},className:"border ".concat(null!==F&&"periods"===F.element?"border-red-600":"border-gray-300"," px-3 py-2 w-full rounded"),placeholder:"Fill number of periods",disabled:N}),null!==F&&"periods"===F.element&&Object(H.jsx)("div",{className:"text-red-600 font-bold text-base",children:F.msg})]}),null!==F&&"main"===F.element&&Object(H.jsx)("div",{onClick:function(){return T(null)},className:"cursor-pointer text-red-600 font-bold text-base bg-red-100 rounded px-3 py-2",children:F.msg}),""!==x&&Object(H.jsx)("div",{onClick:function(){return p("")},className:"cursor-pointer text-green-600 font-bold text-base bg-green-100 rounded px-3 py-2",children:x}),Object(H.jsxs)("div",{className:"flex flex-row justify-between items-center gap-3 mb-3 mt-3",children:[Object(H.jsx)("div",{}),Object(H.jsx)("button",{type:"submit",className:"flex items-center justify-center px-3 py-2 rounded cursor-pointer bg-primary-800 text-white font-bold hover:bg-blue-500",disabled:N,children:"Add subject"})]})]})]})}var I=function(e){Object(s.a)(c,e);var t=Object(l.a)(c);function c(e){var a;return Object(r.a)(this,c),(a=t.call(this,e)).componentDidMount=function(){null===a.props.schoolHierarchyStore.hierarchy&&(a.setState({loading:!0}),a.props.FC_AllSchoolHierarchyDetails((function(e,t){!0===e&&a.setState({loading:!1})})))},a.state={selected_level_code:null,filter_by_combination:!1,selected_combination_code:null,search_comb:"",addedSubjects:[],loading:!1,success:"",error:"",addSubject:null},a}return Object(a.a)(c,[{key:"render",value:function(){var e,t,c=this;return Object(H.jsxs)(n.Fragment,{children:[Object(H.jsx)(m.a,{children:Object(H.jsxs)("div",{className:"bg-white rounded-md z-50 w-full h-full overflow-auto",children:[Object(H.jsxs)("div",{className:"rounded-t-md flex flex-row items-center justify-between gap-4 py-2 border-b border-gray-400",children:[Object(H.jsxs)("div",{className:"text-xl font-bold ml-2 uppercase mt-2",children:["Choose subject to edit (",null===(e=this.props.schoolHierarchyStore.hierarchy)||void 0===e?void 0:e.length,")"]}),Object(H.jsxs)(x.b,{to:"/hierarchy-subjects-list",className:"flex items-center justify-center py-2 px-3 rounded bg-gray-100 text-2xl hover:bg-blue-100 hover:text-primary-800 cursor-pointer gap-2",title:"Close window",children:[Object(H.jsx)(d.o,{}),Object(H.jsx)("span",{className:"text-base",children:"Subjects list"})]})]}),Object(H.jsx)("div",{className:"",children:Object(H.jsx)("div",{className:"",children:Object(H.jsx)("div",{className:"mb-10",children:Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{className:"mb-5",children:Object(H.jsxs)("div",{className:"mt-4",children:[Object(H.jsx)("div",{children:"Filter by"}),Object(H.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(H.jsxs)("select",{onChange:function(e){return c.setState({selected_level_code:e.target.value})},value:null===this.state.selected_level_code?"":this.state.selected_level_code,className:"border border-gray-400 rounded px-3 py-2",children:[Object(H.jsx)("option",{value:"",children:"Choose education level"}),Object(H.jsx)("option",{value:"",children:"Show all levels"}),this.props.schoolHierarchyStore.hierarchy&&Object(b.A)(this.props.schoolHierarchyStore.hierarchy,{type:b.X.SCHOOL_LEVELS,status:!0}).levels.map((function(e,t){return Object(H.jsx)("option",{value:e.level_code,children:e.level_name},t+1)}))]}),Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{onClick:function(){return c.setState({filter_by_combination:!c.state.filter_by_combination})},className:"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[null===this.state.selected_combination_code?Object(H.jsx)("span",{children:"All- Click to filter by combination"}):Object(H.jsx)("span",{children:this.props.schoolHierarchyStore.hierarchy&&(null===(t=Object(b.A)(this.props.schoolHierarchyStore.hierarchy,{type:b.X.COMBINATIONS,status:!0}).combinations.find((function(e){return e.combination_code===c.state.selected_combination_code})))||void 0===t?void 0:t.combination_name)}),Object(H.jsx)("div",{className:"-mr-3",children:!0===this.state.filter_by_combination?Object(H.jsx)(d.h,{}):Object(H.jsx)(i.a,{})})]}),!0===this.state.filter_by_combination&&Object(H.jsxs)("div",{className:"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl",children:[Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"flex flex-row items-center w-full justify-between gap-2",children:[Object(H.jsx)("input",{value:this.state.search_comb,onChange:function(e){return c.setState({search_comb:e.target.value})},placeholder:"Search...",type:"text",className:"border border-gray-400 rounded px-3 py-2 text-sm w-full"}),Object(H.jsx)("div",{children:Object(H.jsx)("div",{onClick:function(){return c.setState({filter_by_combination:!1})},className:"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white",children:Object(H.jsx)(d.h,{})})})]}),null!==this.state.selected_combination_code&&Object(H.jsxs)("div",{onClick:function(){c.setState({selected_combination_code:null,filter_by_combination:!1})},className:"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full",children:[Object(H.jsx)("div",{children:Object(H.jsx)(o.a,{className:"text-xl"})}),Object(H.jsx)("span",{children:"Click to view all"})]})]}),Object(H.jsx)("div",{className:"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn",style:{minWidth:"28rem"},children:0===Object(h.f)(this.props.schoolHierarchyStore.hierarchy&&Object(b.A)(this.props.schoolHierarchyStore.hierarchy,{type:b.X.COMBINATIONS,status:!0}).combinations,this.state.search_comb).length?Object(H.jsx)("div",{className:"text-center text-lg font-bold p-5 px-10 text-gray-500",children:"No result found!"}):this.props.schoolHierarchyStore.hierarchy&&Object(h.f)(Object(b.A)(this.props.schoolHierarchyStore.hierarchy,{type:b.X.COMBINATIONS,status:!0}).combinations,this.state.search_comb).map((function(e,t){return Object(H.jsxs)("div",{className:"w-full flex flex-row items-center border-b ".concat(c.state.selected_combination_code===e.combination_code?"border-yellow-100 bg-yellow-100 font-bold":"border-gray-200"," py-1 gap-4 hover:bg-yellow-100 cursor-pointer"),onClick:function(){c.setState({selected_combination_code:e.combination_code,filter_by_combination:!1})},children:[Object(H.jsx)("div",{children:Object(H.jsx)("div",{className:"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold",children:t+1})}),Object(H.jsx)("div",{children:e.combination_name})]},t+1)}))})]})]})]})]})}),Object(H.jsx)("div",{className:"bg-white rounded border border-gray-200",children:Object(H.jsx)("div",{className:"w-full overflow-x-auto",children:Object(H.jsxs)("table",{className:"min-w-full text-left",children:[Object(H.jsx)("thead",{children:Object(H.jsxs)("tr",{className:"font-semibold border-b text-base",children:[Object(H.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-center",children:"#"}),Object(H.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Level"}),Object(H.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Combination"}),Object(H.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Grade"}),Object(H.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Periods"}),Object(H.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-right",children:"Action"})]})}),Object(H.jsx)("tbody",{className:"text-sm",children:null===this.props.schoolHierarchyStore.hierarchy?Object(H.jsx)("tr",{children:Object(H.jsx)("td",{colSpan:7,children:Object(H.jsx)("div",{className:"flex w-full items-center justify-center py-3",children:Object(H.jsx)(j.a,{})})})}):0===Object(p.FilteredData)(this.props.schoolHierarchyStore.hierarchy,this.state.selected_level_code,this.state.selected_combination_code).length?Object(H.jsx)("td",{colSpan:7,children:Object(H.jsx)("div",{className:"text-lg p-3 text-center",children:"No result found"})}):Object(p.FilteredData)(this.props.schoolHierarchyStore.hierarchy,this.state.selected_level_code,this.state.selected_combination_code).map((function(e,t){return Object(H.jsxs)("tr",{className:"text-gray-500 group",children:[Object(H.jsx)("td",{className:"p-2 border-b text-center",children:t+1}),Object(H.jsx)("td",{className:"p-2 border-b",children:e.level_name}),Object(H.jsx)("td",{className:"p-2 border-b",children:e.combination_name}),Object(H.jsx)("td",{className:"p-2 border-b",children:e.grade_name}),Object(H.jsx)("td",{className:"p-2 border-b",children:e.teaching_period}),Object(H.jsx)("td",{className:"p-2 border-b",children:Object(H.jsx)("div",{className:"flex flex-row items-center justify-end",children:Object(H.jsx)("div",{onClick:function(){return c.setState({addSubject:e})},className:"px-3 py-1 rounded bg-blue-100 group-hover:bg-primary-800 cursor-pointer text-black font-bold group-hover:text-white",children:"Add subject"})})})]},t+1)}))})]})})})]})})})})]})}),null!==this.state.addSubject&&Object(H.jsx)(f.c,{title:"Add new subject",backDrop:!0,theme:f.b.default,close:function(){return c.setState({addSubject:null})},backDropClose:!0,widthSizeClass:f.a.medium,displayClose:!0,padding:{title:!0,body:!1},children:Object(H.jsx)("div",{className:"border-t border-gray-400 px-3",children:Object(H.jsx)(A,{data:this.state.addSubject,reload:function(){c.setState({loading:!0}),c.props.FC_AllSchoolHierarchyDetails((function(e,t){!0===e&&c.setState({loading:!1})}))}})})})]})}}]),c}(n.Component),D=Object(u.b)((function(e){return{auth:e.auth,basic:e.basic,schoolHierarchyStore:e.schoolHierarchyStore}}),{FC_AllSchoolHierarchyDetails:b.c})(I)}}]);
//# sourceMappingURL=22.f35c70eb.chunk.js.map