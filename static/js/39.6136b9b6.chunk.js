(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[39],{425:function(e,t,c){"use strict";c.d(t,"a",(function(){return k}));var r=c(4),s=c(8),a=c(33),l=c(28),n=c(29),o=c(30),i=c(31),d=c(3),b=c(72),h=c(17),j=c(351),u=c(16),x=c(23),m=c(48),f=c(41),p=c(32),O=c(7),y=c(9),v=c.n(y),g=c(338),_=c(14),N=c(2),w=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,c,s){var a,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",alert("Please select atleast one subject"));case 2:return a=t.map((function(e){return{school_code:c,shool_hierarch_id:e.studyhierarchyid}})),s(!1,""),e.prev=4,e.next=7,v.a.post("".concat(_.d,"/schoolhierarch/create"),a);case 7:l=e.sent,s(!0,"School subjects has added successfully!"),console.log("Success: ",l),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),s(!0,""),console.log("Err: ",Object(O.a)({},e.t0));case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,c,r){return e.apply(this,arguments)}}(),S=function(e){var t,c=Object(d.useState)(null),r=Object(p.a)(c,2),s=r[0],a=r[1],l=Object(d.useState)(!1),n=Object(p.a)(l,2),o=n[0],i=n[1],m=Object(d.useState)(null),O=Object(p.a)(m,2),y=O[0],v=O[1],_=Object(d.useState)(""),S=Object(p.a)(_,2),C=S[0],H=S[1],I=Object(d.useState)([]),A=Object(p.a)(I,2),L=A[0],F=A[1],P=Object(d.useState)(!1),M=Object(p.a)(P,2),T=M[0],z=M[1],E=Object(d.useState)(""),B=Object(p.a)(E,2),D=B[0],R=B[1],G=Object(d.useState)(""),J=Object(p.a)(G,2),V=J[0],U=J[1],W=Object(d.useState)(""),q=Object(p.a)(W,2),K=q[0],Q=q[1],X=function(){var t=e.school_hierarchy_data;return null!==t?(null!==s&&""!==s&&(t=t.filter((function(e){return e.level_code===s}))),null!==y&&(t=t.filter((function(e){return e.combination_code===y}))),t):[]};return Object(N.jsxs)("div",{className:"fixed bg-black bg-opacity-50 top-0 left-0 w-full h-full z-50 flex items-center justify-center animate__animated animate__fadeIn animate__faster",children:[Object(N.jsxs)("div",{className:"bg-white rounded-md animate__animated animate__zoomIn animate__faster z-50 w-full h-full overflow-auto",children:[Object(N.jsxs)("div",{className:"rounded-t-md flex flex-row items-center justify-between gap-4 px-2 py-2 border-b border-gray-400",children:[Object(N.jsx)("div",{className:"text-xl font-bold ml-2 uppercase mt-2",children:"Assign new subject"}),Object(N.jsx)("div",{onClick:function(){return e.setAddNew(!1)},className:"flex items-center justify-center p-1 rounded-full bg-gray-100 text-2xl hover:bg-yellow-100 hover:text-accent-900 cursor-pointer",title:"Close window",children:Object(N.jsx)(h.l,{})})]}),Object(N.jsxs)("div",{className:"p-2 md:p-6",children:[Object(N.jsxs)("div",{className:"flex flex-row items-center justify-between gap-3",children:[Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(N.jsx)("div",{className:"text-5xl text-gray-400",children:Object(N.jsx)(g.f,{})}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("span",{className:"text-gray-600",children:"School name"}),Object(N.jsxs)("span",{className:"font-bold -mt-1",children:[e.school.school_name," (",e.school.school_code,")"]})]})]}),Object(N.jsx)("div",{className:"flex flex-col justify-center items-end"})]}),Object(N.jsx)("div",{className:"",children:Object(N.jsx)("div",{className:"mb-10",children:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"p-2 mb-5",children:Object(N.jsxs)("div",{className:"mt-4",children:[Object(N.jsx)("div",{children:"Filter by"}),Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(N.jsxs)("select",{onChange:function(e){return a(e.target.value)},value:null===s?"":s,className:"border border-gray-400 rounded px-3 py-2",children:[Object(N.jsx)("option",{value:"",children:"Choose education level"}),Object(N.jsx)("option",{value:"",children:"Show all levels"}),Object(u.P)(e.allHierarchy,{type:u.Fb.SCHOOL_LEVELS,status:!0}).levels.map((function(e,t){return Object(N.jsx)("option",{value:e.level_code,children:e.level_name},t+1)}))]}),Object(N.jsxs)("div",{className:"w-full",children:[Object(N.jsxs)("div",{onClick:function(){return i(!o)},className:"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[null===y?Object(N.jsx)("span",{children:"All- Click to filter by combination"}):Object(N.jsx)("span",{children:null===(t=Object(u.P)(e.allHierarchy,{type:u.Fb.COMBINATIONS,status:!0}).combinations.find((function(e){return e.combination_code===y})))||void 0===t?void 0:t.combination_name}),Object(N.jsx)("div",{className:"-mr-3",children:!0===o?Object(N.jsx)(h.l,{}):Object(N.jsx)(b.a,{})})]}),!0===o&&Object(N.jsxs)("div",{className:"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl",children:[Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"flex flex-row items-center w-full justify-between gap-2",children:[Object(N.jsx)("input",{value:C,onChange:function(e){return H(e.target.value)},placeholder:"Search...",type:"text",className:"border border-gray-400 rounded px-3 py-2 text-sm w-full"}),Object(N.jsx)("div",{children:Object(N.jsx)("div",{onClick:function(){return i(!1)},className:"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white",children:Object(N.jsx)(h.l,{})})})]}),null!==y&&Object(N.jsxs)("div",{onClick:function(){v(null),i(!1)},className:"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full",children:[Object(N.jsx)("div",{children:Object(N.jsx)(j.a,{className:"text-xl"})}),Object(N.jsx)("span",{children:"Click to view all"})]})]}),Object(N.jsx)("div",{className:"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn",style:{minWidth:"28rem"},children:0===Object(x.i)(Object(u.P)(e.allHierarchy,{type:u.Fb.COMBINATIONS,status:!0}).combinations,C).length?Object(N.jsx)("div",{className:"text-center text-lg font-bold p-5 px-10 text-gray-500",children:"No result found!"}):Object(x.i)(Object(u.P)(e.allHierarchy,{type:u.Fb.COMBINATIONS,status:!0}).combinations,C).map((function(e,t){return Object(N.jsxs)("div",{className:"w-full flex flex-row items-center border-b ".concat(y===e.combination_code?"border-yellow-100 bg-yellow-100 font-bold":"border-gray-200"," py-1 gap-4 hover:bg-yellow-100 cursor-pointer"),onClick:function(){v(e.combination_code),i(!1)},children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold",children:t+1})}),Object(N.jsx)("div",{children:e.combination_name})]},t+1)}))})]})]}),Object(N.jsx)("input",{className:"px-3 py-2 rounded border border-gray-400 w-full",placeholder:"Search keyword...",value:K,onChange:function(e){return Q(e.target.value)}})]})]})}),Object(N.jsx)("div",{className:"bg-white rounded mx-2 border border-gray-200",children:Object(N.jsx)("div",{className:"w-full overflow-x-auto",children:Object(N.jsxs)("table",{className:"min-w-full text-left",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{className:"font-semibold border-b text-base",children:[Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-center",children:"#"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Subject"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Level"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Combination"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Grade"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Periods"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-right",children:"Action"})]})}),Object(N.jsx)("tbody",{className:"text-sm",children:null===e.school_hierarchy_data?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:7,children:Object(N.jsx)(k,{})})}):0===Object(x.i)(X(),K).length?Object(N.jsx)("td",{colSpan:7,children:Object(N.jsx)("div",{className:"text-lg p-3 text-center",children:"No result found"})}):Object(x.i)(X(),K).map((function(e,t){return Object(N.jsxs)("tr",{className:"".concat(void 0!==L.find((function(t){return t.studyhierarchyid===e.studyhierarchyid}))?"text-gray-500":"hover:bg-yellow-50 hover:text-accent-900"," group"),children:[Object(N.jsx)("td",{className:"p-2 border-b text-center",children:t+1}),Object(N.jsxs)("td",{className:"p-2 border-b",children:[e.course_code,"-",e.course_name]}),Object(N.jsx)("td",{className:"p-2 border-b",children:e.level_name}),Object(N.jsx)("td",{className:"p-2 border-b",children:e.combination_name}),Object(N.jsx)("td",{className:"p-2 border-b",children:e.grade_name}),Object(N.jsx)("td",{className:"p-2 border-b",children:e.teaching_period}),Object(N.jsx)("td",{className:"p-2 border-b",children:Object(N.jsx)("div",{className:"flex flex-row items-center justify-end",children:void 0===L.find((function(t){return t.studyhierarchyid===e.studyhierarchyid}))?Object(N.jsx)("div",{onClick:function(){return t=e,void F([].concat(Object(f.a)(L.filter((function(e){return e.studyhierarchyid!==t.studyhierarchyid}))),[t]));var t},className:"rounded bg-yellow-100 group-hover:bg-accent-900 group-hover:text-white px-3 py-2 w-max text-center border border-yellow-300 group-hover:border-accent-900 cursor-pointer text-sm font-bold",children:"Add subject"}):Object(N.jsx)("div",{onClick:function(){return t=e,void F(Object(f.a)(L.filter((function(e){return e.studyhierarchyid!==t.studyhierarchyid}))));var t},className:"rounded bg-red-50 group-hover:bg-red-200 text-black border border-red-100 group-hover:border-red-700 group-hover:text-red-800 px-3 py-2 w-max text-center cursor-pointer text-sm font-bold",children:"Remove"})})})]},t+1)}))})]})})})]})})})]})]}),L.length>0&&Object(N.jsx)("div",{className:"fixed bottom-0 left-0 w-full z-50 bg-blue-600 p-2 animate__animated animate__fadeInUp",children:!1===T?Object(N.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2",children:[""!==V&&Object(N.jsx)("div",{className:"bg-red-200 text-red-800 px-3 py-2 rounded-md animate_animated animate__zoomIn animate__faster",onClick:function(){return U("")},children:V}),""!==D&&Object(N.jsx)("div",{className:"bg-green-600 text-white px-3 py-2 rounded-md animate_animated animate__zoomIn animate__faster",onClick:function(){return R("")},children:D}),Object(N.jsxs)("div",{className:"text-white flex flex-col items-end mr-2",children:[Object(N.jsx)("span",{className:"text-sm text-blue-300",children:"Selected subjects"}),Object(N.jsx)("span",{className:"text-2xl font-extrabold -mt-2",children:L.length})]}),Object(N.jsx)("div",{onClick:function(){return e.setAddNew(!1)},className:"btn bg-gray-200 text-black rounded-md px-4 py-2 hover:bg-gray-700 hover:text-white cursor-pointer border-2 border-gray-200 hover:border-white font-bold",children:"Cancel"}),Object(N.jsx)("div",{onClick:function(){z(!0),w(L,e.school.school_code,(function(t,c){""!==c&&!0===t&&(R("School subjects added successfully!"),F([]),e.setAddNew(!1),e.setLoadSchoolSubjects()),""===c&&!0===t&&U("Something went wrong. Try again!"),z(!1)})),z(!1)},className:"btn bg-green-700 text-white rounded-md px-4 py-2 hover:bg-gray-700 hover:text-white cursor-pointer border-2 border-gray-200 hover:border-white font-bold",children:"Save changes"})]}):Object(N.jsx)("div",{className:"text-white text-lg text-right py-2",children:"Saving, Please wait..."})})]})},C=c(13),k=function(){return Object(N.jsxs)("div",{className:"bg-white rounded-md p-4 flex flex-col items-center justify-center m-5",children:[Object(N.jsx)(m.a,{}),Object(N.jsx)("div",{className:"text-xl",children:"Loading, please wait..."})]})},H=function(e){Object(o.a)(c,e);var t=Object(i.a)(c);function c(e){var n;return Object(l.a)(this,c),(n=t.call(this,e)).setAddNew=function(e){n.setState({addNew:e,addingNew:!0===e})},n.setAddingNew=function(e){n.setState({addingNew:e})},n.setLoading=function(e){n.setState({loading:e})},n.FilterSchoolHierarchy=function(e){var t,c=[],r=Object(a.a)(e);try{var s=function(){var e=t.value,r=n.props.allHierarchy.find((function(t){return t.studyhierarchyid===e.shool_hierarch_id&&"0"!==e.status}));void 0!==r&&c.push(r)};for(r.s();!(t=r.n()).done;)s()}catch(l){r.e(l)}finally{r.f()}return c},n.setLoadSchoolSubjects=function(){return Object(u.O)(n.props.school.school_code,(function(e,t){n.setLoading(!0),!0===e&&null!==t?n.setState({school_hierarchy:t,school_hierarchy_data:n.FilterSchoolHierarchy(t),loading:!1}):n.setState({school_hierarchy:[],school_hierarchy_data:[],loading:!1})}))},n.FilteredData=function(){var e=n.state.school_hierarchy_data;return null!==e?(null!==n.state.selected_level_code&&""!==n.state.selected_level_code&&(e=e.filter((function(e){return e.level_code===n.state.selected_level_code}))),null!==n.state.selected_combination_code&&(e=e.filter((function(e){return e.combination_code===n.state.selected_combination_code}))),e):[]},n.RemoveSchoolHierarchy=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==window.confirm("Are you sure do you want to remove this subject on school?")){e.next=13;break}return n.setLoading(!0),e.prev=2,e.next=5,v.a.post("".concat(_.d,"/schoolhierarch/delete/").concat(t),{});case 5:c=e.sent,console.log("Success: ",c),200===c.status&&(n.setLoadSchoolSubjects(),n.setState({error:"",success:"School subject removed successfully!"})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n.setState({error:Object(C.a)(e.t0),success:"",loading:!1});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=function(){n.setLoadSchoolSubjects()},n.state={loading:!0,school_hierarchy:null,school_hierarchy_data:null,selected_level_code:null,selected_combination_code:null,filter_by_combination:!1,search_comb:"",addNew:!1,addingNew:!1,success:"",error:"",search:""},n}return Object(n.a)(c,[{key:"render",value:function(){var e,t=this;return null===this.state.school_hierarchy||null===this.state.school_hierarchy||this.state.loading,Object(N.jsxs)(d.Fragment,{children:[Object(N.jsx)("div",{className:"mb-10",style:void 0!==this.props.fixedHeight?{height:"60vh",overflow:"auto"}:{},children:Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"p-2 mb-5",children:[Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3 justify-between",children:[Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsx)("div",{className:"text-2xl font-bold",children:"SCHOOL SUBJECTS ASSIGNMENT"}),Object(N.jsxs)("div",{className:"text-sm text-gray-500",children:[this.props.school.school_name,"(",this.props.school.school_code,")"]})]}),Object(N.jsx)("div",{onClick:function(){t.setAddingNew(!0),t.setAddNew(!0)},className:"border ".concat(!1===this.state.addingNew?"bg-yellow-100 border-yellow-400":"bg-gray-100"," text-black px-3 py-2 rounded text-center hover:text-accent-900 cursor-pointer font-bold"),children:!0===this.state.addingNew?"Loading":"Assign new subjects"})]}),Object(N.jsxs)("div",{className:"mt-4",children:[Object(N.jsx)("div",{children:"Filter by"}),Object(N.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(N.jsxs)("select",{onChange:function(e){return t.setState({selected_level_code:e.target.value})},value:null===this.state.selected_level_code?"":this.state.selected_level_code,className:"border border-gray-400 rounded px-3 py-2",children:[Object(N.jsx)("option",{value:"",children:"Choose education level"}),Object(N.jsx)("option",{value:"",children:"View by all levels"}),Object(u.P)(this.props.allHierarchy,{type:u.Fb.SCHOOL_LEVELS,status:!0}).levels.map((function(e,t){return Object(N.jsx)("option",{value:e.level_code,children:e.level_name},t+1)}))]}),Object(N.jsxs)("div",{className:"w-full",children:[Object(N.jsxs)("div",{onClick:function(){return t.setState({filter_by_combination:!t.state.filter_by_combination})},className:"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[null===this.state.selected_combination_code?Object(N.jsx)("span",{children:"All- Click to filter by combination"}):Object(N.jsx)("span",{children:null===(e=Object(u.P)(this.props.allHierarchy,{type:u.Fb.COMBINATIONS,status:!0}).combinations.find((function(e){return e.combination_code===t.state.selected_combination_code})))||void 0===e?void 0:e.combination_name}),Object(N.jsx)("div",{className:"-mr-3",children:!0===this.state.filter_by_combination?Object(N.jsx)(h.l,{}):Object(N.jsx)(b.a,{})})]}),!0===this.state.filter_by_combination&&Object(N.jsxs)("div",{className:"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl",children:[Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"flex flex-row items-center w-full justify-between gap-2",children:[Object(N.jsx)("input",{value:this.state.search_comb,onChange:function(e){return t.setState({search_comb:e.target.value})},placeholder:"Search...",type:"text",className:"border border-gray-400 rounded px-3 py-2 text-sm w-full"}),Object(N.jsx)("div",{children:Object(N.jsx)("div",{onClick:function(){return t.setState({filter_by_combination:!1})},className:"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white",children:Object(N.jsx)(h.l,{})})})]}),null!==this.state.selected_combination_code&&Object(N.jsxs)("div",{onClick:function(){return t.setState({selected_combination_code:null,filter_by_combination:!1})},className:"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full",children:[Object(N.jsx)("div",{children:Object(N.jsx)(j.a,{className:"text-xl"})}),Object(N.jsx)("span",{children:"Click to view all"})]})]}),Object(N.jsx)("div",{className:"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn",style:{minWidth:"28rem"},children:0===Object(x.i)(Object(u.P)(this.props.allHierarchy,{type:u.Fb.COMBINATIONS,status:!0}).combinations,this.state.search_comb).length?Object(N.jsx)("div",{className:"text-center text-lg font-bold p-4 px-10",children:"No result found!"}):Object(x.i)(Object(u.P)(this.props.allHierarchy,{type:u.Fb.COMBINATIONS,status:!0}).combinations,this.state.search_comb).map((function(e,c){return Object(N.jsxs)("div",{className:"w-full flex flex-row items-center border-b ".concat(t.state.selected_combination_code===e.combination_code?"border-yellow-100 bg-yellow-100 font-bold":"border-gray-200"," py-1 gap-4 hover:bg-yellow-100 cursor-pointer"),onClick:function(){return t.setState({selected_combination_code:e.combination_code,filter_by_combination:!1})},children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold",children:c+1})}),Object(N.jsx)("div",{children:e.combination_name})]},c+1)}))})]})]}),Object(N.jsx)("input",{className:"px-3 py-2 rounded border border-gray-400 w-full",placeholder:"Search keyword...",value:this.state.search,onChange:function(e){return t.setState({search:e.target.value})}})]})]})]}),""!==this.state.success&&Object(N.jsx)("div",{onClick:function(){return t.setState({success:""})},className:"bg-green-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight",children:Object(N.jsxs)("div",{className:"flex flex-row justify-between items-center gap-8",children:[Object(N.jsxs)("div",{children:["Success: ",this.state.success]}),Object(N.jsx)("div",{children:Object(N.jsx)(h.l,{className:"text-2xl text-red-600 bg-red-100 rounded-full"})})]})}),""!==this.state.error&&Object(N.jsx)("div",{onClick:function(){return t.setState({error:""})},className:"bg-red-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight",children:Object(N.jsxs)("div",{className:"flex flex-row justify-between items-center gap-8",children:[Object(N.jsxs)("div",{children:["Error: ",this.state.error]}),Object(N.jsx)("div",{children:Object(N.jsx)(h.l,{className:"text-2xl text-red-600 bg-red-100 rounded-full"})})]})}),Object(N.jsx)("div",{className:"bg-white rounded mx-2 border border-gray-200",children:Object(N.jsx)("div",{className:"w-full overflow-x-auto",children:Object(N.jsxs)("table",{className:"min-w-full text-left",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{className:"font-semibold border-b text-base",children:[Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-center",children:"#"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Subject"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Level"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Combination"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Grade"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Periods"}),Object(N.jsx)("th",{className:"p-2 border-b-2 border-gray-300"})]})}),Object(N.jsx)("tbody",{className:"text-sm",children:null===this.state.school_hierarchy_data?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:7,children:Object(N.jsx)(k,{})})}):0===Object(x.i)(this.FilteredData(),this.state.search).length?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:7,children:Object(N.jsx)("div",{className:"text-center text-lg text-gray-500 p-3",children:"No result found"})})}):Object(x.i)(this.FilteredData(),this.state.search).map((function(e,c){return Object(N.jsxs)("tr",{className:"hover:bg-yellow-50 group",children:[Object(N.jsx)("td",{className:"p-2 border-b text-center",children:c+1}),Object(N.jsxs)("td",{className:"p-2 border-b",children:[e.course_code,"-",e.course_name]}),Object(N.jsx)("td",{className:"p-2 border-b",children:e.level_name}),Object(N.jsx)("td",{className:"p-2 border-b",children:e.combination_name}),Object(N.jsx)("td",{className:"p-2 border-b",children:e.grade_name}),Object(N.jsx)("td",{className:"p-2 border-b",children:e.teaching_period}),Object(N.jsx)("td",{className:"border-b",children:Object(N.jsx)("div",{className:"flex justify-end",children:Object(N.jsx)("div",{onClick:function(){if(console.log("Current item: ",e),null!==t.state.school_hierarchy){var c=t.state.school_hierarchy.find((function(t){return t.studyhierarchyid===e.studyhierarchyid}));console.log("Compared: ",c),void 0!==c&&t.RemoveSchoolHierarchy(c.school_study_hierarchy_id)}},className:"bg-red-50 text-red-800 px-3 py-2 mx-1 my-1 rounded font-bold group-hover:bg-red-700 group-hover:text-white cursor-pointer",children:"Remove"})})})]},c+1)}))})]})})})]})}),!0===this.state.addNew&&Object(N.jsx)(S,{school:this.props.school,setAddNew:this.setAddNew,allHierarchy:this.props.allHierarchy,school_hierarchy_data:this.props.allHierarchy,setLoadSchoolSubjects:this.setLoadSchoolSubjects})]})}}]),c}(d.Component);t.b=H},545:function(e,t,c){"use strict";c.r(t),c.d(t,"_StudyHierarchyPage",(function(){return u})),c.d(t,"StudyHierarchyPage",(function(){return x}));var r=c(28),s=c(29),a=c(30),l=c(31),n=c(3),o=c(27),i=c(16),d=c(52),b=c(48),h=c(425),j=c(2),u=function(e){Object(a.a)(c,e);var t=Object(l.a)(c);function c(e){var s;return Object(r.a)(this,c),(s=t.call(this,e)).componentDidMount=function(){s.setState({loading:!0}),null===s.props.schoolHierarchyStore.hierarchy&&s.props.FC_AllSchoolHierarchyDetails(!1,(function(e,t){})),s.setState({loading:!1})},s.state={loading:!1},s}return Object(s.a)(c,[{key:"render",value:function(){return null===this.props.schoolHierarchyStore.hierarchy||!0===this.state.loading?Object(j.jsxs)("div",{className:"bg-white rounded-md p-4 flex flex-col items-center justify-center m-5",children:[Object(j.jsx)(b.a,{}),Object(j.jsx)("div",{className:"text-xl",children:"Loading, please wait..."})]}):Object(j.jsx)(d.a,{children:null!==this.props.auth.school?Object(j.jsx)(h.b,{school:this.props.auth.school,allHierarchy:this.props.schoolHierarchyStore.hierarchy}):Object(j.jsx)("div",{children:"Load all Schools"})})}}]),c}(n.Component),x=Object(o.b)((function(e){return{auth:e.auth,basic:e.basic,schoolHierarchyStore:e.schoolHierarchyStore}}),{FC_AllSchoolHierarchyDetails:i.c})(u)}}]);
//# sourceMappingURL=39.6136b9b6.chunk.js.map