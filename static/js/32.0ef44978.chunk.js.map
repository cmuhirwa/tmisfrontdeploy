{"version":3,"sources":["components/Inputs/InputSelect.tsx","components/SelectCustom/SelectCustom.tsx","containers/RequestVacantPositions/AddNewRequest.tsx","containers/RequestVacantPositions/RequestVacantPositions.tsx"],"names":["InputSelect","onChange","value","error","label","placeholder","disabled","name","Input_className","Label_className","InputContainer_className","MainContainer_className","size","data","className","htmlFor","InputSize","map","level","i","title","SelectCustom","loading","id","close","click","useState","searchText","setSearch","dataList","search","type","e","target","onClick","length","itm","key","defaultErrorMessage","AddNewRequest","loading_assets","assets","saveData","school_code","user_id","hierarchy_data","loading_hierarchy","subjects","setSubjects","search_subject","setSearchSubject","teaching_level","setTeachingLevel","position_open","setPosition_open","specialization_open","setSpecialization_open","setError","setLoading","sumWithInitial_teachingPeriods","reduce","previousValue","currentValue","teaching_period","ResultsSubjects","level_code","level_name","combination_code","selected_position","setSelectedPosition","selected_specialization","setSelectedSpecialization","selectSubject","subj","console","log","exist","find","el","school_study_hierarchy_id","filter","Modal","backDrop","theme","Themes","default","window","confirm","backDropClose","widthSizeClass","ModalSize","large","displayClose","padding","body","undefined","footer","Alert","onSubmit","preventDefault","setTimeout","FC_SavePostDetails","district_code","substring","occupation","position_code","specialization_id","education_level","qualification_id","need_post","requested_by","approved_by","approved_date","status","total_period","teaching_level_id","msg","teachingLevel","school_need_post_id","district_name","school_name","position_name","specialization_name","qualification_name","Loading","school_positions","pos","TextInput","specializations","bind","course_name","combination_name","grade_name","Button","_RequestVacantPositions","props","cleanError","setState","addNewItem","state","removeItem","delete_loading","deleting_item","FC_DeleteRequestedPostDescription","create_request","loading_data","this","auth","school","FC_GetPositionsAssets","err","FC_GetVacantDetailedBySchool","data_vac","FC_GetCoursesBySchools","data_hierarch","totalA0","totalA1","totalA2","fixed","user","DashboardContainer","Heading","colSpan","React","Component","RequestVacantPositions","connect"],"mappings":"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","file":"static/js/32.0ef44978.chunk.js","sourcesContent":["import React, { ChangeEvent, FC, ReactElement } from \"react\";\nimport { InputSize, InputSizeType } from \"./InputTypes\";\n\ntype InputSelectProps = {\n  onChange: (event: ChangeEvent<HTMLSelectElement>) => void;\n  value: string | number;\n  error: string;\n  label: string;\n  placeholder: string;\n  disabled?: boolean;\n  name: string;\n  className?: string;\n  size?: InputSizeType;\n  Input_className?: string;\n  Label_className?: string;\n  InputContainer_className?: string;\n  MainContainer_className?: string;\n  data: { title: string; value: string | number }[];\n};\n\nconst InputSelect: FC<InputSelectProps> = ({\n  onChange,\n  value,\n  error,\n  label,\n  placeholder,\n  disabled = false,\n  name,\n  Input_className = \"\",\n  Label_className = \"\",\n  InputContainer_className = \"\",\n  MainContainer_className = \"\",\n  size = \"md\",\n  data,\n}): ReactElement => {\n  /* function body */\n  return (\n    <>\n      <div className={`w-full my-2 ${MainContainer_className}`}>\n        {label && (\n          <label\n            htmlFor=\"login-form-email\"\n            className={`text-primary-900 dark:text-primary-100 ${Label_className}`}\n          >\n            {label}\n          </label>\n        )}\n        <div className={`rounded relative ${InputContainer_className}`}>\n          <select\n            name={name}\n            placeholder={placeholder}\n            onChange={onChange}\n            className={`\n                     w-full text-lg rounded border-2 \n                     ${InputSize(size)}\n                     ${\n                       error !== \"\"\n                         ? \"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30\"\n                         : \"border-primary-800 dark:text-white bg-white dark:bg-primary-900 \"\n                     }\n                     px-3 ${Input_className}`}\n            value={value}\n            disabled={disabled}\n            // className=\"p-2 border-2 bg-white border-primary-900 rounded w-full\"\n          >\n            {data.map((level, i) => (\n              <option key={i} value={level.value}>\n                {level.title}\n              </option>\n            ))}\n          </select>\n\n          {error !== \"\" && (\n            <p className=\"text-sm text-red-600 dark:text-red-500\">{error}</p>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\nexport default InputSelect;\n","import React, { FC, Fragment, ReactElement, useState } from \"react\";\nimport { MdSearch } from \"react-icons/md\";\n// import Spinner from \"../Loading/Spinner\";\n\nimport { search } from \"../../utils/functions\";\nimport Loading from \"../Loading/Loading\";\ntype SelectCustomProps = {\n  loading: boolean;\n  id: string;\n  title: string;\n  close: Function;\n  data: any;\n  click: Function;\n};\n\nconst SelectCustom: FC<SelectCustomProps> = ({\n  loading,\n  id,\n  title,\n  close,\n  data,\n  click,\n}): ReactElement => {\n  const [searchText, setSearch] = useState(\"\");\n  let dataList = search(data, searchText, {\n    [title]: true,\n  });\n  /* function body */\n  return (\n    <div className=\" bg-gray-100 shadow-lg border-gray-500 border-2 h-64 rounded-md flex flex-col\">\n      <div className=\"p-1 bg-white rounded flex items-center\">\n        <label htmlFor=\"search-input-data\">\n          <MdSearch className=\"text-2xl\" />\n        </label>\n        <input\n          type=\"search\"\n          className=\"py-1 px-1 flex-1\"\n          placeholder=\"Search\"\n          value={searchText}\n          id=\"search-input-data\"\n          onChange={(e) => setSearch(e.target.value)}\n        />\n        {loading === false && (\n          <button\n            onClick={() => close()}\n            className=\"px-2 py-0.5 rounded text-sm ml-3 bg-red-200 text-red-800\"\n          >\n            Cancel\n          </button>\n        )}\n      </div>\n      <div className=\"flex-1 p-2 overflow-y-auto border-t \">\n        {loading === true ? (\n          <div className=\"my-4\">\n            {/* <Spinner /> */}\n            <div className=\"mx-auto text-center\">\n              <Loading />\n            </div>\n\n            <p className=\"text-center text-gray-500\">Loading</p>\n          </div>\n        ) : (\n          <Fragment>\n            {dataList.length === 0 ? (\n              <section className=\"p-4 text-center\">\n                <h2 className=\"text-lg text-gray-400\">No results found</h2>\n              </section>\n            ) : (\n              dataList.map((itm: any, key: number) => (\n                <button\n                  onClick={() => click(itm)}\n                  className=\"block p-1 border-b w-full text-left border-gray-300 hover:text-white hover:bg-blue-600\"\n                  key={key}\n                  type=\"button\"\n                >\n                  {itm[title]}\n                </button>\n              ))\n            )}\n          </Fragment>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default SelectCustom;\n","import React, { FC, ReactElement, useState } from \"react\";\nimport { MdCheckBox, MdCheckBoxOutlineBlank } from \"react-icons/md\";\nimport {\n  FC_SavePostDetails,\n  hierarchyDataInterface,\n  RegisterPositionAssets,\n  RegisterPositionAssets__Position,\n  RegisterPositionAssets__Specialization,\n  RequestedVacantDetailsInterface,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\nimport Button from \"../../components/Buttons/Button\";\nimport InputSelect from \"../../components/Inputs/InputSelect\";\nimport TextInput from \"../../components/Inputs/TextInput\";\nimport Loading from \"../../components/Loading/Loading\";\nimport Modal, { Themes, ModalSize } from \"../../components/Modal/Modal\";\nimport SelectCustom from \"../../components/SelectCustom/SelectCustom\";\nimport { search } from \"../../utils/functions\";\n\ntype AddNewRequestProps = {\n  close: () => void;\n  assets: RegisterPositionAssets | null;\n  loading_assets: boolean;\n  saveData: (data: RequestedVacantDetailsInterface) => void;\n  school_name: string;\n  school_code: string;\n  user_id: string;\n  hierarchy_data: hierarchyDataInterface[];\n  loading_hierarchy: boolean;\n};\n\ninterface ErrorDisplay {\n  target:\n    | \"position\"\n    | \"specialization\"\n    | null\n    | \"main-error\"\n    | \"main-success\"\n    | \"subjects\"\n    | \"teaching-level\";\n  error: string;\n}\nlet defaultErrorMessage: ErrorDisplay = {\n  target: null,\n  error: \"\",\n};\n\nconst AddNewRequest: FC<AddNewRequestProps> = ({\n  close,\n  loading_assets,\n  assets,\n  saveData,\n  school_code,\n  user_id,\n  hierarchy_data,\n  loading_hierarchy,\n}): ReactElement => {\n  const [subjects, setSubjects] = useState<hierarchyDataInterface[]>([]);\n  const [search_subject, setSearchSubject] = useState<string>(\"\");\n  const [teaching_level, setTeachingLevel] = useState<string>(\"\");\n  const [position_open, setPosition_open] = useState(false);\n  const [specialization_open, setSpecialization_open] = useState(false);\n  const [error, setError] = useState<ErrorDisplay>(defaultErrorMessage);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const initialValue = 0;\n  const sumWithInitial_teachingPeriods = subjects.reduce(\n    (previousValue, currentValue) =>\n      previousValue + +currentValue.teaching_period,\n    initialValue\n  );\n\n  let ResultsSubjects: hierarchyDataInterface[] = search(\n    hierarchy_data,\n    search_subject,\n    {\n      level_code: true,\n      level_name: true,\n      combination_code: true,\n    }\n  );\n\n  //* Selected Data\n  const [selected_position, setSelectedPosition] =\n    useState<RegisterPositionAssets__Position | null>(null);\n  const [selected_specialization, setSelectedSpecialization] =\n    useState<RegisterPositionAssets__Specialization | null>(null);\n\n  const submitData = (e: any) => {\n    e.preventDefault();\n\n    if (selected_position === null)\n      return setError({ target: \"position\", error: \"Required\" });\n\n    if (selected_specialization === null)\n      return setError({ target: \"specialization\", error: \"Required\" });\n\n    if (teaching_level === \"\")\n      return setError({ target: \"teaching-level\", error: \"Required\" });\n\n    if (subjects.length === 0) {\n      setError({\n        target: \"subjects\",\n        error: \"Please select subject(s)\",\n      });\n\n      setTimeout(() => {\n        setError({\n          target: null,\n          error: \"\",\n        });\n      }, 2000);\n      return;\n    }\n\n    setError(defaultErrorMessage);\n    setLoading(true);\n\n    FC_SavePostDetails(\n      {\n        district_code: school_code.substring(0, 2),\n        school_code: school_code,\n        occupation: selected_position.position_code,\n        specialization_id: selected_specialization.specialization_id,\n        subjects: subjects.map((el) => el.school_study_hierarchy_id),\n        education_level: selected_position.qualification_id,\n        need_post: \"\",\n        requested_by: user_id,\n        approved_by: \"\",\n        approved_date: \"\",\n        status: \"WAITING\",\n        total_period: sumWithInitial_teachingPeriods,\n        teaching_level: teaching_level,\n        teaching_level_id: teaching_level,\n      },\n      (status, data, msg) => {\n        if (status === true) {\n          let teachingLevel = assets?.teaching_level.find(\n            (el) => el.teaching_level_id === teaching_level\n          );\n          saveData({\n            school_need_post_id: data?.id + \"\",\n            district_code: school_code,\n            district_name: \"\",\n            school_code: school_code,\n            school_name: \"\",\n            occupation: selected_position.position_code,\n            position_name: selected_position.position_name,\n            specialization_id: selected_specialization.specialization_id,\n            specialization_name: selected_specialization.specialization_name,\n            education_level: \"\",\n            qualification_name: selected_position.qualification_name,\n            need_post: \"\",\n            status: \"WAITING\",\n            total_period: sumWithInitial_teachingPeriods,\n            teaching_level: teachingLevel ? teachingLevel.teaching_level : \"\",\n            teaching_level_id: teaching_level,\n          });\n\n          setLoading(false);\n          setError({\n            target: \"main-success\",\n            error: \"New request created successfully\",\n          });\n          setTimeout(() => {\n            close();\n          }, 1000);\n        } else {\n          setLoading(false);\n          setError({\n            target: \"main-error\",\n            error: `Error: ${msg}`,\n          });\n        }\n      }\n    );\n  };\n\n  const closeHandler = () => {\n    if (\n      (selected_position !== null || selected_specialization !== null) &&\n      window.confirm(\n        \"Once you close you will lose the selected data, \\n do ypu want to close?\"\n      )\n    ) {\n      close();\n    } else {\n      close();\n    }\n  };\n\n  const selectSubject = (subj: hierarchyDataInterface) => {\n    console.log(subj, subjects);\n\n    let exist = subjects.find(\n      (el) => el.school_study_hierarchy_id === subj.school_study_hierarchy_id\n    );\n\n    if (!exist) {\n      setSubjects([...subjects, subj]);\n    } else {\n      setSubjects(\n        subjects.filter(\n          (el) =>\n            el.school_study_hierarchy_id !== subj.school_study_hierarchy_id\n        )\n      );\n    }\n  };\n\n  return (\n    <>\n      <Modal\n        backDrop={true}\n        theme={Themes.default}\n        close={closeHandler}\n        backDropClose={false}\n        widthSizeClass={ModalSize.large}\n        displayClose={true}\n        title=\"Add new post on school\"\n        padding={{\n          title: true,\n          body: undefined,\n          footer: undefined,\n        }}\n      >\n        {error.target === \"main-error\" && (\n          <Alert theme=\"danger\">{error.error}</Alert>\n        )}\n        {error.target === \"main-success\" && (\n          <Alert theme=\"success\">{error.error}</Alert>\n        )}\n\n        <form onSubmit={submitData}>\n          {loading_assets === true ? (\n            <div className=\"py-8 text-center mx-auto\">\n              <Loading />\n            </div>\n          ) : assets === null ? (\n            <div className={`py-8 text-center text-lg text-red-600`}>\n              No data found!\n            </div>\n          ) : (\n            <div className=\"border-t p-4\">\n              <div className=\"pb-3\">\n                {position_open ? (\n                  <SelectCustom\n                    loading={false}\n                    id={\"position_code\"}\n                    title={\"title\"}\n                    close={() => setPosition_open(!position_open)}\n                    data={assets.school_positions.map((el) => ({\n                      ...el,\n                      title: `${el.position_code} - ${el.position_name} (${el.qualification_name})`,\n                    }))}\n                    click={(pos: RegisterPositionAssets__Position) => {\n                      setSelectedPosition(pos);\n                      setPosition_open(false);\n                    }}\n                  />\n                ) : (\n                  <div\n                    onClick={() =>\n                      loading === false && setPosition_open(!position_open)\n                    }\n                  >\n                    <TextInput\n                      onChange={(e) => {}}\n                      value={\n                        selected_position\n                          ? `${selected_position.position_code} - ${selected_position.position_name} (${selected_position.qualification_name})`\n                          : \"\"\n                      }\n                      error={error.target === \"position\" ? error.error : \"\"}\n                      label={\"Position\"}\n                      placeholder={\"Position\"}\n                      name={\"\"}\n                      disabled\n                    />\n                  </div>\n                )}\n              </div>\n\n              <div\n                className=\"pb-3\"\n                onClick={() =>\n                  loading === false && setPosition_open(!position_open)\n                }\n              >\n                <TextInput\n                  onChange={(e) => {}}\n                  value={\n                    selected_position\n                      ? `${selected_position.qualification_name}`\n                      : \"\"\n                  }\n                  error={error.target === \"position\" ? error.error : \"\"}\n                  label={\"Level of Education\"}\n                  placeholder={\"Select the position\"}\n                  name={\"\"}\n                  disabled\n                />\n              </div>\n\n              <div className=\"pb-3\">\n                {specialization_open ? (\n                  <SelectCustom\n                    loading={false}\n                    id={\"id\"}\n                    title={\"title\"}\n                    close={() => setSpecialization_open(!specialization_open)}\n                    data={assets.specializations.map((el) => ({\n                      ...el,\n                      title: `${el.specialization_name}`,\n                      id: el.specialization_id,\n                    }))}\n                    click={(el: RegisterPositionAssets__Specialization) => {\n                      setSpecialization_open(false);\n                      setSelectedSpecialization(el);\n                    }}\n                  />\n                ) : (\n                  <div\n                    onClick={() =>\n                      loading === false &&\n                      setSpecialization_open(!specialization_open)\n                    }\n                  >\n                    <TextInput\n                      onChange={(e) => {}}\n                      value={\n                        selected_specialization\n                          ? selected_specialization.specialization_name\n                          : \"\"\n                      }\n                      error={\n                        error.target === \"specialization\" ? error.error : \"\"\n                      }\n                      label={\"Specialization\"}\n                      placeholder={\"Specialization\"}\n                      name={\"specialization_name\"}\n                      disabled\n                    />\n                  </div>\n                )}\n              </div>\n\n              <div className=\"pb-3\">\n                <InputSelect\n                  onChange={(e) => setTeachingLevel(e.target.value)}\n                  value={teaching_level}\n                  error={error.target === \"teaching-level\" ? error.error : \"\"}\n                  label={\"Teaching level\"}\n                  placeholder={\"Teaching level\"}\n                  name={\"teaching_level\"}\n                  data={[\n                    {\n                      title: \"\",\n                      value: \"\",\n                    },\n                    ...assets.teaching_level.map((el) => ({\n                      title: el.teaching_level + \"\",\n                      value: el.teaching_level_id + \"\",\n                    })),\n                  ]}\n                />\n              </div>\n\n              {loading_hierarchy === true ? (\n                <div className=\"py-8 text-center pb-2 bg-gray-100 mb-3 mt-1 rounded\">\n                  <Loading />\n                  <h4 className=\"text-gray-500\">Loading subjects</h4>\n                </div>\n              ) : (\n                <div\n                  className={`pb-2 bg-gray-100 mb-3 mt-1 rounded  ${\n                    error.target === \"subjects\" ? \"border-red-500 border-2\" : \"\"\n                  }`}\n                >\n                  <div className=\"pb-1 flex items-center px-2\">\n                    <section className=\"flex-1\">\n                      <TextInput\n                        onChange={(e) => setSearchSubject(e.target.value)}\n                        value={search_subject}\n                        error={\"\"}\n                        label={\"\"}\n                        placeholder={\"Search subject\"}\n                        name={\"\"}\n                        size=\"sm\"\n                      />\n                    </section>\n                    <section className=\"px-2 rounded bg-gray-100\">\n                      <span className=\"text-sm text-gray-400\">Subjects:</span>\n                      <h4 className=\"text-xl -mt-1 font-bold\">\n                        {subjects.length}\n                      </h4>\n                    </section>\n                    <section className=\"px-2 rounded bg-gray-100\">\n                      <span className=\"text-sm text-gray-400\">\n                        Total periods:\n                      </span>\n                      <h4 className=\"text-xl -mt-1 font-bold\">\n                        {sumWithInitial_teachingPeriods}\n                      </h4>\n                    </section>\n                  </div>\n                  <div className=\"h-56 overflow-y-auto\">\n                    <table className=\"w-full\">\n                      <thead>\n                        <tr>\n                          <th className=\"border p-1\"></th>\n                          <th className=\"border p-1\">Course name</th>\n                          <th className=\"border p-1\">Combination</th>\n                          <th className=\"border p-1\">Grade name</th>\n                          <th className=\"border p-1\">Teaching period</th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"\">\n                        {ResultsSubjects.map((el, i) => {\n                          let exist = subjects.find(\n                            (itm) =>\n                              el.school_study_hierarchy_id ===\n                              itm.school_study_hierarchy_id\n                          );\n                          return (\n                            <tr\n                              key={i}\n                              className={`cursor-pointer ${\n                                exist === undefined\n                                  ? \"\"\n                                  : \"bg-green-200 bg-opacity-40\"\n                              }`}\n                              onClick={selectSubject.bind(this, el)}\n                            >\n                              <td\n                                className={`border p-1 text-center text-2xl ${\n                                  exist === undefined ? \"\" : \"text-green-500\"\n                                }`}\n                              >\n                                {exist === undefined ? (\n                                  <MdCheckBoxOutlineBlank />\n                                ) : (\n                                  <MdCheckBox />\n                                )}\n                              </td>\n                              <td className=\"border p-1\">{el.course_name}</td>\n                              <td className=\"border p-1\">\n                                {el.combination_name}\n                              </td>\n                              <td className=\"border p-1\">{el.grade_name}</td>\n                              <td className=\"border p-1\">\n                                {el.teaching_period}\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              )}\n              {error.target === \"subjects\" && (\n                <span className=\"text-red-800 text-center\">{error.error}</span>\n              )}\n\n              <div className=\"pb-2 text-right\">\n                {error.target !== \"main-success\" && (\n                  <Button type=\"submit\" loading={loading}>\n                    Request New vacant\n                  </Button>\n                )}\n              </div>\n            </div>\n          )}\n        </form>\n      </Modal>\n    </>\n  );\n};\nexport default AddNewRequest;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Auth,\n  FC_DeleteRequestedPostDescription,\n  FC_GetPositionsAssets,\n  FC_GetVacantDetailedBySchool,\n  hierarchyDataInterface,\n  RegisterPositionAssets,\n  RequestedVacantDetailsInterface,\n  FC_GetCoursesBySchools,\n} from \"../../actions\";\nimport Alert from \"../../components/Alert/Alert\";\nimport Button from \"../../components/Buttons/Button\";\nimport DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport Heading from \"../../components/Heading/Heading\";\nimport Loading from \"../../components/Loading/Loading\";\nimport { StoreState } from \"../../reducers\";\nimport AddNewRequest from \"./AddNewRequest\";\n\n// props for the component\ninterface AppProps {\n  auth: Auth;\n}\n\ninterface AppState {\n  loading_assets: boolean;\n  loading_data: boolean;\n  create_request: boolean;\n  assets: RegisterPositionAssets | null;\n  error: {\n    target: \"main-error\" | \"main-success\" | null;\n    msg: string;\n  };\n  data: RequestedVacantDetailsInterface[];\n  hierarchy_data: hierarchyDataInterface[];\n  loading_hierarchy: boolean;\n  delete_loading: boolean;\n  deleting_item: string;\n}\n\nclass _RequestVacantPositions extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      error: {\n        target: null,\n        msg: \"\",\n      },\n      loading_assets: false,\n      create_request: false,\n      assets: null,\n      data: [],\n      loading_data: false,\n      hierarchy_data: [\n        // {\n        //   school_study_hierarchy_id: \"32465\",\n        //   school_code: \"520104\",\n        //   shool_hierarch_id: \"22\",\n        //   status: \"1\",\n        //   studyhierarchyid: \"22\",\n        //   level_code: \"1\",\n        //   level_name: \"PRIMARY\",\n        //   combination_code: \"101\",\n        //   combination_name: \"PRIMARY\",\n        //   grade_code: \"1201\",\n        //   grade_name: \"PRIMARY 1\",\n        //   course_code: \"01\",\n        //   course_name: \"Kinyarwanda 3\",\n        //   teaching_period: \"8\",\n        // },\n        // {\n        //   school_study_hierarchy_id: \"32466\",\n        //   school_code: \"520104\",\n        //   shool_hierarch_id: \"22\",\n        //   status: \"1\",\n        //   studyhierarchyid: \"22\",\n        //   level_code: \"1\",\n        //   level_name: \"PRIMARY\",\n        //   combination_code: \"101\",\n        //   combination_name: \"PRIMARY\",\n        //   grade_code: \"1201\",\n        //   grade_name: \"PRIMARY 1\",\n        //   course_code: \"01\",\n        //   course_name: \"French\",\n        //   teaching_period: \"8\",\n        // },\n        // {\n        //   school_study_hierarchy_id: \"32467\",\n        //   school_code: \"520104\",\n        //   shool_hierarch_id: \"22\",\n        //   status: \"1\",\n        //   studyhierarchyid: \"22\",\n        //   level_code: \"1\",\n        //   level_name: \"PRIMARY\",\n        //   combination_code: \"101\",\n        //   combination_name: \"PRIMARY\",\n        //   grade_code: \"1201\",\n        //   grade_name: \"PRIMARY 1\",\n        //   course_code: \"01\",\n        //   course_name: \"History\",\n        //   teaching_period: \"8\",\n        // },\n        // {\n        //   school_study_hierarchy_id: \"32448\",\n        //   school_code: \"520104\",\n        //   shool_hierarch_id: \"22\",\n        //   status: \"1\",\n        //   studyhierarchyid: \"22\",\n        //   level_code: \"1\",\n        //   level_name: \"PRIMARY\",\n        //   combination_code: \"101\",\n        //   combination_name: \"PRIMARY\",\n        //   grade_code: \"1201\",\n        //   grade_name: \"PRIMARY 1\",\n        //   course_code: \"01\",\n        //   course_name: \"KoStant\",\n        //   teaching_period: \"8\",\n        // },\n      ],\n      loading_hierarchy: false,\n      delete_loading: false,\n      deleting_item: \"\",\n    };\n  }\n\n  componentDidMount(): void {\n    if (this.props.auth.school === null)\n      return this.setState({\n        error: {\n          target: \"main-error\",\n          msg: \"No school assigned to you\",\n        },\n      });\n\n    this.setState({\n      loading_assets: true,\n      loading_data: true,\n      loading_hierarchy: true,\n    });\n\n    FC_GetPositionsAssets(\n      this.props.auth.school.school_code,\n      (status, data, err) => {\n        if (status === true) {\n          this.setState({\n            loading_assets: false,\n            assets: data,\n          });\n        } else {\n          this.setState({\n            loading_assets: false,\n            error: {\n              target: \"main-error\",\n              msg: `Error: ${err}`,\n            },\n          });\n        }\n      }\n    );\n\n    // get the request\n    FC_GetVacantDetailedBySchool(\n      this.props.auth.school.school_code,\n      (status, data_vac, msg) => {\n        if (status === true) {\n          this.setState({\n            data: data_vac,\n            loading_data: false,\n          });\n        } else {\n          this.setState({\n            data: [],\n            loading_data: false,\n            error: {\n              target: \"main-error\",\n              msg: `Error: ${msg}`,\n            },\n          });\n        }\n      }\n    );\n\n    // Get all the data\n    FC_GetCoursesBySchools(\n      this.props.auth.school.school_code,\n      (status, data_hierarch, msg) => {\n        if (status === true) {\n          this.setState({\n            hierarchy_data: data_hierarch,\n            loading_hierarchy: false,\n          });\n        } else {\n          this.setState({\n            hierarchy_data: [],\n            loading_hierarchy: false,\n            error: {\n              target: \"main-error\",\n              msg: `Error: ${msg}`,\n            },\n          });\n        }\n      }\n    );\n  }\n\n  cleanError = () =>\n    this.setState({\n      error: {\n        target: null,\n        msg: \"\",\n      },\n    });\n\n  addNewItem = (data: RequestedVacantDetailsInterface) =>\n    this.setState({\n      data: [...this.state.data, data],\n    });\n\n  removeItem = (id: string) => {\n    if (window.confirm(\"Are you sure you want to remove this record?\")) {\n      this.setState({\n        delete_loading: true,\n        deleting_item: \"\",\n      });\n\n      FC_DeleteRequestedPostDescription(id, (status, msg) => {\n        if (status === true) {\n          this.setState({\n            delete_loading: false,\n            deleting_item: \"\",\n            error: {\n              target: \"main-success\",\n              msg: \"Record removed successfully\",\n            },\n            data: this.state.data.filter((el) => el.school_need_post_id !== id),\n          });\n        } else {\n          this.setState({\n            delete_loading: false,\n            deleting_item: \"\",\n            error: {\n              target: \"main-error\",\n              msg: `Error: ${msg}`,\n            },\n          });\n\n          setTimeout(() => {\n            this.setState({\n              error: {\n                msg: \"\",\n                target: null,\n              },\n            });\n          }, 2000);\n        }\n      });\n    }\n  };\n\n  render() {\n    let totalA0 = this.state.data.filter(\n      (el) => el.qualification_name === \"A0\"\n    ).length;\n    let totalA1 = this.state.data.filter(\n      (el) => el.qualification_name === \"A1\"\n    ).length;\n    let totalA2 = this.state.data.filter(\n      (el) => el.qualification_name === \"A2\"\n    ).length;\n    return (\n      <>\n        {this.state.error.target === \"main-error\" && (\n          <Alert theme=\"danger\" fixed onClick={this.cleanError}>\n            {this.state.error.msg}\n          </Alert>\n        )}\n        {this.state.error.target === \"main-success\" && (\n          <Alert theme=\"success\" fixed onClick={this.cleanError}>\n            {this.state.error.msg}\n          </Alert>\n        )}\n\n        {this.state.create_request === true &&\n          this.props.auth.school !== null &&\n          this.props.auth.user && (\n            <AddNewRequest\n              close={() =>\n                this.setState({\n                  create_request: false,\n                })\n              }\n              loading_assets={this.state.loading_assets}\n              assets={this.state.assets}\n              saveData={this.addNewItem}\n              school_code={this.props.auth.school.school_code}\n              school_name={this.props.auth.school.school_name}\n              user_id={this.props.auth.user.user_id}\n              hierarchy_data={this.state.hierarchy_data}\n              loading_hierarchy={this.state.loading_hierarchy}\n            />\n          )}\n\n        <DashboardContainer>\n          <div className=\"w-full flex items-center\">\n            <section className=\"flex-1\">\n              <Heading size=\"md\">Vacant posts to be filled</Heading>\n              <p className=\"m-0 text-gray-400 text-sm\">\n                Vacant posts to be filled\n              </p>\n            </section>\n            <section>\n              <Button\n                type=\"button\"\n                onClick={() =>\n                  this.setState({ create_request: !this.state.create_request })\n                }\n              >\n                Add vacant\n              </Button>\n            </section>\n          </div>\n        </DashboardContainer>\n\n        <DashboardContainer>\n          <div className=\"flex gap-2 mb-2 text-center\">\n            <section className=\"border p-1 px-6 rounded bg-gray-100\">\n              <span>A0</span>\n              <h2 className=\"font-bold text-2xl -mt-1\">{totalA0}</h2>\n            </section>\n            <section className=\"border p-1 px-6 rounded bg-gray-100\">\n              <span>A1</span>\n              <h2 className=\"font-bold text-2xl -mt-1\">{totalA1}</h2>\n            </section>\n            <section className=\"border p-1 px-6 rounded bg-gray-100\">\n              <span>A2</span>\n              <h2 className=\"font-bold text-2xl -mt-1\">{totalA2}</h2>\n            </section>\n            <div className=\"flex-1\"></div>\n            <section className=\"border p-1 px-6 rounded bg-gray-100\">\n              <span>Total</span>\n              <h2 className=\"font-bold text-2xl -mt-1\">\n                {totalA2 + totalA1 + totalA0}\n              </h2>\n            </section>\n          </div>\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"text-left\">\n                <th className=\"p-2 border\">#</th>\n                <th className=\"p-2 border\">Code</th>\n                <th className=\"p-2 border\">Position name</th>\n                <th className=\"p-2 border\">Qualification </th>\n                <th className=\"p-2 border\">Specialization</th>\n                <th className=\"p-2 border\">Total Period</th>\n                <th className=\"p-2 border\">Teaching level</th>\n                <th className=\"p-2 border\">Status</th>\n                <th className=\"p-2 border\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.loading_data === true ? (\n                <tr>\n                  <td className=\"py-8 text-center\" colSpan={10}>\n                    <Loading />\n                  </td>\n                </tr>\n              ) : this.state.data.length === 0 ? (\n                <tr>\n                  <td className=\"py-8 text-center\" colSpan={10}>\n                    <h2 className=\"text-2xl font-bold text-gray-600\">\n                      No results found\n                    </h2>\n                  </td>\n                </tr>\n              ) : (\n                <>\n                  {this.state.data.map((el, i) => (\n                    <tr key={i}>\n                      <td className=\"border p-2\">{i + 1}</td>\n                      <td className=\"border p-2\">{el.school_code}</td>\n                      <td className=\"border p-2\">{el.position_name}</td>\n                      <td className=\"border p-2\">{el.qualification_name}</td>\n                      <td className=\"border p-2\">{el.specialization_name}</td>\n                      <td className=\"border p-2\">{el.total_period}</td>\n                      <td className=\"border p-2\">{el.teaching_level}</td>\n                      <td className=\"border p-2 text-center\">\n                        <span\n                          className={`p-1 rounded-lg text-xs ${\n                            el.status === \"APPROVED\"\n                              ? \"bg-green-100 text-green-700\"\n                              : \"bg-gray-200\"\n                          }`}\n                        >\n                          {el.status}\n                        </span>\n                      </td>\n                      <td className=\"border p-2 text-center\">\n                        <Button\n                          theme=\"danger-light\"\n                          type=\"button\"\n                          onClick={this.removeItem.bind(\n                            this,\n                            el.school_need_post_id\n                          )}\n                          disabled={this.state.delete_loading}\n                          loading={\n                            this.state.deleting_item === el.school_need_post_id\n                              ? true\n                              : false\n                          }\n                        >\n                          Remove\n                        </Button>\n                      </td>\n                    </tr>\n                  ))}\n                </>\n              )}\n            </tbody>\n          </table>\n        </DashboardContainer>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth }: StoreState): { auth: Auth } => {\n  return { auth: auth };\n};\n\nexport const RequestVacantPositions = connect(\n  mapStateToProps,\n  {}\n)(_RequestVacantPositions);\n"],"sourceRoot":""}