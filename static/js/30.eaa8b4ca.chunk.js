(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[30],{108:function(e,t,s){"use strict";s(2);var c=s(51),a=s(1);t.a=function(e){var t=e.onChange,s=e.value,r=e.error,l=e.label,n=e.placeholder,i=e.disabled,o=void 0!==i&&i,d=e.name,b=e.Input_className,j=void 0===b?"":b,h=e.Label_className,m=void 0===h?"":h,x=e.InputContainer_className,u=void 0===x?"":x,O=e.MainContainer_className,p=void 0===O?"":O,f=e.size,N=void 0===f?"md":f,g=e.data;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"w-full my-2 ".concat(p),children:[l&&Object(a.jsx)("label",{htmlFor:"login-form-email",className:"text-primary-900 dark:text-primary-100 ".concat(m),children:l}),Object(a.jsxs)("div",{className:"rounded relative ".concat(u),children:[Object(a.jsx)("select",{name:d,placeholder:n,onChange:t,className:"\n                     w-full text-lg rounded border-2 \n                     ".concat(Object(c.a)(N),"\n                     ").concat(""!==r?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                     px-3 ").concat(j),value:s,disabled:o,children:g.map((function(e,t){return Object(a.jsx)("option",{value:e.value,children:e.title},t)}))}),""!==r&&Object(a.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:r})]})]})})}},125:function(e,t,s){"use strict";var c=s(2),a=s.n(c),r=s(132),l=s(133),n=s(112),i=s(1),o=function(e){var t=e.fileData,s=e.fileName,c=e.btnName,a=void 0===c?"Excel":c,o=e.className,d=void 0===o?"flex items-center gap-1 px-4 py-1 rounded text-green-700 bg-white border hover:text-white hover:bg-green-700 border-green-700 font-bold":o,b=e.showIcon,j=void 0===b||b;return Object(i.jsxs)("button",{onClick:function(e){return function(e,t){var s={Sheets:{data:l.a.json_to_sheet(e)},SheetNames:["data"]},c=l.b(s,{bookType:"xlsx",type:"array"}),a=new Blob([c],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});r.saveAs(a,t+".xlsx")}(t,s)},className:d,children:[j&&Object(i.jsx)(n.c,{}),a]})};t.a=a.a.memo(o)},181:function(e,t,s){"use strict";s.r(t),s.d(t,"TransferREB",(function(){return Q}));var c,a=s(30),r=s(31),l=s(32),n=s(33),i=s(2),o=s.n(i),d=s(17),b=s(10),j=s(138),h=s(43),m=s(1),x=function(e){var t=e.loading,s=e.startAlgorithm;return Object(m.jsx)("div",{className:"px-3 animate__animated animate__zoomIn animate__faster",children:Object(m.jsx)("div",{className:"p-2 bg-gradient-to-r shadow-sm from-blue-400 to-blue-700 container mx-auto rounded mt-2 text-center py-8 text-white max-w-screen-lg",children:t?Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("div",{className:"text-6xl",children:Object(m.jsx)(h.a,{className:"text-white "})}),Object(m.jsx)("h2",{className:"text-2xl font-bold pt-2 ",children:"The algorithm is running, please wait"}),Object(m.jsx)("p",{className:"text-gray-300",children:"Please don't close the window before the algorithm finish executing"}),Object(m.jsxs)("div",{className:"flex  px-10 pt-6 border-t mt-3 border-blue-900",children:[Object(m.jsxs)("div",{className:" border-r flex-1 border-white p-2 max-w-screen-md mx-auto ",children:[Object(m.jsx)("h3",{className:"pb-2 text-2xl font-bold text-left",children:"Process"}),["Getting a district","Getting candidates who requested this district","Getting vacants","Picking the righ candidates based on the (criterials)","Transfering selected candidate","Finalizing transfer on the selected district"].map((function(e,t){return Object(m.jsx)("section",{className:"text-left text-lg px-2 bg-blue-800 bg-opacity-30 rounded mb-1 animate__animated animate__fadeIn animate__slow ".concat(t>=6?"animate__delay-1m":"animate__delay-".concat(t,"s"),"  "),children:e},t)}))]}),Object(m.jsxs)("div",{className:"p-2 flex-1 pl-8",children:[Object(m.jsx)("h3",{className:"pb-2 text-2xl font-bold text-left",children:"Criteria"}),Object(m.jsxs)("ul",{className:"text-left",children:[Object(m.jsx)("li",{children:"Disability"}),Object(m.jsx)("li",{children:"Martial status"}),Object(m.jsxs)("li",{children:["Sex ","(Female)"]}),Object(m.jsxs)("li",{children:["DOB ","(oldest)"]}),Object(m.jsxs)("li",{children:["Experience ","(hire date)"," highest"]}),Object(m.jsx)("li",{children:"Date of application"})]})]})]})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.b,{size:100,className:"mx-auto opacity-40"}),Object(m.jsx)("h2",{className:"text-3xl pt-3",children:"Start transfer algorithm "}),Object(m.jsxs)("p",{className:"opacity-80",children:["The algorithm will start transferring ",Object(m.jsx)("br",{})," the candidates who match the criteria"]}),Object(m.jsx)("button",{onClick:s,disabled:t,className:"p-3 border border-white rounded bg-gradient-to-r from-yellow-600 to-yellow-700 text-lg font-bold px-3 mt-4",children:"Start algorithm"})]})})})},u=s(25),O=s(20),p=s(52),f=s(13),N=s(34),g=s(108),_=s(139),v=s.n(_),y=s(27),w=s(125),S=s(28),T=function(e){var t=e.close,s=e.district,c=Object(i.useState)(!0),a=Object(O.a)(c,2),r=a[0],l=a[1],n=Object(i.useState)([]),o=Object(O.a)(n,2),d=o[0],j=o[1],x=Object(i.useState)(""),u=Object(O.a)(x,2),p=u[0],f=u[1];return Object(i.useEffect)((function(){!0===r&&Object(b.f)(s.district_code,(function(e,t,s){l(!1),!0===e?j(t):f(s)}))}),[s.district_code,r]),Object(m.jsxs)(N.a,{className:"animate__animated animate__zoomIn animate__faster",children:[""!==p&&Object(m.jsx)(S.a,{theme:"danger",children:p}),Object(m.jsxs)("div",{className:"p-1 pb-4 flex items-center border-b",children:[Object(m.jsxs)("section",{className:"flex-1  flex items-center",children:[Object(m.jsx)(y.a,{size:"md",theme:"accent-light",onClick:t,children:"Back"}),Object(m.jsxs)("h3",{className:"text-3xl pl-2 font-bold text-gray-600",children:[s.district_name," district's candidates"]})]}),Object(m.jsx)("section",{children:!1===r&&Object(m.jsx)(w.a,{fileData:d.map((function(e){var t,s,c;return{names:e.teacher_full_name,phone:e.teacher_phone_number,position_code:e.position_code,position_name:e.position_name,qualification:e.qualification_name,current_school:"".concat(e.school_from_info.school_code," - ").concat(e.school_from_info.school_name," (").concat(e.school_from_info.district_name,")"),requested_schools:e.requested_school_info.map((function(e){return" ".concat(e.school_code," - ").concat(e.school_name," (").concat(e.district_name,"), ")})),comment:e.teacher_comment,requested_date:e.teacher_requested_transfer_date,transfer_status:e.requested_status,approved_school:null!==(t=e.approved_school_info)&&void 0!==t&&t.school_code?"".concat(null===(s=e.approved_school_info)||void 0===s?void 0:s.school_code," - ").concat(null===(c=e.approved_school_info)||void 0===c?void 0:c.school_name):"",transfer_date:e.incoming_decision_date}})),fileName:"".concat(s.district_name," Transfer requests candidates"),btnName:"Download EXCEL"})})]}),r?Object(m.jsx)("div",{className:"p-1 text-center py-8",children:Object(m.jsx)(h.a,{})}):Object(m.jsx)("div",{className:"t-2",children:Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"p-2 border-1",children:"#"}),Object(m.jsx)("td",{className:"p-2 border",children:"Names"}),Object(m.jsx)("td",{className:"p-2 border",children:"Phone"}),Object(m.jsx)("td",{className:"p-2 border",children:"Position code"}),Object(m.jsx)("td",{className:"p-2 border",children:"Position name"}),Object(m.jsx)("td",{className:"p-2 border",children:"Qualification"}),Object(m.jsxs)("td",{className:"p-2 border",children:["Current school","(current)"]}),Object(m.jsxs)("td",{className:"p-2 border",children:["Requested school","(s)"]}),Object(m.jsx)("td",{className:"p-2 border",children:"Comment"}),Object(m.jsx)("td",{className:"p-2 border",children:"Requested date"}),Object(m.jsx)("td",{className:"p-2 border",children:"Status"}),Object(m.jsx)("td",{className:"p-2 border",children:"Approved school"}),Object(m.jsx)("td",{className:"p-2 border",children:"Transferred date"})]})}),Object(m.jsx)("tbody",{children:d.map((function(e,t){var s,c;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"p-2 border-1",children:t+1}),Object(m.jsx)("td",{className:"p-2 border",children:e.teacher_full_name}),Object(m.jsx)("td",{className:"p-2 border",children:e.teacher_phone_number}),Object(m.jsx)("td",{className:"p-2 border",children:e.position_code}),Object(m.jsx)("td",{className:"p-2 border",children:e.position_name}),Object(m.jsx)("td",{className:"p-2 border",children:e.qualification_name}),Object(m.jsxs)("td",{className:"p-2 border",children:[e.school_from_info.school_code," ","(",e.school_from_info.district_name,") "]}),Object(m.jsx)("td",{className:"p-2 border",children:e.requested_school_info.map((function(e){return"".concat(e.school_code," - ").concat(e.school_name," (").concat(e.district_name,")")}))}),Object(m.jsx)("td",{className:"p-2 border",children:e.teacher_comment}),Object(m.jsx)("td",{className:"p-2 border",children:e.teacher_requested_transfer_date}),Object(m.jsx)("td",{className:"p-2 border",children:e.requested_status}),Object(m.jsx)("td",{className:"p-2 border",children:e.approved_school_info?"".concat(null===(s=e.approved_school_info)||void 0===s?void 0:s.school_code," - ").concat(null===(c=e.approved_school_info)||void 0===c?void 0:c.school_name):""}),Object(m.jsx)("td",{className:"p-2 border",children:e.incoming_decision_date})]},t)}))})]})})]})},R=function(e){var t=e.close,s=e.district,c=Object(i.useState)({msg:"",target:null}),a=Object(O.a)(c,2),r=a[0],l=a[1],n=Object(i.useState)(!0),o=Object(O.a)(n,2),d=o[0],j=o[1],h=Object(i.useState)(!1),x=Object(O.a)(h,2),u=x[0],g=x[1],_=Object(i.useState)(null),R=Object(O.a)(_,2),k=R[0],D=R[1];Object(i.useEffect)((function(){!0===d&&Object(b.P)(s.district_code,"1",(function(e,t,s){e?D(t):l({target:"error",msg:s}),j(!1)}))}),[s.district_code,d]);var q={options:{plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!0},chart:{id:"basic-bar",stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},xaxis:{categories:k?k.transfers_requests.map((function(e){return[e.position_code,e.position_name]})):[]}},series:[{name:"Female",data:k?k.transfers_requests.map((function(e){return e.female})):[]},{name:"Male",data:k?k.transfers_requests.map((function(e){return e.male})):[]}]};return null==k?Object(m.jsx)(N.a,{children:Object(m.jsx)("h2",{children:"No data found"})}):!0===u?Object(m.jsx)(T,{district:s,close:function(){return g(!1)}}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"lg:sticky top-10 z-50",children:Object(m.jsxs)(N.a,{noPadding:!0,className:"flex py-2 mx-2 px-3 flex-col items-center lg:flex-row",children:["error"===r.target&&Object(m.jsx)(S.a,{theme:"danger",children:r.msg}),"success"===r.target&&Object(m.jsx)(S.a,{theme:"success",children:r.msg}),Object(m.jsx)("div",{className:"pr-2",children:Object(m.jsx)(y.a,{theme:"danger-light",onClick:t,children:"Back"})}),Object(m.jsx)("div",{className:"flex-1",children:Object(m.jsxs)("h1",{className:"text-2xl font-bold",children:[s.district_name," district"," "]})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(y.a,{theme:"accent-light",onClick:function(){return g(!0)},children:"View candidates list"})})]})}),Object(m.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster",children:[Object(m.jsx)(N.a,{className:"px-2 grid-col-2 grid sm:grid-cols-3 xl:grid-cols-6 gap-2 pt-3",noPadding:!0,transparent:!0,children:[{icon:f.t,title:"Total candidates",value:k.male+k.female},{icon:p.b,title:"Female",value:k.female},{icon:p.c,title:"Total male",value:k.male},{icon:f.t,title:"Total positions",value:k.transfers_requests.length},{icon:f.K,title:"Married",value:k.married,value_2:k.transfers_requests.length},{icon:f.a,title:"With disability",value:k.disability}].map((function(e,t){var s=e.icon;return Object(m.jsxs)("div",{className:"flex items-center p-1 rounded border bg-white",children:[Object(m.jsx)("section",{className:"m-3 text-4xl bg-yellow-600 bg-opacity-10 rounded-full p-2 text-yellow-800",children:Object(m.jsx)(s,{})}),Object(m.jsxs)("section",{children:[Object(m.jsx)("h5",{className:"text-gray-500 m-0",children:e.title}),Object(m.jsxs)("h2",{className:"text-yellow-800 font-bold text-3xl -mt-1",children:[e.value," ",(null===e||void 0===e?void 0:e.value_2)&&Object(m.jsxs)("span",{className:"font-light text-gray-400",children:["of ",null===e||void 0===e?void 0:e.value_2]})]})]})]},t)}))}),Object(m.jsx)(N.a,{className:"",children:Object(m.jsx)(v.a,{options:q.options,series:q.series,type:"bar",width:"100%",height:500})}),Object(m.jsxs)(N.a,{className:"",children:[Object(m.jsxs)("div",{className:"p-1 pb-4 flex items-center",children:[Object(m.jsx)("section",{className:"flex-1",children:Object(m.jsx)("h3",{className:"text-2xl font-bold text-gray-600",children:"Transfer requests"})}),Object(m.jsx)("section",{children:Object(m.jsx)(w.a,{fileData:k.transfers_requests,fileName:"".concat(s.district_name," District Total Transfer"),btnName:"Download EXCEL"})})]}),Object(m.jsxs)("table",{className:"w-full text-left border-collapse",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"p-2 border",children:"#"}),Object(m.jsx)("th",{className:"p-2 border",children:"Position code"}),Object(m.jsx)("th",{className:"p-2 border",children:"Position name"}),Object(m.jsx)("th",{className:"p-2 border",children:"Qualification"}),Object(m.jsx)("th",{className:"p-2 border",children:"Male"}),Object(m.jsx)("th",{className:"p-2 border",children:"Female"}),Object(m.jsx)("th",{className:"p-2 border",children:"Married"}),Object(m.jsx)("th",{className:"p-2 border",children:"Single"}),Object(m.jsx)("th",{className:"p-2 border",children:"Disability"}),Object(m.jsx)("th",{className:"p-2 border",children:"Total"})]})}),Object(m.jsx)("tbody",{children:k.transfers_requests.map((function(e,t){return Object(m.jsxs)("tr",{className:"".concat(t%2?"":"bg-gray-100"," hover:bg-blue-300 bg-opacity-20 cursor-pointer"),children:[Object(m.jsx)("td",{className:"p-2 border",children:t+1}),Object(m.jsx)("td",{className:"p-2 border",children:e.position_code}),Object(m.jsx)("td",{className:"p-2 border",children:e.position_name}),Object(m.jsx)("td",{className:"p-2 border",children:e.qualification_name}),Object(m.jsx)("td",{className:"p-2 border bg-green-200 bg-opacity-30 font-bold text-green-900",children:e.male}),Object(m.jsx)("td",{className:"p-2 border bg-blue-200 bg-opacity-30 font-bold text-blue-800",children:e.female}),Object(m.jsx)("td",{className:"p-2 border bg-blue-200 bg-opacity-30 font-bold text-blue-800",children:e.married}),Object(m.jsx)("td",{className:"p-2 border bg-blue-200 bg-opacity-30 font-bold text-blue-800",children:e.single}),Object(m.jsx)("td",{className:"p-2 border bg-yellow-200 bg-opacity-30 font-bold text-yellow-700",children:e.disability}),Object(m.jsx)("td",{className:"p-2 border bg-yellow-200 bg-opacity-30 font-bold text-yellow-700",children:e.male+e.female})]},t)}))})]})]})]})]})},k=void 0,D=function(){var e=Object(i.useState)({total_transfer_request:0,female:0,male:0,single:0,married:0,disability:0}),t=Object(O.a)(e,2),s=t[0],c=t[1],a=Object(i.useState)([]),r=Object(O.a)(a,2),l=r[0],n=r[1],o=Object(i.useState)([]),d=Object(O.a)(o,2),j=d[0],x=d[1],_=Object(i.useState)(!1),y=Object(O.a)(_,2),T=y[0],D=y[1],q=Object(i.useState)("0"),E=Object(O.a)(q,2),C=E[0],A=E[1],F=Object(i.useState)(!0),P=Object(O.a)(F,2),M=P[0],I=P[1],G=Object(i.useState)({msg:"",target:null}),L=Object(O.a)(G,2),z=L[0],H=L[1];Object(i.useEffect)((function(){!0===M&&Object(b.O)("1","0",(function(e,t,s){!1===e&&H({target:"main-error",msg:s}),null!==t&&(n(t.transfers_requests),c(t.transfer_total),x(t.vacant_posts)),I(!1)}))}),[M]);var B=Object(i.useState)(!0),V=Object(O.a)(B,2),U=V[0],Q=V[1],X=Object(i.useState)(null),Y=Object(O.a)(X,2),J=Y[0],K=Y[1],W=function(e,t,s){var c=l[s.dataPointIndex];c&&K(c)},$={options:{chart:{id:"basic-bar-vacant-vs-bar",stacked:!1,toolbar:{show:!0},zoom:{enabled:!0},events:{dataPointSelection:W}},xaxis:{categories:l.map((function(e){return e.district_name}))}},series:[{name:"Vacant posts",data:l.map((function(e){return e.district_vacant}))},{name:"Requests",data:l.map((function(e){return e.total_transfer_request}))}]},Z={options:{chart:{id:"basic-bar",stacked:!0,toolbar:{show:!0},zoom:{enabled:!0},events:{dataPointSelection:W}},colors:["#b73377","#2ea9d9"],xaxis:{categories:l.map((function(e){return e.district_name}))}},series:[{name:"Female",data:l.map((function(e){return e.total_female}))},{name:"Male",data:l.map((function(e){return e.total_male}))}]};return null!==J?Object(m.jsx)(R,{district:J,close:K.bind(k,null)}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"lg:sticky top-10 z-50",children:["main-error"===z.target&&Object(m.jsx)(S.a,{theme:"danger",children:z.msg}),"main-success"===z.target&&Object(m.jsx)(S.a,{theme:"success",children:z.msg}),Object(m.jsxs)(N.a,{noPadding:!0,className:"flex p-0.5 mx-2 px-3 flex-col items-center lg:flex-row",children:[Object(m.jsxs)("div",{className:"flex-1",children:[Object(m.jsx)("h1",{className:"text-2xl font-bold",children:"Transfer Requests"}),Object(m.jsx)("h2",{className:"text-lg text-accent-900",children:"2020 - 2022"})]}),Object(m.jsx)("div",{className:"p-1  flex-1 gap-x-2",children:Object(m.jsx)(g.a,{onChange:function(e){return t=e.target.value,A(t),D(!0),void Object(b.O)("1",t,(function(e,s,a){!1===e&&H({target:"main-error",msg:a}),null!==s&&(n(s.transfers_requests),c(s.transfer_total),"0"===t&&x(s.vacant_posts)),I(!1),D(!1)}));var t},size:"xs",Label_className:"text-sm opacity-80",value:C,error:"",label:"Position",placeholder:"",name:"",disabled:T,data:[{title:"All positions",value:"0"}].concat(Object(u.a)(j.map((function(e){return{title:"".concat(e.position_code," - ").concat(e.position_name),value:e.position_code}}))))})})]})]}),!0===T||!0===M?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"py-10 text-center",children:Object(m.jsx)(h.a,{})})}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(N.a,{className:"px-2 grid-col-2 grid md:grid-cols-3 lg:grid-cols-5 gap-2 pt-3",noPadding:!0,transparent:!0,children:[{icon:f.t,title:"Transfers request",value:s.total_transfer_request},{icon:p.b,title:"Female",value:s.female},{icon:p.c,title:"Total male",value:s.male},{icon:f.K,title:"Married",value:s.married,value_2:s.total_transfer_request},{icon:f.a,title:"With disability",value:s.disability}].map((function(e,t){var s=e.icon;return Object(m.jsxs)("div",{className:"flex items-center p-1 rounded border bg-white",children:[Object(m.jsx)("section",{className:"m-3 text-4xl bg-yellow-600 bg-opacity-10 rounded-full p-2 text-yellow-800",children:Object(m.jsx)(s,{})}),Object(m.jsxs)("section",{children:[Object(m.jsx)("h5",{className:"text-gray-500 m-0",children:e.title}),Object(m.jsxs)("h2",{className:"text-yellow-800 font-bold text-3xl -mt-1",children:[e.value," ",(null===e||void 0===e?void 0:e.value_2)&&Object(m.jsxs)("span",{className:"font-light text-gray-400",children:["of ",null===e||void 0===e?void 0:e.value_2]})]})]})]},t)}))}),Object(m.jsxs)(N.a,{className:"",children:[Object(m.jsxs)("section",{className:"p-1 bg-yellow-700 bg-opacity-10 rounded-lg text-sm w-80 mx-auto flex",children:[Object(m.jsx)("button",{className:"px-2 flex-1 ".concat(!0===U?"bg-yellow-600 text-white":"text-black"," py-1 rounded-lg"),onClick:Q.bind(k,!0),children:"Vacant vs Requests"}),Object(m.jsxs)("button",{className:"px-2 flex-1 ".concat(!1===U?"bg-yellow-600 text-white":"text-black"," py-1 rounded-lg"),onClick:Q.bind(k,!1),children:["District ","&"," Gender"]})]}),Object(m.jsx)(v.a,{options:U?$.options:Z.options,series:U?$.series:Z.series,type:"bar",width:"100%",height:500})]}),Object(m.jsxs)(N.a,{className:"",children:[Object(m.jsxs)("div",{className:"p-1 pb-4 flex items-center",children:[Object(m.jsx)("section",{className:"flex-1",children:Object(m.jsx)("h3",{className:"text-2xl font-bold text-gray-600",children:"Transfer requests"})}),Object(m.jsx)("section",{children:Object(m.jsx)(w.a,{fileData:l,fileName:"TRANSFER REQUESTS REPORT ".concat("0"===C?"on country level":" on ".concat(J," position")),btnName:"Download EXCEL"})})]}),Object(m.jsxs)("table",{className:"w-full text-left border-collapse",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"p-2 border",children:"#"}),Object(m.jsx)("th",{className:"p-2 border",children:"District id"}),Object(m.jsx)("th",{className:"p-2 border",children:"DIstrict name"}),Object(m.jsx)("th",{className:"p-2 border",children:"Male"}),Object(m.jsx)("th",{className:"p-2 border",children:"Female"}),Object(m.jsx)("th",{className:"p-2 border",children:"Total"}),Object(m.jsx)("th",{className:"p-2 border",children:"Vacant posts"})]})}),Object(m.jsx)("tbody",{children:l.map((function(e,t){return Object(m.jsxs)("tr",{className:"".concat(t%2?"":"bg-gray-100"," hover:bg-blue-300 bg-opacity-20 cursor-pointer"),children:[Object(m.jsx)("td",{className:"p-2 border",children:t+1}),Object(m.jsx)("td",{className:"p-2 border",children:e.district_code}),Object(m.jsx)("td",{className:"p-2 border",children:e.district_name}),Object(m.jsx)("td",{className:"p-2 border ".concat(!1===U?"bg-green-200 bg-opacity-30 font-bold text-green-900":""),children:e.total_male}),Object(m.jsx)("td",{className:"p-2 border ".concat(!1===U?"bg-blue-200 bg-opacity-30 font-bold text-blue-800":""),children:e.total_female}),Object(m.jsx)("td",{className:"p-2 border ".concat(!0===U?"bg-yellow-200 bg-opacity-30 font-bold text-yellow-700":""),children:e.total_transfer_request}),Object(m.jsx)("td",{className:"p-2 border ".concat(!0===U?"bg-blue-200 bg-opacity-30 font-bold text-blue-800":""),children:e.district_vacant})]},t)}))})]})]})]})]})},q=new Uint8Array(16);function E(){if(!c&&!(c="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(q)}var C=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var A=function(e){return"string"===typeof e&&C.test(e)},F=[],P=0;P<256;++P)F.push((P+256).toString(16).substr(1));var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=(F[e[t+0]]+F[e[t+1]]+F[e[t+2]]+F[e[t+3]]+"-"+F[e[t+4]]+F[e[t+5]]+"-"+F[e[t+6]]+F[e[t+7]]+"-"+F[e[t+8]]+F[e[t+9]]+"-"+F[e[t+10]]+F[e[t+11]]+F[e[t+12]]+F[e[t+13]]+F[e[t+14]]+F[e[t+15]]).toLowerCase();if(!A(s))throw TypeError("Stringified UUID is invalid");return s};var I,G=function(e,t,s){var c=(e=e||{}).random||(e.rng||E)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t){s=s||0;for(var a=0;a<16;++a)t[s+a]=c[a];return t}return M(c)},L=s(55),z=function(e){var t=e.round,s=t.candidates,c=t.district_name,a=t.email,r=t.full_name,l=t.phone_numbers,n=t.round_id,o=t.schools,d=t.total_candidate_request_transfer,b=t.total_schools,j=t.total_transferred,h=Object(i.useState)("2"),x=Object(O.a)(h,2),u=x[0],p=x[1];return Object(m.jsxs)("div",{className:"p-2 bg-white mb-3 rounded shadow ",children:[Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("section",{className:"text-3xl text-blue-400 pr-2",children:Object(m.jsx)(L.f,{})}),Object(m.jsxs)("section",{className:"flex-1",children:[Object(m.jsxs)("h3",{className:"font-bold text-lg",children:[c," district"]}),Object(m.jsxs)("p",{className:"text-sm -mt-1 text-gray-400",children:["Round: ",Object(m.jsx)("b",{children:n})]})]}),Object(m.jsx)("div",{className:"flex",children:[{title:"Total requests",value:d,className:"text-yellow-800 bg-yellow-800 bg-opacity-5 rounded mx-1 border"},{title:"Total schools",value:b,className:"text-blue-800 bg-blue-800 bg-opacity-5 rounded mx-1 border"},{title:"Transferred",value:j,className:"text-green-800 bg-green-800 bg-opacity-5 rounded mx-1 border"}].map((function(e,t){return Object(m.jsxs)("section",{className:"px-2  ".concat(e.className),children:[Object(m.jsx)("label",{className:"text-sm ",children:e.title}),Object(m.jsx)("h2",{className:"text-xl font-bold -mt-1",children:e.value})]},t)}))})]}),Object(m.jsxs)("div",{className:"mx-auto text-center",children:[Object(m.jsx)(y.a,{theme:"2"===u?"accent-light":"default",size:"sm",onClick:function(){return p("2")},children:"Transferred candidates"}),Object(m.jsx)(y.a,{theme:"1"===u?"accent-light":"default",size:"sm",onClick:function(){return p("1")},children:"Transfers requests"})]}),Object(m.jsxs)("div",{className:"border-t mt-2",children:["1"===u&&Object(m.jsxs)("table",{className:"border w-full",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"p-1 border",children:"#"}),Object(m.jsx)("th",{className:"p-1 border",children:"Position code"}),Object(m.jsx)("th",{className:"p-1 border",children:"School code"}),Object(m.jsx)("th",{className:"p-1 border",children:"Vacant"})]})}),Object(m.jsx)("tbody",{children:o.length<=0?Object(m.jsx)("tr",{children:Object(m.jsx)("td",{className:"py-8 text-center"})}):o.map((function(e,t){return Object(m.jsxs)("tr",{className:"hover:bg-yellow-800 hover:bg-opacity-20",children:[Object(m.jsx)("td",{className:"p-1 border",children:t+1}),Object(m.jsx)("td",{className:"p-1 border",children:e.position_id}),Object(m.jsx)("td",{className:"p-1 border",children:e.school_code}),Object(m.jsx)("td",{className:"p-1 border",children:e.vacant_posts})]},t)}))})]}),"2"===u&&Object(m.jsxs)("table",{className:"border w-full",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"p-1 border",children:"#"}),Object(m.jsx)("th",{className:"p-1 border",children:"Candidate"}),Object(m.jsx)("th",{className:"p-1 border",children:"Position"}),Object(m.jsx)("th",{className:"p-1 border",children:"School"}),Object(m.jsx)("th",{className:"p-1 border",children:"DOB"}),Object(m.jsx)("th",{className:"p-1 border",children:"Hire date"}),Object(m.jsx)("th",{className:"p-1 border",children:"Martial.."}),Object(m.jsx)("th",{className:"p-1 border",children:"Gender"}),Object(m.jsx)("th",{className:"p-1 border",children:"Disability"}),Object(m.jsx)("th",{className:"p-1 border",children:"Schools"}),Object(m.jsx)("th",{className:"p-1 border",children:"Date of app"})]})}),Object(m.jsx)("tbody",{children:s.length<=0?Object(m.jsx)("tr",{children:Object(m.jsx)("td",{colSpan:8,className:"py-8 text-center",children:Object(m.jsx)("h1",{children:"No candidates found!"})})}):s.map((function(e,t){return Object(m.jsxs)("tr",{className:"text-sm text-center hover:bg-yellow-800 hover:bg-opacity-10",children:[Object(m.jsx)("td",{className:"p-0.5 border",children:t+1}),Object(m.jsx)("td",{className:"p-0.5 border",title:"Candidate",children:e.name}),Object(m.jsx)("td",{className:"p-0.5 border",title:"Position id",children:e.position_id}),Object(m.jsx)("td",{className:"p-0.5 border",title:"School code",children:e.school_code}),Object(m.jsx)("td",{className:"p-0.5 border text-sm",title:"DOB",children:e.dob}),Object(m.jsx)("td",{className:"p-0.5 border text-sm",title:"Hired date",children:e.hire_date}),Object(m.jsx)("td",{className:"p-0.5 border",title:"Martial status",children:e.martial_status}),Object(m.jsx)("td",{className:"p-0.5 border",title:"Gender",children:e.sex}),Object(m.jsx)("td",{className:"p-0.5 border text-center",title:"Disability",children:!0===e.disability?Object(m.jsx)("span",{className:"p-1 rounded bg-red-200 text-red-800 font-bold px-2",children:"No"}):Object(m.jsx)("span",{className:"p-1 rounded bg-red-200 text-red-800 font-bold px-2",children:"Yes"})}),Object(m.jsx)("td",{className:"p-0.5 border",children:e.schools.map((function(t){return Object(m.jsx)("span",{className:"inline-block p-1 ".concat(e.school_code===t?"text-green-800 bg-green-200":"bg-gray-200 text-black","  mx-1 rounded font-bold"),title:e.school_code===t?"Approved":"Rejected",children:t},t)}))}),Object(m.jsx)("td",{className:"p-0.5 border",title:"Date of application",children:e.date_of_application})]},t)}))})]}),Object(m.jsxs)("div",{className:"py-2 text-sm text-gray-500",children:["Done by:"," ",Object(m.jsxs)("label",{className:"font-bold text-black",children:[r," ","(",a," | ",l,")"]})]})]})]})},H=s(29),B=function(e){var t=e.candidates,s=e.schools,c=Object(i.useState)("2"),a=Object(O.a)(c,2),r=a[0],l=a[1];return Object(m.jsxs)("div",{className:"p-2 bg-white mb-3  shadow ",children:[Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("div",{className:"flex items-center",children:Object(m.jsxs)("div",{className:"flex",children:["2"===r&&Object(m.jsxs)("section",{className:"px-2  text-yellow-800 bg-yellow-800 bg-opacity-5 rounded mx-1 border",children:[Object(m.jsx)("label",{className:"text-sm ",children:"Total placed"}),Object(m.jsx)("h2",{className:"text-xl font-bold -mt-1",children:t.length})]}),"1"===r&&Object(m.jsxs)("section",{className:"px-2  text-yellow-800 bg-yellow-800 bg-opacity-5 rounded mx-1 border",children:[Object(m.jsx)("label",{className:"text-sm ",children:"Total schools"}),Object(m.jsx)("h2",{className:"text-xl font-bold -mt-1",children:s.length})]})]})}),Object(m.jsx)("div",{className:"flex-1 text-center",children:Object(m.jsxs)("div",{className:"p-1 mx-auto bg-gray-200 rounded-lg inline-block",children:[Object(m.jsx)("button",{className:"p-1 ".concat("2"===r?"bg-yellow-600 text-white":""," rounded-lg px-3"),onClick:function(){return l("2")},children:"Transferred candidates"}),Object(m.jsx)("button",{className:"p-1 ".concat("1"===r?"bg-yellow-600 text-white":""," rounded-lg px-3"),onClick:function(){return l("1")},children:"Transfers requests"})]})}),Object(m.jsxs)("div",{children:["2"===r&&Object(m.jsx)(w.a,{fileData:t.map((function(e){return{transfer_id:e.teacher_transfer_id,user_id:e.user_id,candidate:e.name,school_code:e.school_code,disability:e.disability,dob:e.dob,sex:e.sex,martial_status:e.martial_status,hire_date:e.hire_date,date_of_application:e.date_of_application,district_code:e.district_id,position_code:e.position_id,requested_schools:e.schools.join(", "),assigned_school_code:e.school_code,transferred:e.transferred}})),fileName:"TRANSFERRED CANDIDATE ALGORITHM",btnName:"Download EXCEL (Transferred candidates)"}),"1"===r&&Object(m.jsx)(w.a,{fileData:s,fileName:"TRANSFER REQUESTS REPORT ",btnName:"Download EXCEL (Transfer reports)"})]})]}),Object(m.jsxs)("div",{className:"border-t mt-2",children:["1"===r&&Object(m.jsxs)("table",{className:"border w-full",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"p-1 border",children:"#"}),Object(m.jsx)("th",{className:"p-1 border",children:"Position code"}),Object(m.jsx)("th",{className:"p-1 border",children:"School code"}),Object(m.jsx)("th",{className:"p-1 border",children:"Vacant"})]})}),Object(m.jsx)("tbody",{children:s.length<=0?Object(m.jsx)("tr",{children:Object(m.jsx)("td",{className:"py-8 text-center"})}):s.map((function(e,t){return Object(m.jsxs)("tr",{className:"hover:bg-yellow-800 hover:bg-opacity-20",children:[Object(m.jsx)("td",{className:"p-1 border",children:t+1}),Object(m.jsx)("td",{className:"p-1 border",children:e.position_id}),Object(m.jsx)("td",{className:"p-1 border",children:e.school_code}),Object(m.jsx)("td",{className:"p-1 border",children:e.vacant_posts})]},t)}))})]}),"2"===r&&Object(m.jsxs)("table",{className:"border w-full",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"p-1 border",children:"#"}),Object(m.jsx)("th",{className:"p-1 border",children:"Candidate"}),Object(m.jsx)("th",{className:"p-1 border",children:"Position"}),Object(m.jsx)("th",{className:"p-1 border",children:"School"}),Object(m.jsx)("th",{className:"p-1 border",children:"DOB"}),Object(m.jsx)("th",{className:"p-1 border",children:"Hire date"}),Object(m.jsx)("th",{className:"p-1 border",children:"Martial.."}),Object(m.jsx)("th",{className:"p-1 border",children:"Gender"}),Object(m.jsx)("th",{className:"p-1 border",children:"Disability"}),Object(m.jsx)("th",{className:"p-1 border",children:"Schools"}),Object(m.jsx)("th",{className:"p-1 border",children:"Date of app"})]})}),Object(m.jsx)("tbody",{children:t.length<=0?Object(m.jsx)("tr",{children:Object(m.jsx)("td",{colSpan:8,className:"py-8 text-center",children:Object(m.jsx)("h1",{children:"No candidates found!"})})}):t.map((function(e,t){return Object(m.jsxs)("tr",{className:"text-sm text-center hover:bg-yellow-800 hover:bg-opacity-10",children:[Object(m.jsx)("td",{className:"p-0.5 border",children:t+1}),Object(m.jsx)("td",{className:"p-0.5 border",title:"Candidate",children:e.name}),Object(m.jsx)("td",{className:"p-0.5 border",title:"Position id",children:e.position_id}),Object(m.jsx)("td",{className:"p-0.5 border",title:"School code",children:e.school_code}),Object(m.jsx)("td",{className:"p-0.5 border text-sm",title:"DOB",children:e.dob}),Object(m.jsx)("td",{className:"p-0.5 border text-sm",title:"Hired date",children:e.hire_date}),Object(m.jsx)("td",{className:"p-0.5 border",title:"Martial status",children:e.martial_status}),Object(m.jsx)("td",{className:"p-0.5 border",title:"Gender",children:e.sex}),Object(m.jsx)("td",{className:"p-0.5 border text-center",title:"Disability",children:!0===e.disability?Object(m.jsx)("span",{className:"p-1 rounded bg-red-200 text-red-800 font-bold px-2",children:"No"}):Object(m.jsx)("span",{className:"p-1 rounded bg-red-200 text-red-800 font-bold px-2",children:"Yes"})}),Object(m.jsx)("td",{className:"p-0.5 border",children:e.schools.map((function(t){return Object(m.jsx)("span",{className:"inline-block p-1 ".concat(e.school_code===t?"text-green-800 bg-green-200":"bg-gray-200 text-black","  mx-1 rounded font-bold"),title:e.school_code===t?"Approved":"Rejected",children:t},t)}))}),Object(m.jsx)("td",{className:"p-0.5 border",title:"Date of application",children:e.date_of_application})]},t)}))})]})]})]})},V=function(e){var t=e.rounds,s=Object(i.useState)("table-view"),c=Object(O.a)(s,2),a=c[0],r=c[1],l=Object(i.useMemo)((function(){var e,s=[],c=[],a=Object(H.a)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;s=[].concat(Object(u.a)(s),Object(u.a)(r.candidates)),c=[].concat(Object(u.a)(c),Object(u.a)(r.schools))}}catch(l){a.e(l)}finally{a.f()}return{candidates:s,schools:c}}),[t]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(N.a,{children:Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsxs)("div",{className:"flex-1",children:[Object(m.jsx)("h2",{className:"text-2xl font-bold",children:"Transfer logs"}),Object(m.jsxs)("p",{children:["Results of algorithm ","(","with the inputs",")"]})]}),Object(m.jsx)("div",{className:"flex-1 text-right",children:Object(m.jsxs)("div",{className:"p-1 bg-gray-200 rounded-lg inline-block",children:[Object(m.jsx)("button",{className:"p-1 ".concat("table-view"===a?"bg-yellow-600 text-white":""," rounded-lg px-3"),onClick:function(){return r("table-view")},children:"Table view"}),Object(m.jsx)("button",{className:"p-1 ".concat("grouped-view"===a?"bg-yellow-600 text-white":""," rounded-lg px-3"),onClick:function(){return r("grouped-view")},children:"Grouped view"})]})})]})}),Object(m.jsx)(N.a,{transparent:!0,children:"grouped-view"===a?Object(m.jsx)("div",{className:"animate__animated animate__zoomIn animate__faster",children:t.map((function(e,t){return Object(m.jsx)(z,{round:e},t)}))}):Object(m.jsx)("div",{className:"animate__animated animate__zoomIn animate__faster",children:Object(m.jsx)(B,{candidates:l.candidates,schools:l.schools})})})]})};!function(e){e.ALGORITHM="ALGORITHM",e.REQUEST_DASHBOARD="REQUEST-DASHBOARD",e.TRANSFER_LOGS="TRANSFER-LOGS"}(I||(I={}));var U=function(e){Object(l.a)(s,e);var t=Object(n.a)(s);function s(e){var c;return Object(a.a)(this,s),(c=t.call(this,e)).startAlgorithm=function(){var e,t,s=null===(e=c.props.auth.user)||void 0===e?void 0:e.user_id,a=null===(t=c.props.basic.academic_calender)||void 0===t?void 0:t.academic_year_id,r=G();return s?a?(c.setState({loading_algorithm:!0,generated_round_id:r,error:{target:null,msg:""}}),void Object(b.gb)({academic_id:a,round_id:r,user_id:s},(function(e,t){c.RecursiveResultsCheck(r)}))):c.setState({error:{target:"main-error",msg:"No academic calendar found, please refresh your browser"}}):c.setState({error:{target:"main-error",msg:"Your credentials are not valid, please refresh your browser"}})},c.selectTab=function(e){return c.setState({tab:e})},c.state={loading:!1,tab:I.ALGORITHM,loading_algorithm:!1,generated_round_id:null,error:{target:null,msg:""},rounds:[],all_rounds:[]},c}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this;Object(b.E)("1",(function(t,s,c){t?e.setState({all_rounds:s}):e.setState({error:{target:"main-error",msg:c}})}))}},{key:"RecursiveResultsCheck",value:function(e){var t=this;Object(b.F)(e,(function(s,c,a){!0===s?t.setState({rounds:c,loading_algorithm:!1,error:{target:"main-success",msg:"The process executed successfully, check the results below"}}):setTimeout((function(){t.RecursiveResultsCheck(e)}),7e3)}))}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"mx-auto ".concat(this.state.tab===I.ALGORITHM?"max-w-screen-lg":""),children:[Object(m.jsx)("div",{className:"p-2",children:Object(m.jsx)("section",{className:" max-w-screen-sm mx-auto grid grid-cols-3 text-center p-1 rounded-lg border  bg-white  w-auto",children:[{key:I.REQUEST_DASHBOARD,title:"Transfer requests"},{key:I.ALGORITHM,title:"Algorithm"},{key:I.TRANSFER_LOGS,title:"Transfer logs"}].map((function(t){return Object(m.jsx)("button",{onClick:e.selectTab.bind(e,t.key),className:"p-1.5 rounded-lg font-bold ".concat(e.state.tab===t.key?"text-white  bg-yellow-600":""),children:t.title},t.key)}))})}),this.state.tab===I.ALGORITHM&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{loading:this.state.loading_algorithm,startAlgorithm:this.startAlgorithm}),this.state.rounds.length>=1&&Object(m.jsxs)("div",{className:"rounded border mx-3 mt-4",children:[Object(m.jsx)("div",{className:"border-b flex items-center p-3 ",children:Object(m.jsx)("h2",{className:"text-xl",children:"Results"})}),this.state.rounds.map((function(e,t){return Object(m.jsx)(z,{round:e},t)}))]})]}),this.state.tab===I.REQUEST_DASHBOARD&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(D,{})}),this.state.tab===I.TRANSFER_LOGS&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(V,{rounds:this.state.all_rounds})})]})}}]),s}(o.a.Component),Q=Object(d.b)((function(e){return{auth:e.auth,basic:e.basic}}),{})(U)}}]);
//# sourceMappingURL=30.eaa8b4ca.chunk.js.map