(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[38],{400:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var i=a(19),s=a(20),n=a(21),r=a(22),c=a(4),l=a(1),d=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(l.jsx)("div",{className:"bg-black bg-opacity-20 absolute top-0 right-0 left-0 bottom-0 p-2 md:p-10 flex items-center justify-center animate__animated animate__fadeIn h-screen",children:Object(l.jsx)("div",{className:"bg-white rounded-md h-full w-full overflow-y-auto shadow-xl animate__animated animate__fadeInUp ".concat(this.props.className),children:this.props.children})})}}]),a}(c.Component)},401:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var i=a(19),s=a(20),n=a(21),r=a(22),c=a(4),l=a(27),d=a(59),o=a(16),j=a(23),b=a(17),x=a(1),m=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"bg-white border border-primary-300 hover:border-primary-500 mt-3 rounded-md flex flex-col lg:flex-row items-end lg:items-center justify-between gap-2 p-4 group animate__animated animate__fadeIn",children:[Object(x.jsxs)("div",{className:"flex flex-col md:flex-row gap-5 w-full",children:[Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"relative bg-accent-400 text-accent-900 rounded-lg p-4 h-24 w-24",children:[Object(x.jsx)("div",{className:"px-1 rounded-xl bg-primary-700 text-white w-max font-bold absolute text-xs top-0 right-0 -mt-2 -mr-2 animate__animated animate__fadeIn",children:"New"}),Object(x.jsx)("div",{children:Object(x.jsx)(o.S,{className:"text-6xl"})})]})}),Object(x.jsxs)("div",{className:"flex flex-col",children:[Object(x.jsx)("div",{className:"text-lg font-bold mb-1",children:this.props.item.title}),Object(x.jsx)("div",{className:"text-sm text-black font-light",children:this.props.item.description}),Object(x.jsxs)("div",{className:"flex flex-row items-center gap-4 mt-2",children:[Object(x.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(x.jsx)("div",{children:Object(x.jsx)(d.n,{className:"text-3xl text-accent-900"})}),Object(x.jsxs)("div",{className:"flex flex-col",children:[Object(x.jsx)("div",{className:"text-sm text-gray-500",children:"Start date"}),Object(x.jsx)("div",{className:"font-bold text-sm",children:Object(b.a)(this.props.item.start_date,"DD/MM/YYYY")})]})]}),Object(x.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(x.jsx)("div",{className:"h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"}),Object(x.jsx)("div",{className:"h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"}),Object(x.jsx)("div",{className:"h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"}),Object(x.jsx)("div",{className:"hidden md:block h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"}),Object(x.jsx)("div",{className:"hidden md:block h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"}),Object(x.jsx)("div",{className:"hidden md:block h-3 w-3 rounded-full bg-gray-300 group-hover:bg-accent-500"})]}),Object(x.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(x.jsx)("div",{children:Object(x.jsx)(d.n,{className:"text-3xl text-accent-900"})}),Object(x.jsxs)("div",{className:"flex flex-col",children:[Object(x.jsx)("div",{className:"text-sm text-gray-500",children:"Ending date"}),Object(x.jsx)("div",{className:"font-bold text-sm",children:Object(b.a)(this.props.item.end_date,"DD/MM/YYYY")})]})]})]}),Object(x.jsxs)("div",{className:"flex flex-row items-center gap-2 mt-3",children:[Object(x.jsx)("div",{children:Object(x.jsx)(l.k,{className:"text-accent-800"})}),Object(x.jsxs)("span",{className:"text-sm",children:["Provider: ",this.props.item.development_partner_name]})]})]})]}),Object(x.jsx)("div",{className:"",children:Object(x.jsxs)(j.a,{className:"w-40 bg-accent-400 border-accent-500 group-hover:bg-accent-800 group-hover:border-accent-800 group-hover:text-black flex flex-row items-center justify-center gap-2",theme:"accent-light",onClick:this.props.onClick,children:[Object(x.jsx)("span",{children:"More details"}),Object(x.jsx)("div",{children:Object(x.jsx)(l.c,{className:"text-xl"})})]})})]},this.props.i)}}]),a}(c.Component)},612:function(e,t,a){"use strict";a.r(t),a.d(t,"DDETrainingApproval",(function(){return P}));var i=a(40),s=a(26),n=a(19),r=a(20),c=a(21),l=a(22),d=a(4),o=a(41),j=a(93),b=a(16),x=a(36),m=a(13),h=a(3),u=a(10),p=a(6),g=a(7),v=a.n(g),f=a(12),_=a(17),O=function(){var e=Object(p.a)(Object(h.a)().mark((function e(t,a){var i;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0,null),e.prev=1,e.next=4,v.a.get("".concat(f.j,"/district/training/").concat(t));case 4:i=e.sent,console.log("Trainings list: ",i.data),i&&a(!1,{data:i.data,type:"success",msg:"Data loaded successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a(!1,{data:null,type:"error",msg:Object(_.m)(e.t0)}),console.log("Err: ",Object(u.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),N=a(23),y=a(25),w=a(400),k=a(27),S=a(75),T=a(401),C=a(1),D=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).ReturnFilterTrainings=function(){return Object(_.n)(i.props.trainings_list,i.state.search_data)},i.state={loading:!1,search_data:""},i}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"flex flex-row items-center gap-3 justify-between px-2 py-2 pb-4 mb-4 border-b border-gray-300",children:[Object(C.jsxs)("div",{className:"flex flex-row items-center gap-3 w-full",children:[Object(C.jsx)("div",{children:Object(C.jsx)("div",{onClick:this.props.onGoBack,className:"p-1 rounded-full bg-accent-400 h-12 w-12 flex items-center justify-center cursor-pointer",children:Object(C.jsx)(k.a,{className:"text-3xl text-accent-900 animate__animated animate__zoomIn"})})}),Object(C.jsxs)("div",{className:"truncate",children:[Object(C.jsx)("div",{className:"text-xl font-bold",children:"Trainings list"}),Object(C.jsx)("div",{className:"text-gray-500",children:"Choose or select a training from the list"})]})]}),Object(C.jsxs)("div",{className:"relative w-full",children:[Object(C.jsx)("div",{className:"absolute px-3 py-2",children:Object(C.jsx)(S.e,{className:"text-2xl text-gray-600"})}),Object(C.jsx)("input",{type:"search",className:"font-normal bg-gray-100 w-full px-3 pl-12 py-2 rounded",placeholder:"Search...",value:this.state.search_data,onChange:function(t){return e.setState({search_data:t.target.value})}})]})]}),0===this.props.trainings_list.length?Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"flex flex-col items-center justify-center bg-gray-100 rounded-md p-6",children:[Object(C.jsx)("div",{className:"mb-2",children:Object(C.jsx)(k.f,{className:"text-6xl text-gray-300 animate__animated animate__shakeX"})}),Object(C.jsx)("div",{className:"text-xl font-bold",children:"No trainings available"}),Object(C.jsx)("div",{className:"text-sm",children:"No trainings available for the selected district to be approved"})]})}):Object(C.jsx)("div",{children:this.props.trainings_list.map((function(t,a){return Object(C.jsx)(T.a,{i:a+1,item:{centers:[],description:t.description,development_partner_id:t.development_partner_id,development_partner_name:t.development_partner_name,end_date:t.end_date,id:t.id.toString(),implementation_status:t.implementation_status,intervention_area:t.intervantion_area,intervention_area_id:t.intervation_id,partner_type_name:"",start_date:t.start_date,sub_area_id:t.sub_area_id,sub_area_name:t.subarea_name,title:t.title,topic:t.topic_name,topic_id:t.topic_id,total:0,trainee_category:[],trainee_criteria:{positions:[],qualifications:[],levels:[],districts:[],sectors:[],subjects:[],strict:!1},trainee_request_id:"",training_to_group_id:""},onClick:function(){return e.props.onSelected(t)}},a+1)}))})]})}}]),a}(d.Component),G=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).GetDistrictsList=function(){r.setState({loading:!0}),Object(m.K)((function(e,t,a){!0===e&&r.setState({loading:!1,districts_list:t.map((function(e){return{district_code:e.district_code,district_name:e.district_name,province_code:""}})),error:""})}))},r.FC_GetTrainingsListToBeApproved=function(){null!==r.state.selected_district&&O(r.state.selected_district.district_code,(function(e,t){r.setState({loading:e}),null!==t&&"success"===t.type&&null!==t.data&&r.setState({trainings_list:t.data,loading:!1}),null!==t&&"error"===t.type&&r.setState({trainings_list:[],loading:!1,error:t.msg})}))},r.FC_GetTrainingsList=function(){if(null!==r.state.trainings_list){var e,t=[],a=Object(s.a)(r.state.trainings_list);try{var n=function(){var a=e.value;void 0===t.find((function(e){return e.id.toString()===a.id.toString()}))&&(t=[].concat(Object(i.a)(t),[{description:a.description,development_partner_id:a.development_partner_id,development_partner_name:a.development_partner_name,end_date:a.end_date,id:a.id,implementation_status:a.implementation_status,intervantion_area:a.intervantion_area,intervation_id:a.intervation_id,start_date:a.start_date,sub_area_id:a.sub_area_id,subarea_name:a.subarea_name,title:a.title,topic_id:a.topic_id,topic_name:a.topic_name,training_id:a.training_id}]))};for(a.s();!(e=a.n()).done;)n()}catch(c){a.e(c)}finally{a.f()}return t}return[]},r.FC_GetTrainingSchools=function(){if(null===r.state.selected_training||null===r.state.trainings_list)return[];var e=[];if(null!==r.state.selected_training){var t,a=Object(s.a)(r.state.trainings_list.filter((function(e){var t;return e.id===(null===(t=r.state.selected_training)||void 0===t?void 0:t.id)})));try{for(a.s();!(t=a.n()).done;){var i=t.value;e.push({school_code:null===i.school_code?"":i.school_code.toString(),school_name:null===i.school_name?"":i.school_name,total:null===i.total?0:i.total})}}catch(n){a.e(n)}finally{a.f()}}return e},r.state={loading:!1,error:"",districts_list:null,selected_district:{district_code:"28",district_name:"Nyagatare",province_code:"2"},chooseTrainingProvider:!1,trainings_list:null,selected_training:null},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){null===this.state.selected_district&&this.GetDistrictsList(),null===this.state.trainings_list&&this.FC_GetTrainingsListToBeApproved()}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"container mx-auto p-3 relative h-full",children:[Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:"bg-white rounded p-2",children:Object(C.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between gap-2 w-full",children:[Object(C.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full lg:w-1/2",children:[Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:"h-14 w-14 rounded-md bg-accent-400 text-accent-900 flex items-center justify-center",children:Object(C.jsx)(b.Z,{className:"text-5xl"})})}),Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("span",{className:"text-xl font-bold",children:"Training participants approval"}),Object(C.jsx)("span",{className:"text-sm text-gray-500",children:"View list of selected participants for the training"})]})]}),Object(C.jsx)("div",{className:"w-full lg:w-1/2",children:Object(C.jsxs)("div",{onClick:function(){return!1===e.state.loading&&e.setState({chooseTrainingProvider:!e.state.chooseTrainingProvider})},className:"bg-gray-100 hover:bg-accent-400 border border-white hover:border-accent-500 w-full pl-3 py-1 pr-1 rounded flex flex-row items-center justify-between gap-20 group cursor-pointer animate__animated animate__fadeIn",children:[null!==this.state.selected_training?Object(C.jsxs)("div",{className:"flex flex-col",children:[Object(C.jsx)("span",{className:"text-black text-sm",children:"Selected training"}),Object(C.jsx)("div",{className:"font-bold group-hover:text-yellow-700",children:this.state.selected_training.title})]}):Object(C.jsx)("div",{className:"text-lg font-normal pl-2 text-gray-500",children:"No training selected!"}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("div",{className:"bg-white group-hover:bg-accent-900 group-hover:text-white rounded p-1 flex items-center justify-center",children:Object(C.jsx)(j.g,{className:"text-4xl text-accent-900 group-hover:text-white"})})})]})})]})})}),Object(C.jsx)("div",{className:"h-full",children:!1===this.state.loading?null===this.state.selected_training?Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white rounded-md p-6 mt-3",children:[Object(C.jsx)("div",{className:"mb-2",children:Object(C.jsx)(o.d,{className:"text-6xl text-gray-300 animate__animated animate__shakeX"})}),Object(C.jsx)("div",{className:"text-xl font-bold",children:"Select training for approval"}),Object(C.jsx)("div",{className:"text-sm",children:"No training selected to be approved, click to select training"}),Object(C.jsx)(N.a,{onClick:function(){return!1===e.state.loading&&e.setState({chooseTrainingProvider:!e.state.chooseTrainingProvider})},className:"mt-3",children:"Select training"})]})}):Object(C.jsx)("div",{className:"bg-white rounded my-2 p-2 h-full",children:Object(C.jsx)("div",{className:"text-xl font-light",children:Object(C.jsxs)("table",{className:"w-full text-left text-sm",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{className:"border-b border-gray-300",children:[Object(C.jsx)("th",{className:"px-3 py-3 border border-gray-300",children:"#"}),Object(C.jsx)("th",{className:"px-3 py-3 border border-gray-300",children:"School code"}),Object(C.jsx)("th",{className:"px-3 py-3 border border-gray-300",children:"School name"}),Object(C.jsx)("th",{className:"px-3 py-3 border border-gray-300",children:"Total required"})]})}),Object(C.jsx)("tbody",{children:this.FC_GetTrainingSchools().map((function(t,a){var i,s;return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:a+1}),Object(C.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:""===t.school_code?null===(i=e.state.selected_district)||void 0===i?void 0:i.district_code:t.school_code}),Object(C.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:""===t.school_name?null===(s=e.state.selected_district)||void 0===s?void 0:s.district_name:t.school_name}),Object(C.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:t.total})]},a+1)}))})]})})}):Object(C.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-white rounded my-4",children:[Object(C.jsx)(y.a,{}),Object(C.jsx)("div",{className:"text-center font-light text-lg",children:"Loading, please wait..."})]})}),!0===this.state.chooseTrainingProvider&&null!==this.state.trainings_list&&Object(C.jsx)(w.a,{className:"p-3 px-4",children:Object(C.jsx)(D,{onGoBack:function(){return e.setState({chooseTrainingProvider:!1})},trainings_list:this.FC_GetTrainingsList(),selected_training:this.state.selected_training,onSelected:function(t){e.setState({chooseTrainingProvider:!1,selected_training:t})}})})]})}}]),a}(d.Component),P=Object(x.b)((function(e){return{basic:e.basic,auth:e.auth}}),{})(G)}}]);
//# sourceMappingURL=38.bede53b8.chunk.js.map