(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[52],{190:function(e,t,s){"use strict";s.r(t),s.d(t,"Login",(function(){return f}));var a=s(31),r=s(32),n=s(33),o=s(34),c=s(2),i=s.n(c),d=s(17),l=s(16),h=s(12),u=s(11),m=s(25),b=s(27),g=s(35),j=s(13),p=s(28),x=s(1),w=function(e){var t=e.close,s=e.phone,a=e.msg;return Object(x.jsx)("div",{className:"animate__animated animate__zoomIn animate__faster",children:Object(x.jsx)(p.a,{className:"max-w-screen-sm mx-auto text-center ",children:Object(x.jsxs)("div",{className:"py-4",children:[Object(x.jsx)("div",{className:"text-6xl p-4 rounded-full bg-green-100 text-green-700 inline-block ",children:Object(x.jsx)(j.jb,{})}),Object(x.jsxs)("h2",{className:"text-2xl font-bold",children:["We are verifying if you are the owner of the account"," "]}),""!==a&&Object(x.jsx)("p",{className:"py-2 text-lg",children:a}),Object(x.jsxs)("p",{className:"pt-4 text-gray-500",children:["Your old password has been renewed, ",Object(x.jsx)("br",{})," We sent you a"," ",Object(x.jsx)("b",{children:"new generated password"})," on your phone number"," ",Object(x.jsxs)("b",{children:["(",s,")"]}),",",Object(x.jsx)("br",{})," please use the password we sen't you and login"]}),Object(x.jsx)("br",{}),Object(x.jsx)(b.a,{onClick:t,theme:"accent-light",children:"Login with my new password"})]})})})},O=function(e){Object(n.a)(s,e);var t=Object(o.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).submitLogin=function(e){return e.preventDefault(),r.state.username.length<=4?r.setState({error:{target:"username",msg:"Phone must not be lass than 4 character"}}):r.state.password.length<=4&&!1===r.state.no_password?r.setState({error:{target:"password",msg:"Password must not be lass than 4 character"}}):(r.setState({loading:!0,error:{target:null,msg:""}}),void r.props.FC_Login({password:r.state.password,username:r.state.username},(function(e,t,s){console.log({auth_status:e,msg:s}),!0===e?!0===(null===t||void 0===t?void 0:t.is_account_verified)?r.props.FC_AddBasicInfo((function(e,t){})):r.setState({loading:!1,checking_account:!0,error:{msg:s,target:"SEND-CODE-ERROR"}}):r.setState({error:{target:"main",msg:s},loading:!1})})))},r.state={checking_account:!1,no_password:!1,username:"",password:"",loading:!1,error:{target:null,msg:""}},r}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return!0===this.props.auth.isAuthenticated?Object(x.jsx)(l.a,{to:"/dashboard"}):!0===this.state.checking_account?Object(x.jsx)(w,{close:function(){return e.setState({checking_account:!1,password:""})},phone:this.state.username,msg:"SEND-CODE-ERROR"===this.state.error.target?this.state.error.msg:""}):Object(x.jsxs)(x.Fragment,{children:["main"===this.state.error.target&&Object(x.jsx)(m.a,{theme:"danger",fixed:!0,children:this.state.error.msg}),Object(x.jsx)("div",{className:"min-h-screen bg-gray-100 dark:bg-dark-900 flex items-center",children:Object(x.jsx)("div",{className:"bg-white py-10 rounded border mt-5  dark:bg-dark-800 w-full max-w-md mx-auto px-5 animate__animated animate__zoomIn animate__faster",children:Object(x.jsxs)("form",{onSubmit:this.submitLogin,children:[Object(x.jsx)("h1",{className:"text-center text-3xl mb-6 text-primary-800 dark:text-primary-dark  font-extrabold",children:"TMIS Login"}),!0===this.state.no_password&&Object(x.jsx)("div",{className:"text-center text-gray-500",children:"Finding your account"}),Object(x.jsx)(g.a,{error:"username"===this.state.error.target?this.state.error.msg:"",label:"Phone",name:"phone",onChange:function(t){return e.setState({username:t.target.value,error:{target:null,msg:""}})},placeholder:"25070000000",value:this.state.username,disabled:this.state.loading,type:"number"}),!1===this.state.no_password&&Object(x.jsx)(g.a,{error:"password"===this.state.error.target?this.state.error.msg:"",label:"Password",name:"password",onChange:function(t){return e.setState({password:t.target.value,error:{target:null,msg:""}})},placeholder:"Password",value:this.state.password,disabled:this.state.loading,type:"password"}),Object(x.jsx)("div",{className:"mt-5",children:Object(x.jsx)(b.a,{full:!0,loading:this.state.loading,children:!0===this.state.no_password?"Continue":"Login"})}),Object(x.jsx)("div",{className:"mt-4 text-center",children:Object(x.jsx)("button",{type:"button",className:"font-bold hover:text-blue-600 cursor-pointer",onClick:function(){return e.setState({no_password:!e.state.no_password})},children:!0===this.state.no_password?"I have a password":"I don't have a password."})}),Object(x.jsx)("div",{className:"mt-4 text-center",children:Object(x.jsx)(h.b,{to:"/forget-password",className:" cursor-pointer",children:"Forget your password?"})})]})})})]})}}]),s}(i.a.Component),f=Object(d.b)((function(e){return{auth:e.auth}}),{FC_Login:u.Z,FC_AddBasicInfo:u.b})(O)}}]);
//# sourceMappingURL=52.a07b508d.chunk.js.map