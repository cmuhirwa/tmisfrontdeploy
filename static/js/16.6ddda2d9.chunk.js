(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[16,5,55],{108:function(e,t,s){"use strict";s(2);var a=s(52),i=s(1);t.a=function(e){var t=e.onChange,s=e.value,r=e.error,o=e.label,n=e.placeholder,c=e.disabled,l=void 0!==c&&c,d=e.name,u=e.Input_className,h=void 0===u?"":u,m=e.Label_className,p=void 0===m?"":m,b=e.InputContainer_className,f=void 0===b?"":b,_=e.MainContainer_className,g=void 0===_?"":_,j=e.size,x=void 0===j?"md":j,v=e.data;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"w-full my-2 ".concat(g),children:[o&&Object(i.jsx)("label",{htmlFor:"login-form-email",className:"text-primary-900 dark:text-primary-100 ".concat(p),children:o}),Object(i.jsxs)("div",{className:"rounded relative ".concat(f),children:[Object(i.jsx)("select",{name:d,placeholder:n,onChange:t,className:"\n                     w-full text-lg rounded border-2 \n                     ".concat(Object(a.a)(x),"\n                     ").concat(""!==r?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                     px-3 ").concat(h),value:s,disabled:l,children:v.map((function(e,t){return Object(i.jsx)("option",{value:e.value,children:e.title},t)}))}),""!==r&&Object(i.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:r})]})]})})}},109:function(e,t,s){"use strict";s.d(t,"a",(function(){return h})),s.d(t,"b",(function(){return m})),s.d(t,"c",(function(){return p})),s.d(t,"d",(function(){return b}));var a=s(6),i=s(3),r=s.n(i),o=s(5),n=s.n(o),c=s(10),l=s(12),d=s(8),u=s(9),h=function(e){return e(!0,null,""),function(){var t=Object(a.a)(r.a.mark((function t(s){var a,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,n.a.get("".concat(l.c,"/teachertransfers/requesteddde"));case 4:a=t.sent,console.log("===================================="),console.log({getAllTransfers:a}),console.log("===================================="),i=a.data.filter((function(e){return"APPROVED"===e.requested_status})),s({type:c.a.GET_ALL_TRANSFER,payload:i}),e(!1,i,""),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){var e=Object(a.a)(r.a.mark((function e(t){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,null,""),e.prev=1,Object(d.a)(),e.next=5,n.a.get("".concat(l.c,"/district"));case 5:s=e.sent,console.log("=================FC_GetDistricts==================="),console.log({FC_GetDistricts:s}),console.log("=================FC_GetDistricts==================="),t(!1,s.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),t(!1,null,Object(u.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(r.a.mark((function e(t,s){var a,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,a=0,null,""),e.prev=2,Object(d.a)(),(i=new FormData).append("teacher_supporting_document",t),e.next=8,n.a.post("".concat(l.c,"/teachertransfers/uploadSupportingDocument"),i,{onUploadProgress:function(e){a=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,s(!0,a,null,"")}});case 8:o=e.sent,console.log("Uploaded document: ",o.data),s(!1,a,o.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),s(!1,a,"",Object(u.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,s){return e.apply(this,arguments)}}(),b=function(e,t,s){s(!0,"");return function(){var i=Object(a.a)(r.a.mark((function a(i){var o,h;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0,""),console.log("==================doc_title=================="),console.log({doc_title:""}),console.log("==================doc_title=================="),s(!0,""),(o=new FormData).append("teacher_transfer_id",e),o.append("mayor_letter",t),console.log("==================*********************=================="),console.log({doc_title:""}),console.log("==================*********************=================="),a.prev=11,Object(d.a)(),a.next=15,n.a.post("".concat(l.c,"/teachertransfers/outgoing"),o);case 15:h=a.sent,console.log("Uploaded document: ",h.data),i({type:c.a.UPLOAD_SIGNED_DOCUMENT,payload:{teacher_transfer_id:e,mayor_letter:h.data.mayor_letter}}),s(!1,""),a.next=25;break;case 21:a.prev=21,a.t0=a.catch(11),console.error(a.t0),s(!1,Object(u.a)(a.t0));case 25:case"end":return a.stop()}}),a,null,[[11,21]])})));return function(e){return i.apply(this,arguments)}}()}},110:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return r}));var a,i,r,o=s(13),n=s(1);!function(e){e.default="default",e.primary="primary",e.secondary="secondary",e.danger="danger",e.success="success",e.warning="warning"}(a||(a={})),function(e){e.none="top-0",e.small="top-28",e.medium="top-1/3",e.large="top-1/2",e.extra="top-2/3"}(i||(i={})),function(e){e.small="max-w-sm",e.medium="max-w-screen-sm",e.large="max-w-screen-md",e.extraLarge="max-w-screen-lg",e.maxWidth="max-w-screen h-full"}(r||(r={}));t.c=function(e){var t,s=e.title,c=e.backDrop,l=e.theme,d=e.close,u=e.backDropClose,h=e.widthSizeClass,m=e.displayClose,p=e.padding,b=void 0===p?{title:!0,body:!0,footer:!0}:p;switch(l){case a.primary:t="blue-primary";break;case a.secondary:t="gray-300";break;case a.danger:t="red-500";break;case a.success:t="green-500";break;case a.warning:t="yellow-500";break;default:t="white"}return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{onClick:function(){return u&&d()},className:"fixed bg-black bg-opacity-".concat(!0===c?"60":"0"," h-full w-full left-0 top-0 z-50 animate__animated animate__fadeIn animate__faster")}),Object(n.jsxs)("div",{className:"fixed items-center justify-items-center ".concat(void 0===e.marginTop?i.none:e.marginTop," left-0 right-0 bottom-0 bg-white rounded shadow-xl self-center ").concat(h," animate__animated ").concat(void 0!==e.marginTop&&e.marginTop!==i.none?"animate__fadeInUp":"animate__zoomIn"," animate__faster"),style:{width:"100%",maxHeight:"99vh",height:"".concat(h===r.maxWidth?void 0===e.marginTop?"100%":"unset":"fit-content"),overflowY:"auto",margin:"auto",zIndex:99999999},children:[Object(n.jsxs)("div",{className:"flex justify-between bg-".concat(t," ").concat(!0===b.title?"py-4 px-4":""," rounded-t text-").concat(l===a.default||l===a.secondary?"black":"white"),children:[s&&""!==s?Object(n.jsx)("h4",{className:"text-lg font-bold ",children:s}):Object(n.jsx)("div",{}),!1===m?"":Object(n.jsx)("div",{className:"hover:text-red-600 hover:bg-red-100 rounded-full p-1 h-8 w-8",children:Object(n.jsx)(o.j,{className:"cursor-pointer font-extrabold text-2xl",onClick:function(){return d()}})})]}),Object(n.jsx)("div",{className:"space-x-3 ".concat(!0===b.body?"py-4 px-4":""),children:Object(n.jsx)("div",{children:""!==e.children?e.children:""})}),void 0!==e.footer&&""!==e.footer?Object(n.jsx)("div",{className:"flex float-right ".concat(!0===b.footer?"py-4 px-4":""),children:e.footer}):""]})]})}},111:function(e,t,s){"use strict";var a=s(53),i=s(20),r=s(2),o=s(13),n=s(19),c=s(43),l=s(1);t.a=function(e){var t=e.loading,s=(e.id,e.title),d=e.close,u=e.data,h=e.click,m=Object(r.useState)(""),p=Object(i.a)(m,2),b=p[0],f=p[1],_=Object(n.h)(u,b,Object(a.a)({},s,!0));return Object(l.jsxs)("div",{className:" bg-gray-100 shadow-lg border-gray-500 border-2 h-64 rounded-md flex flex-col",children:[Object(l.jsxs)("div",{className:"p-1 bg-white rounded flex items-center",children:[Object(l.jsx)("label",{htmlFor:"search-input-data",children:Object(l.jsx)(o.Z,{className:"text-2xl"})}),Object(l.jsx)("input",{type:"search",className:"py-1 px-1 flex-1",placeholder:"Search",value:b,id:"search-input-data",onChange:function(e){return f(e.target.value)}}),!1===t&&Object(l.jsx)("button",{onClick:function(){return d()},className:"px-2 py-0.5 rounded text-sm ml-3 bg-red-200 text-red-800",children:"Cancel"})]}),Object(l.jsx)("div",{className:"flex-1 p-2 overflow-y-auto border-t ",children:!0===t?Object(l.jsxs)("div",{className:"my-4",children:[Object(l.jsx)("div",{className:"mx-auto text-center",children:Object(l.jsx)(c.a,{})}),Object(l.jsx)("p",{className:"text-center text-gray-500",children:"Loading"})]}):Object(l.jsx)(r.Fragment,{children:0===_.length?Object(l.jsx)("section",{className:"p-4 text-center",children:Object(l.jsx)("h2",{className:"text-lg text-gray-400",children:"No results found"})}):_.map((function(e,t){return Object(l.jsx)("button",{onClick:function(){return h(e)},className:"block p-1 border-b w-full text-left border-gray-300 hover:text-white hover:bg-blue-600",type:"button",children:e[s]},t)}))})})]})}},112:function(e,t,s){"use strict";var a;s.d(t,"a",(function(){return a})),function(e){e.PENDING="PENDING TERMINATION",e.TERMINATED="TERMINATED",e.PENDING_SUSPENSION="PENDING SUSPENTION",e.SUSPENDED="SUSPENDED",e.REJECTED="REJECTED"}(a||(a={}))},113:function(e,t,s){"use strict";s.d(t,"f",(function(){return n})),s.d(t,"d",(function(){return c})),s.d(t,"e",(function(){return l})),s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return u})),s.d(t,"c",(function(){return h}));var a,i,r,o=s(19),n=100;!function(e){e.GOVERNMENT_AIDED="GOVERNMENT_AIDED",e.PRIVATE="GOVERNMENT_AIDED",e.PUBLIC="PUBLIC"}(a||(a={})),function(e){e.EXIST="Exist",e.NEW="new"}(i||(i={})),function(e){e.role="role",e.district_name="district_name",e.full_name="full_name",e.first_name="first_name",e.last_name="last_name",e.phone_numbers="phone_numbers",e.email="email",e.sex="sex",e.dob="dob",e.marital_status="marital_status",e.nid="nid",e.rssb_number="rssb_number",e.bank_account="bank_account",e.position="position",e.specialization="specialization",e.qualification="qualification",e.staff_category="staff_category",e.staff_code="staff_code",e.status="status",e.school_code="school_code",e.school_name="school_name",e.school_category="school_category",e.school_status="school_status",e.region_code="region_code",e.village_name="village_name",e.cell_name="cell_name",e.cell_code="cell_code",e.sector_name="sector_name",e.sector_code="sector_code",e.district_code="district_code",e.province_name="province_name",e.province_code="province_code",e.subjects="subjects",e.grades="grades",e.periods="periods",e.date_in_school="date_in_school",e.date_of_hire="date_of_hire",e.nationality="nationality",e.middle_name="middle_name",e.bank_name="bank_name"}(r||(r={}));var c=[{key:r.staff_code,title:"Staff code",status:!0,isChangeAllowed:!1},{key:r.nid,title:"National ID",status:!0,isChangeAllowed:!1},{key:r.full_name,title:"Staff Full Names",status:!0,isChangeAllowed:!0},{key:r.first_name,title:"Staff First Name",status:!0,isChangeAllowed:!0},{key:r.middle_name,title:"Staff Middle Name",status:!0,isChangeAllowed:!0},{key:r.last_name,title:"Staff Last Name",status:!0,isChangeAllowed:!0},{key:r.phone_numbers,title:"Staff Phone",status:!0,isChangeAllowed:!0},{key:r.email,title:"Staff Email",status:!0,isChangeAllowed:!0},{key:r.dob,title:"Date of Birth",status:!0,isChangeAllowed:!0},{key:r.sex,title:"Sex",status:!0,isChangeAllowed:!0},{key:r.marital_status,title:"Marital status",status:!0,isChangeAllowed:!0},{key:r.qualification,title:"Qualification",status:!0,isChangeAllowed:!0},{key:r.specialization,title:"Specialization",status:!0,isChangeAllowed:!0},{key:r.rssb_number,title:"RSSB",status:!0,isChangeAllowed:!0},{key:r.bank_name,title:"Bank name",status:!0,isChangeAllowed:!0},{key:r.bank_account,title:"Bank account",status:!0,isChangeAllowed:!0},{key:r.position,title:"Position",status:!0,isChangeAllowed:!0},{key:r.role,title:"Staff role",status:!0,isChangeAllowed:!0},{key:r.district_code,title:"District Code",status:!0,isChangeAllowed:!0},{key:r.district_name,title:"District Name",status:!0,isChangeAllowed:!0},{key:r.school_code,title:"School Code",status:!0,isChangeAllowed:!0},{key:r.school_name,title:"School Name",status:!0,isChangeAllowed:!0},{key:r.school_category,title:"School Category",status:!0,isChangeAllowed:!0},{key:r.school_status,title:"School Status",status:!0,isChangeAllowed:!0},{key:r.nationality,title:"Nationality",status:!0,isChangeAllowed:!0},{key:r.date_of_hire,title:"Date to hire",status:!0,isChangeAllowed:!0},{key:r.date_in_school,title:"Date in school",status:!0,isChangeAllowed:!0},{key:r.subjects,title:"Subjects",status:!0,isChangeAllowed:!0},{key:r.grades,title:"Grade (No of Group)",status:!0,isChangeAllowed:!0},{key:r.periods,title:"Periods",status:!0,isChangeAllowed:!0}],l={system:["26","Admin"],country:["REB","4","RTB","300","MINECOFIN","27","26","Admin"],district:["DDE","3","Human Resource","25"],school:["Head Teacher","Teacher","2"]},d=function(e){return null===e?"":h(e)?Object(o.a)(e):e},u=function(e){var t="",s=[],a="",i={grade_names:[],grade_codes:[],courses:[],group:[]},r=0;if(e){var n=function(a){var n=e[a];if(s.includes(n.course_code)||(s.push(n.course_code),t+=Object(o.g)(t)?n.course_name:", "+n.course_name),i.grade_codes.includes(n.grade_code)){if(i.courses.findIndex((function(e){return e===n.course_code}))>=0){var c=i.courses.findIndex((function(e){return e===n.course_code}));i.group[c]+=JSON.parse(n.grade_group).length}}else i.grade_codes.push(n.grade_code),i.grade_names.push(n.grade_name),i.courses.push(n.course_code),i.group.push(Object(o.b)(JSON.parse(n.grade_group)));r+=Number(n.teaching_period)*JSON.parse(n.grade_group).length};for(var c in e)n(c);for(var l in i.courses)a+=Object(o.g)(a)?"".concat(i.grade_names[l]," (").concat(i.group[l],")"):", ".concat(i.grade_names[l]," (").concat(i.group[l],")")}return{courses:t,grades:a,periods:r.toString()}},h=function(e){if(null===e)return!1;var t=new Date(e);return!isNaN(t.getDate())}},115:function(e,t,s){"use strict";s(2);var a=s(52),i=s(1);t.a=function(e){var t=e.onChange,s=e.value,r=e.error,o=e.label,n=e.placeholder,c=e.disabled,l=void 0!==c&&c,d=e.name,u=e.Input_className,h=void 0===u?"":u,m=e.Label_className,p=void 0===m?"":m,b=e.InputContainer_className,f=void 0===b?"":b,_=e.MainContainer_className,g=void 0===_?"":_,j=e.labelColor,x=void 0===j?"text-primary-900 dark:text-primary-100":j,v=e.size,O=void 0===v?"md":v;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"w-full my-2 ".concat(g),children:[""!==o&&Object(i.jsx)("label",{htmlFor:"any-form",className:"".concat(x," ").concat(p),children:o}),Object(i.jsxs)("div",{className:"rounded relative ".concat(f),children:[Object(i.jsx)("textarea",{name:d,placeholder:n,onChange:t,className:"\n                w-full text-lg rounded border-2 \n                ".concat(Object(a.a)(O),"\n                ").concat(""!==r?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                px-3 ").concat(h),value:s,disabled:l}),""!==r&&Object(i.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:r})]})]})})}},117:function(e,t,s){"use strict";s.d(t,"a",(function(){return y}));var a=s(25),i=s(4),r=s(30),o=s(31),n=s(32),c=s(33),l=s(2),d=s.n(l),u=s(17),h=s(10),m=s(27),p=s(34),b=s(108),f=s(35),_=s(26),g=s(44),j=s(43),x=s(111),v=s(1),O=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).submitLogin=function(e){var t;if(e.preventDefault(),a.props.current_position&&a.props.school&&a.props.current_position===a.state.position_id&&a.state.school_code===(null===(t=a.props.school)||void 0===t?void 0:t.school_id))return a.setState({error:{target:"position_id",msg:"The selected position is the same as the current position of this user on this school"}});if("REGISTER"===a.props.assignType){if(!0===a.props.required.nid&&a.state.nid.length<=4)return a.setState({error:{target:"nid",msg:"NID/Passport is required (minimum 4 character)."}});if(!0===a.props.required.phone_numbers&&a.state.phone_numbers.length<=3)return a.setState({error:{target:"phone_numbers",msg:"Required"}});if(!0===a.props.required.first_name&&a.state.first_name.length<=3)return a.setState({error:{target:"first_name",msg:"Required"}});if(!0===a.props.required.middle_name&&a.state.middle_name.length<=3)return a.setState({error:{target:"middle_name",msg:"Required"}});if(!0===a.props.required.last_name&&a.state.last_name.length<=3)return a.setState({error:{target:"last_name",msg:"Required"}});if(!0===a.props.required.full_name&&a.state.full_name.length<=3)return a.setState({error:{target:"full_name",msg:"Required"}})}if(!0===a.props.required.school_code&&""===a.state.school_code)return a.setState({error:{target:"school_code",msg:"Required"}});if(!0===a.props.required.role_id&&""===a.state.role_id)return a.setState({error:{target:"role_id",msg:"Required"}});if(null===a.props.basic.academic_calender)return a.setState({error:{target:"main-error",msg:"You have no academic selected, Please refresh the page."}});if(!0===a.props.required.position_id&&""===a.state.position_id)return a.setState({error:{target:"position_id",msg:"Required"}});if(!0===a.props.required.start_date_in_the_school&&""===a.state.start_date_in_the_school)return a.setState({error:{target:"start_date_in_the_school",msg:"Required"}});if(a.props.select_district_active&&!0===a.props.select_district_active&&a.state.district_code.length<=0)return a.setState({error:{target:"district_list_select",msg:"Required"}});var s,i,r=a.props.assignType;"REGISTER"!==a.props.assignType&&(null!==(s=a.props.school)&&void 0!==s&&s.school_id&&(null===(i=a.props.school)||void 0===i?void 0:i.school_id)===a.state.school_code&&(r="UPDATE_POSITION"));var o={role_id:a.state.role_id,country_id:a.state.country_id,district_code:a.state.district_code,sector_code:a.state.sector_code,school_code:a.state.school_code,qualification_id:a.state.qualification_id,academic_year_id:a.props.basic.academic_calender.academic_year_id,stakeholder_id:a.state.stakeholder_id,start_date_in_the_school:"",hired_date:a.state.start_date_in_the_school,position_code:a.state.position_id,user_id:a.props.user_id,first_name:a.state.first_name,last_name:a.state.last_name,full_name:a.state.full_name,middle_name:a.state.middle_name,nid:a.state.nid,phone_numbers:a.state.phone_numbers,key:r};a.setState({loading:!0}),Object(h.e)(o,(function(e,t){!0===e?(a.setState({loading:!1,error:{target:"main-success",msg:"Staff was added successfully"}}),a.props.success(o)):a.setState({loading:!1,error:{target:"main-error",msg:t}}),setTimeout((function(){a.setState({error:{target:null,msg:""}})}),3e3)}))},a.state={loading_assets:!0,loading:!1,select_school_open:!1,select_sector_open:!1,select_role_open:!1,select_district_open:!1,select_position_open:!1,error:{target:null,msg:""},district_code:a.props.district_id,sector_code:"",school_code:a.props.school?a.props.school.school_id:"",academic_year_id:"",stakeholder_id:"",role_id:"",country_id:"",start_date_in_the_school:"",position_id:a.props.position_code?a.props.position_code:"",qualification_id:void 0===a.props.qualification_id?"":a.props.qualification_id,first_name:"",last_name:"",full_name:"",middle_name:"",nid:a.props.nid_value?a.props.nid_value:"",phone_numbers:"",loading_positions_schools:!1,school_posts:null,assignType:a.props.assignType,loading_districts:!1,district_list:[],district_name:"",loading_assigning_data:!1},a}return Object(o.a)(s,[{key:"getDistrictAssets",value:function(e){var t=this;this.setState({loading_assigning_data:!0}),this.props.FC_GetAssignAssets(e,(function(e,s){!0===e?t.setState({error:{target:null,msg:""},loading_assigning_data:!1,school_code:"",select_school_open:!0}):t.setState({error:{target:"main-error",msg:s},loading_assigning_data:!1,school_code:"",select_school_open:!0})}))}},{key:"componentDidMount",value:function(){var e,t=this;(!0!==this.props.basic.assign_teacher_assets.loading&&null!==this.props.basic.assign_teacher_assets.data||this.getDistrictAssets(this.props.district_id),void 0!==this.props.school&&void 0!==this.props.only_post_for_school)&&this.loadSchoolPosts(null===(e=this.props.school)||void 0===e?void 0:e.school_id);this.props.select_district_active&&!0===this.props.select_district_active&&(this.setState({loading_districts:!0}),Object(h.s)((function(e,s,a){!0===e?t.setState({loading_districts:!1,district_list:s}):t.setState({error:{target:"district_list_select",msg:a},loading_districts:!1})})))}},{key:"loadSchoolPosts",value:function(e){var t,s,a=this;void 0!==this.props.only_post_for_school&&(null!==(t=this.props.basic.academic_calender)&&void 0!==t&&t.academic_year_id&&(this.setState({loading_positions_schools:!0}),Object(h.G)(e,null===(s=this.props.basic.academic_calender)||void 0===s?void 0:s.academic_year_id,(function(e,t,s){console.log({status:e,data:t,msg:s}),!0===e?a.setState({loading_positions_schools:!1,school_posts:t}):a.setState({loading_positions_schools:!1,school_posts:null,error:{target:"main-error",msg:"Failed to load positions for this schools"}})}))))}},{key:"componentDidUpdate",value:function(e){var t,s;(null===(t=e.school)||void 0===t?void 0:t.school_id)===(null===(s=this.props.school)||void 0===s?void 0:s.school_id)&&e.district_id===this.props.district_id||(void 0!==this.props.school?(this.setState({school_code:this.props.school.school_id,position_id:"",select_school_open:!1}),this.loadSchoolPosts(this.props.school.school_id)):this.setState({school_code:"",position_id:"",select_position_open:!1,select_school_open:!0}))}},{key:"render",value:function(){var e,t,s,r=this;if(!0===this.props.basic.assign_teacher_assets.loading||null===this.props.basic.assign_teacher_assets.data)return Object(v.jsx)(p.a,{children:Object(v.jsx)("div",{className:"py-6 mx-auto text-center",children:Object(v.jsx)(j.a,{})})});var o=this.props.basic.assign_teacher_assets.data,n=this.props.basic.assign_teacher_assets.data.schools.find((function(e){return e.school_code===r.state.school_code})),c=void 0!==n?"".concat(n.school_code," - ").concat(n.school_name,"  ").concat(n.school_category):"Select a school",l=o.sectors.find((function(e){return e.sector_code===r.state.sector_code})),d=void 0!==l?l.sector_name:"",u=o.roles.find((function(e){return e.role_id===r.state.role_id})),h=void 0!==u?u.role:"",O=o.positions.find((function(e){return e.position_code===r.state.position_id})),y=void 0!==O?"".concat(O.position_code," - ").concat(O.position_name," - ").concat(O.qualification_name):"";return Object(v.jsxs)(v.Fragment,{children:["main-error"===this.state.error.target&&Object(v.jsx)(m.a,{theme:"danger",fixed:!0,children:this.state.error.msg}),"main-success"===this.state.error.target&&Object(v.jsx)(m.a,{theme:"success",fixed:!0,children:this.state.error.msg}),Object(v.jsx)(p.a,{className:"animate__animated animate__zoomIn animate__faster",children:Object(v.jsxs)("form",{onSubmit:this.submitLogin,children:[Object(v.jsxs)("div",{className:"p-2 flex flex-wrap",children:["REGISTER"===this.props.assignType&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"border-b-2 w-full my-2",children:Object(v.jsx)(g.a,{size:"sm",children:"User info"})}),this.props.formAccess.nid&&Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(v.jsx)(f.a,{disabled:this.state.loading,label:"NID/Passport",name:"nid",type:"text",max:16,onChange:function(e){r.setState({nid:e.target.value,error:{target:null,msg:""}})},value:this.state.nid,error:"nid"===this.state.error.target?this.state.error.msg:"",placeholder:"National ID",className:"p-2"})}),this.props.formAccess.phone_numbers&&Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(v.jsx)(f.a,{disabled:this.state.loading,label:"Phone number",name:"phone_numbers",type:"number",onChange:function(e){e.target.value.length<=10&&r.setState({phone_numbers:e.target.value,error:{target:null,msg:""}})},value:this.state.phone_numbers,error:"phone_numbers"===this.state.error.target?this.state.error.msg:"",placeholder:"0700000000",className:"p-2"})}),this.props.formAccess.first_name&&Object(v.jsx)("div",{className:"w-full lg:w-1/3 py-1 px-3",children:Object(v.jsx)(f.a,{disabled:this.state.loading,label:"First name",name:"first_name",onChange:function(e){return r.setState({first_name:e.target.value,full_name:"".concat(null!==e.target.value?e.target.value:""," ").concat(null!==r.state.middle_name?r.state.middle_name:""," ").concat(null!==r.state.last_name?r.state.last_name:""),error:{target:null,msg:""}})},value:this.state.first_name,error:"first_name"===this.state.error.target?this.state.error.msg:"",placeholder:"First name",className:"p-2"})}),this.props.formAccess.middle_name&&Object(v.jsx)("div",{className:"w-full lg:w-1/3 py-1 px-3",children:Object(v.jsx)(f.a,{disabled:this.state.loading,label:"Middle name",name:"middle_name",onChange:function(e){return r.setState({middle_name:e.target.value,full_name:"".concat(null!==r.state.first_name?r.state.first_name:""," ").concat(null!==e.target.value?e.target.value:""," ").concat(null!==r.state.last_name?r.state.last_name:""),error:{target:null,msg:""}})},value:this.state.middle_name,error:"middle_name"===this.state.error.target?this.state.error.msg:"",placeholder:"Middle name",className:"p-2"})}),this.props.formAccess.last_name&&Object(v.jsx)("div",{className:"w-full lg:w-1/3 py-1 px-3",children:Object(v.jsx)(f.a,{disabled:this.state.loading,label:"Last name",name:"last_name",onChange:function(e){return r.setState({last_name:e.target.value,full_name:"".concat(null!==r.state.first_name?r.state.first_name:""," ").concat(null!==r.state.middle_name?r.state.middle_name:""," ").concat(null!==e.target.value?e.target.value:""),error:{target:null,msg:""}})},value:this.state.last_name,error:"last_name"===this.state.error.target?this.state.error.msg:"",placeholder:"Last name",className:"p-2"})}),this.props.formAccess.full_name&&Object(v.jsx)("div",{className:"w-full  py-1 px-3",children:Object(v.jsx)(f.a,{disabled:!0,label:"Full name",name:"full_name",onChange:function(e){return r.setState({full_name:e.target.value,error:{target:null,msg:""}})},value:this.state.full_name,error:"full_name"===this.state.error.target?this.state.error.msg:"",placeholder:"Full name",className:"p-2"})})]}),Object(v.jsx)("div",{className:"border-b-2 w-full my-2",children:Object(v.jsx)(g.a,{size:"sm",children:"Academic info"})}),Object(v.jsxs)("div",{className:"w-full lg:flex py-1 px-3 bg-gray-100 rounded",children:[this.props.select_district_active&&!0===this.props.select_district_active&&Object(v.jsx)(v.Fragment,{children:!0===this.state.select_district_open?Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(v.jsx)(x.a,{click:function(e){r.setState({district_code:e.district_code,district_name:e.district_name,select_district_open:!1,error:{target:null,msg:""}}),r.setState({loading_assigning_data:!0}),r.props.FC_GetSchoolsByDistrictRedux(e.district_code,(function(e,t){r.setState({loading_assigning_data:!1})}))},close:function(){return r.setState({select_district_open:!1})},data:this.state.district_list,id:"district_code",title:"district_name",loading:this.state.loading_districts})}):Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",onClick:function(){return r.setState({select_district_open:!0})},children:Object(v.jsx)(f.a,{disabled:!0,label:"District",name:"district",onChange:function(e){},value:this.state.district_name,error:"district_list_select"===this.state.error.target?this.state.error.msg:"",placeholder:"Select a district",className:"p-2"})})}),this.props.formAccess.school_code&&Object(v.jsx)(v.Fragment,{children:void 0!==this.props.school?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",onClick:function(){return r.setState({select_school_open:!0,select_position_open:!1})},children:Object(v.jsx)(f.a,{disabled:!0,label:"School name",name:"school_name",onChange:function(e){},value:this.props.school.school_name,error:"school_code"===this.state.error.target?this.state.error.msg:"",placeholder:"Select school",className:"p-2"})})}):Object(v.jsx)(v.Fragment,{children:this.props.formAccess.school_code&&null!==this.props.basic.qualifications&&Object(v.jsx)(v.Fragment,{children:!0===this.state.select_school_open?Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(v.jsx)(x.a,{click:function(e){r.setState({school_code:e.school_code,select_school_open:!1,error:{target:null,msg:""},position_id:""}),r.loadSchoolPosts(e.school_code)},close:function(){return r.setState({select_school_open:!1})},data:this.props.basic.assign_teacher_assets.data.schools.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{school_name:"".concat(e.school_code," - ").concat(e.school_name,"  ").concat(e.school_category)})})),id:"school_code",title:"school_name",loading:this.state.loading_assigning_data||this.state.loading})}):Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",onClick:function(){return r.setState({select_school_open:!0})},children:Object(v.jsx)(f.a,{disabled:!0,label:"School name",name:"school_name",onChange:function(e){},value:c,error:"school_code"===this.state.error.target?this.state.error.msg:"",placeholder:"Select school",className:"p-2"})})})})})]}),this.props.formAccess.stakeholder_id&&Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(v.jsx)(b.a,{data:[{title:"",value:""}].concat(Object(a.a)(o.stakeholders.map((function(e){return{title:e.stakeholder_name,value:e.stakeholder_id}})))),error:"stakeholder_id"===this.state.error.target?this.state.error.msg:"",value:this.state.stakeholder_id,onChange:function(e){return r.setState({stakeholder_id:e.target.value,error:{target:null,msg:""}})},label:"Select a stakeholder",name:"select_a_stakeholder",placeholder:"Select a value"})}),this.props.formAccess.academic_year_id&&null!==this.props.basic.academic_calender&&Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(v.jsx)(b.a,{data:[{title:null===(e=this.props.basic.academic_calender)||void 0===e?void 0:e.academic_year_name,value:null===(t=this.props.basic.academic_calender)||void 0===t?void 0:t.academic_year_id}],error:"academic_year_id"===this.state.error.target?this.state.error.msg:"",value:this.state.academic_year_id,onChange:function(e){return r.setState({academic_year_id:e.target.value,error:{target:null,msg:""}})},label:"Academic year",name:"accademic_year",placeholder:"Select a value"})}),void 0===this.props.qualification_id&&this.props.formAccess.qualification_id&&null!==this.props.basic.qualifications&&Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(v.jsx)(b.a,{data:[{title:"",value:""}].concat(Object(a.a)(this.props.basic.qualifications.map((function(e){return{title:e.qualification_name,value:e.qualification_id}})))),error:"qualification_id"===this.state.error.target?this.state.error.msg:"",value:this.state.qualification_id,onChange:function(e){},disabled:!0,label:"Qualification",name:"accademic_year",placeholder:"Select a value"})}),this.props.formAccess.sector_code&&Object(v.jsx)(v.Fragment,{children:!0===this.state.select_sector_open?Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(v.jsx)(x.a,{click:function(e){r.setState({sector_code:e.sector_code,select_sector_open:!1})},close:function(){return r.setState({select_sector_open:!1})},data:o.sectors.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{sector_name:"".concat(e.sector_code," - ").concat(e.sector_name)})})),id:"sector_code",title:"sector_name",loading:this.state.loading})}):Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",onClick:function(){return r.setState({select_sector_open:!0})},children:Object(v.jsx)(f.a,{disabled:!0,label:"Sector name",name:"sector_name",onChange:function(e){},value:d,error:"sector_code"===this.state.error.target?this.state.error.msg:"",placeholder:"Select a sector",className:"p-2"})})}),this.props.formAccess.role_id&&Object(v.jsx)(v.Fragment,{children:!0===this.state.select_role_open?Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(v.jsx)(x.a,{click:function(e){r.setState({role_id:e.role_id,select_role_open:!1,error:{target:null,msg:""}})},close:function(){return r.setState({select_role_open:!1})},data:(void 0!==this.props.exclude_roles&&this.props.exclude_roles.length)>=1?o.roles.filter((function(e){var t;return!(null!==(t=r.props.exclude_roles)&&void 0!==t&&t.includes(e.role_id))})):o.roles,id:"role_id",title:"role",loading:this.state.loading})}):Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",onClick:function(){return r.setState({select_role_open:!0})},children:Object(v.jsx)(f.a,{disabled:!0,label:"Role",name:"role",onChange:function(e){},value:h,error:"role_id"===this.state.error.target?this.state.error.msg:"",placeholder:"Select a role",className:"p-2"})})}),this.props.formAccess.position_id&&void 0===this.props.position_code&&Object(v.jsx)(v.Fragment,{children:!0===this.state.select_position_open?Object(v.jsxs)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:[Object(v.jsx)("p",{children:"Position"}),Object(v.jsx)(x.a,{click:function(e){r.setState({position_id:e.position_code,select_position_open:!1,qualification_id:e.qualification_id,error:{target:null,msg:""}})},close:function(){return r.setState({select_position_open:!1})},data:void 0!==this.props.only_post_for_school?null!==this.state.school_posts?null===(s=this.state.school_posts)||void 0===s?void 0:s.school_positions.map((function(e){return{position_code:e.position_code,position_name:"".concat(e.position_code," - ").concat(e.position_name," - ").concat(e.qualification_name),qualification_id:e.qualification_id,qualification_name:e.qualification_name}})):[]:o.positions.map((function(e){return{position_code:e.position_code,position_name:"".concat(e.position_code," - ").concat(e.position_name," - ").concat(e.qualification_name),qualification_id:e.qualification_id,qualification_name:e.qualification_name}})),id:"position_code",title:"position_name",loading:this.state.loading})]}):Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",onClick:function(){""===r.state.school_code?r.setState({select_position_open:!1,select_school_open:!0,error:{target:"school_code",msg:"Please select the school"}}):r.setState({select_position_open:!0})},children:Object(v.jsx)(f.a,{disabled:!0,label:"Position",name:"role",onChange:function(e){},value:y,error:"position_id"===this.state.error.target?this.state.error.msg:"",placeholder:"Select a position",className:"p-2"})})}),this.props.formAccess.start_date_in_the_school&&Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(v.jsx)(f.a,{disabled:this.state.loading,label:"Date of hire (Date in education)",name:"start_date_in_the_school",type:"date",onChange:function(e){return r.setState({start_date_in_the_school:e.target.value,error:{target:null,msg:""}})},value:this.state.start_date_in_the_school,error:"start_date_in_the_school"===this.state.error.target?this.state.error.msg:"",placeholder:"Select date",className:"p-2"})}),this.props.formAccess.country_id&&Object(v.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(v.jsx)(b.a,{data:[{title:"No",value:""},{title:"Yes",value:"1"}],error:"country_id"===this.state.error.target?this.state.error.msg:"",value:this.state.country_id,onChange:function(e){return r.setState({country_id:e.target.value,error:{target:null,msg:""}})},label:"User on country level",name:"country_level",placeholder:"Select a value"})})]}),Object(v.jsxs)("div",{className:"px-6 text-right flex",children:[Object(v.jsx)("div",{className:"flex-1",children:null!==this.state.error.target&&"main-error"!==this.state.error.target&&"main-success"!==this.state.error.target&&Object(v.jsx)("div",{className:"text-sm text-red-400 pr-4",children:"Some fields are required!"})}),Object(v.jsx)("div",{className:"",children:Object(v.jsx)(_.a,{type:"submit",size:"lg",loading:this.state.loading,children:void 0===this.props.button_title?"Add new staff":this.props.button_title})})]})]})})]})}}]),s}(d.a.Component),y=Object(u.b)((function(e){return{auth:e.auth,basic:e.basic}}),{FC_GetAssignAssets:h.n,FC_GetSchoolsByDistrictRedux:h.I})(O)},120:function(e,t,s){"use strict";s.d(t,"a",(function(){return x}));var a=s(30),i=s(31),r=s(32),o=s(33),n=s(2),c=s.n(n),l=s(13),d=s(17),u=s(10),h=s(117),m=s(26),p=s(34),b=s(43),f=s(110),_=s(27),g=s(1),j=function(e){Object(r.a)(s,e);var t=Object(o.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).componentDidMount=function(){i.props.district_code||i.loadDistricts(),void 0===i.props.school_code&&i.setState({current_school:!1})},i.loadDistricts=function(){i.state.districts.length<=0&&(i.setState({loading_districts:!0}),Object(u.s)((function(e,t,s){e?i.setState({loading_districts:!1,districts:t}):i.setState({loading_districts:!1,districts:[],error:{msg:s,target:"main-error"}})})))},i.selectDistrict=function(e){i.setState({selected_district:e.district_code,district_code:e.district_code,district_name:e.district_name,open_select_district:!1}),i.reloadDistrictResurces(e.district_code)},i.reloadDistrictResurces=function(e){e&&(i.setState({loading_resource:!0}),i.props.FC_GetAssignAssets(e,(function(e,t){e?i.setState({loading_resource:!1}):i.setState({loading_resource:!1,error:{target:"main-error",msg:"Failed to load district resource, please try again later"}})})))},i.clearError=function(){return i.setState({error:{msg:"",target:null}})},i.state={loading:!1,district_code:i.props.district_code?i.props.district_code:"",district_name:i.props.district_name?i.props.district_name:"",current_school:!0,selected_district:i.props.district_code?i.props.district_code:"",loading_resource:!1,error:{msg:"",target:null},loading_districts:!1,districts:[],open_select_district:!1},i}return Object(i.a)(s,[{key:"render",value:function(){var e,t,s,a,i,r=this;return"user-updates-success"===this.state.error.target?Object(g.jsx)(p.a,{className:"animate__animated animate__zoomIn ",children:Object(g.jsxs)("div",{className:"text-center py-10",children:[Object(g.jsx)(l.i,{className:"text-8xl text-green-600 mx-auto"}),Object(g.jsx)("h1",{className:"text-2xl font-bold text-green-600",children:"The user has been updated successfully"}),Object(g.jsxs)("p",{className:"mt-2 text-gray-600 pb-4",children:["The information has been updated successfully, ",Object(g.jsx)("br",{})," you can close the window and continue with other users"]}),Object(g.jsx)(m.a,{theme:"success-light",onClick:function(){r.props.close(),r.props.refreshApp&&r.props.refreshApp()},children:"Goo back to the profile"})]})}):Object(g.jsxs)(g.Fragment,{children:["main-error"===this.state.error.target&&Object(g.jsx)(_.a,{theme:"danger",fixed:!0,onClick:this.clearError,children:this.state.error.msg}),"main-success"===this.state.error.target&&Object(g.jsx)(_.a,{theme:"success",fixed:!0,onClick:this.clearError,children:this.state.error.msg}),Object(g.jsxs)("div",{className:" ",children:[!0===this.state.open_select_district&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"fixed top-0 bottom-0 z-50 right-0 left-0 bg-black bg-opacity-60",onClick:function(){return r.setState({open_select_district:!1})}}),Object(g.jsx)(f.c,{backDrop:!0,backDropClose:!0,close:function(){return r.setState({open_select_district:!1})},title:"Choose district",displayClose:!0,theme:f.b.default,widthSizeClass:f.a.medium,padding:{title:!0,body:!0,footer:!0},children:!0===this.state.loading_districts?Object(g.jsx)(b.a,{className:"mx-auto text-center"}):0===this.state.districts.length?Object(g.jsx)("div",{className:"py-5 text-center",children:"No results found!"}):Object(g.jsx)("div",{children:this.state.districts.map((function(e,t){return Object(g.jsxs)("div",{className:"p-1 border-b flex hover:bg-yellow-50",children:[Object(g.jsx)("h6",{children:e.district_code}),Object(g.jsx)("h6",{className:"flex-1 font-bold px-4",children:e.district_name}),Object(g.jsx)(m.a,{theme:"accent-light",size:"sm",onClick:r.selectDistrict.bind(r,e),children:"Select district"})]},t)}))})})]}),Object(g.jsxs)("div",{className:"flex p-1 items-center border-b container mx-auto",children:[Object(g.jsx)("h1",{className:"text-2xl flex-1 font-bold ",children:"Change user schools & Position"}),Object(g.jsx)(m.a,{theme:"danger-light",onClick:this.props.close,children:"Close"})]}),void 0!==this.props.userDetails&&Object(g.jsx)(p.a,{children:Object(g.jsxs)("div",{className:" bg-white mb-2 rounded items-center flex",children:[Object(g.jsx)("div",{className:"",children:Object(g.jsx)(l.b,{className:"text-6xl"})}),Object(g.jsxs)("div",{className:"flex-1 pl-2 grid grid-cols-2",children:[Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{className:"text-gray-600",children:"Names: "})," ",Object(g.jsx)("b",{children:null===(e=this.props.userDetails)||void 0===e?void 0:e.full_name})]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{className:"text-gray-600",children:"NID: "})," ",Object(g.jsx)("b",{children:null===(t=this.props.userDetails)||void 0===t?void 0:t.nid})]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{className:"text-gray-600",children:"Staff code: "})," ",Object(g.jsx)("b",{children:null===(s=this.props.userDetails)||void 0===s?void 0:s.staff_code})]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{className:"text-gray-600",children:"Email: "})," ",Object(g.jsx)("b",{children:null===(a=this.props.userDetails)||void 0===a?void 0:a.email})]})]})]})}),Object(g.jsx)("div",{className:"my-2",children:Object(g.jsx)(p.a,{children:Object(g.jsxs)("div",{className:"flex gap-3",children:[Object(g.jsx)("div",{className:"flex-1 flex items-center bg-gray-100 rounded p-1",children:!1===this.state.current_school&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{className:"text-lg pr-3",children:[Object(g.jsx)("b",{children:this.state.district_name}),"District"]}),Object(g.jsx)(m.a,{onClick:function(){r.setState({open_select_district:!0}),r.loadDistricts()},size:"sm",theme:"accent-light",children:"Choose District"}),this.props.district_code+""!==this.state.selected_district+""&&this.props.district_code&&this.props.district_code&&this.props.district_name&&Object(g.jsxs)(m.a,{onClick:function(){r.props.district_code&&r.props.district_code&&r.selectDistrict({district_code:r.props.district_code,district_name:r.props.district_code})},size:"sm",theme:"accent-light",children:["Choose ",Object(g.jsx)("b",{children:this.props.district_name})]})]})}),Object(g.jsxs)("div",{className:"flex p-1 rounded bg-gray-100",children:[" ",Object(g.jsx)("h3",{className:"text-lg pr-3",children:!0===this.state.current_school&&(null===(i=this.props)||void 0===i?void 0:i.school_name)}),Object(g.jsx)(m.a,{onClick:function(){return r.setState({current_school:!r.state.current_school})},size:"sm",theme:"accent-light",children:!1===this.state.current_school?"Another school":"Current school"})]})]})})}),Object(g.jsx)("div",{className:"",children:Object(g.jsx)(h.a,{exclude_roles:["3","4","18","21","22","25","26"],district_id:this.state.selected_district,assignType:"ASSIGN",no_position:!0,school:!0===this.state.current_school&&this.props.school_code&&this.props.school_name?{school_id:this.props.school_code,school_name:this.props.school_name}:void 0,current_position:this.props.current_position,only_post_for_school:!0,user_id:this.props.user_id,formAccess:{first_name:!1,last_name:!1,full_name:!1,middle_name:!1,nid:!1,phone_numbers:!1,role_id:!0,country_id:!1,district_code:!0,sector_code:!1,school_code:!0,qualification_id:!1,academic_year_id:!0,stakeholder_id:!1,start_date_in_the_school:!0,position_id:!0},required:{first_name:!1,last_name:!1,full_name:!1,middle_name:!1,nid:!0,phone_numbers:!0,role_id:!0,country_id:!1,district_code:!0,sector_code:!1,school_code:!0,qualification_id:!0,academic_year_id:!0,stakeholder_id:!1,start_date_in_the_school:!0,position_id:!1},success:function(e){r.setState({error:{target:"user-updates-success",msg:"User updated successfully"}}),setTimeout((function(){r.props.refreshApp&&r.props.refreshApp(),r.props.close()}),4e3)},button_title:"Update staff info"})})]})]})}}]),s}(c.a.Component),x=Object(d.b)((function(e){return{auth:e.auth}}),{FC_GetAssignAssets:u.n})(j)},121:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a,i=s(118),r=s(122),o=s(13),n=s(1);!function(e){e.RESTORE_DELETE="restore_delete",e.DELETE="delete",e.INFO="info",e.OTHER="other"}(a||(a={}));t.b=function(e){return Object(n.jsxs)("div",{className:"min-w-screen h-screen animated fadeIn faster  fixed  left-0 top-0 flex justify-center items-center inset-0 z-50 outline-none focus:outline-none bg-no-repeat bg-center bg-cover",id:"modal-id",children:[Object(n.jsx)("div",{className:"absolute bg-black opacity-80 inset-0 z-0"}),Object(n.jsx)("div",{className:"w-full  max-w-lg p-5 relative mx-auto my-auto rounded-xl shadow-lg bg-white animate__animated animate__zoomIn animate__faster",children:Object(n.jsxs)("div",{className:"",children:[Object(n.jsxs)("div",{className:"text-center p-5 flex-auto justify-center",children:[e.modalType===a.DELETE||e.modalType===a.RESTORE_DELETE&&Object(n.jsx)(i.a,{className:"w-4 h-4 -m-1 flex items-center text-red-500 mx-auto"}),e.modalType===a.DELETE?Object(n.jsx)(o.m,{className:"w-16 h-16 flex items-center text-red-500 mx-auto"}):e.modalType===a.RESTORE_DELETE?Object(n.jsx)(o.X,{className:"w-16 h-16 flex items-center text-yellow-800 mx-auto"}):e.modalType===a.INFO?Object(n.jsx)(r.a,{className:"w-16 h-16 flex items-center text-blue-500 mx-auto"}):Object(n.jsx)(r.a,{className:"w-16 h-16 flex items-center text-yellow-500 mx-auto"}),Object(n.jsx)("h2",{className:"text-xl font-bold py-4 ",children:"Are you sure?"}),Object(n.jsx)("p",{className:"text-sm text-gray-500 px-8",children:e.description})]}),Object(n.jsxs)("div",{className:"p-3  mt-2 text-center space-x-4 md:block",children:[Object(n.jsx)("button",{className:"mb-2 md:mb-0 bg-white px-5 py-2 text-sm shadow-sm font-medium tracking-wider border text-gray-600 rounded-full hover:shadow-lg hover:bg-gray-100",onClick:function(){return e.setModalAction(!1)},children:"Cancel"}),Object(n.jsx)("button",{className:"mb-2 md:mb-0 border px-5 py-2 text-sm shadow-sm font-medium tracking-wider text-white rounded-full hover:shadow-lg ".concat(e.modalType===a.DELETE?"border-red-500 hover:bg-red-600 bg-red-500":e.modalType===a.RESTORE_DELETE?"border-yellow-700 hover:bg-yellow-800 bg-yellow-700":e.modalType===a.INFO?"border-blue-500 hover:bg-blue-600 bg-blue-500":"border-yellow-500 hover:bg-yellow-600 bg-yellow-500"),onClick:function(){e.confirmFun(),e.setModalAction(!1)},children:"Confirm"})]})]})})]})}},122:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s(0);function i(e){return Object(a.a)({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}}]})(e)}},123:function(e,t,s){"use strict";var a,i=s(4),r=s(6),o=s(30),n=s(31),c=s(32),l=s(33),d=s(3),u=s.n(d),h=s(5),m=s.n(h),p=s(2),b=s(124),f=s(13),_=s(109),g=s(12),j=s(9),x=s(34),v=s(43),O=s(118),y=s(1),N=function(e){var t="";return 0===e.size&&(t="Invalid file"),e.size>1038221&&(t="File should not be greater than 1MB"),"application/pdf"!==e.type&&"image/png"!==e.type&&"image/jpeg"!==e.type&&"image/webp"!==e.type&&"image/tiff"!==e.type&&"image/bmp"!==e.type&&"image/gif"!==e.type&&"image/jfif"!==e.type&&"application/vnd.openxmlformats-officedocument.wordprocessingml.document"!==e.type&&(t="Invalid file type, accepted files(PDF, IMAGES(png, jpeg, webp, tiff, bmp, gif, jfif))"),console.log("File details: ",e.type),""!==t?t:""};!function(e){e.RESIDENCE="RESIDENCE",e.DISABILITY="DISABILITY",e.ALL="ALL"}(a||(a={}));var S=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).setLoadingSaving=function(e){return n.setState({loading_saving:e})},n.UpdateUserDocuments=function(){var e=Object(r.a)(u.a.mark((function e(t){var s,r,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.setState({error:null,success:""}),n.state.addDocType!==a.RESIDENCE){e.next=11;break}if(null!==n.state.resident_district_id&&""!==n.state.resident_district_id){e.next=5;break}return e.abrupt("return",n.setState({error:{element:"main",msg:"Please select residence district!"}}));case 5:if(null!==n.state.resident_surpoting_document){e.next=9;break}return e.abrupt("return",n.setState({error:{element:"resident_surpoting_document",msg:"Please select resident surpoting document!"}}));case 9:if(""===N(n.state.resident_surpoting_document)){e.next=11;break}return e.abrupt("return",n.setState({error:{element:"main",msg:N(n.state.resident_surpoting_document)}}));case 11:if(n.state.addDocType!==a.DISABILITY){e.next=18;break}if(null!==n.state.disability_surpoting_document){e.next=16;break}return e.abrupt("return",n.setState({error:{element:"disability_surpoting_document",msg:"Please select disability surpoting document!"}}));case 16:if(""===N(n.state.disability_surpoting_document)){e.next=18;break}return e.abrupt("return",n.setState({error:{element:"main",msg:N(n.state.disability_surpoting_document)}}));case 18:return(r=new FormData).append("disability",(n.state.addDocType===a.DISABILITY||"").toString()),r.append("resident_district_id",null===n.state.resident_district_id?"":n.state.resident_district_id),r.append("disability_surpoting_document",null===n.state.disability_surpoting_document?"":n.state.disability_surpoting_document),r.append("resident_surpoting_document",null===n.state.resident_surpoting_document?"":n.state.resident_surpoting_document),o=null===(s=n.state.districts)||void 0===s?void 0:s.find((function(e){return e.district_code===n.state.resident_district_id})),r.append("resident_district_name",void 0===o?"":o.district_name),console.log("FormData: ",r.values()),n.setState({loading_saving:!0}),e.prev=27,e.next=30,m.a.post("".concat(g.c,"/user/account/updateprofile"),r);case 30:c=e.sent,n.setState({success:"Document added successfully!"}),setInterval((function(){!0===n.state.loading_saving&&(n.props.FC_UpdateUserDocuments({resident_district_id:n.state.resident_district_id,disability:(n.state.addDocType===a.DISABILITY).toString(),disability_surpoting_document:c.data.disabilityNewFileName,resident_surpoting_document:c.data.residentNewFileName}),n.setState({loading_saving:!1}))}),3e3),console.log("Success: ",c.data),console.log("Success test: ",{resident_district_id:n.state.resident_district_id,disability:(n.state.addDocType===a.DISABILITY).toString(),disability_surpoting_document:c.data.disabilityNewFileName,resident_surpoting_document:c.data.residentNewFileName}),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(27),n.setState({error:{element:"main",msg:Object(j.a)(e.t0)},loading_saving:!1}),console.log("error: ",Object(i.a)({},e.t0));case 41:case"end":return e.stop()}}),e,null,[[27,37]])})));return function(t){return e.apply(this,arguments)}}(),n.SubmitNoDisability=Object(r.a)(u.a.mark((function e(){var t,s,a,r,o,c,l,d,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading_saving:!0}),e.prev=1,o=null===(t=n.props.auth.user)||void 0===t?void 0:t.resident_district_id,c=null===(s=n.props.auth.user)||void 0===s?void 0:s.disability_surpoting_document,l=null===(a=n.props.auth.user)||void 0===a?void 0:a.resident_surpoting_document,d=null===(r=n.props.auth.user)||void 0===r?void 0:r.resident_district_name,e.next=8,m.a.post("".concat(g.c,"/user/account/updateprofile"),{disability:(!1).toString(),resident_district_id:null===o||void 0===o?"":o,disability_surpoting_document:null===c||void 0===c?"":c,resident_surpoting_document:null===l||void 0===l?"":l,resident_district_name:null===d||void 0===d?"":d});case 8:h=e.sent,n.setState({success:"Submitted successfully!"}),setInterval((function(){n.props.FC_UpdateUserDocuments({resident_district_id:null===o||void 0===o?"":o,disability:(!1).toString(),disability_surpoting_document:h.data.disabilityNewFileName,resident_surpoting_document:h.data.residentNewFileName}),n.setState({loading_saving:!1})}),3e3),alert("Submitted successfully!"),console.log("Success: ",h.data),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),n.setState({error:{element:"main",msg:Object(j.a)(e.t0)},loading_saving:!1}),console.log("error: ",Object(i.a)({},e.t0));case 19:case"end":return e.stop()}}),e,null,[[1,15]])}))),n.componentDidMount=function(){null===n.state.districts&&(n.setState({loading:!0}),Object(_.b)((function(e,t,s){null!==t&&(n.setState({districts:t,loading:!1}),console.log(t)),n.setState({loading:!1})})))},n.state={districts:null,loading:!1,loading_saving:!1,addDocuments:!1,addDocType:a.ALL,resident_district_id:null,disability_surpoting_document:null,resident_surpoting_document:null,error:null,success:""},n}return Object(n.a)(s,[{key:"render",value:function(){var e,t,s,i,r,o,n,c,l,d,u,h,m,_,j,N,S,w,k,D,I=this;return null===this.state.districts||!0===this.state.loading?Object(y.jsx)(x.a,{children:Object(y.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 w-full text-center py-5",children:[Object(y.jsx)(v.a,{}),Object(y.jsx)("div",{children:"Loading..."})]})}):Object(y.jsxs)(p.Fragment,{children:[""!==this.state.success&&Object(y.jsx)("div",{className:"text-green-700 bg-green-100 rounded px-3 py-2",children:this.state.success}),null!==this.state.error&&Object(y.jsx)("div",{className:"text-red-700 bg-red-100 rounded px-3 py-2",children:this.state.error.msg}),!1===this.state.addDocuments?Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"py-2 border-b",children:Object(y.jsx)("span",{className:"text-xl font-bold uppercase",children:"My documents"})}),Object(y.jsxs)("div",{className:"py-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[Object(y.jsxs)("div",{className:"col-span-1 flex items-center gap-3 ".concat(null===(null===(e=this.props.auth.user)||void 0===e?void 0:e.resident_surpoting_document)||""===(null===(t=this.props.auth.user)||void 0===t?void 0:t.resident_surpoting_document)?"bg-yellow-100":"bg-gray-100"," rounded-lg p-3 py-4 hover:bg-blue-100 hover:text-primary-800 group"),children:[Object(y.jsx)("div",{children:null===(null===(s=this.props.auth.user)||void 0===s?void 0:s.resident_surpoting_document)||""===(null===(i=this.props.auth.user)||void 0===i?void 0:i.resident_surpoting_document)?Object(y.jsx)(f.e,{className:"text-gray-400 group-hover:text-primary-800 text-6xl"}):Object(y.jsx)(b.b,{className:"text-primary-800 group-hover:text-primary-800 text-6xl"})}),Object(y.jsxs)("div",{children:[null===(null===(r=this.props.auth.user)||void 0===r?void 0:r.resident_surpoting_document)||""===(null===(o=this.props.auth.user)||void 0===o?void 0:o.resident_surpoting_document)?Object(y.jsx)("div",{className:"text-accent-900 font-bold group-hover:text-primary-800",children:"Resident district is missing!"}):Object(y.jsx)("div",{className:"text-gray-900 font-bold group-hover:text-primary-800",children:"My resident district"}),Object(y.jsx)("div",{onClick:function(){var e,t,s;(null===(null===(e=I.props.auth.user)||void 0===e?void 0:e.resident_surpoting_document)||void 0===(null===(t=I.props.auth.user)||void 0===t?void 0:t.resident_surpoting_document)||""===(null===(s=I.props.auth.user)||void 0===s?void 0:s.resident_surpoting_document))&&I.setState({addDocuments:!0,addDocType:a.RESIDENCE})},className:"text-xl font-bold cursor-pointer",children:null===(null===(n=this.props.auth.user)||void 0===n?void 0:n.resident_surpoting_document)||""===(null===(c=this.props.auth.user)||void 0===c?void 0:c.resident_surpoting_document)?Object(y.jsx)("span",{className:"underline",children:"Choose your residence"}):Object(y.jsx)("span",{className:"text-primary-800",children:null===(l=this.state.districts.find((function(e){var t;return e.district_code===(null===(t=I.props.auth.user)||void 0===t?void 0:t.resident_district_id)})))||void 0===l?void 0:l.district_name})}),null!==(null===(d=this.props.auth.user)||void 0===d?void 0:d.resident_surpoting_document)&&void 0!==(null===(u=this.props.auth.user)||void 0===u?void 0:u.resident_surpoting_document)&&""!==(null===(h=this.props.auth.user)||void 0===h?void 0:h.resident_surpoting_document)&&Object(y.jsxs)("div",{className:"flex flex-row items-center w-full gap-2 mt-2",children:[Object(y.jsxs)("div",{onClick:function(){I.setState({addDocuments:!0,addDocType:a.RESIDENCE})},className:"bg-white cursor-pointer rounded flex items-center gap-2 px-2 py-1 hover:bg-primary-800 hover:text-white",children:[Object(y.jsx)("div",{children:Object(y.jsx)(f.o,{className:"text-lg"})}),Object(y.jsx)("span",{children:"Update"})]}),Object(y.jsxs)("a",{href:"".concat(g.d,"/").concat(this.props.auth.user.resident_surpoting_document),target:"__blank",className:"bg-white cursor-pointer rounded flex items-center gap-2 px-2 py-1 hover:bg-primary-800 hover:text-white",children:[Object(y.jsx)("div",{children:Object(y.jsx)(O.b,{className:"text-lg"})}),Object(y.jsx)("span",{children:"Download"})]})]})]})]}),(null===(m=this.props.auth.user)||void 0===m?void 0:m.disability)!==(!0).toString()&&Object(y.jsxs)("div",{className:"col-span-1 flex items-center gap-3 bg-gray-50 rounded-lg p-3 py-4 hover:bg-gray-100  group",children:[Object(y.jsx)("div",{children:null===(null===(_=this.props.auth.user)||void 0===_?void 0:_.disability_surpoting_document)||""===(null===(j=this.props.auth.user)||void 0===j?void 0:j.disability_surpoting_document)?Object(y.jsx)(f.Q,{className:"text-gray-400  text-6xl"}):Object(y.jsx)(b.b,{className:"text-primary-800 group-hover:text-primary-800 text-6xl"})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"text-gray-600 ",children:"Do you have a disability?"}),Object(y.jsx)("div",{className:"text-xl font-bold cursor-pointer",children:null===(null===(N=this.props.auth.user)||void 0===N?void 0:N.disability_surpoting_document)||""===(null===(S=this.props.auth.user)||void 0===S?void 0:S.disability_surpoting_document)?Object(y.jsx)("div",{className:"flex flex-row items-center gap-3",children:Object(y.jsx)("div",{onClick:function(){var e,t,s;(null===(null===(e=I.props.auth.user)||void 0===e?void 0:e.disability_surpoting_document)||void 0===(null===(t=I.props.auth.user)||void 0===t?void 0:t.disability_surpoting_document)||""===(null===(s=I.props.auth.user)||void 0===s?void 0:s.disability_surpoting_document))&&I.setState({addDocuments:!0,addDocType:a.DISABILITY})},className:"bg-gray-200 group-hover:bg-white rounded px-3 border border-gray-200 group-hover:border-accent-900 group-hover:text-accent-900",children:"Yes"})}):""}),null!==(null===(w=this.props.auth.user)||void 0===w?void 0:w.disability_surpoting_document)&&void 0!==(null===(k=this.props.auth.user)||void 0===k?void 0:k.disability_surpoting_document)&&""!==(null===(D=this.props.auth.user)||void 0===D?void 0:D.disability_surpoting_document)&&Object(y.jsxs)("div",{className:"flex flex-row items-center w-full gap-2 mt-2",children:[Object(y.jsxs)("div",{onClick:function(){I.setState({addDocuments:!0,addDocType:a.DISABILITY})},className:"bg-white cursor-pointer rounded flex items-center gap-2 px-2 py-1 hover:bg-primary-800 hover:text-white",children:[Object(y.jsx)("div",{children:Object(y.jsx)(f.o,{className:"text-lg"})}),Object(y.jsx)("span",{children:"Update"})]}),Object(y.jsxs)("a",{href:"".concat(g.d,"/").concat(this.props.auth.user.disability_surpoting_document),target:"__blank",className:"bg-white cursor-pointer rounded flex items-center gap-2 px-2 py-1 hover:bg-primary-800 hover:text-white",children:[Object(y.jsx)("div",{children:Object(y.jsx)(O.b,{className:"text-lg"})}),Object(y.jsx)("span",{children:"Download"})]})]})]})]})]})]}):Object(y.jsx)("div",{className:"p-5 bg-white animate__animated animate__fadeIn animate__faster",children:Object(y.jsxs)("form",{onSubmit:this.UpdateUserDocuments,className:"flex flex-col md:flex-row items-center gap-6",children:[Object(y.jsx)("div",{className:"flex flex-col text-base",children:this.state.addDocType===a.RESIDENCE&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("label",{className:"font-bold",children:"Choose resident district"}),Object(y.jsxs)("select",{value:null===this.state.resident_district_id?"":this.state.resident_district_id,onChange:function(e){return I.setState({resident_district_id:e.target.value})},className:"border border-gray-400 rounded px-3 py-2 mb-5",children:[Object(y.jsx)("option",{value:"",children:"Choose district"}),this.state.districts.map((function(e,t){return Object(y.jsx)("option",{value:e.district_code,children:e.district_name},t+1)}))]}),Object(y.jsxs)("label",{className:"font-bold",children:["Residence supporting document ","(Size < 1MB)"]}),Object(y.jsx)("input",{type:"file",onChange:function(e){return I.setState({resident_surpoting_document:null===e.target.files?null:e.target.files[0]})},className:"border border-gray-400 rounded px-3 py-2"})]})}),Object(y.jsxs)("div",{className:"flex flex-col text-base",children:[this.state.addDocType===a.DISABILITY&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("label",{className:"font-bold",children:["Disability supporting document ","(Size < 1MB)"]}),Object(y.jsx)("input",{type:"file",onChange:function(e){return I.setState({disability_surpoting_document:null===e.target.files?null:e.target.files[0]})},className:"border border-gray-400 rounded px-3 py-2"})]}),Object(y.jsxs)("div",{className:"px-3 py-2 rounded bg-yellow-100 gap-3",children:[Object(y.jsx)("span",{className:"font-extrabold",children:"Warning"})," Make sure you are providing correct information. For any inconvenience, rules will be applied"]}),!1===this.state.loading_saving?Object(y.jsxs)("div",{className:"flex items-center gap-3 mt-6",children:[Object(y.jsx)("div",{onClick:function(){return I.setState({addDocuments:!1,addDocType:a.ALL,resident_district_id:null,disability_surpoting_document:null,resident_surpoting_document:null,success:"",error:null})},className:"text-center px-3 py-2 rounded bg-gray-100 cursor-pointer font-bold",children:"Back"}),Object(y.jsx)("button",{type:"submit",className:"text-center px-3 py-2 rounded bg-primary-800 text-white cursor-pointer font-bold",children:"Submit"})]}):Object(y.jsx)("div",{className:"text-accent-900",children:"Loading, please wait..."})]})]})})]})}}]),s}(p.Component);t.a=S},127:function(e,t,s){"use strict";s.r(t),s.d(t,"UserProfile",(function(){return W}));var a,i=s(30),r=s(31),o=s(32),n=s(33),c=s(2),l=s(17),d=s(10),u=s(27),h=s(6),m=s(3),p=s.n(m),b=s(5),f=s.n(b),_=s(12),g=s(8),j=s(9),x=function(){var e=Object(h.a)(p.a.mark((function e(t,s){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,null,""),e.prev=1,Object(g.a)(),e.next=5,f.a.get("".concat(_.c,"/profile/teacher/").concat(t));case 5:a=e.sent,console.log("=================FC_GetProfilesssss==================="),console.log({FC_GetProfile:a}),console.log("=================FC_GetProfilesssss==================="),s(!1,a.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),s(!1,null,Object(j.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,s){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(p.a.mark((function e(t,s){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,""),e.prev=1,Object(g.a)(),e.next=5,f.a.post("".concat(_.c,"/user/updateinfo/credential/").concat(t.user_id),{username:t.username,password:t.password});case 5:a=e.sent,console.log("=================FC_ResetPassword==================="),console.log({FC_ResetPassword:a}),console.log("=================FC_ResetPassword==================="),s(!1,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),s(!1,Object(j.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,s){return e.apply(this,arguments)}}(),O=s(19),y=s(1);!function(e){e.NEW="New",e.ACTIVE="Active",e.DISABLED="Disabled",e.TRANSFERD="TRANSFERD",e.TERMINATED="TERMINATED",e.SUSPENDED="SUSPENDED"}(a||(a={}));var N=s(34),S=s(44),w=s(26),k=s(13),D=s(112),I=function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(N.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(y.jsxs)("div",{className:"py-2 flex items-center",children:[Object(y.jsx)("div",{className:"flex-1",children:Object(y.jsxs)(S.a,{children:["View"," ",e.thiTermination.requested_to_suspend_from?"suspension":"termination"," ","progress"]})}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)(w.a,{onClick:function(){return e.close(null)},theme:"default",children:"Close"})})]}),Object(y.jsxs)("div",{className:"bg-white p-3 shadow-sm rounded-sm",children:[Object(y.jsxs)("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8",children:[Object(y.jsx)("span",{className:"text-primary-800",children:Object(y.jsx)(k.R,{size:25})}),Object(y.jsx)("span",{className:"tracking-wide",children:"Staff info"})]}),Object(y.jsx)("div",{className:"text-gray-700",children:Object(y.jsxs)("div",{className:"grid md:grid-cols-2 text-sm",children:[Object(y.jsxs)("div",{className:"grid grid-cols-2",children:[Object(y.jsx)("div",{className:"px-4 py-2 font-semibold",children:"Full Name"}),Object(y.jsx)("div",{className:"px-4 py-2",children:e.selectedStaff.full_name})]}),Object(y.jsxs)("div",{className:"grid grid-cols-2",children:[Object(y.jsx)("div",{className:"px-4 py-2 font-semibold",children:"Contact No."}),Object(y.jsx)("div",{className:"px-4 py-2",children:e.selectedStaff.phone_numbers})]}),Object(y.jsxs)("div",{className:"grid grid-cols-2",children:[Object(y.jsx)("div",{className:"px-4 py-2 font-semibold",children:"Email."}),Object(y.jsx)("div",{className:"px-4 py-2",children:Object(y.jsx)("a",{className:"text-blue-800",href:"mailto:jane@example.com",children:e.selectedStaff.email})})]})]})})]}),Object(y.jsxs)("div",{className:"bg-white p-3 border rounded",children:[Object(y.jsxs)("div",{className:"flex items-center px-2 py-1 bg-gray-200 rounded",children:[Object(y.jsx)(k.J,{className:"w-8"}),Object(y.jsx)("p",{children:e.thiTermination.reason_name})]}),Object(y.jsxs)("div",{className:"flex flex-col mt-3",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Comment:"}),Object(y.jsx)("p",{className:"text-base",children:e.thiTermination.requested_by_comment})]}),Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Date:"}),Object(y.jsx)("p",{className:"text-base",children:Object(O.a)(e.thiTermination.requested_by_date)})]})]}),e.thiTermination.status!==D.a.PENDING&&e.thiTermination.status!==D.a.PENDING_SUSPENSION&&Object(y.jsxs)("section",{children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Feedback:"}),Object(y.jsxs)("div",{className:"bg-white p-3 border rounded",children:[Object(y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Decision:"}),Object(y.jsx)("p",{className:"text-base font-semibold",children:e.thiTermination.status})]}),Object(y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Start date:"}),Object(y.jsx)("p",{className:"text-base font-semibold",children:e.thiTermination.decided_to_suspend_from&&!Object(O.g)(e.thiTermination.decided_to_suspend_from)?Object(O.a)(e.thiTermination.decided_to_suspend_from):"-"})]}),Object(y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"End date:"}),Object(y.jsx)("p",{className:"text-base font-semibold",children:e.thiTermination.decided_to_suspend_to&&!Object(O.g)(e.thiTermination.decided_to_suspend_to)?Object(O.a)(e.thiTermination.decided_to_suspend_to):"-"})]}),Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Comment:"}),Object(y.jsx)("p",{className:"text-base",children:e.thiTermination.decided_by_comment})]}),Object(y.jsxs)("div",{className:"flex items-center gap-2",children:[Object(y.jsx)("span",{className:"text-sm text-gray-500",children:"Done on:"}),Object(y.jsx)("p",{className:"text-base font-semibold",children:e.thiTermination.decided_by_date?Object(O.a)(e.thiTermination.decided_by_date):"-"})]})]})]})]})})},C=s(115),R=s(35),T=s(111),E=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setSelectReason=function(e){a.setState({selectReason:e})},a.setLoadingRequest=function(e){a.setState({loadingRequest:e})},a.setAllReasons=function(e){a.setState({allReasons:e})},a.setThisReason=function(e){a.setState({thisReason:e})},a.setComment=function(e){a.setState({comment:e})},a.setStaffCode=function(e){a.setState({staffCode:e})},a.setStaffRegId=function(e){a.setState({staffRegId:e})},a.cleanToCLose=function(){a.props.close(null),a.setThisReason(null),a.setComment(""),a.setStaffCode(""),a.setStaffRegId(""),a.setState({error:{target:null,msg:""}})},a.getTerminationReasons=function(){var e=Object(h.a)(p.a.mark((function e(t){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!0,null,""),Object(g.a)(),e.next=5,f.a.get("".concat(_.c,"/changeStatusReasons/termination"));case 5:s=e.sent,console.log("===================================="),console.log({getTerminationReasons:s}),console.log("===================================="),t(!1,s.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),t(!1,null,Object(j.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){null===a.props.auth.school?a.setState({error:{target:"main-error",msg:"No school assigned to you"}}):null===a.state.allReasons&&a.getTerminationReasons((function(e,t,s){a.setLoading(e),!e&&Object(O.g)(s)&&t?a.setAllReasons(t):e||Object(O.g)(s)||a.setState({error:{target:"main-error",msg:s}})}))},a.submitTermination=function(){var e=Object(h.a)(p.a.mark((function e(t){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.props.auth.school){e.next=3;break}return e.abrupt("return",a.setState({error:{target:"main-error",msg:"No school assigned to you!"}}));case 3:if(a.props.auth.user){e.next=5;break}return e.abrupt("return",a.setState({error:{target:"main-error",msg:"Can't identify who you are!"}}));case 5:if(!Object(O.g)(a.props.auth.user.user_id)&&void 0!==a.props.auth.user.user_id){e.next=7;break}return e.abrupt("return",a.setState({error:{target:"main-error",msg:"Can't identify your code!"}}));case 7:if(null!==a.state.thisReason){e.next=9;break}return e.abrupt("return",a.setState({error:{target:"reason_id",msg:"Required!"}}));case 9:if(!Object(O.g)(a.state.comment)){e.next=11;break}return e.abrupt("return",a.setState({error:{target:"comment",msg:"Required!"}}));case 11:return e.prev=11,a.setLoadingRequest(!0),Object(g.a)(),e.next=16,f.a.post("".concat(_.c,"/changeteacherstatus/requestchangeteacherstatus"),{changeStatusType:"PENDING TERMINATION",staff_to_changestatus_id:a.props.selectedStaff.staff_code,school_code:a.props.auth.school.school_code,district_code:a.props.auth.school.school_code.substring(0,2),requested_by_reason_id:a.state.thisReason.termination_reason_id,requested_by_comment:a.state.comment});case 16:s=e.sent,console.log("===================================="),console.log({submitTermination:s}),console.log("===================================="),a.props.FC_GetAllTermination("hd",(function(e,t,s){a.setLoading(e),e||Object(O.g)(s)?(a.setState({loading:!1,thisReason:null,comment:"",error:{target:"main-success",msg:"Staff  termination requested successfully"}}),a.setLoadingRequest(!1),setTimeout((function(){a.cleanToCLose()}),2e3)):(console.log("===================================="),console.error({msg:s}),console.log("===================================="))})),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(11),console.error(e.t0),a.setState({loading:!1,error:{target:"main-error",msg:Object(j.a)(e.t0)}});case 27:case"end":return e.stop()}}),e,null,[[11,23]])})));return function(t){return e.apply(this,arguments)}}(),a.state={loading:!0,allReasons:null,loadingRequest:!1,thisReason:null,comment:"",error:{target:null,msg:""},staffRegId:"",staffCode:"",selectReason:!1},a}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return Object(y.jsxs)(y.Fragment,{children:["main-success"===this.state.error.target&&Object(y.jsx)(u.a,{theme:"success",children:this.state.error.msg}),"main-error"===this.state.error.target&&Object(y.jsx)(u.a,{theme:"danger",children:this.state.error.msg}),Object(y.jsxs)(N.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(y.jsxs)("div",{className:"py-2 flex items-center",children:[Object(y.jsx)("div",{className:"flex-1",children:Object(y.jsx)(S.a,{children:"Staff termination form"})}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)(w.a,{onClick:function(){return e.cleanToCLose()},theme:"default",disabled:this.state.loadingRequest,children:"Close"})})]}),Object(y.jsxs)("form",{onSubmit:this.submitTermination,children:[Object(y.jsxs)("div",{className:"p-2 flex flex-wrap",children:[Object(y.jsx)("div",{className:"w-full py-1 px-3",children:Object(y.jsx)(R.a,{disabled:!0,label:"Full name",name:"full_name",type:"text",value:this.props.selectedStaff.full_name?this.props.selectedStaff.full_name:"",placeholder:"Full name",className:"p-2",onChange:function(){return null},error:""})}),Object(y.jsx)("div",{className:"w-full py-1 px-3",children:Object(y.jsxs)("div",{className:"w-full my-2",children:[Object(y.jsx)("label",{htmlFor:"login-form-email",className:"text-primary-900 dark:text-primary-100",children:"Termination reasons"}),this.state.selectReason?Object(y.jsx)(T.a,{title:"reason_name",id:"termination_reason_id",data:this.state.allReasons,loading:this.state.loading||this.state.loadingRequest,click:function(t){e.setThisReason(t),e.setSelectReason(!1)},close:function(){return e.setSelectReason(!1)}}):Object(y.jsxs)("div",{className:"rounded relative",children:[Object(y.jsx)("div",{className:"w-full text-lg rounded border-2 p-2 px-4 text-md ".concat(!this.state.thisReason&&"text-gray-500"," ").concat(this.state.allReasons?"cursor-pointer":"cursor-wait"," ").concat(this.state.error.target&&"reason_id"===this.state.error.target?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900"," px-3"),onClick:function(){return!e.state.loading&&!e.state.loadingRequest&&e.setSelectReason(!0)},children:this.state.thisReason?this.state.thisReason.reason_name:"Select termination reasons"}),this.state.error.target&&"reason_id"===this.state.error.target&&Object(y.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:this.state.error.msg})]})]})}),Object(y.jsx)("div",{className:"w-full py-1 px-3",children:Object(y.jsx)(C.a,{disabled:this.state.loading||this.state.loadingRequest,label:"Comment",name:"other_reason",value:this.state.comment,placeholder:"Other termination reason",className:"p-2",onChange:function(t){return e.setComment(t.target.value)},error:this.state.error.target&&"comment"===this.state.error.target?this.state.error.msg:""})})]}),Object(y.jsxs)("div",{className:"px-6 text-right flex",children:[Object(y.jsx)("div",{className:"flex-1",children:null!==this.state.error.target&&"main-error"!==this.state.error.target&&"main-success"!==this.state.error.target&&Object(y.jsx)("div",{className:"text-sm text-red-400 pr-4",children:"Some fields are required!"})}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)(w.a,{type:"submit",size:"lg",loading:this.state.loading,children:"Send"})})]})]})]})]})}}]),s}(c.Component),A=Object(l.b)(null,{FC_GetAllTermination:d.m})(E),q=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).setLoading=function(e){a.setState({loading:e})},a.setSelectReason=function(e){a.setState({selectReason:e})},a.setLoadingRequest=function(e){a.setState({loadingRequest:e})},a.setAllReasons=function(e){a.setState({allReasons:e})},a.setThisReason=function(e){a.setState({thisReason:e})},a.setComment=function(e){a.setState({comment:e})},a.setStartDate=function(e){a.setState({startDate:e})},a.setEndDate=function(e){a.setState({endDate:e})},a.setStaffCode=function(e){a.setState({staffCode:e})},a.setStaffRegId=function(e){a.setState({staffRegId:e})},a.cleanToCLose=function(){a.props.close(null),a.setThisReason(null),a.setComment(""),a.setStaffCode(""),a.setStaffRegId(""),a.setStartDate(""),a.setEndDate(""),a.setState({error:{target:null,msg:""}})},a.getSuspensionReasons=function(){var e=Object(h.a)(p.a.mark((function e(t){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!0,null,""),Object(g.a)(),e.next=5,f.a.get("".concat(_.c,"/changeStatusReasons/suspension"));case 5:s=e.sent,console.log("===================================="),console.log({getSuspensionReasons:s}),console.log("===================================="),t(!1,s.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),t(!1,null,Object(j.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){null===a.props.auth.school?a.setState({error:{target:"main-error",msg:"No school assigned to you"}}):null===a.state.allReasons&&a.getSuspensionReasons((function(e,t,s){a.setLoading(e),!e&&Object(O.g)(s)&&t?a.setAllReasons(t):e||Object(O.g)(s)||a.setState({error:{target:"main-error",msg:s}})}))},a.submitSuspension=function(){var e=Object(h.a)(p.a.mark((function e(t){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.props.auth.school){e.next=3;break}return e.abrupt("return",a.setState({error:{target:"main-error",msg:"No school assigned to you!"}}));case 3:if(a.props.auth.user){e.next=5;break}return e.abrupt("return",a.setState({error:{target:"main-error",msg:"Can't identify who you are!"}}));case 5:if(!Object(O.g)(a.props.auth.user.user_id)&&void 0!==a.props.auth.user.user_id){e.next=7;break}return e.abrupt("return",a.setState({error:{target:"main-error",msg:"Can't identify your code!"}}));case 7:if(!Object(O.g)(a.state.startDate)){e.next=9;break}return e.abrupt("return",a.setState({error:{target:"start_date",msg:"Required!"}}));case 9:if(!Object(O.g)(a.state.endDate)){e.next=11;break}return e.abrupt("return",a.setState({error:{target:"end_date",msg:"Required!"}}));case 11:if(null!==a.state.thisReason){e.next=13;break}return e.abrupt("return",a.setState({error:{target:"reason_id",msg:"Required!"}}));case 13:if(!Object(O.g)(a.state.comment)){e.next=15;break}return e.abrupt("return",a.setState({error:{target:"comment",msg:"Required!"}}));case 15:return e.prev=15,a.setLoadingRequest(!0),Object(g.a)(),e.next=20,f.a.post("".concat(_.c,"/changeteacherstatus/requestchangeteacherstatus"),{changeStatusType:"PENDING SUSPENTION",staff_to_changestatus_id:a.props.selectedStaff.staff_code,school_code:a.props.auth.school.school_code,district_code:a.props.auth.school.school_code.substring(0,2),requested_by_reason_id:a.state.thisReason.suspension_reason_id,requested_by_comment:a.state.comment,requested_to_suspend_from:a.state.startDate,requested_to_suspend_to:a.state.endDate});case 20:s=e.sent,console.log("===================================="),console.log({submitSuspension:s}),console.log("===================================="),a.props.FC_GetAllTermination("hd",(function(e,t,s){a.setLoading(e),e||Object(O.g)(s)?(a.setState({loading:!1,thisReason:null,comment:"",error:{target:"main-success",msg:"Staff suspension requested successfully"}}),a.setLoadingRequest(!1),setTimeout((function(){a.cleanToCLose()}),2e3)):(console.log("===================================="),console.error({msg:s}),console.log("===================================="))})),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(15),console.error(e.t0),a.setState({loading:!1,error:{target:"main-error",msg:Object(j.a)(e.t0)}});case 31:case"end":return e.stop()}}),e,null,[[15,27]])})));return function(t){return e.apply(this,arguments)}}(),a.state={loading:!0,allReasons:null,loadingRequest:!1,thisReason:null,comment:"",error:{target:null,msg:""},staffRegId:"",staffCode:"",startDate:"",endDate:"",selectReason:!1},a}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return Object(y.jsxs)(y.Fragment,{children:["main-success"===this.state.error.target&&Object(y.jsx)(u.a,{theme:"success",children:this.state.error.msg}),"main-error"===this.state.error.target&&Object(y.jsx)(u.a,{theme:"danger",children:this.state.error.msg}),Object(y.jsxs)(N.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(y.jsxs)("div",{className:"py-2 flex items-center",children:[Object(y.jsx)("div",{className:"flex-1",children:Object(y.jsx)(S.a,{children:"Staff suspension form"})}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)(w.a,{onClick:function(){return e.cleanToCLose()},theme:"default",disabled:this.state.loadingRequest,children:"Close"})})]}),Object(y.jsxs)("form",{onSubmit:this.submitSuspension,children:[Object(y.jsxs)("div",{className:"p-2 flex flex-wrap",children:[Object(y.jsx)("div",{className:"w-full py-1 px-3",children:Object(y.jsx)(R.a,{disabled:!0,label:"FUll name",name:"full_name",type:"text",value:this.props.selectedStaff.full_name?this.props.selectedStaff.full_name:"",placeholder:"Full name",className:"p-2",onChange:function(){return null},error:""})}),Object(y.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(y.jsx)(R.a,{disabled:this.state.loading||this.state.loadingRequest,label:"Start date",name:"start_date",type:"date",value:this.state.startDate,placeholder:"Suspension starting date",className:"p-2",onChange:function(t){e.setStartDate(t.target.value),e.setState({error:{target:null,msg:""}})},error:this.state.error.target&&"start_date"===this.state.error.target?this.state.error.msg:""})}),Object(y.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(y.jsx)(R.a,{disabled:this.state.loading||this.state.loadingRequest,label:"End date",name:"end_date",type:"date",value:this.state.endDate,placeholder:"Suspension ending date",className:"p-2",onChange:function(t){e.setEndDate(t.target.value),e.setState({error:{target:null,msg:""}})},error:this.state.error.target&&"end_date"===this.state.error.target?this.state.error.msg:""})}),Object(y.jsx)("div",{className:"w-full py-1 px-3",children:Object(y.jsxs)("div",{className:"w-full my-2",children:[Object(y.jsx)("label",{htmlFor:"login-form-email",className:"text-primary-900 dark:text-primary-100",children:"Suspension reasons"}),this.state.selectReason?Object(y.jsx)(T.a,{title:"reason_name",id:"suspension_reason_id",data:this.state.allReasons,loading:this.state.loading||this.state.loadingRequest,click:function(t){e.setThisReason(t),e.setState({error:{target:null,msg:""}}),e.setSelectReason(!1)},close:function(){return e.setSelectReason(!1)}}):Object(y.jsxs)("div",{className:"rounded relative",children:[Object(y.jsx)("div",{className:"w-full text-lg rounded border-2 p-2 px-4 text-md ".concat(!this.state.thisReason&&"text-gray-500"," ").concat(this.state.allReasons?"cursor-pointer":"cursor-wait"," ").concat(this.state.error.target&&"reason_id"===this.state.error.target?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900"," px-3"),onClick:function(){return!e.state.loading&&!e.state.loadingRequest&&e.setSelectReason(!0)},children:this.state.thisReason?this.state.thisReason.reason_name:"Select termination reasons"}),this.state.error.target&&"reason_id"===this.state.error.target&&Object(y.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:this.state.error.msg})]})]})}),Object(y.jsx)("div",{className:"w-full py-1 px-3",children:Object(y.jsx)(C.a,{disabled:this.state.loading||this.state.loadingRequest,label:"Comment",name:"other_reason",value:this.state.comment,placeholder:"Other suspension reason",className:"p-2",onChange:function(t){e.setComment(t.target.value),e.setState({error:{target:null,msg:""}})},error:this.state.error.target&&"comment"===this.state.error.target?this.state.error.msg:""})})]}),Object(y.jsxs)("div",{className:"px-6 text-right flex",children:[Object(y.jsx)("div",{className:"flex-1",children:null!==this.state.error.target&&"main-error"!==this.state.error.target&&"main-success"!==this.state.error.target&&Object(y.jsx)("div",{className:"text-sm text-red-400 pr-4",children:"Some fields are required!"})}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)(w.a,{type:"submit",size:"lg",loading:this.state.loading,children:"Send"})})]})]})]})]})}}]),s}(c.Component),F=Object(l.b)(null,{FC_GetAllTermination:d.m})(q),L=s(43),P=s(120),U=s(113),G=s(121),M=s(36),z=s(125),B=s(114),H=s(123),Y=s(7),V=function(e,t){return console.log("T: ",e),e.find((function(e){return e.teacher_id===t}))},J=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).setThisTermination=function(e){a.setState({thisTermination:e})},a.setUserInfo=function(e){a.setState({userInfo:e})},a.setLoading=function(e){a.setState({loading:e})},a.setError=function(e){a.setState({error:e})},a.setAction=function(e){a.setState({action:e})},a.componentDidMount=function(){var e=a.props.isExternal?a.props.user_id?a.props.user_id:"":a.props.auth.user?a.props.auth.user.user_id:"";x(e,(function(e,t,s){a.setLoading(e),e||Object(O.g)(s)?!e&&t&&a.setUserInfo(t):a.setError({target:"main-error",msg:s}),console.log("=================FC_GetProfile==================="),console.log({FC_GetProfile:t}),console.log("=================FC_GetProfile===================")})),a.props.FC_GetAllTermination("hd",(function(e,t,s){console.log("================FC_GetAllTermination===================="),console.log({FC_GetAllTermination:t}),console.log("================FC_GetAllTermination===================="),a.setLoading(e),e||Object(O.g)(s)||a.setError({target:"main-error",msg:s})}))},a.restUserCredential=function(e){v({user_id:e.user_id,username:e.username,password:"12345"},(function(e,t){a.setState({loadingRequest:e}),!1===e&&Object(O.g)(t)?a.setError({target:"main-success",msg:"Resetting credential complete successfully"}):!1===e&&a.setError({target:"main-error",msg:t})}))},a.state={openSuspensionModal:!1,operationActionType:"suspend",suspendStartDate:"",suspendEndDate:"",title:"",userInfo:null,comment:"",error:{target:null,msg:""},loading:!0,thisTermination:null,action:null,assign_to_school:!1,loadingRequest:!1,rest_this_user:null},a}return Object(r.a)(s,[{key:"render",value:function(){var e,t,s,i,r,o,n,c,l,d,h,m,p=this;return console.log("==================buttonssssss=================="),console.log({user_data:this.props.user_data}),console.log("==================buttonssssss=================="),this.props.user_id&&!Object(O.g)(this.props.user_id)||!0!==this.props.isExternal||(k.v,this.props.isExternal&&(w.a,this.props.close)),!0===this.state.assign_to_school&&void 0!==this.props.user_id&&Object(Y.c)(null===(e=this.props.auth.role)||void 0===e?void 0:e.access,Y.b.CHANGE_TEACHER_SCHOOL_AND_POSITION)?Object(y.jsx)(P.a,{user_id:this.props.user_id,userDetails:{email:null===(t=this.state.userInfo)||void 0===t?void 0:t.staffDetails.basicInfo.email,full_name:null===(s=this.state.userInfo)||void 0===s?void 0:s.staffDetails.basicInfo.full_name,nid:null===(i=this.state.userInfo)||void 0===i?void 0:i.staffDetails.basicInfo.nid,staff_code:null===(r=this.state.userInfo)||void 0===r?void 0:r.staffDetails.basicInfo.staff_code},close:function(){return p.setState({assign_to_school:!1})},district_code:null===(o=this.state.userInfo)||void 0===o||null===(n=o.staffDetails.workInfo)||void 0===n?void 0:n.school_district,school_code:null===(c=this.state.userInfo)||void 0===c||null===(l=c.staffDetails.workInfo)||void 0===l?void 0:l.school_code,school_name:null===(d=this.state.userInfo)||void 0===d||null===(h=d.staffDetails.workInfo)||void 0===h?void 0:h.school_name}):this.state.loading?Object(y.jsx)("div",{className:"p-8 text-center",children:Object(y.jsx)("div",{className:"mx-auto",children:Object(y.jsx)(L.a,{})})}):null===this.state.userInfo||this.state.userInfo.staffDetails&&this.state.userInfo.staffDetails.basicInfo?this.state.thisTermination&&!this.state.action&&this.state.userInfo?Object(y.jsx)(I,{selectedStaff:this.state.userInfo.staffDetails.basicInfo,close:function(e){return p.setThisTermination(e)},thiTermination:this.state.thisTermination}):this.state.userInfo&&this.state.action&&"TERMINATION"===this.state.action?Object(y.jsx)(A,{selectedStaff:this.state.userInfo.staffDetails.basicInfo,auth:this.props.auth,close:function(){p.setAction(null)}}):this.state.userInfo&&this.state.action&&"SUSPENSION"===this.state.action?Object(y.jsx)(F,{selectedStaff:this.state.userInfo.staffDetails.basicInfo,auth:this.props.auth,close:function(){p.setAction(null)}}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"flex items-center gap-1 justify-between px-3 mt-3",children:[Object(y.jsx)(S.a,{className:"text-blue-800",children:this.props.isExternal?"Staff Profile":"My Profile"}),this.props.close&&Object(y.jsx)("div",{className:"",children:Object(y.jsxs)(w.a,{className:"flex items-center gap-1 w-max",onClick:this.props.close,theme:"danger-light",disabled:this.state.loadingRequest,children:[Object(y.jsx)(B.a,{}),"Close"]})})]}),this.state.userInfo&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(N.a,{children:["main-success"===this.state.error.target&&Object(y.jsx)(u.a,{theme:"success",fixed:!0,children:this.state.error.msg}),"main-error"===this.state.error.target&&Object(y.jsx)(u.a,{theme:"danger",fixed:!0,children:this.state.error.msg}),Object(y.jsxs)("div",{className:"px-3 py-1 flex justify-between items-center gap-2",children:[Object(y.jsx)("span",{className:"text-xl font-bold uppercase",children:"Basic information"}),this.props.auth.role&&U.e.school.includes(this.props.auth.role.role)&&this.props.user_id&&!Object(O.g)(this.props.user_id)&&this.props.setEditStaff&&this.props.setAddUserPositions&&this.props.DisableUser&&this.props.user_data&&Object(y.jsxs)(w.a,{className:"flex items-center gap-1 w-max",theme:"default",onClick:function(){return p.props.user_id&&p.props.setEditStaff(p.props.user_id)},disabled:this.state.loading||this.state.loadingRequest,children:[Object(y.jsx)(k.o,{}),"Edit info"]})]}),Object(y.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-1 py-2",children:[Object(y.jsxs)("div",{className:"w-40 my-4 mx-auto",children:[Object(y.jsx)("img",{src:"https://stackdiary.com/140x100.png",alt:"Profile",className:"rounded-full w-28 h-28 mx-auto object-cover overflow-hidden"}),this.state.userInfo.staffDetails.workInfo&&this.state.userInfo.staffDetails.workInfo.status&&Object(y.jsxs)("div",{className:"flex items-center gap-1 rounded-full px-2 w-max mx-auto mt-3 font-bold ".concat(this.state.userInfo.staffDetails.workInfo.status===a.ACTIVE||this.state.userInfo.staffDetails.workInfo.status===a.NEW||this.state.userInfo.staffDetails.workInfo.status===a.TRANSFERD?"bg-green-100":"bg-red-100"),children:[Object(y.jsx)(k.r,{className:this.state.userInfo.staffDetails.workInfo.status===a.ACTIVE||this.state.userInfo.staffDetails.workInfo.status===a.NEW||this.state.userInfo.staffDetails.workInfo.status===a.TRANSFERD?"text-green-700":"text-red-700"})," ",Object(O.e)(this.state.userInfo.staffDetails.workInfo.status.toLocaleLowerCase())]})]}),Object(y.jsxs)("div",{className:"w-full",children:[Object(y.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-4 md:grid-cols-3 gap-3",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Staff code"}),Object(y.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.staff_code})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Staff names"}),Object(y.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.full_name})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Gender"}),Object(y.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.gender?Object(O.e)(this.state.userInfo.staffDetails.basicInfo.gender.toLocaleLowerCase()):""})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Birthday"}),Object(y.jsx)("h4",{className:"text-black text-base font-semibold",children:Object(O.a)(this.state.userInfo.staffDetails.basicInfo.dob)})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Nationality"}),Object(y.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.nationality_id})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"National ID / Passport"}),Object(y.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.nid})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Contact number"}),Object(y.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.phone_numbers})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Province of residence"}),Object(y.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.address})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"District of residence"}),Object(y.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.address})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Email"}),Object(y.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.email})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Hired date"}),Object(y.jsx)("h4",{className:"text-black text-base font-semibold",children:this.state.userInfo.staffDetails.basicInfo.hired_date})]})]}),Object(y.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[Object(Y.c)(null===(m=this.props.auth.role)||void 0===m?void 0:m.access,Y.b.CHANGE_TEACHER_SCHOOL_AND_POSITION)&&Object(y.jsx)(w.a,{onClick:function(){p.setState({assign_to_school:!0})},disabled:this.state.loading||this.state.loadingRequest,children:"Change School/ Position"}),this.props.auth.role&&this.props.isExternal&&Object(y.jsxs)("div",{className:"dropdown inline-block relative",children:[Object(y.jsxs)("button",{className:"opacity-80 group-hover:opacity-100 bg-accent-800 bg-opacity-0 hover:bg-opacity-10 text-accent-900 font-semibold py-2 px-4 rounded inline-flex items-center",children:[Object(y.jsx)("span",{className:"mr-1",children:"Manage"}),Object(y.jsxs)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[Object(y.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})," "]})]}),Object(y.jsxs)("ul",{className:"dropdown-menu absolute hidden bg-white shadow text-gray-700 z-50 p-2 rounded",children:[U.e.school.includes(this.props.auth.role.role)&&this.props.user_id&&!Object(O.g)(this.props.user_id)&&this.props.setEditStaff&&this.props.setAddUserPositions&&this.props.DisableUser&&this.props.user_data&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("li",{className:"p-0.5",children:Object(y.jsxs)("button",{onClick:function(){return p.props.setAddUserPositions(p.props.user_data)},disabled:this.state.loading||this.state.loadingRequest,className:"rounded flex items-center gap-1 bg-blue-200 hover:bg-gray-800 text-blue-900 hover:text-white py-2 px-4 w-full",children:[Object(y.jsx)(k.hb,{}),"Position"]})}),Object(y.jsx)("li",{className:"p-0.5",children:Object(y.jsxs)("button",{className:"rounded flex items-center gap-1 bg-red-500 hover:bg-red-800 text-white py-2 px-4 w-full",onClick:function(){return p.props.DisableUser(p.props.user_id)},disabled:this.state.loading||this.state.loadingRequest,children:[Object(y.jsx)(k.S,{}),"Remove"]})})]}),this.props.auth.role&&this.props.isExternal&&U.e.school.includes(this.props.auth.role.role)&&this.props.terminations.allTermination&&this.state.userInfo.staffDetails.basicInfo.staff_code&&!V(this.props.terminations.allTermination,this.state.userInfo.staffDetails.basicInfo.staff_code)&&Object(y.jsx)("li",{className:"p-0.5",children:Object(y.jsxs)(w.a,{className:"flex items-center gap-1 w-full",onClick:function(){return p.setAction("SUSPENSION")},disabled:this.state.loading||this.state.loadingRequest,children:[Object(y.jsx)(k.P,{}),"Suspend"]})}),this.props.auth.role&&this.props.isExternal&&U.e.school.includes(this.props.auth.role.role)&&this.props.terminations.allTermination&&this.state.userInfo.staffDetails.basicInfo.staff_code&&!V(this.props.terminations.allTermination,this.state.userInfo.staffDetails.basicInfo.staff_code)&&Object(y.jsx)("li",{className:"p-0.5",children:Object(y.jsxs)(w.a,{className:"flex items-center gap-1 w-full",theme:"accent-light",onClick:function(){return p.setAction("TERMINATION")},disabled:this.state.loading||this.state.loadingRequest,children:[Object(y.jsx)(M.a,{}),"Terminate"]})}),this.props.auth.role&&this.props.isExternal&&U.e.school.includes(this.props.auth.role.role)&&this.props.terminations.allTermination&&this.state.userInfo.staffDetails.basicInfo.staff_code&&V(this.props.terminations.allTermination,this.state.userInfo.staffDetails.basicInfo.staff_code)&&Object(y.jsx)("li",{className:"p-0.5",children:Object(y.jsxs)(w.a,{className:"flex items-center gap-1 w-max",onClick:function(){p.state.userInfo.staffDetails.basicInfo.staff_code&&p.setThisTermination(V(p.props.terminations.allTermination,p.state.userInfo.staffDetails.basicInfo.staff_code))},disabled:this.state.loading||this.state.loadingRequest,children:[Object(y.jsx)(k.T,{}),"View request"]})})]})]}),this.props.auth.role&&this.props.isExternal&&U.e.system.includes(this.props.auth.role.role)&&this.props.user_info&&this.props.user_info.user_id&&this.props.user_info.username&&Object(y.jsxs)(w.a,{className:"flex items-center gap-1 w-max",theme:"danger-light",onClick:function(){var e,t;return p.setState({rest_this_user:{user_id:null===(e=p.props.user_info)||void 0===e?void 0:e.user_id,username:null===(t=p.props.user_info)||void 0===t?void 0:t.username}})},loading:this.state.loadingRequest,disabled:this.state.loading||this.state.loadingRequest,children:[Object(y.jsx)(z.a,{}),"Reset"]})]})]})]})]}),Object(y.jsx)(N.a,{children:Object(y.jsx)(H.a,{auth:this.props.auth,FC_UpdateUserDocuments:this.props.FC_UpdateUserDocuments})}),this.state.userInfo.staffDetails.workInfo&&this.state.userInfo.staffDetails.workInfo.school_code&&!Object(O.g)(this.state.userInfo.staffDetails.workInfo.school_code)&&Object(y.jsxs)(N.a,{className:"rounded bg-white divide-y-2 py-1",children:[Object(y.jsxs)("div",{className:"px-3 py-1 flex justify-between items-center gap-2",children:[Object(y.jsx)("span",{className:"text-2xl font-bold uppercase",children:"School information"}),this.props.auth.role&&U.e.school.includes(this.props.auth.role.role)&&this.props.user_id&&!Object(O.g)(this.props.user_id)&&this.props.setEditStaff&&this.props.setAddUserPositions&&this.props.DisableUser&&this.props.user_data&&Object(y.jsxs)(w.a,{className:"flex items-center gap-1 w-max",theme:"default",onClick:function(){return p.props.setAddUserPositions(p.props.user_data)},disabled:this.state.loading||this.state.loadingRequest,children:[Object(y.jsx)(k.o,{}),"Edit position"]})]}),Object(y.jsxs)("div",{className:"grid grid-rows-3 grid-flow-col gap-y-0 gap-x-32 px-3",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"School name"}),Object(y.jsx)("h4",{className:"text-black text-lg font-semibold",children:this.state.userInfo.staffDetails.workInfo.school_name})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"School location"}),Object(y.jsxs)("h4",{className:"text-black text-lg font-semibold",children:[this.state.userInfo.staffDetails.workInfo.school_district+" district ","-"," ",this.state.userInfo.staffDetails.workInfo.school_sector+" sector"]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"School code"}),Object(y.jsx)("h4",{className:"text-black text-lg font-semibold",children:this.state.userInfo.staffDetails.workInfo.school_code})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Qualification"}),Object(y.jsx)("h4",{className:"text-black text-lg font-semibold",children:this.state.userInfo.staffDetails.workInfo.paid_qualification})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"Position"}),Object(y.jsx)("h4",{className:"text-black text-lg font-semibold",children:this.state.userInfo.staffDetails.workInfo.position})]})]})]})]}),null!==this.state.rest_this_user&&Object(y.jsx)(G.b,{modalType:G.a.OTHER,confirmFun:function(){return p.restUserCredential(p.state.rest_this_user)},setModalAction:function(e){return!e&&p.setState({rest_this_user:null})},description:"Are you sure you want to reset the user's credential?"})]}):Object(y.jsx)("div",{className:"py-10 px-10",children:Object(y.jsxs)("div",{className:"bg-yellow-50 text-yellow-900 border border-yellow-900 rounded flex flex-col items-center justify-center p-6 my-8",children:[Object(y.jsx)(k.v,{className:"text-6xl md:text-9xl"}),Object(y.jsxs)("div",{className:"text-center flex flex-col",children:[Object(y.jsx)("span",{className:"text-2xl md:text-4xl font-extrabold",children:"Profile not found!"}),Object(y.jsx)("span",{className:"text-lg",children:"Please try again there must be an error, or invalid staff code!"}),this.props.isExternal&&Object(y.jsx)(w.a,{theme:"primary-light",className:"mt-4",onClick:this.props.close,children:"Back"})]})]})})}}]),s}(c.Component),W=Object(l.b)((function(e){return{auth:e.auth,basic:e.basic,terminations:e.terminations}}),{FC_GetAllTermination:d.m,FC_UpdateUserDocuments:d.lb})(J)}}]);
//# sourceMappingURL=16.6ddda2d9.chunk.js.map