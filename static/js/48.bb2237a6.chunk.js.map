{"version":3,"sources":["components/SchoolPositions/AddSchoolPositions.tsx","containers/AssignSchoolPosition/AssignSchoolPosition.tsx"],"names":["AddSchoolPositions","props","addPositionToSchool","position","setState","schoolPositionsTemp","state","filter","itm","position_id","FilterByPositionsHavingTeacher","sort","a","b","count","testPosition","schoolPositions","find","position_code","undefined","parseInt","total_on_position","addSchoolPositions","window","confirm","length","school","auth","setAxiosToken","newPositions","loading","newP","push","school_code","console","log","axios","post","APP_URL","appendPositionsToSchool","success","error","alert","errorToText","RemoveSchoolPosition","school_has_position_id","removePositionsToSchool","response","data","users","positionTemp","positions","selected_position_users_on_delete","PositionsSortByHavingTeacher","positionsTemp","countOnA","countOnB","test","search","searchPositionValue","edit","className","style","this","maxHeight","onClick","theme","close","onChange","e","target","value","placeholder","type","name","label","map","item","i","position_name","qualification_name","school_level_name","school_name","backDrop","Themes","default","backDropClose","widthSizeClass","ModalSize","extraLarge","displayClose","padding","body","staff_code","full_name","nid","phone_numbers","Component","_AssignSchoolPosition","componentDidMount","basic","FC_GetAllPositions","status","msg","loading_data","academic_calender","FC_GetSchoolPositions","academic_year_id","schoolPositionsShow","school_id","school_positions","school_category","schoolcategory","school_status","schoolstatus","region_code","regioncode","AssignSchoolPosition","connect","schoolHierarchyStore","FC_AllSchoolHierarchyDetails"],"mappings":"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","file":"static/js/48.bb2237a6.chunk.js","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { MdAdd, MdArrowBack, MdClose, MdInfoOutline } from \"react-icons/md\";\nimport { Auth, SchoolData } from \"../../actions\";\nimport { SchoolPositionApiResponse } from \"../../types/HeadTeacherRequesTypes\";\nimport TextInput from \"../Inputs/TextInput\";\n// import { BsFillCheckSquareFill } from \"react-icons/bs\";\nimport { FiSearch } from \"react-icons/fi\";\n// import { ImCheckboxUnchecked } from \"react-icons/im\";\nimport { APP_URL } from \"../../config/app.config\";\nimport axios from \"axios\";\nimport { setAxiosToken } from \"../../utils/AxiosToken\";\nimport { PositionsOnSchool } from \"../../containers/Head-Teacher/Request/HeadTeacherRequestToDee\";\nimport { search } from \"../../utils/functions\";\nimport Button from \"../Buttons/Button\";\nimport { errorToText } from \"../../utils/errors\";\nimport Modal, { ModalSize, Themes } from \"../Modal/Modal\";\nimport Loading from \"../Loading/Loading\";\n\ninterface PositionStaffOnDelete {\n  first_name: string;\n  full_name: string;\n  last_name: string;\n  middle_name: string;\n  nid: string;\n  phone_numbers: string;\n  staff_code: string;\n  user_id: string;\n}\n\ninterface AddSchoolPositionsProps {\n  auth: Auth;\n  positions: SchoolPositionApiResponse[];\n  schoolPositions: PositionsOnSchool[];\n  appendPositionsToSchool: (\n    schoolPositions: SchoolPositionApiResponse[]\n  ) => void;\n  removePositionsToSchool: (school_has_position_id: string) => void;\n  close?: () => void;\n  school?: SchoolData;\n}\n\ninterface AddSchoolPositionsState {\n  searchPositionValue: string;\n  schoolPositionsTemp: SchoolPositionApiResponse[];\n  edit: boolean;\n  loading: boolean;\n  success: string;\n  error: string;\n  selected_position_users_on_delete: {\n    position: SchoolPositionApiResponse;\n    data: PositionStaffOnDelete[];\n  } | null;\n}\n\nexport class AddSchoolPositions extends Component<\n  AddSchoolPositionsProps,\n  AddSchoolPositionsState\n> {\n  constructor(props: AddSchoolPositionsProps) {\n    super(props);\n\n    this.state = {\n      searchPositionValue: \"\",\n      schoolPositionsTemp: [],\n      edit: false,\n      loading: false,\n      success: \"\",\n      error: \"\",\n      selected_position_users_on_delete: null,\n    };\n  }\n  addPositionToSchool = (position: SchoolPositionApiResponse) => {\n    this.setState({\n      schoolPositionsTemp: [\n        position,\n        ...this.state.schoolPositionsTemp.filter(\n          (itm) => itm.position_id !== position.position_id\n        ),\n      ],\n    });\n  };\n  // Filter by positions having teachers\n  FilterByPositionsHavingTeacher = (): SchoolPositionApiResponse[] => {\n    const Positions = this.state.schoolPositionsTemp;\n    let temp = [];\n    temp = Positions.sort((a, b) => {\n      let count: number = 0;\n      const testPosition = this.props.schoolPositions.find(\n        (itm) => itm.position_code === a.position_code\n      );\n      if (testPosition !== undefined) {\n        count = parseInt(testPosition.total_on_position);\n      }\n      if (count > 0) {\n        return -1;\n      } else {\n        return 1;\n      }\n    });\n    return temp;\n  };\n  addSchoolPositions = async () => {\n    if (\n      window.confirm(\"Are you sure do you want to add these positions?\") ===\n      true\n    ) {\n      if (\n        this.state.schoolPositionsTemp.length > 0 &&\n        this.props.school === undefined\n          ? this.props.auth.school\n          : this.props.school\n      ) {\n        setAxiosToken();\n        let newPositions = [];\n        this.setState({ loading: true });\n        for (let newP of this.state.schoolPositionsTemp) {\n          newPositions.push({\n            school_code:\n              this.props.school === undefined\n                ? this.props.auth.school!.school_code\n                : this.props.school.school_code,\n            position_code: newP.position_code,\n          });\n        }\n        console.log(\"Positions codes: \", newPositions);\n        try {\n          await axios.post(`${APP_URL}/schoolposition/assign`, newPositions);\n          this.props.appendPositionsToSchool(this.state.schoolPositionsTemp);\n          this.setState({ schoolPositionsTemp: [] });\n          this.setState({ loading: false });\n          this.setState({\n            success: \"Positions added successfully!\",\n            error: \"\",\n          });\n          alert(\"Positions added successfully!\");\n        } catch (error: any) {\n          this.setState({ loading: false });\n          this.setState({ error: errorToText(error) });\n          console.log(\"Err: \", { ...error });\n        }\n      }\n    }\n  };\n  RemoveSchoolPosition = async (\n    school_has_position_id: string,\n    school_code: string\n  ) => {\n    this.setState({ loading: true });\n    try {\n      const res = await axios.post(\n        `${APP_URL}/schoolposition/delete/${school_has_position_id}`,\n        {\n          school_code: school_code,\n        }\n      );\n      if (res) {\n        this.setState({\n          success: \"Positions added successfully!\",\n          error: \"\",\n        });\n        this.props.removePositionsToSchool(school_has_position_id);\n      }\n    } catch (error: any) {\n      console.log(\"error res: \", error.response?.data?.users);\n      if (\n        error.response?.data?.users !== undefined &&\n        error.response.data.users.length > 0\n      ) {\n        const positionTemp = this.props.schoolPositions.find(\n          (itm) => itm.school_has_position_id === school_has_position_id\n        );\n        const position = this.props.positions.find(\n          (itm) => itm.position_code === positionTemp?.position_code\n        );\n        if (position !== undefined) {\n          this.setState({\n            selected_position_users_on_delete: {\n              position: position,\n              data: error.response?.data?.users as PositionStaffOnDelete[],\n            },\n          });\n        } else {\n          this.setState({\n            error: \"Invalid Position selected!\",\n          });\n        }\n      } else {\n        this.setState({\n          error: errorToText(error),\n        });\n      }\n      this.setState({ loading: false });\n      console.log(\"Err: \", { ...error });\n    }\n  };\n\n  // Sort positions first by positions with available teacher and search\n  PositionsSortByHavingTeacher = () => {\n    let positionsTemp: SchoolPositionApiResponse[] = [];\n    positionsTemp = this.props.positions.sort((a, b) => {\n      const countOnA = this.props.schoolPositions.find(\n        (itm) => itm.position_code === a.position_code\n      );\n      const countOnB = this.props.schoolPositions.find(\n        (itm) => itm.position_code === b.position_code\n      );\n      if (countOnA !== undefined && countOnB !== undefined) {\n        if (\n          parseInt(countOnA.total_on_position) >\n          parseInt(countOnB.total_on_position)\n        ) {\n          return -1;\n        } else {\n          return 1;\n        }\n      }\n      return 0;\n    });\n    positionsTemp = positionsTemp.filter(\n      (itm) =>\n        this.props.schoolPositions.find(\n          (test) => test.position_code === itm.position_code\n        ) === undefined\n    );\n    return search(\n      positionsTemp,\n      this.state.searchPositionValue\n    ) as SchoolPositionApiResponse[];\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div>\n          <div\n            className=\"bg-white dark:bg-dark-800 p-3 rounded overflow-y-auto\"\n            style={\n              this.state.selected_position_users_on_delete === null\n                ? {}\n                : { maxHeight: \"80vh\" }\n            }\n          >\n            <div className=\"flex flex-row items-center justify-between\">\n              <div className=\"flex flex-row items-center gap-2 justify-between w-full\">\n                <span className=\"text-2xl font-bold text-primary-800\">\n                  {this.state.edit === true\n                    ? \"Assign positions to school\"\n                    : \"School positions list\"}\n                </span>\n                <div>\n                  <Button\n                    onClick={() => this.setState({ edit: !this.state.edit })}\n                    theme={this.state.edit === true ? \"default\" : \"accent\"}\n                    className={`flex flex-row items-center gap-3 animate__animated ${\n                      this.state.edit === false\n                        ? \"animate__zoomIn\"\n                        : \"animate__fadeInLeft\"\n                    }`}\n                  >\n                    <div>\n                      {this.state.edit === true ? (\n                        <MdArrowBack className=\"text-2xl\" />\n                      ) : (\n                        <MdAdd className=\"text-2xl\" />\n                      )}\n                    </div>\n                    <span>\n                      {this.state.edit === true\n                        ? \"Back to list\"\n                        : \"Add new positions\"}\n                    </span>\n                  </Button>\n                </div>\n              </div>\n              {this.props.close !== undefined && (\n                <div>\n                  <div\n                    onClick={() => this.props.close && this.props.close()}\n                    className=\"bg-gray-100 hover:bg-yellow-100 flex items-center justify-center p-1 cursor-pointer rounded-full\"\n                  >\n                    <MdClose className=\"text-3xl\" />\n                  </div>\n                </div>\n              )}\n            </div>\n            {this.state.success !== \"\" && (\n              <div\n                onClick={() => this.setState({ success: \"\" })}\n                className=\"bg-green-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight\"\n              >\n                <div className=\"flex flex-row justify-between items-center gap-8\">\n                  <div>Success: {this.state.success}</div>\n                  <div>\n                    <MdClose className=\"text-2xl text-red-600 bg-red-100 rounded-full\" />\n                  </div>\n                </div>\n              </div>\n            )}\n            {this.state.error !== \"\" && (\n              <div\n                onClick={() => this.setState({ error: \"\" })}\n                className=\"bg-red-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight\"\n              >\n                <div className=\"flex flex-row justify-between items-center gap-8\">\n                  <div>Error: {this.state.error}</div>\n                  <div>\n                    <MdClose className=\"text-2xl text-red-600 bg-red-100 rounded-full\" />\n                  </div>\n                </div>\n              </div>\n            )}\n            <div\n              className={`grid md:grid-cols-${\n                this.state.edit === true ? \"2\" : \"1\"\n              }`}\n            >\n              <div\n                className={`col-span-1 border-r pr-2 ${\n                  this.state.edit === true ? \"\" : \"hidden\"\n                }`}\n              >\n                {/* <div>\n                <span className=\"text-sm\">\n                  Positions list, Select a position\n                </span>\n              </div> */}\n                <div className=\"\">\n                  <TextInput\n                    onChange={(e) =>\n                      this.setState({ searchPositionValue: e.target.value })\n                    }\n                    error={\"\"}\n                    placeholder=\"Search position...\"\n                    value={this.state.searchPositionValue}\n                    type=\"search\"\n                    name=\"post\"\n                    label=\"Search\"\n                  />\n                </div>\n                <div className=\"h-screen overflow-y-auto\">\n                  {this.PositionsSortByHavingTeacher().length === 0 ? (\n                    <div>No positions found!</div>\n                  ) : (\n                    this.PositionsSortByHavingTeacher().map((item, i) => (\n                      <div\n                        key={i + 1}\n                        className=\"border border-gray-300 px-3 py-2 flex flex- justify-between group bg-white hover:bg-blue-50 hover:border-blue-300 gap-3  items-center cursor-pointer my-1 rounded\"\n                        onClick={() => {\n                          this.addPositionToSchool(item);\n                        }}\n                      >\n                        <div className=\"\">\n                          <div className=\"flex flex-row items-center justify-between\">\n                            <div className=\"flex flex-row gap-3 items-center text-base font-bold\">\n                              <div>\n                                <div className=\"flex items-center justify-center font-normal rounded-full h-8 -ml-1 w-8 border border-blue-400 bg-blue-100 text-sm\">\n                                  {i + 1}\n                                </div>\n                              </div>\n                              <div className=\"flex flex-col\">\n                                <div className=\"flex flex-row items-center gap-2\">\n                                  <span className=\"font-light\">\n                                    {item.position_code}-\n                                  </span>\n                                  <span className=\"\">\n                                    {item.position_name} (\n                                    {item.qualification_name})\n                                  </span>\n                                </div>\n                                <div className=\"text-sm font-light text-gray-500 group-hover:text-accent-900 -mt-1\">\n                                  Level name: {item.school_level_name}\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"flex flex-row items-center gap-2\">\n                          {this.props.schoolPositions.find(\n                            (itm) => itm.position_code === item.position_code\n                          ) !== undefined && (\n                            <div className=\"bg-yellow-100 rounded-full text-sm font-bold px-2 border border-yellow-400 truncate\">\n                              Total:{\" \"}\n                              {\n                                this.props.schoolPositions.find(\n                                  (itm) =>\n                                    itm.position_code === item.position_code\n                                )?.total_on_position\n                              }\n                            </div>\n                          )}\n                          <div className=\"bg-blue-100 text-primary px-3 py-1 rounded cursor-pointer text-base text-primary-800 group-hover:text-white group-hover:bg-primary-800\">\n                            Select\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                  )}\n                </div>\n              </div>\n              {/* Right col */}\n              <div className=\"col-span-1 px-3\">\n                {\" \"}\n                {/* RiHome6Fill : School home icon later */}\n                <div className=\"flex flex-col border-b pb-3 border-accent-900 mt-2\">\n                  {/* <span>School</span> */}\n                  <div className=\"flex flex-row items-center justify-between\">\n                    <span className=\"text-accent-900 text-xl font-bold\">\n                      {this.props.school === undefined\n                        ? this.props.auth.school?.school_name\n                        : this.props.school.school_name}{\" \"}\n                      (\n                      {this.props.school === undefined\n                        ? this.props.auth.school?.school_code\n                        : this.props.school.school_code}\n                      )\n                    </span>\n                    <div className=\"font-bold text-2xl\">\n                      {\n                        [\n                          ...this.state.schoolPositionsTemp,\n                          ...this.props.schoolPositions,\n                        ].length\n                      }\n                    </div>\n                  </div>\n                </div>\n                {/* <div>\n                <span className=\"text-primary-800 font-bold text-lg\">\n                  School positions\n                </span>\n              </div> */}\n                {/* School positions */}\n                <div className=\"mt-3\">\n                  {[\n                    ...this.state.schoolPositionsTemp,\n                    ...this.props.schoolPositions,\n                  ].length === 0 ? (\n                    <div className=\"flex flex-col bg-gray-100 w-full justify-center items-center rounded-md p-4\">\n                      <div className=\"text-7xl text-gray-400\">\n                        <FiSearch />\n                      </div>\n                      <span className=\"text-3xl text-black\">\n                        School positions not found\n                      </span>\n                      <span className=\"text-sm text-gray-600\">\n                        This school has no positions assigned to it. Please\n                        select positions\n                      </span>\n                    </div>\n                  ) : (\n                    <div>\n                      {this.state.schoolPositionsTemp.length !== 0 && (\n                        <div className=\"text-xl text-primary-800 my-3 font-bold\">\n                          New pending\n                        </div>\n                      )}\n                      {this.state.schoolPositionsTemp.map((item, i) => (\n                        <div\n                          key={i + 1}\n                          className={`border rounded-md px-3 py-2 mb-2 group cursor-pointer ${\n                            this.state.schoolPositionsTemp.find(\n                              (itm) => itm.position_id === item.position_id\n                            ) !== undefined\n                              ? \"bg-yellow-50 border-yellow-400\"\n                              : \"bg-blue-50 border-blue-400 hover:bg-blue-100\"\n                          } animate__animated animate__zoomIn`}\n                        >\n                          <div className=\"flex flex-row items-center justify-between\">\n                            <div className=\"\">\n                              <div className=\"flex flex-row items-center justify-between\">\n                                <div className=\"flex flex-row gap-3 items-center text-base font-bold\">\n                                  <div>\n                                    <div className=\"flex items-center justify-center font-normal rounded-full h-8 -ml-1 w-8 border border-blue-400 bg-blue-100 text-sm\">\n                                      {i + 1}\n                                    </div>\n                                  </div>\n                                  <div className=\"flex flex-col\">\n                                    <div className=\"flex flex-row items-center gap-2\">\n                                      <span className=\"font-light\">\n                                        {item.position_code}-\n                                      </span>\n                                      <span className=\"\">\n                                        {item.position_name} (\n                                        {item.qualification_name})\n                                      </span>\n                                    </div>\n                                    <div className=\"text-sm font-light text-gray-500 group-hover:text-accent-900 -mt-1\">\n                                      Level name: {item.school_level_name}\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n\n                            <div className=\"\">\n                              <div\n                                onClick={() => {\n                                  this.setState({\n                                    schoolPositionsTemp:\n                                      this.state.schoolPositionsTemp.filter(\n                                        (itm) =>\n                                          itm.position_id !== item.position_id\n                                      ),\n                                  });\n                                }}\n                                className=\"bg-white text-accent-900 px-3 py-1 rounded cursor-pointer text-base border border-yellow-400\"\n                              >\n                                Remove\n                              </div>\n                            </div>\n                          </div>\n\n                          {/* <div className=\"text-sm\">\n                          School level:{\" \"}\n                          <span\n                            className={`font-bold ${\n                              this.state.schoolPositionsTemp.find(\n                                (itm) => itm.position_id === item.position_id\n                              ) !== undefined\n                                ? \"text-accent-900\"\n                                : \"text-primary-800\"\n                            }`}\n                          >\n                            {item.school_level_name}\n                          </span>\n                        </div> */}\n                        </div>\n                      ))}\n                      {this.state.schoolPositionsTemp.length !== 0 && (\n                        <div>\n                          <Button\n                            onClick={() => {\n                              this.addSchoolPositions();\n                            }}\n                            theme=\"accent\"\n                          >\n                            Submit positions\n                          </Button>\n                        </div>\n                      )}\n                      {this.props.schoolPositions.length !== 0 && (\n                        <div className=\"font-bold text-lg text-gray-500 my-3\">\n                          List of school position\n                        </div>\n                      )}\n                      {this.props.schoolPositions.map((item, i) => (\n                        <div\n                          key={i + 1}\n                          className={`border rounded-md px-3 py-2 mb-2 group cursor-pointer ${\n                            this.state.schoolPositionsTemp.find(\n                              (itm) => itm.position_code === item.position_code\n                            ) !== undefined\n                              ? \"bg-yellow-50 border-yellow-400\"\n                              : \"bg-gray-100 hover:bg-blue-100\"\n                          } flex flex-row items-center justify-between gap-4`}\n                        >\n                          <div className=\"\">\n                            <div className=\"flex flex-row items-center justify-between\">\n                              <div className=\"flex flex-row gap-3 items-center text-base font-bold\">\n                                <div>\n                                  <div className=\"flex items-center justify-center font-normal rounded-full h-8 -ml-1 w-8 border border-blue-400 bg-blue-100 text-sm\">\n                                    {i + 1}\n                                  </div>\n                                </div>\n                                <div className=\"flex flex-col\">\n                                  <div className=\"flex flex-row items-center gap-2\">\n                                    <span className=\"font-light\">\n                                      {item.position_code}-\n                                    </span>\n                                    <span className=\"\">\n                                      {item.position_name} (\n                                      {item.qualification_name})\n                                    </span>\n                                  </div>\n                                  <div className=\"text-sm font-light text-gray-500 group-hover:text-accent-900 -mt-1\">\n                                    Level name: {item.school_level_name}\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"flex flex-row items-center gap-2\">\n                            <div className=\"bg-yellow-100 rounded-full text-sm font-bold px-2 border border-yellow-400 truncate\">\n                              Total:{\" \"}\n                              {\n                                this.props.schoolPositions.find(\n                                  (itm) =>\n                                    itm.position_code === item.position_code\n                                )?.total_on_position\n                              }\n                            </div>\n                            {this.props.schoolPositions.find(\n                              (itm) => itm.position_code === item.position_code\n                            ) !== undefined &&\n                              parseInt(\n                                this.props.schoolPositions.find(\n                                  (itm) =>\n                                    itm.position_code === item.position_code\n                                )!.total_on_position\n                              ) <= 0 && (\n                                <div\n                                  onClick={() => {\n                                    if (\n                                      item.school_code !== \"\" &&\n                                      window.confirm(\n                                        \"Are you sure do you want to remove this position\"\n                                      ) === true\n                                    ) {\n                                      this.RemoveSchoolPosition(\n                                        item.school_has_position_id,\n                                        item.school_code\n                                      );\n                                    }\n                                  }}\n                                  className=\"bg-white text-red-800 group-hover:text-white group-hover:bg-red-600 px-3 py-1 font-bold text-center rounded -mr-1\"\n                                >\n                                  Delete\n                                </div>\n                              )}\n                            {this.props.schoolPositions.find(\n                              (itm) => itm.position_code === item.position_code\n                            ) !== undefined &&\n                              parseInt(\n                                this.props.schoolPositions.find(\n                                  (itm) =>\n                                    itm.position_code === item.position_code\n                                )!.total_on_position\n                              ) > 0 && (\n                                <div\n                                  onClick={() =>\n                                    this.RemoveSchoolPosition(\n                                      item.school_has_position_id,\n                                      item.school_code\n                                    )\n                                  }\n                                  className=\"bg-blue-100 border border-white text-primary-800 group-hover:border-primary-800 hover:border-primary-800 group-hover:bg-primary-800 group-hover:text-white px-3 py-1 font-bold text-center rounded -mr-1\"\n                                >\n                                  Staffs\n                                </div>\n                              )}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {this.state.selected_position_users_on_delete !== null && (\n          <Modal\n            backDrop={true}\n            theme={Themes.default}\n            close={() =>\n              this.setState({ selected_position_users_on_delete: null })\n            }\n            backDropClose={false}\n            widthSizeClass={ModalSize.extraLarge}\n            displayClose={false}\n            padding={{\n              body: true,\n            }}\n          >\n            {this.state.loading === true ? (\n              <div className=\"bg-white rounded p-4\">\n                <Loading />\n                <div className=\"text-xl font-light ml-4 -mt-10\">\n                  Loading, please wait...\n                </div>\n              </div>\n            ) : (\n              <div className=\"bg-white\">\n                <div className=\"flex flex-row gap-3 justify-between\">\n                  <div>\n                    <div className=\"font-extrabold text-2xl\">\n                      {\n                        this.state.selected_position_users_on_delete.position\n                          .position_name\n                      }\n                    </div>\n                    <div>List of staffs for the selected position</div>\n                  </div>\n                  <div\n                    onClick={() =>\n                      this.setState({ selected_position_users_on_delete: null })\n                    }\n                    className=\"bg-accent-800 font-bold cursor-pointer px-3 py-2 rounded truncate w-max h-10 flex items-center justify-center\"\n                  >\n                    Close window\n                  </div>\n                </div>\n                <div className=\"mt-3\">\n                  <table className=\"w-full text-left text-base font-light\">\n                    <thead className=\"bg-primary-100\">\n                      <tr>\n                        <th className=\"px-3 py-1\">#</th>\n                        <th className=\"px-3 py-1\">Staff code</th>\n                        <th className=\"px-3 py-1\">Full name</th>\n                        <th className=\"px-3 py-1\">NID</th>\n                        <th className=\"px-3 py-1\">Phone number</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {this.state.selected_position_users_on_delete.data.map(\n                        (item, i) => (\n                          <tr\n                            key={i + 1}\n                            className={`${i % 2 !== 0 ? \"bg-gray-100\" : \"\"}`}\n                          >\n                            <td className=\"px-3 py-1\">{i + 1}</td>\n                            <td className=\"px-3 py-1\">{item.staff_code}</td>\n                            <td className=\"px-3 py-1\">{item.full_name}</td>\n                            <td className=\"px-3 py-1\">{item.nid}</td>\n                            <td className=\"px-3 py-1\">{item.phone_numbers}</td>\n                          </tr>\n                        )\n                      )}\n                    </tbody>\n                  </table>\n                </div>\n                <div className=\"mt-3 w-full\">\n                  <div className=\"flex flex-row gap-2 w-full bg-accent-400 rounded-md p-4 border border-yellow-400\">\n                    <div>\n                      <MdInfoOutline className=\"text-5xl\" />\n                    </div>\n                    <div className=\"text-xl font-light text-black flex flex-col\">\n                      <span className=\"font-extrabold\">\n                        You can not remove this position!\n                      </span>\n                      <span className=\"text-base\">\n                        If you want to remove this position, you need to check\n                        these staffs before. Thus, if you decided to remove it,\n                        please remove these staffs before removing this\n                        position!\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </Modal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default AddSchoolPositions;\n","import React, { Component } from \"react\";\n// import Container from \"../../components/ContainerComponents/Container\";\nimport DashboardContainer from \"../../components/DashboardContainer/DashboardContainer\";\nimport AddSchoolPositions from \"../../components/SchoolPositions/AddSchoolPositions\";\nimport { connect } from \"react-redux\";\nimport {\n  SchoolData,\n  Auth,\n  Basic,\n  // FC_GetSchoolsByDistrict,\n  FC_GetAllPositions,\n  FC_GetSchoolPositions,\n  FC_AllSchoolHierarchyDetails,\n  SchoolHierarchyStore,\n} from \"../../actions\";\n// import Alert from \"../../components/Alert/Alert\";\nimport { StoreState } from \"../../reducers\";\nimport {\n  PositionsOnSchool,\n  SchoolPositionsCombination,\n} from \"../Head-Teacher/Request/HeadTeacherRequestToDee\";\nimport { SchoolPositionApiResponse } from \"../../types/HeadTeacherRequesTypes\";\nimport Loading from \"../../components/Loading/Loading\";\n\ninterface AssignSchoolPositionProps {\n  auth: Auth;\n  basic: Basic;\n  FC_GetAllPositions: (\n    callBack: (status: boolean, msg: string) => void\n  ) => void;\n  schoolHierarchyStore: SchoolHierarchyStore;\n  FC_AllSchoolHierarchyDetails: (\n    admin: boolean,\n    callBack: (status: boolean, msg: string) => void\n  ) => void;\n}\ninterface AssignSchoolPositionState {\n  loading_data: boolean;\n  schoolPositionsShow: {\n    school_code: string;\n    school_id: string;\n    school: SchoolData;\n    school_positions: PositionsOnSchool[];\n  } | null;\n}\n\nexport class _AssignSchoolPosition extends Component<\n  AssignSchoolPositionProps,\n  AssignSchoolPositionState\n> {\n  constructor(props: AssignSchoolPositionProps) {\n    super(props);\n\n    this.state = {\n      loading_data: false,\n      schoolPositionsShow: null,\n    };\n  }\n  componentDidMount = () => {\n    // Check if positions Available\n    if (this.props.basic.positions === null) {\n      this.props.FC_GetAllPositions((status: boolean, msg: string) => {\n        this.setState({ loading_data: true });\n        if (status === true) {\n          this.setState({ loading_data: false });\n        }\n        console.log(status);\n      });\n    }\n    if (this.props.basic.academic_calender && this.props.auth.school) {\n      FC_GetSchoolPositions(\n        this.props.auth.school.school_code,\n        this.props.basic.academic_calender.academic_year_id,\n        (\n          status: boolean,\n          data: SchoolPositionsCombination | null,\n          msg: string\n        ) => {\n          if (data !== null) {\n            this.setState({ loading_data: true });\n            if (status === true && this.props.auth.school !== null) {\n              this.setState({\n                schoolPositionsShow: {\n                  school_code: this.props.auth.school?.school_code,\n                  school_id: this.props.auth.school.school_code, //to be added on the profile\n                  school_positions: data.school_positions,\n                  school: {\n                    school_id: this.props.auth.school.school_code,\n                    school_code: this.props.auth.school.school_code,\n                    school_name: this.props.auth.school.school_name,\n                    school_category: this.props.auth.school.schoolcategory,\n                    school_status: this.props.auth.school.schoolstatus,\n                    region_code: this.props.auth.school.regioncode,\n                  },\n                },\n              });\n              this.setState({\n                loading_data: false,\n              });\n            }\n          }\n        }\n      );\n    }\n  };\n  render() {\n    if (\n      this.state.loading_data === true ||\n      this.props.basic.positions === null ||\n      this.state.schoolPositionsShow === null\n    ) {\n      return (\n        <DashboardContainer>\n          <div className=\"mx-auto p-8 flex flex-col items-center justify-center\">\n            <div>Loading, please wait...</div>\n            <Loading />\n          </div>\n        </DashboardContainer>\n      );\n    }\n    return (\n      <DashboardContainer>\n        <div className=\"\">\n          {this.state.schoolPositionsShow !== null &&\n            this.props.basic.positions !== null && (\n              <AddSchoolPositions\n                auth={this.props.auth}\n                positions={this.props.basic.positions}\n                schoolPositions={\n                  this.state.schoolPositionsShow.school_positions\n                }\n                school={this.state.schoolPositionsShow.school}\n                appendPositionsToSchool={(\n                  schoolPositions: SchoolPositionApiResponse[]\n                ) => {\n                  if (\n                    this.state.schoolPositionsShow &&\n                    this.props.basic.academic_calender\n                  ) {\n                    FC_GetSchoolPositions(\n                      this.state.schoolPositionsShow.school_code,\n                      this.props.basic.academic_calender.academic_year_id,\n                      (\n                        status: boolean,\n                        data: SchoolPositionsCombination | null,\n                        msg: string\n                      ) => {\n                        if (data !== null) {\n                          this.setState({ loading_data: true });\n                          if (status === true) {\n                            this.state.schoolPositionsShow &&\n                              this.setState({\n                                schoolPositionsShow: {\n                                  school_code:\n                                    this.state.schoolPositionsShow.school_code,\n                                  school_id:\n                                    this.state.schoolPositionsShow.school_id,\n                                  school_positions: data.school_positions,\n                                  school: this.state.schoolPositionsShow.school,\n                                },\n                              });\n                            this.setState({\n                              loading_data: false,\n                            });\n                          }\n                        }\n                      }\n                    );\n                  }\n                }}\n                removePositionsToSchool={(school_has_position_id: string) => {\n                  if (\n                    this.state.schoolPositionsShow &&\n                    this.props.basic.academic_calender\n                  ) {\n                    FC_GetSchoolPositions(\n                      this.state.schoolPositionsShow.school_code,\n                      this.props.basic.academic_calender.academic_year_id,\n                      (\n                        status: boolean,\n                        data: SchoolPositionsCombination | null,\n                        msg: string\n                      ) => {\n                        if (data !== null) {\n                          this.setState({ loading_data: true });\n                          if (status === true) {\n                            this.state.schoolPositionsShow &&\n                              this.setState({\n                                schoolPositionsShow: {\n                                  school_code:\n                                    this.state.schoolPositionsShow.school_code,\n                                  school_id:\n                                    this.state.schoolPositionsShow.school_id,\n                                  school_positions: data.school_positions,\n                                  school: this.state.schoolPositionsShow.school,\n                                },\n                              });\n                            this.setState({\n                              loading_data: false,\n                            });\n                          }\n                        }\n                      }\n                    );\n                  }\n                }}\n                // close={() => {}}\n              />\n            )}\n        </div>\n      </DashboardContainer>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  basic,\n  schoolHierarchyStore,\n}: StoreState): {\n  auth: Auth;\n  basic: Basic;\n  schoolHierarchyStore: SchoolHierarchyStore;\n} => {\n  return {\n    auth: auth,\n    basic: basic,\n    schoolHierarchyStore: schoolHierarchyStore,\n  };\n};\n\nexport const AssignSchoolPosition = connect(mapStateToProps, {\n  FC_GetAllPositions,\n  FC_AllSchoolHierarchyDetails,\n})(_AssignSchoolPosition);\n"],"sourceRoot":""}