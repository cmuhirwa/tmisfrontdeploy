(this.webpackJsonpTMIS=this.webpackJsonpTMIS||[]).push([[43],{146:function(e,t,r){"use strict";r.d(t,"a",(function(){return H}));var c=r(7),s=r(29),a=r(30),n=r(31),l=r(32),o=r(33),i=r(2),d=r.n(i),b=r(3),h=r(40),j=r(13),u=r(119),x=r(11),m=r(51),f=r(39),p=r(24),O=r(19),y=r(5),v=r(6),g=r.n(v),_=r(112),N=r(10),w=r(1),S=function(){var e=Object(c.a)(d.a.mark((function e(t,r,c){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",alert("Please select atleast one subject"));case 2:return s=t.map((function(e){return{school_code:r,shool_hierarch_id:e.studyhierarchyid}})),c(!1,""),e.prev=4,e.next=7,g.a.post("".concat(N.d,"/schoolhierarch/create"),s);case 7:a=e.sent,c(!0,"School subjects has added successfully!"),console.log("Success: ",a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),c(!0,""),console.log("Err: ",Object(y.a)({},e.t0));case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,r,c){return e.apply(this,arguments)}}(),C=function(e){var t,r=Object(b.useState)(null),c=Object(O.a)(r,2),s=c[0],a=c[1],n=Object(b.useState)(!1),l=Object(O.a)(n,2),o=l[0],i=l[1],d=Object(b.useState)(null),f=Object(O.a)(d,2),y=f[0],v=f[1],g=Object(b.useState)(""),N=Object(O.a)(g,2),C=N[0],k=N[1],I=Object(b.useState)([]),A=Object(O.a)(I,2),L=A[0],J=A[1],M=Object(b.useState)(!1),T=Object(O.a)(M,2),F=T[0],z=T[1],E=Object(b.useState)(""),B=Object(O.a)(E,2),D=B[0],P=B[1],R=Object(b.useState)(""),G=Object(O.a)(R,2),V=G[0],U=G[1],W=Object(b.useState)(""),q=Object(O.a)(W,2),K=q[0],Q=q[1],X=function(){var t=e.school_hierarchy_data;return null!==t?(null!==s&&""!==s&&(t=t.filter((function(e){return e.level_code===s}))),null!==y&&(t=t.filter((function(e){return e.combination_code===y}))),t):[]};return Object(w.jsxs)("div",{className:"fixed bg-black bg-opacity-50 top-0 left-0 w-full h-full z-50 flex items-center justify-center animate__animated animate__fadeIn animate__faster",children:[Object(w.jsxs)("div",{className:"bg-white rounded-md animate__animated animate__zoomIn animate__faster z-50 w-full h-full overflow-auto",children:[Object(w.jsxs)("div",{className:"rounded-t-md flex flex-row items-center justify-between gap-4 px-2 py-2 border-b border-gray-400",children:[Object(w.jsx)("div",{className:"text-xl font-bold ml-2 uppercase mt-2",children:"Assign new subject"}),Object(w.jsx)("div",{onClick:function(){return e.setAddNew(!1)},className:"flex items-center justify-center p-1 rounded-full bg-gray-100 text-2xl hover:bg-yellow-100 hover:text-accent-900 cursor-pointer",title:"Close window",children:Object(w.jsx)(j.k,{})})]}),Object(w.jsxs)("div",{className:"p-2 md:p-6",children:[Object(w.jsxs)("div",{className:"flex flex-row items-center justify-between gap-3",children:[Object(w.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(w.jsx)("div",{className:"text-5xl text-gray-400",children:Object(w.jsx)(_.f,{})}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("span",{className:"text-gray-600",children:"School name"}),Object(w.jsxs)("span",{className:"font-bold -mt-1",children:[e.school.school_name," (",e.school.school_code,")"]})]})]}),Object(w.jsx)("div",{className:"flex flex-col justify-center items-end"})]}),Object(w.jsx)("div",{className:"",children:Object(w.jsx)("div",{className:"mb-10",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"p-2 mb-5",children:Object(w.jsxs)("div",{className:"mt-4",children:[Object(w.jsx)("div",{children:"Filter by"}),Object(w.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(w.jsxs)("select",{onChange:function(e){return a(e.target.value)},value:null===s?"":s,className:"border border-gray-400 rounded px-3 py-2",children:[Object(w.jsx)("option",{value:"",children:"Choose education level"}),Object(w.jsx)("option",{value:"",children:"Show all levels"}),Object(x.J)(e.allHierarchy,{type:x.wb.SCHOOL_LEVELS,status:!0}).levels.map((function(e,t){return Object(w.jsx)("option",{value:e.level_code,children:e.level_name},t+1)}))]}),Object(w.jsxs)("div",{className:"w-full",children:[Object(w.jsxs)("div",{onClick:function(){return i(!o)},className:"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[null===y?Object(w.jsx)("span",{children:"All- Click to filter by combination"}):Object(w.jsx)("span",{children:null===(t=Object(x.J)(e.allHierarchy,{type:x.wb.COMBINATIONS,status:!0}).combinations.find((function(e){return e.combination_code===y})))||void 0===t?void 0:t.combination_name}),Object(w.jsx)("div",{className:"-mr-3",children:!0===o?Object(w.jsx)(j.k,{}):Object(w.jsx)(h.a,{})})]}),!0===o&&Object(w.jsxs)("div",{className:"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl",children:[Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"flex flex-row items-center w-full justify-between gap-2",children:[Object(w.jsx)("input",{value:C,onChange:function(e){return k(e.target.value)},placeholder:"Search...",type:"text",className:"border border-gray-400 rounded px-3 py-2 text-sm w-full"}),Object(w.jsx)("div",{children:Object(w.jsx)("div",{onClick:function(){return i(!1)},className:"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white",children:Object(w.jsx)(j.k,{})})})]}),null!==y&&Object(w.jsxs)("div",{onClick:function(){v(null),i(!1)},className:"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full",children:[Object(w.jsx)("div",{children:Object(w.jsx)(u.a,{className:"text-xl"})}),Object(w.jsx)("span",{children:"Click to view all"})]})]}),Object(w.jsx)("div",{className:"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn",style:{minWidth:"28rem"},children:0===Object(m.h)(Object(x.J)(e.allHierarchy,{type:x.wb.COMBINATIONS,status:!0}).combinations,C).length?Object(w.jsx)("div",{className:"text-center text-lg font-bold p-5 px-10 text-gray-500",children:"No result found!"}):Object(m.h)(Object(x.J)(e.allHierarchy,{type:x.wb.COMBINATIONS,status:!0}).combinations,C).map((function(e,t){return Object(w.jsxs)("div",{className:"w-full flex flex-row items-center border-b ".concat(y===e.combination_code?"border-yellow-100 bg-yellow-100 font-bold":"border-gray-200"," py-1 gap-4 hover:bg-yellow-100 cursor-pointer"),onClick:function(){v(e.combination_code),i(!1)},children:[Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold",children:t+1})}),Object(w.jsx)("div",{children:e.combination_name})]},t+1)}))})]})]}),Object(w.jsx)("input",{className:"px-3 py-2 rounded border border-gray-400 w-full",placeholder:"Search keyword...",value:K,onChange:function(e){return Q(e.target.value)}})]})]})}),Object(w.jsx)("div",{className:"bg-white rounded mx-2 border border-gray-200",children:Object(w.jsx)("div",{className:"w-full overflow-x-auto",children:Object(w.jsxs)("table",{className:"min-w-full text-left",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{className:"font-semibold border-b text-base",children:[Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-center",children:"#"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Subject"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Level"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Combination"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Grade"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Periods"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-right",children:"Action"})]})}),Object(w.jsx)("tbody",{className:"text-sm",children:null===e.school_hierarchy_data?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:7,children:Object(w.jsx)(H,{})})}):0===Object(m.h)(X(),K).length?Object(w.jsx)("td",{colSpan:7,children:Object(w.jsx)("div",{className:"text-lg p-3 text-center",children:"No result found"})}):Object(m.h)(X(),K).map((function(e,t){return Object(w.jsxs)("tr",{className:"".concat(void 0!==L.find((function(t){return t.studyhierarchyid===e.studyhierarchyid}))?"text-gray-500":"hover:bg-yellow-50 hover:text-accent-900"," group"),children:[Object(w.jsx)("td",{className:"p-2 border-b text-center",children:t+1}),Object(w.jsxs)("td",{className:"p-2 border-b",children:[e.course_code,"-",e.course_name]}),Object(w.jsx)("td",{className:"p-2 border-b",children:e.level_name}),Object(w.jsx)("td",{className:"p-2 border-b",children:e.combination_name}),Object(w.jsx)("td",{className:"p-2 border-b",children:e.grade_name}),Object(w.jsx)("td",{className:"p-2 border-b",children:e.teaching_period}),Object(w.jsx)("td",{className:"p-2 border-b",children:Object(w.jsx)("div",{className:"flex flex-row items-center justify-end",children:void 0===L.find((function(t){return t.studyhierarchyid===e.studyhierarchyid}))?Object(w.jsx)("div",{onClick:function(){return t=e,void J([].concat(Object(p.a)(L.filter((function(e){return e.studyhierarchyid!==t.studyhierarchyid}))),[t]));var t},className:"rounded bg-yellow-100 group-hover:bg-accent-900 group-hover:text-white px-3 py-2 w-max text-center border border-yellow-300 group-hover:border-accent-900 cursor-pointer text-sm font-bold",children:"Add subject"}):Object(w.jsx)("div",{onClick:function(){return t=e,void J(Object(p.a)(L.filter((function(e){return e.studyhierarchyid!==t.studyhierarchyid}))));var t},className:"rounded bg-red-50 group-hover:bg-red-200 text-black border border-red-100 group-hover:border-red-700 group-hover:text-red-800 px-3 py-2 w-max text-center cursor-pointer text-sm font-bold",children:"Remove"})})})]},t+1)}))})]})})})]})})})]})]}),L.length>0&&Object(w.jsx)("div",{className:"fixed bottom-0 left-0 w-full z-50 bg-blue-600 p-2 animate__animated animate__fadeInUp",children:!1===F?Object(w.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2",children:[""!==V&&Object(w.jsx)("div",{className:"bg-red-200 text-red-800 px-3 py-2 rounded-md animate_animated animate__zoomIn animate__faster",onClick:function(){return U("")},children:V}),""!==D&&Object(w.jsx)("div",{className:"bg-green-600 text-white px-3 py-2 rounded-md animate_animated animate__zoomIn animate__faster",onClick:function(){return P("")},children:D}),Object(w.jsxs)("div",{className:"text-white flex flex-col items-end mr-2",children:[Object(w.jsx)("span",{className:"text-sm text-blue-300",children:"Selected subjects"}),Object(w.jsx)("span",{className:"text-2xl font-extrabold -mt-2",children:L.length})]}),Object(w.jsx)("div",{onClick:function(){return e.setAddNew(!1)},className:"btn bg-gray-200 text-black rounded-md px-4 py-2 hover:bg-gray-700 hover:text-white cursor-pointer border-2 border-gray-200 hover:border-white font-bold",children:"Cancel"}),Object(w.jsx)("div",{onClick:function(){z(!0),S(L,e.school.school_code,(function(t,r){""!==r&&!0===t&&(P("School subjects added successfully!"),J([]),e.setAddNew(!1),e.setLoadSchoolSubjects()),""===r&&!0===t&&U("Something went wrong. Try again!"),z(!1)})),z(!1)},className:"btn bg-green-700 text-white rounded-md px-4 py-2 hover:bg-gray-700 hover:text-white cursor-pointer border-2 border-gray-200 hover:border-white font-bold",children:"Save changes"})]}):Object(w.jsx)("div",{className:"text-white text-lg text-right py-2",children:"Saving, Please wait..."})})]})},k=r(9),H=function(){return Object(w.jsxs)("div",{className:"bg-white rounded-md p-4 flex flex-col items-center justify-center m-5",children:[Object(w.jsx)(f.a,{}),Object(w.jsx)("div",{className:"text-xl",children:"Loading, please wait..."})]})},I=function(e){Object(l.a)(r,e);var t=Object(o.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).setAddNew=function(e){n.setState({addNew:e,addingNew:!0===e})},n.setAddingNew=function(e){n.setState({addingNew:e})},n.setLoading=function(e){n.setState({loading:e})},n.FilterSchoolHierarchy=function(e){var t,r=[],c=Object(s.a)(e);try{var a=function(){var e=t.value,c=n.props.allHierarchy.find((function(t){return t.studyhierarchyid===e.shool_hierarch_id&&"0"!==e.status}));void 0!==c&&r.push(c)};for(c.s();!(t=c.n()).done;)a()}catch(l){c.e(l)}finally{c.f()}return r},n.setLoadSchoolSubjects=function(){return Object(x.I)(n.props.school.school_code,(function(e,t){n.setLoading(!0),!0===e&&null!==t?n.setState({school_hierarchy:t,school_hierarchy_data:n.FilterSchoolHierarchy(t),loading:!1}):n.setState({school_hierarchy:[],school_hierarchy_data:[],loading:!1})}))},n.FilteredData=function(){var e=n.state.school_hierarchy_data;return null!==e?(null!==n.state.selected_level_code&&""!==n.state.selected_level_code&&(e=e.filter((function(e){return e.level_code===n.state.selected_level_code}))),null!==n.state.selected_combination_code&&(e=e.filter((function(e){return e.combination_code===n.state.selected_combination_code}))),e):[]},n.RemoveSchoolHierarchy=function(){var e=Object(c.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==window.confirm("Are you sure do you want to remove this subject on school?")){e.next=13;break}return n.setLoading(!0),e.prev=2,e.next=5,g.a.post("".concat(N.d,"/schoolhierarch/delete/").concat(t),{});case 5:r=e.sent,console.log("Success: ",r),200===r.status&&(n.setLoadSchoolSubjects(),n.setState({error:"",success:"School subject removed successfully!"})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n.setState({error:Object(k.a)(e.t0),success:"",loading:!1});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=function(){n.setLoadSchoolSubjects()},n.state={loading:!0,school_hierarchy:null,school_hierarchy_data:null,selected_level_code:null,selected_combination_code:null,filter_by_combination:!1,search_comb:"",addNew:!1,addingNew:!1,success:"",error:"",search:""},n}return Object(n.a)(r,[{key:"render",value:function(){var e,t=this;return null===this.state.school_hierarchy||null===this.state.school_hierarchy||this.state.loading,Object(w.jsxs)(b.Fragment,{children:[Object(w.jsx)("div",{className:"mb-10",style:void 0!==this.props.fixedHeight?{height:"60vh",overflow:"auto"}:{},children:Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"p-2 mb-5",children:[Object(w.jsxs)("div",{className:"flex flex-row items-center gap-3 justify-between",children:[Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("div",{className:"text-2xl font-bold",children:"SCHOOL SUBJECTS ASSIGNMENT"}),Object(w.jsxs)("div",{className:"text-sm text-gray-500",children:[this.props.school.school_name,"(",this.props.school.school_code,")"]})]}),Object(w.jsx)("div",{onClick:function(){t.setAddingNew(!0),t.setAddNew(!0)},className:"border ".concat(!1===this.state.addingNew?"bg-yellow-100 border-yellow-400":"bg-gray-100"," text-black px-3 py-2 rounded text-center hover:text-accent-900 cursor-pointer font-bold"),children:!0===this.state.addingNew?"Loading":"Assign new subjects"})]}),Object(w.jsxs)("div",{className:"mt-4",children:[Object(w.jsx)("div",{children:"Filter by"}),Object(w.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[Object(w.jsxs)("select",{onChange:function(e){return t.setState({selected_level_code:e.target.value})},value:null===this.state.selected_level_code?"":this.state.selected_level_code,className:"border border-gray-400 rounded px-3 py-2",children:[Object(w.jsx)("option",{value:"",children:"Choose education level"}),Object(w.jsx)("option",{value:"",children:"View by all levels"}),Object(x.J)(this.props.allHierarchy,{type:x.wb.SCHOOL_LEVELS,status:!0}).levels.map((function(e,t){return Object(w.jsx)("option",{value:e.level_code,children:e.level_name},t+1)}))]}),Object(w.jsxs)("div",{className:"w-full",children:[Object(w.jsxs)("div",{onClick:function(){return t.setState({filter_by_combination:!t.state.filter_by_combination})},className:"w-auto border border-gray-400 rounded px-4 py-2 bg-white flex flex-row items-center justify-between gap-10 cursor-pointer hover:border-accent-900 hover:text-accent-900",children:[null===this.state.selected_combination_code?Object(w.jsx)("span",{children:"All- Click to filter by combination"}):Object(w.jsx)("span",{children:null===(e=Object(x.J)(this.props.allHierarchy,{type:x.wb.COMBINATIONS,status:!0}).combinations.find((function(e){return e.combination_code===t.state.selected_combination_code})))||void 0===e?void 0:e.combination_name}),Object(w.jsx)("div",{className:"-mr-3",children:!0===this.state.filter_by_combination?Object(w.jsx)(j.k,{}):Object(w.jsx)(h.a,{})})]}),!0===this.state.filter_by_combination&&Object(w.jsxs)("div",{className:"absolute w-max bg-white px-3 py-3 rounded-b animate__animated animate__zoomIn animate__faster shadow-xl",children:[Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"flex flex-row items-center w-full justify-between gap-2",children:[Object(w.jsx)("input",{value:this.state.search_comb,onChange:function(e){return t.setState({search_comb:e.target.value})},placeholder:"Search...",type:"text",className:"border border-gray-400 rounded px-3 py-2 text-sm w-full"}),Object(w.jsx)("div",{children:Object(w.jsx)("div",{onClick:function(){return t.setState({filter_by_combination:!1})},className:"bg-red-100 text-red-800 text-2xl p-1 rounded-full cursor-pointer hover:bg-red-600 hover:text-white",children:Object(w.jsx)(j.k,{})})})]}),null!==this.state.selected_combination_code&&Object(w.jsxs)("div",{onClick:function(){return t.setState({selected_combination_code:null,filter_by_combination:!1})},className:"flex flex-row items-center gap-3 text-gray-800 font-bold cursor-pointer hover:text-accent-900 px-3 py-1 my-2 rounded bg-gray-100 w-full",children:[Object(w.jsx)("div",{children:Object(w.jsx)(u.a,{className:"text-xl"})}),Object(w.jsx)("span",{children:"Click to view all"})]})]}),Object(w.jsx)("div",{className:"h-64 overflow-y-auto mt-1 animate__animated animate__fadeIn",style:{minWidth:"28rem"},children:0===Object(m.h)(Object(x.J)(this.props.allHierarchy,{type:x.wb.COMBINATIONS,status:!0}).combinations,this.state.search_comb).length?Object(w.jsx)("div",{className:"text-center text-lg font-bold p-4 px-10",children:"No result found!"}):Object(m.h)(Object(x.J)(this.props.allHierarchy,{type:x.wb.COMBINATIONS,status:!0}).combinations,this.state.search_comb).map((function(e,r){return Object(w.jsxs)("div",{className:"w-full flex flex-row items-center border-b ".concat(t.state.selected_combination_code===e.combination_code?"border-yellow-100 bg-yellow-100 font-bold":"border-gray-200"," py-1 gap-4 hover:bg-yellow-100 cursor-pointer"),onClick:function(){return t.setState({selected_combination_code:e.combination_code,filter_by_combination:!1})},children:[Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:"rounded-full bg-yellow-50 border border-yellow-200 h-8 w-8 flex flex-row items-center justify-center font-bold",children:r+1})}),Object(w.jsx)("div",{children:e.combination_name})]},r+1)}))})]})]}),Object(w.jsx)("input",{className:"px-3 py-2 rounded border border-gray-400 w-full",placeholder:"Search keyword...",value:this.state.search,onChange:function(e){return t.setState({search:e.target.value})}})]})]})]}),""!==this.state.success&&Object(w.jsx)("div",{onClick:function(){return t.setState({success:""})},className:"bg-green-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight",children:Object(w.jsxs)("div",{className:"flex flex-row justify-between items-center gap-8",children:[Object(w.jsxs)("div",{children:["Success: ",this.state.success]}),Object(w.jsx)("div",{children:Object(w.jsx)(j.k,{className:"text-2xl text-red-600 bg-red-100 rounded-full"})})]})}),""!==this.state.error&&Object(w.jsx)("div",{onClick:function(){return t.setState({error:""})},className:"bg-red-600 text-white font-bold pl-4 pr-2 py-2 text-lg rounded-md my-2 fixed right-10 cursor-pointer shadow-xl animate__animated animate__bounceInRight",children:Object(w.jsxs)("div",{className:"flex flex-row justify-between items-center gap-8",children:[Object(w.jsxs)("div",{children:["Error: ",this.state.error]}),Object(w.jsx)("div",{children:Object(w.jsx)(j.k,{className:"text-2xl text-red-600 bg-red-100 rounded-full"})})]})}),Object(w.jsx)("div",{className:"bg-white rounded mx-2 border border-gray-200",children:Object(w.jsx)("div",{className:"w-full overflow-x-auto",children:Object(w.jsxs)("table",{className:"min-w-full text-left",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{className:"font-semibold border-b text-base",children:[Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300 text-center",children:"#"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Subject"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Level"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Combination"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Grade"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300",children:"Periods"}),Object(w.jsx)("th",{className:"p-2 border-b-2 border-gray-300"})]})}),Object(w.jsx)("tbody",{className:"text-sm",children:null===this.state.school_hierarchy_data?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:7,children:Object(w.jsx)(H,{})})}):0===Object(m.h)(this.FilteredData(),this.state.search).length?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:7,children:Object(w.jsx)("div",{className:"text-center text-lg text-gray-500 p-3",children:"No result found"})})}):Object(m.h)(this.FilteredData(),this.state.search).map((function(e,r){return Object(w.jsxs)("tr",{className:"hover:bg-yellow-50 group",children:[Object(w.jsx)("td",{className:"p-2 border-b text-center",children:r+1}),Object(w.jsxs)("td",{className:"p-2 border-b",children:[e.course_code,"-",e.course_name]}),Object(w.jsx)("td",{className:"p-2 border-b",children:e.level_name}),Object(w.jsx)("td",{className:"p-2 border-b",children:e.combination_name}),Object(w.jsx)("td",{className:"p-2 border-b",children:e.grade_name}),Object(w.jsx)("td",{className:"p-2 border-b",children:e.teaching_period}),Object(w.jsx)("td",{className:"border-b",children:Object(w.jsx)("div",{className:"flex justify-end",children:Object(w.jsx)("div",{onClick:function(){if(console.log("Current item: ",e),null!==t.state.school_hierarchy){var r=t.state.school_hierarchy.find((function(t){return t.studyhierarchyid===e.studyhierarchyid}));console.log("Compared: ",r),void 0!==r&&t.RemoveSchoolHierarchy(r.school_study_hierarchy_id)}},className:"bg-red-50 text-red-800 px-3 py-2 mx-1 my-1 rounded font-bold group-hover:bg-red-700 group-hover:text-white cursor-pointer",children:"Remove"})})})]},r+1)}))})]})})})]})}),!0===this.state.addNew&&Object(w.jsx)(C,{school:this.props.school,setAddNew:this.setAddNew,allHierarchy:this.props.allHierarchy,school_hierarchy_data:this.props.allHierarchy,setLoadSchoolSubjects:this.setLoadSchoolSubjects})]})}}]),r}(b.Component);t.b=I},172:function(e,t,r){"use strict";r.r(t),r.d(t,"_StudyHierarchyPage",(function(){return u})),r.d(t,"StudyHierarchyPage",(function(){return x}));var c=r(30),s=r(31),a=r(32),n=r(33),l=r(3),o=r(17),i=r(11),d=r(26),b=r(39),h=r(146),j=r(1),u=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(e){var s;return Object(c.a)(this,r),(s=t.call(this,e)).componentDidMount=function(){s.setState({loading:!0}),null===s.props.schoolHierarchyStore.hierarchy&&s.props.FC_AllSchoolHierarchyDetails(!1,(function(e,t){})),s.setState({loading:!1})},s.state={loading:!1},s}return Object(s.a)(r,[{key:"render",value:function(){return null===this.props.schoolHierarchyStore.hierarchy||!0===this.state.loading?Object(j.jsxs)("div",{className:"bg-white rounded-md p-4 flex flex-col items-center justify-center m-5",children:[Object(j.jsx)(b.a,{}),Object(j.jsx)("div",{className:"text-xl",children:"Loading, please wait..."})]}):Object(j.jsx)(d.a,{children:null!==this.props.auth.school?Object(j.jsx)(h.b,{school:this.props.auth.school,allHierarchy:this.props.schoolHierarchyStore.hierarchy}):Object(j.jsx)("div",{children:"Load all Schools"})})}}]),r}(l.Component),x=Object(o.b)((function(e){return{auth:e.auth,basic:e.basic,schoolHierarchyStore:e.schoolHierarchyStore}}),{FC_AllSchoolHierarchyDetails:i.c})(u)}}]);
//# sourceMappingURL=43.76f02a3f.chunk.js.map