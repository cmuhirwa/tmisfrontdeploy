{"version":3,"sources":["trainingModule/TrainingProviderProfile/TrainingProviderProfile.tsx"],"names":["_TrainingProviderProfile","props","FC_GetTrainingProviderDetails","checkTrainingPartner","auth","stakeholder","setState","error","loading","GetDPMembershipApplicationDetailsById","development_partner_id","res","type","training_provider","data","success","msg","state","view_file","this","className","development_partner_name","onClick","organization_category","phone","email","href","website_link","target","title","location","path","RGB_CERTIFICATES_PATH","rgb_certificate_file_name","IMPLEMENTATION_PLANS_PATH","implementation_plan_file_name","backDrop","close","backDropClose","displayClose","padding","body","footer","undefined","widthSizeClass","ModalSize","extraLarge","theme","Themes","default","file_path","onClose","onUpdate","file","application_id","id","preview_only","Component","TrainingProviderProfile","connect"],"mappings":"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","file":"static/js/80.74e8b819.chunk.js","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { BiErrorAlt } from \"react-icons/bi\";\nimport { FaTimes } from \"react-icons/fa\";\nimport { FiArrowUpRight } from \"react-icons/fi\";\nimport { MdAdminPanelSettings, MdAttachFile } from \"react-icons/md\";\nimport { connect } from \"react-redux\";\nimport { Auth, AuthStakeholder } from \"../../actions\";\nimport {\n  DPMembershipApplicationGetInterface,\n  GetDPMembershipApplicationDetailsById,\n} from \"../../actions/dp_membership_application\";\nimport Loading from \"../../components/Loading/Loading\";\nimport Modal, { ModalSize, Themes } from \"../../components/Modal/Modal\";\nimport {\n  IMPLEMENTATION_PLANS_PATH,\n  RGB_CERTIFICATES_PATH,\n} from \"../../config/app.config\";\nimport { StoreState } from \"../../reducers\";\nimport { EditFiles } from \"../DPMembershipApplication/fragments/EditFiles\";\n\ninterface TrainingProviderProfileProps {\n  auth: Auth;\n}\ninterface TrainingProviderProfileState {\n  loading: boolean;\n  training_provider: DPMembershipApplicationGetInterface | null;\n  error: string;\n  success: string;\n  view_file: {\n    title: string;\n    path: string;\n    type: \"RGB\" | \"IMPLEMENTATION\";\n  } | null;\n}\n\nclass _TrainingProviderProfile extends Component<\n  TrainingProviderProfileProps,\n  TrainingProviderProfileState\n> {\n  constructor(props: TrainingProviderProfileProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      training_provider: null,\n      error: \"\",\n      success: \"\",\n      view_file: null,\n    };\n  }\n  FC_GetTrainingProviderDetails = () => {\n    const checkTrainingPartner: AuthStakeholder | null =\n      this.props.auth.stakeholder;\n    if (checkTrainingPartner === null) {\n      this.setState({ error: \"Training partner is not found!\" });\n    } else {\n      this.setState({ loading: true });\n      GetDPMembershipApplicationDetailsById(\n        checkTrainingPartner.development_partner_id,\n        (\n          loading: boolean,\n          res: {\n            type: \"success\" | \"error\";\n            msg: string;\n            data: DPMembershipApplicationGetInterface | null;\n          } | null\n        ) => {\n          this.setState({ loading: loading });\n          if (res !== null && res.type === \"success\") {\n            this.setState({\n              training_provider: res.data,\n              loading: false,\n              error: \"\",\n              success: \"\",\n            });\n          }\n          if (res !== null && res.type === \"error\") {\n            this.setState({\n              training_provider: null,\n              loading: false,\n              error: res.msg,\n              success: \"\",\n            });\n          }\n        }\n      );\n    }\n  };\n  componentDidMount(): void {\n    if (this.state.training_provider === null) {\n      this.FC_GetTrainingProviderDetails();\n    }\n  }\n  render() {\n    if (this.props.auth.stakeholder === null) {\n      return <div>Please go back</div>;\n    }\n    return (\n      <Fragment>\n        <div className=\"container mx-auto\">\n          <div className=\"px-3 pt-3\">\n            <div className=\"bg-white p-3 flex flex-row items-center justify-between gap-2 w-full rounded-md\">\n              <div className=\"flex flex-row items-center gap-3\">\n                <div>\n                  <div className=\"bg-primary-100 h-14 w-14 rounded-md flex items-center justify-center text-primary-700\">\n                    <MdAdminPanelSettings className=\"text-5xl\" />\n                  </div>\n                </div>\n                <div className=\"flex flex-col\">\n                  <div className=\"font-bold text-xl\">\n                    Training provider profile\n                  </div>\n                  <div className=\"font-bold text-primary-700\">\n                    {this.state.training_provider === null ? (\n                      <span className=\"animate__animated animate__fadeIn animate__infinite text-base text-accent-900 font-normal\">\n                        Loading, please wait...\n                      </span>\n                    ) : (\n                      this.state.training_provider.development_partner_name\n                    )}\n                  </div>\n                </div>\n              </div>\n              <div>{/* <Button>Edit details</Button> */}</div>\n            </div>\n          </div>\n          {/* Body */}\n          {(this.state.loading === true ||\n            this.state.training_provider === null) && (\n            <div className=\"px-2 md:px-4\">\n              <div className=\"bg-white rounded-md p-6 flex flex-col items-center justify-center w-full my-4\">\n                <Loading />\n                <div className=\"text-center text-lg font-light\">\n                  Loading, please wait...\n                </div>\n              </div>\n            </div>\n          )}\n          <div className=\"p-1 md:px-3 pb-3\">\n            {/* Error */}\n            {this.state.error !== \"\" && (\n              <div\n                onClick={() => this.setState({ error: \"\", success: \"\" })}\n                className=\"flex flex-row items-center justify-between gap-2 w-full p-2 bg-red-50 text-red-700 rounded-md border border-red-100 cursor-pointer hover:bg-red-100 my-2 animate__animated animate__shakeX\"\n              >\n                <div className=\"flex flex-row items-center gap-2\">\n                  <div>\n                    <div className=\"h-10 w-10 rounded-md bg-white flex items-center justify-center\">\n                      <BiErrorAlt className=\"text-2xl\" />\n                    </div>\n                  </div>\n                  <div>{this.state.error}</div>\n                </div>\n                <div>\n                  <FaTimes className=\"text-2xl\" />\n                </div>\n              </div>\n            )}\n            {/* Success message */}\n            {this.state.success !== \"\" && (\n              <div\n                onClick={() => this.setState({ error: \"\", success: \"\" })}\n                className=\"flex flex-row items-center justify-between gap-2 w-full p-2 bg-green-50 text-green-600 rounded-md border border-green-100 cursor-pointer hover:bg-green-100 my-2\"\n              >\n                <div className=\"flex flex-row items-center gap-2\">\n                  <div>\n                    <div className=\"h-10 w-10 rounded-md bg-white flex items-center justify-center\">\n                      <BiErrorAlt className=\"text-2xl\" />\n                    </div>\n                  </div>\n                  <div>{this.state.success}</div>\n                </div>\n                <div>\n                  <FaTimes className=\"text-2xl\" />\n                </div>\n              </div>\n            )}\n            {/* Training provider details */}\n            {this.state.loading === false &&\n              this.state.training_provider !== null && (\n                <div className=\"my-2 bg-white rounded-md grid grid-cols-12 gap-2 pb-2\">\n                  <div className=\"col-span-12 font-bold text-lg px-3 py-4 border-b mb-3\">\n                    General information\n                  </div>\n                  <div className=\"col-span-12 lg:col-span-6 px-4 pb-2\">\n                    <div className=\"text-gray-500\">Organization name</div>\n                    <div className=\"font-semibold\">\n                      {this.state.training_provider.development_partner_name}\n                    </div>\n                  </div>\n                  <div className=\"col-span-12 lg:col-span-6 px-4 pb-2\">\n                    <div className=\"text-gray-500\">Organization category</div>\n                    <div className=\"font-semibold\">\n                      {this.state.training_provider.organization_category}\n                    </div>\n                  </div>\n                  <div className=\"col-span-12 lg:col-span-6 px-4 pb-2\">\n                    <div className=\"text-gray-500\">\n                      Organization phone number\n                    </div>\n                    <div className=\"font-semibold\">\n                      {this.state.training_provider.phone}\n                    </div>\n                  </div>\n                  <div className=\"col-span-12 lg:col-span-6 px-4 pb-2\">\n                    <div className=\"text-gray-500\">Organization email</div>\n                    <div className=\"font-semibold\">\n                      {this.state.training_provider.email}\n                    </div>\n                  </div>\n                  <div className=\"col-span-12 lg:col-span-6 px-4 pb-2\">\n                    <div className=\"text-gray-500\">Organization website</div>\n                    <a\n                      href={this.state.training_provider.website_link}\n                      target=\"__blank\"\n                      title={\n                        this.state.training_provider.development_partner_name\n                      }\n                    >\n                      {this.state.training_provider.website_link}\n                    </a>\n                  </div>\n                  <div className=\"col-span-12 lg:col-span-6 px-4 pb-2\">\n                    <div className=\"text-gray-500\">Organization location</div>\n                    <div className=\"font-semibold\">\n                      {this.state.training_provider.location}\n                    </div>\n                  </div>\n                </div>\n              )}\n            {this.state.loading === false &&\n              this.state.training_provider !== null && (\n                <div className=\"my-2 bg-white rounded-md grid grid-cols-12 gap-2 pb-2\">\n                  <div className=\"col-span-12 font-bold text-lg px-3 py-4 border-b mb-3\">\n                    Files & Documents\n                  </div>\n                  <div className=\"col-span-12 lg:col-span-6 px-4 pb-2\">\n                    <div\n                      onClick={() =>\n                        this.state.training_provider !== null &&\n                        this.setState({\n                          view_file: {\n                            path: `${RGB_CERTIFICATES_PATH}${this.state.training_provider.rgb_certificate_file_name}`,\n                            title: \"View RGB certificate\",\n                            type: \"RGB\",\n                          },\n                        })\n                      }\n                      className=\"flex flex-row items-center justify-between gap-3 w-full bg-gray-100 rounded-md border border-gray-300 p-3 cursor-pointer hover:border-primary-300 hover:bg-primary-100 hover:text-primary-800 group\"\n                    >\n                      <div className=\"flex flex-row items-center gap-3 w-full\">\n                        <div>\n                          <MdAttachFile className=\"text-4xl text-gray-400 group-hover:text-primary-700\" />\n                        </div>\n                        <div>\n                          <div className=\"text-lg font-bold\">\n                            RGB certificate\n                          </div>\n                          <div className=\"text-sm text-gray-500 group-hover:text-accent-900\">\n                            Click to preview this file\n                          </div>\n                        </div>\n                      </div>\n                      {/* ------------- */}\n                      <div>\n                        <div className=\"bg-gray-100 group-hover:bg-accent-900 rounded-full h-11 w-11 flex items-center justify-center\">\n                          <FiArrowUpRight className=\"text-3xl text-gray-100 group-hover:text-white\" />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"col-span-12 lg:col-span-6 px-4 pb-2\">\n                    <div\n                      onClick={() =>\n                        this.state.training_provider !== null &&\n                        this.setState({\n                          view_file: {\n                            path: `${IMPLEMENTATION_PLANS_PATH}${this.state.training_provider.implementation_plan_file_name}`,\n                            title: \"View Implementation plan\",\n                            type: \"IMPLEMENTATION\",\n                          },\n                        })\n                      }\n                      className=\"flex flex-row items-center justify-between gap-3 w-full bg-gray-100 rounded-md border border-gray-300 p-3 cursor-pointer hover:border-primary-300 hover:bg-primary-100 hover:text-primary-800 group\"\n                    >\n                      <div className=\"flex flex-row items-center gap-3 w-full\">\n                        <div>\n                          <MdAttachFile className=\"text-4xl text-gray-400 group-hover:text-primary-700\" />\n                        </div>\n                        <div>\n                          <div className=\"text-lg font-bold\">\n                            Implementation plan\n                          </div>\n                          <div className=\"text-sm text-gray-500 group-hover:text-accent-900\">\n                            Click to preview this file\n                          </div>\n                        </div>\n                      </div>\n                      {/* ------------- */}\n                      <div>\n                        <div className=\"bg-gray-100 group-hover:bg-accent-900 rounded-full h-11 w-11 flex items-center justify-center\">\n                          <FiArrowUpRight className=\"text-3xl text-gray-100 group-hover:text-white\" />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n          </div>\n        </div>\n        {/* Preview the file */}\n        {this.state.view_file !== null &&\n          this.state.training_provider !== null && (\n            <Modal\n              backDrop={true}\n              close={() => this.setState({ view_file: null })}\n              backDropClose={true}\n              displayClose={true}\n              padding={{\n                title: true,\n                body: false,\n                footer: undefined,\n              }}\n              widthSizeClass={ModalSize.extraLarge}\n              theme={Themes.default}\n              title={\n                <div className=\"text-xl -mb-3\">\n                  {this.state.view_file.title}\n                </div>\n              }\n            >\n              <EditFiles\n                file_path={this.state.view_file.path}\n                title={this.state.view_file.title}\n                onClose={() => this.setState({ view_file: null })}\n                onUpdate={(file: File) => {\n                  this.setState({ loading: true });\n                  this.FC_GetTrainingProviderDetails();\n                }}\n                type={this.state.view_file.type}\n                application_id={this.state.training_provider.id}\n                preview_only={true}\n              />\n            </Modal>\n          )}\n      </Fragment>\n    );\n  }\n}\nconst mapStateToProps = ({ auth }: StoreState): { auth: Auth } => {\n  return { auth: auth };\n};\n\nexport const TrainingProviderProfile = connect(\n  mapStateToProps,\n  {}\n)(_TrainingProviderProfile);\n"],"sourceRoot":""}