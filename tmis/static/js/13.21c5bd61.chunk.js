(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[13],{104:function(e,t,r){"use strict";r(2);var a=r(49),s=r(1);t.a=function(e){var t=e.onChange,r=e.value,n=e.error,c=e.label,o=e.placeholder,l=e.disabled,i=void 0!==l&&l,d=e.name,u=e.Input_className,h=void 0===u?"":u,b=e.Label_className,m=void 0===b?"":b,j=e.InputContainer_className,p=void 0===j?"":j,f=e.MainContainer_className,x=void 0===f?"":f,g=e.size,O=void 0===g?"md":g,_=e.data;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"w-full my-2 ".concat(x),children:[Object(s.jsx)("label",{htmlFor:"login-form-email",className:"text-primary-900 dark:text-primary-100 ".concat(m),children:c}),Object(s.jsxs)("div",{className:"rounded relative ".concat(p),children:[Object(s.jsx)("select",{name:d,placeholder:o,onChange:t,className:"\n                     w-full text-lg rounded border-2 \n                     ".concat(Object(a.a)(O),"\n                     ").concat(""!==n?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                     px-3 ").concat(h),value:r,disabled:i,children:_.map((function(e,t){return Object(s.jsx)("option",{value:e.value,children:e.title},t)}))}),""!==n&&Object(s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:n})]})]})})}},105:function(e,t,r){"use strict";r(2);var a=r(49),s=r(1);t.a=function(e){var t=e.onChange,r=e.value,n=e.error,c=e.label,o=e.placeholder,l=e.disabled,i=void 0!==l&&l,d=e.name,u=e.Input_className,h=void 0===u?"":u,b=e.Label_className,m=void 0===b?"":b,j=e.InputContainer_className,p=void 0===j?"":j,f=e.MainContainer_className,x=void 0===f?"":f,g=e.labelColor,O=void 0===g?"text-primary-900 dark:text-primary-100":g,_=e.size,v=void 0===_?"md":_;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"w-full my-2 ".concat(x),children:[""!==c&&Object(s.jsx)("label",{htmlFor:"any-form",className:"".concat(O," ").concat(m),children:c}),Object(s.jsxs)("div",{className:"rounded relative ".concat(p),children:[Object(s.jsx)("textarea",{name:d,placeholder:o,onChange:t,className:"\n                w-full text-lg rounded border-2 \n                ".concat(Object(a.a)(v),"\n                ").concat(""!==n?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                px-3 ").concat(h),value:r,disabled:i}),""!==n&&Object(s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:n})]})]})})}},106:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n}));var a,s,n,c=r(11),o=r(1);!function(e){e.default="default",e.primary="primary",e.secondary="secondary",e.danger="danger",e.success="success",e.warning="warning"}(a||(a={})),function(e){e.none="top-0",e.small="top-28",e.medium="top-1/3",e.large="top-1/2",e.extra="top-2/3"}(s||(s={})),function(e){e.small="max-w-sm",e.medium="max-w-screen-sm",e.large="max-w-screen-md",e.extraLarge="max-w-screen-lg",e.maxWidth="max-w-screen h-full"}(n||(n={}));t.c=function(e){var t,r=e.title,l=e.backDrop,i=e.theme,d=e.close,u=e.backDropClose,h=e.widthSizeClass,b=e.displayClose,m=e.padding,j=void 0===m?{title:!0,body:!0,footer:!0}:m;switch(i){case a.primary:t="blue-500";break;case a.secondary:t="gray-300";break;case a.danger:t="red-500";break;case a.success:t="green-500";break;case a.warning:t="yellow-500";break;default:t="white"}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{onClick:function(){return u&&d()},className:"animate__animated animate__fadeIn animate__faster modal fixed bg-black bg-opacity-".concat(!0===l?"60":"0")}),Object(o.jsxs)("div",{className:"fixed items-center justify-items-center ".concat(void 0===e.marginTop?s.none:e.marginTop," left-0 right-0 bottom-0 bg-white rounded shadow-xl self-center ").concat(h," animate__animated ").concat(void 0!==e.marginTop&&e.marginTop!==s.none?"animate__fadeInUp":"animate__zoomIn"," animate__faster"),style:{width:"100%",maxHeight:"99vh",height:"".concat(h===n.maxWidth?void 0===e.marginTop?"100%":"unset":"fit-content"),overflowY:"auto",margin:"auto",zIndex:99999999},children:[Object(o.jsxs)("div",{className:"flex justify-between bg-".concat(t," ").concat(!0===j.title?"py-4 px-4":""," rounded-t text-").concat(i===a.default||i===a.secondary?"black":"white"),children:[r&&""!==r?Object(o.jsx)("h4",{className:"text-lg font-bold ",children:r}):Object(o.jsx)("div",{}),!1===b?"":Object(o.jsx)("div",{className:"hover:text-red-600 hover:bg-red-100 rounded-full p-1 h-8 w-8",children:Object(o.jsx)(c.h,{className:"cursor-pointer font-extrabold text-2xl",onClick:function(){return d()}})})]}),Object(o.jsx)("div",{className:"space-x-3 ".concat(!0===j.body?"py-4 px-4":""),children:Object(o.jsx)("div",{children:""!==e.children?e.children:""})}),void 0!==e.footer&&""!==e.footer?Object(o.jsx)("div",{className:"flex float-right ".concat(!0===j.footer?"py-4 px-4":""),children:e.footer}):""]})]})}},110:function(e,t,r){"use strict";r(2);var a=r(1);t.a=function(e){var t=function(){for(var t=[],r=0;r<e.cols;r++)t.push(r);return t.map((function(e){return Object(a.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(a.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},228),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},22648),Object(a.jsx)("tr",{className:"border-b border-gray-200",children:t()},229768)]})}},114:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"c",(function(){return m})),r.d(t,"f",(function(){return j})),r.d(t,"b",(function(){return p})),r.d(t,"i",(function(){return f})),r.d(t,"d",(function(){return x})),r.d(t,"e",(function(){return g})),r.d(t,"g",(function(){return O})),r.d(t,"h",(function(){return _}));var a=r(6),s=r(3),n=r.n(s),c=r(5),o=r.n(c),l=r(12),i=r(13),d=r(8),u=r(9),h=r(18),b=function(e){return e(!0,null,""),function(){var t=Object(a.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,o.a.get("".concat(i.c,"/teachertransfers/requesteddde"));case 4:a=t.sent,console.log("===================================="),console.log({getAllTransfers:a}),console.log("===================================="),r({type:l.a.GET_ALL_TRANSFER,payload:a.data}),e(!1,a.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return e(!0,null,""),function(){var t=Object(a.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,o.a.get("".concat(i.c,"/teachertransfers/teacher"));case 4:a=t.sent,console.log("===================================="),console.log({getAllTransfers:a}),console.log("===================================="),r({type:l.a.GET_MY_TRANSFER,payload:a.data}),e(!1,a.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return e(!0,""),function(){var t=Object(a.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,o.a.get("".concat(i.c,"/teachertransfers/transferreasons"));case 4:a=t.sent,console.log("=================FC_GetTransferReasons==================="),console.log({FC_GetTransferReasons:a}),console.log("=================FC_GetTransferReasons==================="),r({type:l.a.GET_TRANSFER_REASON,payload:a.data}),e(!1,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){var e=Object(a.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,null,""),e.prev=1,Object(d.a)(),e.next=5,o.a.get("".concat(i.c,"/district"));case 5:r=e.sent,console.log("=================FC_GetDistricts==================="),console.log({FC_GetDistricts:r}),console.log("=================FC_GetDistricts==================="),t(!1,r.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),t(!1,null,Object(u.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(n.a.mark((function e(t,r){var a,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,a=0,null,""),e.prev=2,Object(d.a)(),(s=new FormData).append("teacher_supporting_document",t),e.next=8,o.a.post("".concat(i.c,"/teachertransfers/uploadSupportingDocument"),s,{onUploadProgress:function(e){a=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,r(!0,a,null,"")}});case 8:c=e.sent,console.log("Uploaded document: ",c.data),r(!1,a,c.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),r(!1,a,"",Object(u.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(a.a)(n.a.mark((function e(t,r){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0,null,""),e.prev=1,Object(d.a)(),e.next=5,o.a.get("".concat(i.c,"/teachertransfer/getschoolsperdistrict/").concat(t));case 5:a=e.sent,console.log("=================FC_GetSchoolByDistrict==================="),console.log({FC_GetSchoolByDistrict:a}),console.log("=================FC_GetSchoolByDistrict==================="),r(!1,a.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),r(!1,null,Object(u.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(a.a)(n.a.mark((function e(t,r,a,s){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0,null,""),e.prev=1,Object(d.a)(),e.next=5,o.a.post("".concat(i.c,"/teachertransfer/getschoolsperdistrict/").concat(t),{position_code:r,qualification_id:a});case 5:c=e.sent,console.log("=================FC_GetSchoolByDistrict_2==================="),console.log({FC_GetSchoolByDistrict_2:c}),console.log("=================FC_GetSchoolByDistrict_2==================="),s(!1,c.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),s(!1,null,Object(u.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,r,a,s){return e.apply(this,arguments)}}(),O=function(e,t,r,s,c){c(!0,"");var b="";return function(){var m=Object(a.a)(n.a.mark((function a(m){var j,p;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(!0,""),a.next=3,f(r,(function(e,t,r,a){c(e,""),console.log("==================&&&&&&&&&&&&&=================="),console.log({data:r}),console.log("==================&&&&&&&&&&&&&=================="),!e&&Object(h.e)(a)&&null!==r?b=r:e||Object(h.e)(a)||c(!1,a)}));case 3:if(Object(h.e)(b)){a.next=23;break}return c(!0,""),j={teacher_transfer_id:e,outgoing_status:s,outgoing_dde_comment:t,mayor_letter:b},console.log("==================*********************=================="),console.log({doc_title:b}),console.log("==================*********************=================="),a.prev=9,Object(d.a)(),a.next=13,o.a.post("".concat(i.c,"/teachertransfers/outgoing"),j);case 13:p=a.sent,console.log("Uploaded document: ",p.data),m({type:l.a.RESPOND_TO_LEAVE,payload:j}),c(!1,""),a.next=23;break;case 19:a.prev=19,a.t0=a.catch(9),console.error(a.t0),c(!1,Object(u.a)(a.t0));case 23:case"end":return a.stop()}}),a,null,[[9,19]])})));return function(e){return m.apply(this,arguments)}}()},_=function(e,t,r,s,c){return c(!1,""),function(){var h=Object(a.a)(n.a.mark((function a(h){var b,m;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(!0,""),b={teacher_transfer_id:e,requested_status:r,approved_school_id:t,requested_comment:s},a.prev=2,Object(d.a)(),a.next=6,o.a.post("".concat(i.c,"/teachertransfers/incoming"),b);case 6:m=a.sent,console.log("FC_RespondTransfer document: ",m.data),h({type:l.a.RESPOND_TO_TRANSFER,payload:b}),c(!1,""),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(2),console.error(a.t0),c(!1,Object(u.a)(a.t0));case 16:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e){return h.apply(this,arguments)}}()}},118:function(e,t,r){"use strict";r(2);var a=r(124),s=r(13),n=r(1);t.a=function(e){var t="uploaded"===e.linkFor?"".concat(s.d,"/").concat(e.first_id):"".concat(s.c,"/generateletter/").concat(e.linkFor,"/").concat(e.first_id,"/").concat(e.last_id);return Object(n.jsxs)("a",{href:t,className:"py-2 px-4 text-md font-bold rounded bg-primary-800 hover:bg-opacity-90 text-white flex items-center gap-2",target:"_blank",rel:"noreferrer",children:[Object(n.jsx)(a.a,{}),Object(n.jsx)("span",{children:e.title})]})}},125:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r(2);var a,s,n=r(49),c=r(1);!function(e){e.PDF="PDF",e.IMAGES="IMAGES",e.ANY="ANY"}(a||(a={})),function(e){e.ALL="",e.IMAGES="image/*",e.EXCEL=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",e.PDF="application/pdf"}(s||(s={}));t.b=function(e){var t=e.onChange,r=e.error,a=e.label,o=e.multiple,l=e.disabled,i=void 0!==l&&l,d=e.accept,u=void 0===d?s.ALL:d,h=e.name,b=e.type,m=e.Input_className,j=void 0===m?"":m,p=e.Label_className,f=void 0===p?"":p,x=e.InputContainer_className,g=void 0===x?"":x,O=e.MainContainer_className,_=void 0===O?"":O,v=e.size,N=void 0===v?"md":v,y=e.labelColor,w=void 0===y?"text-primary-900 dark:text-primary-100":y;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"w-full my-2 ".concat(_),children:[""!==a&&Object(c.jsx)("label",{htmlFor:"any-form",className:"".concat(w," ").concat(f),children:a}),Object(c.jsxs)("div",{className:"rounded relative ".concat(g),children:[Object(c.jsx)("input",{name:h,multiple:o,accept:u,type:b,onChange:t,className:"\n                w-full text-lg rounded border-2 \n                ".concat(Object(n.a)(N),"\n                ").concat(""!==r?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                px-3 ").concat(j),disabled:i}),""!==r&&Object(c.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:r})]})]})})}},157:function(e,t,r){"use strict";r.r(t),r.d(t,"RequestApprovalDde",(function(){return R}));var a,s=r(20),n=r(2),c=r.n(n),o=r(51),l=r(26),i=r(27),d=r(28),u=r(29),h=r(16),b=r(114),m=r(24),j=r(25),p=r(118),f=r(31),x=r(110),g=r(18),O=r(125),_=r(105),v=r(1),N=Object(h.b)(null,{FC_RespondLeave:b.g})((function(e){var t=c.a.useState(null),r=Object(s.a)(t,2),a=r[0],n=r[1],o=c.a.useState(""),l=Object(s.a)(o,2),i=l[0],d=l[1],u=c.a.useState(null),h=Object(s.a)(u,2),b=h[0],p=h[1],f=c.a.useState(!1),x=Object(s.a)(f,2),N=x[0],y=x[1],w=function(t){null!==b?Object(g.e)(i)?n({target:"comment",msg:"Required!"}):e.FC_RespondLeave(e.selectedUserId,i,b,t,(function(t,r){y(t),t||Object(g.e)(r)?Object(g.e)(r)&&(n({target:"main-success",msg:"Response sent successful!"}),d(""),p(null),setTimeout((function(){e.setSelectedUserId("")}),1e3)):n({target:"main-error",msg:r})})):n({target:"approved_doc",msg:"Required!"})};return Object(v.jsxs)("div",{className:"animate__animated animate__zoomIn animate__faster absolute p-1 bg-primary-800 rounded -mt-0.5  z-40 w-auto mx-2 sm:mx-0 sm:w-80 right-0 ",children:[a&&"main-success"===a.target&&Object(v.jsx)(m.a,{theme:"success",fixed:!0,children:a&&a.msg}),a&&"main-error"===a.target&&Object(v.jsx)(m.a,{theme:"danger",fixed:!0,children:a&&a.msg}),Object(v.jsx)("div",{className:"px-2",children:Object(v.jsx)(O.b,{disabled:N,labelColor:"text-gray-300",label:"Signed document",name:"approved_doc",className:"p-2",onChange:function(e){return function(e){if(n(null),null===e.target.files)return p(null),n({msg:"Please select a valid file",target:"approved_doc"});var t=e.target.files[0];return"application/pdf"!==t.type?(p(null),n({msg:"The system accept pdf only",target:"approved_doc"})):t.size<=0?(p(null),n({msg:"Invalid file, Please choose a real file",target:"approved_doc"})):(p(t),void n(null))}(e)},error:a&&"approved_doc"===a.target?a.msg:"",type:"file",accept:O.a.PDF})}),Object(v.jsx)("div",{className:"px-2",children:Object(v.jsx)(_.a,{disabled:N,name:"dde_post_request_comment",className:"w-full p-1 rounded",value:i,onChange:function(e){return d(e.target.value)},error:"",labelColor:"text-gray-300",label:"Comment",placeholder:""})}),Object(v.jsxs)("div",{className:"flex justify-between gap-2",children:[Object(v.jsx)(j.a,{theme:"default",onClick:function(){e.setSelectedUserId(""),d(""),p(null)},disabled:N,children:"Cancel"}),Object(v.jsxs)("div",{className:"flex gap-2",children:[Object(v.jsx)(j.a,{theme:"success",disabled:N,onClick:function(e){return w("APPROVED")},children:"Accept"}),Object(v.jsx)(j.a,{theme:"danger",disabled:N,onClick:function(){return w("REJECTED")},children:"Reject"})]})]})]})})),y=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(e){var a;return Object(l.a)(this,r),(a=t.call(this,e)).componentDidMount=function(){null===a.props.transfer.allTransfers||0===a.props.transfer.allTransfers.length?a.props.FC_GetAllTransfers((function(e,t,r){a.setState({loading:e}),!e&&t?a.setState({loading:e}):e||Object(g.e)(r)||a.setState({error:{target:"main-error",msg:r}})})):!0===a.state.loading&&a.setState({loading:!1})},a.state={loading:!0,error:null,search:"",selectedUserId:""},a}return Object(i.a)(r,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[this.state.error&&"main-success"===this.state.error.target&&Object(v.jsx)(m.a,{theme:"success",fixed:!0,children:this.state.error.msg}),this.state.error&&"main-error"===this.state.error.target&&Object(v.jsx)(m.a,{theme:"danger",fixed:!0,children:this.state.error.msg}),Object(v.jsxs)("div",{className:"mt-3",children:[Object(v.jsx)("div",{className:"border border-t mt-2 mb-1 flex items-center px-3 rounded",children:Object(v.jsx)("div",{className:"flex-1 pr-2",children:Object(v.jsx)(f.a,{error:"",label:"Search",name:"",type:"search",onChange:function(t){return e.setState({search:t.target.value})},placeholder:"Search by district name",value:this.state.search,size:"sm"})})}),Object(v.jsx)("div",{className:"w-full overflow-x-auto",children:Object(v.jsxs)("table",{className:"w-full text-left border",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"p-2",children:"#"}),Object(v.jsx)("th",{className:"p-2",children:"Names"}),Object(v.jsx)("th",{className:"p-2",children:"Qualification"}),Object(v.jsx)("th",{className:"p-2",children:"Position"}),Object(v.jsx)("th",{className:"p-2",children:"Requested School"}),Object(v.jsx)("th",{className:"p-2",children:"Requested Sector"}),Object(v.jsx)("th",{className:"p-2",children:"Requested Date"}),Object(v.jsx)("th",{className:"p-2",children:"Status"})]})}),Object(v.jsx)("tbody",{children:this.state.loading?Object(v.jsx)(x.a,{cols:8}):null===this.props.transfer.allTransfers?Object(v.jsx)("tr",{className:"border-t border-b",children:Object(v.jsx)("td",{colSpan:10,className:"p-6 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:"Something went wrong!"})}):this.props.transfer.allTransfers.filter((function(e){return null!==e.outgoing_status})).length<=0?Object(v.jsx)("tr",{className:"border-t border-b",children:Object(v.jsx)("td",{colSpan:10,className:"p-6 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:"No results found"})}):this.props.transfer.allTransfers.filter((function(e){return null!==e.outgoing_status})).map((function(t,r){return Object(v.jsxs)("tr",{className:"border-t border-b hover:bg-accent-400",children:[Object(v.jsx)("td",{className:"px-2",children:r+1}),Object(v.jsx)("td",{className:"px-2",children:t.teacher_full_name}),Object(v.jsx)("td",{className:"px-2",children:t.qualification_name}),Object(v.jsx)("td",{className:"px-2",children:t.position_name}),Object(v.jsx)("td",{className:"px-2",children:t.requested_school_name}),Object(v.jsx)("td",{className:"px-2",children:t.requested_school_sector}),Object(v.jsx)("td",{className:"p-2",children:Object(g.a)(t.teacher_requested_transfer_date)}),e.state.selectedUserId===t.teacher_transfer_id.toString()?Object(v.jsx)("td",{className:"",children:Object(v.jsx)(N,{selectedUserId:e.state.selectedUserId,setSelectedUserId:function(t){return e.setState({selectedUserId:t})}})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("td",{className:"p-2",children:"PENDING"===t.outgoing_status?Object(v.jsx)(j.a,{theme:"accent-light",onClick:function(r){return"PENDING"===t.outgoing_status&&e.setState({selectedUserId:t.teacher_transfer_id.toString()})},children:"Respond"}):t.outgoing_status}),Object(v.jsx)("td",{className:"p-2",children:"PENDING"===t.outgoing_status?Object(v.jsx)(p.a,{linkFor:"transfer",first_id:t.teacher_transfer_id,last_id:t.teacher_id,title:"Transfer letter"}):t.mayor_letter&&Object(v.jsx)(p.a,{linkFor:"uploaded",first_id:t.mayor_letter,last_id:"",title:"Transfer letter"})})]})]},t.teacher_transfer_id)}))})]})})]})]})}}]),r}(n.Component),w=Object(h.b)((function(e){return{auth:e.auth,basic:e.basic,transfer:e.transfer}}),{FC_GetAllTransfers:b.a})(y),S=r(35),k=r(104),C=r(106),I=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(e){var a;return Object(l.a)(this,r),(a=t.call(this,e)).componentDidMount=function(){a.props.auth.district&&a.props.auth.district.district_code&&a.props.selectedUserInfo.position_code&&a.props.selectedUserInfo.qualification_id&&Object(b.e)(a.props.auth.district.district_code,a.props.selectedUserInfo.position_code,a.props.selectedUserInfo.qualification_id,(function(e,t,r){if(a.setState({loading:e}),e||Object(g.e)(r)){if(!e&&null!==t){var s=t.filter((function(e){return e.vacant_posts>0||e.school_code.toString()===a.props.selectedUserInfo.requested_school_id}));a.setState({schools:s})}}else a.setState({error:{target:"main-error",msg:r}})}))},a.RequestHandle=function(e){Object(g.e)(a.state.comment)?a.setState({error:{target:"comment",msg:"Required!"}}):a.props.FC_RespondTransfer(a.props.selectedUserInfo.teacher_transfer_id.toString(),a.state.selectedSchool,e,a.state.comment,(function(e,t){a.setState({requestLoading:e}),e||Object(g.e)(t)?Object(g.e)(t)&&(a.setState({error:{target:"main-success",msg:"Submitted Successfully!"},comment:"",selectedSchool:""}),setTimeout((function(){a.props.closeModalHandler("")}),1e3)):a.setState({error:{target:"main-error",msg:t}})}))},a.state={loading:!0,requestLoading:!1,selectedSchool:a.props.selectedUserInfo.requested_school_id,comment:"",schools:[],error:null},a}return Object(i.a)(r,[{key:"render",value:function(){var e=this;return console.log("===================================="),console.log({district:this.props.auth.district,position_code:this.props.selectedUserInfo,qualification_id:this.props.selectedUserInfo.qualification_id}),console.log("===================================="),Object(v.jsx)(C.c,{backDrop:!1,theme:C.b.default,close:function(){e.setState({selectedSchool:"",comment:"",schools:[]}),e.props.closeModalHandler("")},backDropClose:!1,widthSizeClass:C.a.large,displayClose:!0,title:Object(v.jsx)("div",{className:"text-2xl w-full text-primary-800 -mb-2",children:"Teacher(Staff) Information"}),padding:{title:!0},children:Object(v.jsxs)(v.Fragment,{children:[this.state.error&&"main-success"===this.state.error.target&&Object(v.jsx)(m.a,{theme:"success",fixed:!0,children:this.state.error&&this.state.error.msg}),this.state.error&&"main-error"===this.state.error.target&&Object(v.jsx)(m.a,{theme:"danger",fixed:!0,children:this.state.error&&this.state.error.msg}),Object(v.jsxs)("div",{className:"px-4",children:[Object(v.jsx)("div",{className:"flex flex-wrap items-center",children:Object(v.jsxs)("div",{className:"flex w-full relative",children:[Object(v.jsx)("div",{className:"h-40 w-40 pr-4 relative",children:Object(v.jsx)("img",{src:"https://stackdiary.com/140x100.png",className:"w-full h-full object-cover object-top rounded-lg bg-white",alt:"Profile"})}),Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("div",{className:"w-full flex flex-col justify-between",children:Object(v.jsxs)("div",{children:[Object(v.jsxs)("h2",{className:"font-bold text-xl",children:[Object(g.e)(this.props.selectedUserInfo.teacher_full_name)?this.props.selectedUserInfo.teacher_first_name:this.props.selectedUserInfo.teacher_full_name," ",this.props.selectedUserInfo.teacher_last_name]}),!1,Object(v.jsxs)("p",{className:"text-md leading-relaxed",children:[Object(v.jsx)("span",{className:"font-bold",children:"Reason:"}),Object(v.jsx)("br",{}),this.props.selectedUserInfo.teacher_reason]}),Object(v.jsxs)("p",{className:"text-md leading-relaxed",children:[Object(v.jsx)("span",{className:"font-bold",children:"Comment:"}),Object(v.jsx)("br",{}),this.props.selectedUserInfo.teacher_comment]}),Object(v.jsxs)("ul",{className:"text-xs leading-relaxed",children:[Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"font-bold",children:"Phone: "}),this.props.selectedUserInfo.teacher_phone_number]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"font-bold",children:"Position: "}),this.props.selectedUserInfo.position_name]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"font-bold",children:"Current School: "}),this.props.selectedUserInfo.school_from_name]}),Object(v.jsxs)("li",{children:[" ",Object(v.jsx)("span",{className:"font-bold",children:"Requested School: "}),this.props.selectedUserInfo.requested_school_name?this.props.selectedUserInfo.requested_school_name:"-"]})]})]})}),!1]})]})}),Object(v.jsxs)("div",{children:[Object(v.jsx)(k.a,{data:Object(S.a)(this.state.schools.map((function(e){return{title:e.school_name+"( with ".concat(e.vacant_posts," vacant)"),value:e.school_code}}))),error:this.state.error&&"school"===this.state.error.target?this.state.error.msg:"",name:"select_level",onChange:function(t){return e.setState({selectedSchool:t.target.value})},label:"Change School:",placeholder:"Select",value:this.state.selectedSchool,size:"md",disabled:this.state.loading||this.state.requestLoading}),Object(v.jsx)(_.a,{value:this.state.comment,onChange:function(t){return e.setState({comment:t.target.value})},name:"comment",error:this.state.error&&"comment"===this.state.error.target?this.state.error.msg:"",label:"Comment",placeholder:"",disabled:this.state.loading||this.state.requestLoading})]})]}),Object(v.jsxs)("div",{className:"flex items-center justify-between p-3 border-t border-solid border-blueGray-200 rounded-b",children:[Object(v.jsx)(j.a,{theme:"default",onClick:function(){return e.setState({error:null,comment:"",selectedSchool:e.props.selectedUserInfo.requested_school_id})},disabled:this.state.loading||this.state.requestLoading,children:"Reset"}),Object(v.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[Object(v.jsx)(j.a,{theme:"success",onClick:function(){return e.RequestHandle("APPROVED")},loading:this.state.requestLoading,disabled:this.state.loading||this.state.requestLoading,children:"Approve"}),Object(v.jsx)(j.a,{theme:"danger",onClick:function(){return e.RequestHandle("REJECTED")},loading:this.state.requestLoading,disabled:this.state.loading||this.state.requestLoading,children:"Reject"})]})]})]})})}}]),r}(n.Component),T=c.a.memo(Object(h.b)(null,{FC_RespondTransfer:b.h})(I)),q=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(e){var a;return Object(l.a)(this,r),(a=t.call(this,e)).componentDidMount=function(){null===a.props.transfer.allTransfers||0===a.props.transfer.allTransfers.length?a.props.FC_GetAllTransfers((function(e,t,r){a.setState({loading:e}),!e&&t?a.setState({loading:e}):e||Object(g.e)(r)||a.setState({error:{target:"main-error",msg:r}})})):!0===a.state.loading&&a.setState({loading:!1})},a.getTransferById=function(e){if(a.props.transfer.allTransfers)return a.props.transfer.allTransfers.find((function(t){return t.teacher_transfer_id.toString()===e}))},a.state={loading:!0,error:null,search:"",selectedUserId:""},a}return Object(i.a)(r,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"mt-3",children:[Object(v.jsx)("div",{className:"border border-t mt-2 mb-1 flex items-center px-3 rounded",children:Object(v.jsx)("div",{className:"flex-1 pr-2",children:Object(v.jsx)(f.a,{error:"",label:"Search",type:"search",name:"",onChange:function(t){return e.setState({search:t.target.value})},placeholder:"Search",value:this.state.search,size:"sm"})})}),Object(v.jsx)("div",{className:"w-full overflow-x-auto",children:Object(v.jsxs)("table",{className:"w-full text-left border",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"p-2",children:"#"}),Object(v.jsx)("th",{className:"p-2",children:"First Name"}),Object(v.jsx)("th",{className:"p-2",children:"Last Name"}),Object(v.jsx)("th",{className:"p-2",children:"Requested School"}),Object(v.jsx)("th",{className:"p-2",children:"Requested Sector"}),Object(v.jsx)("th",{className:"p-2",children:"Current School"}),Object(v.jsx)("th",{className:"p-2",children:"Decision"})]})}),Object(v.jsx)("tbody",{children:this.state.loading?Object(v.jsx)(x.a,{cols:7}):null===this.props.transfer.allTransfers?Object(v.jsx)("tr",{className:"border-t border-b",children:Object(v.jsx)("td",{colSpan:11,className:"p-6 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:"Something went wrong!"})}):this.props.transfer.allTransfers.length<=0?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:11,className:"p-6 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:"No results found"})}):Object(g.f)(this.props.transfer.allTransfers,this.state.search).map((function(t,r){return Object(v.jsxs)("tr",{className:"border-t border-b",children:[Object(v.jsx)("td",{className:"p-2",children:r+1}),Object(v.jsx)("td",{className:"p-2",children:t.teacher_first_name}),Object(v.jsx)("td",{className:"p-2",children:t.teacher_last_name}),Object(v.jsx)("td",{className:"p-2",children:t.requested_school_name}),Object(v.jsx)("td",{className:"p-2",children:t.requested_school_sector}),Object(v.jsx)("td",{className:"p-2",children:t.school_from_name}),Object(v.jsx)("td",{className:"p-2",children:"PENDING"===t.requested_status?Object(v.jsx)(j.a,{onClick:function(r){return e.setState({selectedUserId:t.teacher_transfer_id.toString()})},theme:"accent-light",children:t.requested_status}):"".concat(t.requested_status)})]},t.teacher_transfer_id)}))})]})})]}),!Object(g.e)(this.state.selectedUserId)&&this.getTransferById(this.state.selectedUserId)&&Object(v.jsx)(T,{selectedUserInfo:this.getTransferById(this.state.selectedUserId),closeModalHandler:function(t){return e.setState({selectedUserId:t})},auth:this.props.auth})]})}}]),r}(n.Component),F=Object(h.b)((function(e){return{auth:e.auth,basic:e.basic,transfer:e.transfer}}),{FC_GetAllTransfers:b.a})(q);!function(e){e.transferTab="Requested Transfers",e.leaveTab="Requested Leaves"}(a||(a={}));var R=function(){var e=c.a.useState(a.transferTab),t=Object(s.a)(e,2),r=t[0],n=t[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(o.a,{title:"Requested Transfer",subTitle:"Transfer",children:Object(v.jsx)("div",{className:"flex flex-wrap",children:Object(v.jsxs)("div",{className:"w-full",children:[Object(v.jsx)("div",{className:"flex flex-row items-center mt-2",children:Object.values(a).map((function(e,t){return Object(v.jsx)("div",{onClick:function(){return n(e)},className:"animate__animated ".concat(r===e?"bg-accent-400 border-accent-900 text-accent-900 animate__zoomIn animate__faster":"bg-white border-white text-gray-600 cursor-pointer"," hover:bg-accent-100 px-4 py-2 font-bold border-b-4 hover:border-accent-900 hover:text-accent-900 rounded-t mt-1 mx-1"),children:e},t)}))}),Object(v.jsxs)("div",{className:"w-full",children:[r===a.transferTab&&Object(v.jsx)("div",{children:Object(v.jsx)(F,{})}),r===a.leaveTab&&Object(v.jsx)("div",{children:Object(v.jsx)(w,{})})]})]})})})})}}}]);
//# sourceMappingURL=13.21c5bd61.chunk.js.map