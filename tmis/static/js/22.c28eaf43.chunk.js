(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[22],{106:function(e,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"a",(function(){return i}));var c,r,i,a=s(11),n=s(1);!function(e){e.default="default",e.primary="primary",e.secondary="secondary",e.danger="danger",e.success="success",e.warning="warning"}(c||(c={})),function(e){e.none="top-0",e.small="top-28",e.medium="top-1/3",e.large="top-1/2",e.extra="top-2/3"}(r||(r={})),function(e){e.small="max-w-sm",e.medium="max-w-screen-sm",e.large="max-w-screen-md",e.extraLarge="max-w-screen-lg",e.maxWidth="max-w-screen h-full"}(i||(i={}));t.c=function(e){var t,s=e.title,o=e.backDrop,d=e.theme,l=e.close,h=e.backDropClose,m=e.widthSizeClass,j=e.displayClose,u=e.padding,b=void 0===u?{title:!0,body:!0,footer:!0}:u;switch(d){case c.primary:t="blue-500";break;case c.secondary:t="gray-300";break;case c.danger:t="red-500";break;case c.success:t="green-500";break;case c.warning:t="yellow-500";break;default:t="white"}return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{onClick:function(){return h&&l()},className:"animate__animated animate__fadeIn animate__faster modal fixed bg-black bg-opacity-".concat(!0===o?"60":"0")}),Object(n.jsxs)("div",{className:"fixed items-center justify-items-center ".concat(void 0===e.marginTop?r.none:e.marginTop," left-0 right-0 bottom-0 bg-white rounded shadow-xl self-center ").concat(m," animate__animated ").concat(void 0!==e.marginTop&&e.marginTop!==r.none?"animate__fadeInUp":"animate__zoomIn"," animate__faster"),style:{width:"100%",maxHeight:"99vh",height:"".concat(m===i.maxWidth?void 0===e.marginTop?"100%":"unset":"fit-content"),overflowY:"auto",margin:"auto",zIndex:99999999},children:[Object(n.jsxs)("div",{className:"flex justify-between bg-".concat(t," ").concat(!0===b.title?"py-4 px-4":""," rounded-t text-").concat(d===c.default||d===c.secondary?"black":"white"),children:[s&&""!==s?Object(n.jsx)("h4",{className:"text-lg font-bold ",children:s}):Object(n.jsx)("div",{}),!1===j?"":Object(n.jsx)("div",{className:"hover:text-red-600 hover:bg-red-100 rounded-full p-1 h-8 w-8",children:Object(n.jsx)(a.h,{className:"cursor-pointer font-extrabold text-2xl",onClick:function(){return l()}})})]}),Object(n.jsx)("div",{className:"space-x-3 ".concat(!0===b.body?"py-4 px-4":""),children:Object(n.jsx)("div",{children:""!==e.children?e.children:""})}),void 0!==e.footer&&""!==e.footer?Object(n.jsx)("div",{className:"flex float-right ".concat(!0===b.footer?"py-4 px-4":""),children:e.footer}):""]})]})}},112:function(e,t,s){"use strict";s.d(t,"a",(function(){return O}));var c=s(26),r=s(27),i=s(28),a=s(29),n=s(2),o=s.n(n),d=s(11),l=s(16),h=s(12),m=s(113),j=s(25),u=s(30),b=s(48),p=s(106),x=s(24),_=s(1),f=function(e){Object(i.a)(s,e);var t=Object(a.a)(s);function s(e){var r;return Object(c.a)(this,s),(r=t.call(this,e)).componentDidMount=function(){r.props.district_code||r.loadDistricts(),void 0===r.props.school_code&&r.setState({current_school:!1})},r.loadDistricts=function(){r.state.districts.length<=0&&(r.setState({loading_districts:!0}),Object(h.q)((function(e,t,s){e?r.setState({loading_districts:!1,districts:t}):r.setState({loading_districts:!1,districts:[],error:{msg:s,target:"main-error"}})})))},r.selectDistrict=function(e){r.setState({selected_district:e.district_code,district_code:e.district_code,district_name:e.district_name,open_select_district:!1}),r.reloadDistrictResurces(e.district_code)},r.reloadDistrictResurces=function(e){e&&(r.setState({loading_resource:!0}),r.props.FC_GetAssignAssets(e,(function(e,t){e?r.setState({loading_resource:!1}):r.setState({loading_resource:!1,error:{target:"main-error",msg:"Failed to load district resource, please try again later"}})})))},r.clearError=function(){return r.setState({error:{msg:"",target:null}})},r.state={loading:!1,district_code:r.props.district_code?r.props.district_code:"",district_name:r.props.district_name?r.props.district_name:"",current_school:!0,selected_district:r.props.district_code?r.props.district_code:"",loading_resource:!1,error:{msg:"",target:null},loading_districts:!1,districts:[],open_select_district:!1},r}return Object(r.a)(s,[{key:"render",value:function(){var e,t,s,c,r,i=this;return"user-updates-success"===this.state.error.target?Object(_.jsx)(u.a,{className:"animate__animated animate__zoomIn ",children:Object(_.jsxs)("div",{className:"text-center py-10",children:[Object(_.jsx)(d.g,{className:"text-8xl text-green-600 mx-auto"}),Object(_.jsx)("h1",{className:"text-2xl font-bold text-green-600",children:"The user has been updated successfully"}),Object(_.jsxs)("p",{className:"mt-2 text-gray-600 pb-4",children:["The information has been updated successfully, ",Object(_.jsx)("br",{})," you can close the window and continue with other users"]}),Object(_.jsx)(j.a,{theme:"success-light",onClick:function(){i.props.close(),i.props.refreshApp&&i.props.refreshApp()},children:"Goo back to the profile"})]})}):Object(_.jsxs)(_.Fragment,{children:["main-error"===this.state.error.target&&Object(_.jsx)(x.a,{theme:"danger",fixed:!0,onClick:this.clearError,children:this.state.error.msg}),"main-success"===this.state.error.target&&Object(_.jsx)(x.a,{theme:"success",fixed:!0,onClick:this.clearError,children:this.state.error.msg}),Object(_.jsxs)("div",{className:" ",children:[!0===this.state.open_select_district&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"fixed top-0 bottom-0 z-50 right-0 left-0 bg-black bg-opacity-60",onClick:function(){return i.setState({open_select_district:!1})}}),Object(_.jsx)(p.c,{backDrop:!0,backDropClose:!0,close:function(){return i.setState({open_select_district:!1})},title:"Choose district",displayClose:!0,theme:p.b.default,widthSizeClass:p.a.medium,padding:{title:!0,body:!0,footer:!0},children:!0===this.state.loading_districts?Object(_.jsx)(b.a,{className:"mx-auto text-center"}):0===this.state.districts.length?Object(_.jsx)("div",{className:"py-5 text-center",children:"No results found!"}):Object(_.jsx)("div",{children:this.state.districts.map((function(e,t){return Object(_.jsxs)("div",{className:"p-1 border-b flex hover:bg-yellow-50",children:[Object(_.jsx)("h6",{children:e.district_code}),Object(_.jsx)("h6",{className:"flex-1 font-bold px-4",children:e.district_name}),Object(_.jsx)(j.a,{theme:"accent-light",size:"sm",onClick:i.selectDistrict.bind(i,e),children:"Select district"})]},t)}))})})]}),Object(_.jsxs)("div",{className:"flex p-1 items-center border-b container mx-auto",children:[Object(_.jsx)("h1",{className:"text-2xl flex-1 font-bold ",children:"Change user schools & Position"}),Object(_.jsx)(j.a,{theme:"danger-light",onClick:this.props.close,children:"Close"})]}),void 0!==this.props.userDetails&&Object(_.jsx)(u.a,{children:Object(_.jsxs)("div",{className:" bg-white mb-2 rounded items-center flex",children:[Object(_.jsx)("div",{className:"",children:Object(_.jsx)(d.a,{className:"text-6xl"})}),Object(_.jsxs)("div",{className:"flex-1 pl-2 grid grid-cols-2",children:[Object(_.jsxs)("p",{children:[Object(_.jsx)("span",{className:"text-gray-600",children:"Names: "})," ",Object(_.jsx)("b",{children:null===(e=this.props.userDetails)||void 0===e?void 0:e.full_name})]}),Object(_.jsxs)("p",{children:[Object(_.jsx)("span",{className:"text-gray-600",children:"NID: "})," ",Object(_.jsx)("b",{children:null===(t=this.props.userDetails)||void 0===t?void 0:t.nid})]}),Object(_.jsxs)("p",{children:[Object(_.jsx)("span",{className:"text-gray-600",children:"Staff code: "})," ",Object(_.jsx)("b",{children:null===(s=this.props.userDetails)||void 0===s?void 0:s.staff_code})]}),Object(_.jsxs)("p",{children:[Object(_.jsx)("span",{className:"text-gray-600",children:"Email: "})," ",Object(_.jsx)("b",{children:null===(c=this.props.userDetails)||void 0===c?void 0:c.email})]})]})]})}),Object(_.jsx)("div",{className:"my-2",children:Object(_.jsx)(u.a,{children:Object(_.jsxs)("div",{className:"flex gap-3",children:[Object(_.jsx)("div",{className:"flex-1 flex items-center bg-gray-100 rounded p-1",children:!1===this.state.current_school&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("h2",{className:"text-lg pr-3",children:[Object(_.jsx)("b",{children:this.state.district_name}),"District"]}),Object(_.jsx)(j.a,{onClick:function(){i.setState({open_select_district:!0}),i.loadDistricts()},size:"sm",theme:"accent-light",children:"Choose District"}),this.props.district_code+""!==this.state.selected_district+""&&this.props.district_code&&this.props.district_code&&this.props.district_name&&Object(_.jsxs)(j.a,{onClick:function(){i.props.district_code&&i.props.district_code&&i.selectDistrict({district_code:i.props.district_code,district_name:i.props.district_code})},size:"sm",theme:"accent-light",children:["Choose ",Object(_.jsx)("b",{children:this.props.district_name})]})]})}),Object(_.jsxs)("div",{className:"flex p-1 rounded bg-gray-100",children:[" ",Object(_.jsx)("h3",{className:"text-lg pr-3",children:!0===this.state.current_school&&(null===(r=this.props)||void 0===r?void 0:r.school_name)}),Object(_.jsx)(j.a,{onClick:function(){return i.setState({current_school:!i.state.current_school})},size:"sm",theme:"accent-light",children:!1===this.state.current_school?"Another school":"Current school"})]})]})})}),Object(_.jsx)("div",{className:"",children:Object(_.jsx)(m.a,{exclude_roles:["3","4","18","21","22","25","26"],district_id:this.state.selected_district,assignType:"ASSIGN",no_position:!0,school:!0===this.state.current_school&&this.props.school_code&&this.props.school_name?{school_id:this.props.school_code,school_name:this.props.school_name}:void 0,current_position:this.props.current_position,only_post_for_school:!0,user_id:this.props.user_id,formAccess:{first_name:!1,last_name:!1,full_name:!1,middle_name:!1,nid:!1,phone_numbers:!1,role_id:!0,country_id:!1,district_code:!0,sector_code:!1,school_code:!0,qualification_id:!1,academic_year_id:!0,stakeholder_id:!1,start_date_in_the_school:!0,position_id:!0},required:{first_name:!1,last_name:!1,full_name:!1,middle_name:!1,nid:!0,phone_numbers:!0,role_id:!0,country_id:!1,district_code:!0,sector_code:!1,school_code:!0,qualification_id:!0,academic_year_id:!0,stakeholder_id:!1,start_date_in_the_school:!0,position_id:!1},success:function(e){i.setState({error:{target:"user-updates-success",msg:"User updated successfully"}}),setTimeout((function(){i.props.refreshApp&&i.props.refreshApp(),i.props.close()}),4e3)},button_title:"Update staff info"})})]})]})}}]),s}(o.a.Component),O=Object(l.b)((function(e){return{auth:e.auth}}),{FC_GetAssignAssets:h.m})(f)},142:function(e,t,s){"use strict";s.r(t),s.d(t,"DisabledUsers",(function(){return g}));var c=s(26),r=s(27),i=s(28),a=s(29),n=s(2),o=s.n(n),d=s(16),l=s(12),h=s(24),m=s(25),j=s(30),u=s(39),b=s(31),p=s(48),x=s(18),_=s(112),f=s(1),O=function(e){Object(i.a)(s,e);var t=Object(a.a)(s);function s(e){var r;return Object(c.a)(this,s),(r=t.call(this,e)).componentDidMount=function(){r.startApp()},r.startApp=function(){r.setState({loading:!0,error:{target:null,msg:""}}),Object(l.n)((function(e,t,s){!0===e&&null!==t?r.setState({loading:!1,data:t}):r.setState({loading:!1,error:{msg:s,target:"main-error"}})}))},r.state={data:[],error:{target:null,msg:""},search:"",loading:!0,selected_user:null},r}return Object(r.a)(s,[{key:"render",value:function(){var e=this,t=Object(x.f)(this.state.data,this.state.search,{school_code:!0,district_code:!0,position_code:!0,school_name:!0,district_name:!0,full_name:!0,first_name:!0,last_name:!0,email:!0,middle_name:!0,nid:!0,phone_numbers:!0,staff_code:!0});return!0===this.state.loading?Object(f.jsx)("div",{className:"p-8 text-center",children:Object(f.jsx)("div",{className:"mx-auto",children:Object(f.jsx)(p.a,{})})}):null!==this.state.selected_user&&null!==this.state.selected_user.user_id?Object(f.jsx)(_.a,{user_id:this.state.selected_user.user_id,userDetails:{email:this.state.selected_user.email+"",full_name:this.state.selected_user.full_name+"",nid:this.state.selected_user.nid+"",staff_code:this.state.selected_user.staff_code+""},close:function(){return e.setState({selected_user:null})}}):Object(f.jsx)(n.Fragment,{children:Object(f.jsxs)(f.Fragment,{children:["main-success"===this.state.error.target&&Object(f.jsx)(h.a,{theme:"success",fixed:!0,children:this.state.error.msg}),"main-success"===this.state.error.target&&Object(f.jsx)(h.a,{theme:"success",fixed:!0,children:this.state.error.msg}),Object(f.jsxs)(j.a,{children:[Object(f.jsx)("div",{className:"flex items-center",children:Object(f.jsx)("div",{className:"flex-1",children:Object(f.jsx)(u.a,{children:"Disabled users"})})}),Object(f.jsxs)("div",{className:"mt-3",children:[Object(f.jsxs)("div",{className:"border border-t mt-2 mb-1 flex items-center pl-3 pr-2 rounded",children:[Object(f.jsx)("div",{className:"flex-1 pr-2",children:Object(f.jsx)(b.a,{error:"",label:"Search",name:"",type:"search",onChange:function(t){return e.setState({search:t.target.value})},placeholder:"Search by district name, staff code",value:this.state.search,size:"sm"})}),Object(f.jsxs)("div",{className:"p-2 px-3 ml-3 bg-accent-800 bg-opacity-30 rounded",children:[Object(f.jsx)("label",{className:"",children:"Results:"}),Object(f.jsx)("h4",{className:"text-2xl -mt-1 font-bold",children:t.length})]})]}),Object(f.jsxs)("table",{className:"w-full text-left table-auto",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{className:"p-2 border",children:"#"}),Object(f.jsx)("th",{className:"p-2 border",children:"NID"}),Object(f.jsx)("th",{className:"p-2 border",children:"First name"}),Object(f.jsx)("th",{className:"p-2 border",children:"Last name"}),Object(f.jsx)("th",{className:"p-2 border",children:"Middle name"}),Object(f.jsx)("th",{className:"p-2 border",children:"Full name"}),Object(f.jsx)("th",{className:"p-2 border",children:"Phone number"}),Object(f.jsx)("th",{className:"p-2 border"})]})}),Object(f.jsx)("tbody",{children:t.length<=0?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:8,className:"p-8 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:Object(f.jsx)(u.a,{size:"md",className:"opacity-60 font-light",children:"No results found"})})}):t.map((function(t,s){return Object(f.jsx)(n.Fragment,{children:Object(f.jsxs)("tr",{className:"group border rounded hover:bg-blue-500 hover:bg-opacity-20 text-sm",children:[Object(f.jsx)("td",{className:"p-2 border",children:s+1},s),Object(f.jsx)("td",{className:"p-2 border",children:t.nid}),Object(f.jsx)("td",{className:"p-2 border",children:t.first_name}),Object(f.jsx)("td",{className:"p-2 border",children:t.middle_name}),Object(f.jsx)("td",{className:"p-2 border",children:t.last_name}),Object(f.jsx)("td",{className:"p-2 border",children:t.full_name}),Object(f.jsx)("td",{className:"p-2 border",children:t.phone_numbers}),Object(f.jsx)("td",{className:" text-center border",children:Object(f.jsx)(m.a,{size:"sm",theme:"accent-light",className:"w-full",onClick:function(){return e.setState({selected_user:t})},children:"Open profile"})})]})},s)}))})]})]})]})]})})}}]),s}(o.a.Component),g=Object(d.b)((function(e){return{auth:e.auth,basic:e.basic}}),{FC_DisableUser:l.h})(O)}}]);
//# sourceMappingURL=22.c28eaf43.chunk.js.map