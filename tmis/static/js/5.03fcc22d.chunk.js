(this["webpackJsonpreact-redux-typescript-advance"]=this["webpackJsonpreact-redux-typescript-advance"]||[]).push([[5],{104:function(e,t,a){"use strict";a(2);var s=a(49),n=a(1);t.a=function(e){var t=e.onChange,a=e.value,r=e.error,c=e.label,i=e.placeholder,l=e.disabled,o=void 0!==l&&l,d=e.name,u=e.Input_className,m=void 0===u?"":u,h=e.Label_className,j=void 0===h?"":h,b=e.InputContainer_className,p=void 0===b?"":b,x=e.MainContainer_className,f=void 0===x?"":x,O=e.size,N=void 0===O?"md":O,g=e.data;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"w-full my-2 ".concat(f),children:[Object(n.jsx)("label",{htmlFor:"login-form-email",className:"text-primary-900 dark:text-primary-100 ".concat(j),children:c}),Object(n.jsxs)("div",{className:"rounded relative ".concat(p),children:[Object(n.jsx)("select",{name:d,placeholder:i,onChange:t,className:"\n                     w-full text-lg rounded border-2 \n                     ".concat(Object(s.a)(N),"\n                     ").concat(""!==r?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                     px-3 ").concat(m),value:a,disabled:o,children:g.map((function(e,t){return Object(n.jsx)("option",{value:e.value,children:e.title},t)}))}),""!==r&&Object(n.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:r})]})]})})}},105:function(e,t,a){"use strict";a(2);var s=a(49),n=a(1);t.a=function(e){var t=e.onChange,a=e.value,r=e.error,c=e.label,i=e.placeholder,l=e.disabled,o=void 0!==l&&l,d=e.name,u=e.Input_className,m=void 0===u?"":u,h=e.Label_className,j=void 0===h?"":h,b=e.InputContainer_className,p=void 0===b?"":b,x=e.MainContainer_className,f=void 0===x?"":x,O=e.labelColor,N=void 0===O?"text-primary-900 dark:text-primary-100":O,g=e.size,_=void 0===g?"md":g;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"w-full my-2 ".concat(f),children:[""!==c&&Object(n.jsx)("label",{htmlFor:"any-form",className:"".concat(N," ").concat(j),children:c}),Object(n.jsxs)("div",{className:"rounded relative ".concat(p),children:[Object(n.jsx)("textarea",{name:d,placeholder:i,onChange:t,className:"\n                w-full text-lg rounded border-2 \n                ".concat(Object(s.a)(_),"\n                ").concat(""!==r?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                px-3 ").concat(m),value:a,disabled:o}),""!==r&&Object(n.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:r})]})]})})}},107:function(e,t,a){"use strict";var s;a.d(t,"a",(function(){return s})),function(e){e.PENDING="PENDING TERMINATION",e.TERMINATED="TERMINATED",e.PENDING_SUSPENSION="PENDING SUSPENTION",e.SUSPENDED="SUSPENDED",e.REJECTED="REJECTED"}(s||(s={}))},110:function(e,t,a){"use strict";a(2);var s=a(1);t.a=function(e){var t=function(){for(var t=[],a=0;a<e.cols;a++)t.push(a);return t.map((function(e){return Object(s.jsx)("td",{className:"p-3 text-center whitespace-nowrap",children:Object(s.jsx)("div",{className:"w-full h-4 rounded bg-gray-200 animate__animated animate__pulse animate__delay-5s animate__infinite"})},e)}))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()},228),Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()},22648),Object(s.jsx)("tr",{className:"border-b border-gray-200",children:t()},229768)]})}},114:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return j})),a.d(t,"f",(function(){return b})),a.d(t,"b",(function(){return p})),a.d(t,"i",(function(){return x})),a.d(t,"d",(function(){return f})),a.d(t,"e",(function(){return O})),a.d(t,"g",(function(){return N})),a.d(t,"h",(function(){return g}));var s=a(6),n=a(3),r=a.n(n),c=a(5),i=a.n(c),l=a(12),o=a(13),d=a(8),u=a(9),m=a(18),h=function(e){return e(!0,null,""),function(){var t=Object(s.a)(r.a.mark((function t(a){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,i.a.get("".concat(o.c,"/teachertransfers/requesteddde"));case 4:s=t.sent,console.log("===================================="),console.log({getAllTransfers:s}),console.log("===================================="),a({type:l.a.GET_ALL_TRANSFER,payload:s.data}),e(!1,s.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return e(!0,null,""),function(){var t=Object(s.a)(r.a.mark((function t(a){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,i.a.get("".concat(o.c,"/teachertransfers/teacher"));case 4:s=t.sent,console.log("===================================="),console.log({getAllTransfers:s}),console.log("===================================="),a({type:l.a.GET_MY_TRANSFER,payload:s.data}),e(!1,s.data,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,null,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return e(!0,""),function(){var t=Object(s.a)(r.a.mark((function t(a){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(d.a)(),t.next=4,i.a.get("".concat(o.c,"/teachertransfers/transferreasons"));case 4:s=t.sent,console.log("=================FC_GetTransferReasons==================="),console.log({FC_GetTransferReasons:s}),console.log("=================FC_GetTransferReasons==================="),a({type:l.a.GET_TRANSFER_REASON,payload:s.data}),e(!1,""),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(!1,Object(u.a)(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0,null,""),e.prev=1,Object(d.a)(),e.next=5,i.a.get("".concat(o.c,"/district"));case 5:a=e.sent,console.log("=================FC_GetDistricts==================="),console.log({FC_GetDistricts:a}),console.log("=================FC_GetDistricts==================="),t(!1,a.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),t(!1,null,Object(u.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(r.a.mark((function e(t,a){var s,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0,s=0,null,""),e.prev=2,Object(d.a)(),(n=new FormData).append("teacher_supporting_document",t),e.next=8,i.a.post("".concat(o.c,"/teachertransfers/uploadSupportingDocument"),n,{onUploadProgress:function(e){s=+(null===e||void 0===e?void 0:e.loaded)/+e.total*100,a(!0,s,null,"")}});case 8:c=e.sent,console.log("Uploaded document: ",c.data),a(!1,s,c.data,""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),a(!1,s,"",Object(u.a)(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(r.a.mark((function e(t,a){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0,null,""),e.prev=1,Object(d.a)(),e.next=5,i.a.get("".concat(o.c,"/teachertransfer/getschoolsperdistrict/").concat(t));case 5:s=e.sent,console.log("=================FC_GetSchoolByDistrict==================="),console.log({FC_GetSchoolByDistrict:s}),console.log("=================FC_GetSchoolByDistrict==================="),a(!1,s.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),a(!1,null,Object(u.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(r.a.mark((function e(t,a,s,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0,null,""),e.prev=1,Object(d.a)(),e.next=5,i.a.post("".concat(o.c,"/teachertransfer/getschoolsperdistrict/").concat(t),{position_code:a,qualification_id:s});case 5:c=e.sent,console.log("=================FC_GetSchoolByDistrict_2==================="),console.log({FC_GetSchoolByDistrict_2:c}),console.log("=================FC_GetSchoolByDistrict_2==================="),n(!1,c.data,""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),n(!1,null,Object(u.a)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a,s,n){return e.apply(this,arguments)}}(),N=function(e,t,a,n,c){c(!0,"");var h="";return function(){var j=Object(s.a)(r.a.mark((function s(j){var b,p;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c(!0,""),s.next=3,x(a,(function(e,t,a,s){c(e,""),console.log("==================&&&&&&&&&&&&&=================="),console.log({data:a}),console.log("==================&&&&&&&&&&&&&=================="),!e&&Object(m.e)(s)&&null!==a?h=a:e||Object(m.e)(s)||c(!1,s)}));case 3:if(Object(m.e)(h)){s.next=23;break}return c(!0,""),b={teacher_transfer_id:e,outgoing_status:n,outgoing_dde_comment:t,mayor_letter:h},console.log("==================*********************=================="),console.log({doc_title:h}),console.log("==================*********************=================="),s.prev=9,Object(d.a)(),s.next=13,i.a.post("".concat(o.c,"/teachertransfers/outgoing"),b);case 13:p=s.sent,console.log("Uploaded document: ",p.data),j({type:l.a.RESPOND_TO_LEAVE,payload:b}),c(!1,""),s.next=23;break;case 19:s.prev=19,s.t0=s.catch(9),console.error(s.t0),c(!1,Object(u.a)(s.t0));case 23:case"end":return s.stop()}}),s,null,[[9,19]])})));return function(e){return j.apply(this,arguments)}}()},g=function(e,t,a,n,c){return c(!1,""),function(){var m=Object(s.a)(r.a.mark((function s(m){var h,j;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c(!0,""),h={teacher_transfer_id:e,requested_status:a,approved_school_id:t,requested_comment:n},s.prev=2,Object(d.a)(),s.next=6,i.a.post("".concat(o.c,"/teachertransfers/incoming"),h);case 6:j=s.sent,console.log("FC_RespondTransfer document: ",j.data),m({type:l.a.RESPOND_TO_TRANSFER,payload:h}),c(!1,""),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(2),console.error(s.t0),c(!1,Object(u.a)(s.t0));case 16:case"end":return s.stop()}}),s,null,[[2,12]])})));return function(e){return m.apply(this,arguments)}}()}},118:function(e,t,a){"use strict";a(2);var s=a(124),n=a(13),r=a(1);t.a=function(e){var t="uploaded"===e.linkFor?"".concat(n.d,"/").concat(e.first_id):"".concat(n.c,"/generateletter/").concat(e.linkFor,"/").concat(e.first_id,"/").concat(e.last_id);return Object(r.jsxs)("a",{href:t,className:"py-2 px-4 text-md font-bold rounded bg-primary-800 hover:bg-opacity-90 text-white flex items-center gap-2",target:"_blank",rel:"noreferrer",children:[Object(r.jsx)(s.a,{}),Object(r.jsx)("span",{children:e.title})]})}},121:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var s,n=a(26),r=a(27),c=a(28),i=a(29),l=a(2),o=a(16),d=a(12),u=a(24),m=a(30),h=a(39),j=a(48),b=a(18),p=a(6),x=a(20),f=a(3),O=a.n(f),N=a(11),g=a(114),_=a(25),v=a(118),T=a(125),y=a(105),S=a(31),E=a(107),w=a(1),D=Object(o.b)(null,{FC_UpdateThisTermination:d.W,FC_GetAllTermination:d.l})((function(e){var t=Object(l.useState)(!1),a=Object(x.a)(t,2),s=a[0],n=a[1],r=Object(l.useState)(null),c=Object(x.a)(r,2),i=c[0],o=c[1],d=Object(l.useState)(null),j=Object(x.a)(d,2),f=j[0],D=j[1],I=Object(l.useState)(""),C=Object(x.a)(I,2),k=C[0],F=C[1],P=Object(l.useState)("suspension"===e.thisViewIsFor&&e.thiTermination.requested_to_suspend_from?e.thiTermination.requested_to_suspend_from:""),R=Object(x.a)(P,2),G=R[0],A=R[1],q=Object(l.useState)("suspension"===e.thisViewIsFor&&e.thiTermination.requested_to_suspend_to?e.thiTermination.requested_to_suspend_to:""),U=Object(x.a)(q,2),V=U[0],M=U[1],L=Object(l.useState)(null),z=Object(x.a)(L,2),J=z[0],B=z[1],Y=Object(l.useState)(0),W=Object(x.a)(Y,2),X=W[0],H=W[1],K=function(){var t=Object(p.a)(O.a.mark((function t(){var a,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=3;break}return D({element:"action",msg:"Action is required!"}),t.abrupt("return",n(!1));case 3:if("suspension"!==e.thisViewIsFor||i!==E.a.SUSPENDED||!Object(b.e)(G)){t.next=6;break}return D({element:"start_date",msg:"Required!"}),t.abrupt("return",n(!1));case 6:if("suspension"!==e.thisViewIsFor||i!==E.a.SUSPENDED||!Object(b.e)(V)){t.next=9;break}return D({element:"end_date",msg:"Required!"}),t.abrupt("return",n(!1));case 9:if(null!==J){t.next=12;break}return D({element:"approved_doc",msg:"Required!"}),t.abrupt("return",n(!1));case 12:if(!Object(b.e)(k)){t.next=15;break}return D({element:"comment",msg:"Required!"}),t.abrupt("return",n(!1));case 15:return a="",t.next=18,Object(g.i)(J,(function(e,t,s,r){n(e),e&&H(t),!e&&Object(b.e)(r)&&null!==s?a=s:e||Object(b.e)(r)||D({element:"main-error",msg:r})}));case 18:Object(b.e)(a)||(s={change_staff_status_id:e.thiTermination.change_staff_status_id,decision:i,decided_to_suspend_from:"suspension"===e.thisViewIsFor&&i===E.a.SUSPENDED?G:"",decided_to_suspend_to:"suspension"===e.thisViewIsFor&&i===E.a.SUSPENDED?V:"",decided_by_comment:k,mayor_letter:a},n(!0),e.FC_UpdateThisTermination(s,(function(e,t){D(e?{element:"main-success",msg:"Response has been successful sent!"}:{element:"main-error",msg:t})})),o(null),setTimeout((function(){D(null),F("")}),2e3),n(!1));case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log("==================props.thiTermination=================="),console.log({fff:e.thiTermination}),console.log("==================props.thiTermination=================="),Object(w.jsxs)(w.Fragment,{children:[f&&"main-success"===f.element&&Object(w.jsx)(u.a,{theme:"success",children:f.msg}),f&&"main-error"===f.element&&Object(w.jsx)(u.a,{theme:"danger",children:f.msg}),Object(w.jsxs)(m.a,{className:"animate__animated animate__zoomIn animate__faster",children:[Object(w.jsxs)("div",{className:"py-2 flex items-center",children:[Object(w.jsx)("div",{className:"flex-1",children:Object(w.jsxs)(h.a,{children:["View ",e.thisViewIsFor," progress"]})}),Object(w.jsx)("div",{className:"",children:Object(w.jsx)(_.a,{onClick:function(){return e.setThiTermination(null)},theme:"default",children:"Close"})})]}),Object(w.jsxs)("div",{className:"bg-white p-3 shadow-sm rounded-sm",children:[Object(w.jsxs)("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8",children:[Object(w.jsx)("span",{className:"text-primary-800",children:Object(w.jsx)(N.A,{size:25})}),Object(w.jsx)("span",{className:"tracking-wide",children:"Staff info"})]}),Object(w.jsx)("div",{className:"text-gray-700",children:Object(w.jsxs)("div",{className:"grid md:grid-cols-2 text-sm",children:[Object(w.jsxs)("div",{className:"grid grid-cols-2",children:[Object(w.jsx)("div",{className:"px-4 py-2 font-semibold",children:"Full Name"}),Object(w.jsx)("div",{className:"px-4 py-2",children:e.thiTermination.techer_name})]}),Object(w.jsxs)("div",{className:"grid grid-cols-2",children:[Object(w.jsx)("div",{className:"px-4 py-2 font-semibold",children:"School"}),Object(w.jsx)("div",{className:"px-4 py-2",children:e.thiTermination.school_name})]}),Object(w.jsxs)("div",{className:"grid grid-cols-2",children:[Object(w.jsx)("div",{className:"px-4 py-2 font-semibold",children:"School code"}),Object(w.jsx)("div",{className:"px-4 py-2",children:e.thiTermination.school_code})]})]})})]}),Object(w.jsxs)("div",{className:"bg-white p-3 border rounded",children:[Object(w.jsxs)("div",{className:"flex items-center px-2 py-1 bg-gray-200 rounded",children:[Object(w.jsx)(N.v,{className:"w-8"}),Object(w.jsx)("p",{children:e.thiTermination.reason_name})]}),Object(w.jsxs)("div",{className:"flex flex-col mt-3",children:[Object(w.jsx)("span",{className:"text-sm text-gray-500",children:"Comment:"}),Object(w.jsx)("p",{className:"text-base",children:e.thiTermination.requested_by_comment})]}),"suspension"===e.thisViewIsFor&&Object(w.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(w.jsx)("span",{className:"text-sm text-gray-500",children:"Start date:"}),Object(w.jsx)("p",{className:"text-base",children:e.thiTermination.requested_to_suspend_from&&!Object(b.e)(e.thiTermination.requested_to_suspend_from)?Object(b.a)(e.thiTermination.requested_to_suspend_from):"-"})]}),"suspension"===e.thisViewIsFor&&Object(w.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(w.jsx)("span",{className:"text-sm text-gray-500",children:"End date:"}),Object(w.jsx)("p",{className:"text-base",children:e.thiTermination.requested_to_suspend_to&&!Object(b.e)(e.thiTermination.requested_to_suspend_to)?Object(b.a)(e.thiTermination.requested_to_suspend_to):"-"})]}),Object(w.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(w.jsx)("span",{className:"text-sm text-gray-500",children:"Request date:"}),Object(w.jsx)("p",{className:"text-base",children:Object(b.a)(e.thiTermination.requested_by_date)})]})]}),e.thiTermination.status!==E.a.PENDING&&e.thiTermination.status!==E.a.PENDING_SUSPENSION&&Object(w.jsxs)("section",{children:[Object(w.jsx)("span",{className:"text-sm text-gray-500",children:"Feedback:"}),Object(w.jsxs)("div",{className:"bg-white p-3 border rounded",children:[Object(w.jsxs)("div",{className:"flex items-center gap-2",children:[Object(w.jsx)("span",{className:"text-sm text-gray-500",children:"Decision:"}),Object(w.jsx)("p",{className:"text-base",children:e.thiTermination.status})]}),"suspension"===e.thisViewIsFor&&Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("span",{className:"text-sm text-gray-500",children:"Start date:"}),Object(w.jsx)("p",{className:"text-base",children:e.thiTermination.decided_to_suspend_from&&!Object(b.e)(e.thiTermination.decided_to_suspend_from)?Object(b.a)(e.thiTermination.decided_to_suspend_from):"-"})]}),"suspension"===e.thisViewIsFor&&Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("span",{className:"text-sm text-gray-500",children:"End date:"}),Object(w.jsx)("p",{className:"text-base",children:e.thiTermination.decided_to_suspend_to&&!Object(b.e)(e.thiTermination.decided_to_suspend_to)?Object(b.a)(e.thiTermination.decided_to_suspend_to):"-"})]}),e.thiTermination.status!==E.a.REJECTED&&e.thiTermination.mayor_letter&&Object(w.jsx)(v.a,{linkFor:"uploaded",first_id:e.thiTermination.mayor_letter,last_id:"",title:"Confirmation letter"}),Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("span",{className:"text-sm text-gray-500",children:"Comment:"}),Object(w.jsx)("p",{className:"text-base",children:e.thiTermination.decided_by_comment})]}),Object(w.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(w.jsx)("span",{className:"text-sm text-gray-500",children:"Done on:"}),Object(w.jsx)("p",{className:"text-base",children:e.thiTermination.decided_by_date?Object(b.a)(e.thiTermination.decided_by_date):"-"})]})]})]}),!i&&Object(w.jsxs)("section",{className:"flex items-center justify-between bg-gray-50 rounded mt-3",children:[Object(w.jsx)("div",{className:"mx-4 my-4",children:Object(w.jsx)("span",{className:"".concat(e.thiTermination.status===E.a.PENDING||e.thiTermination.status===E.a.PENDING_SUSPENSION?"text-yellow-700":e.thiTermination.status===E.a.REJECTED?"text-red-700":"text-green-700"," italic font-semibold"),children:e.thiTermination.status===E.a.PENDING||e.thiTermination.status===E.a.PENDING_SUSPENSION?"Pending":e.thiTermination.status===E.a.REJECTED?"Canceled":"Confirmed"})}),(e.thiTermination.status===E.a.PENDING||e.thiTermination.status===E.a.PENDING_SUSPENSION)&&Object(w.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[Object(w.jsx)(v.a,{first_id:e.thiTermination.change_staff_status_id,last_id:e.thiTermination.teacher_id,title:"suspension"===e.thisViewIsFor?"Suspension letter":"Termination letter",linkFor:e.thisViewIsFor}),Object(w.jsx)(_.a,{theme:"danger",type:"button",onClick:function(){o(E.a.REJECTED)},children:"Reject"}),Object(w.jsx)(_.a,{type:"button",theme:"success",onClick:function(){o("termination"===e.thisViewIsFor?E.a.TERMINATED:E.a.SUSPENDED)},children:"Accept"})]})]}),i&&Object(w.jsxs)("section",{className:"my-3 overflow-x-auto",children:[0!==X&&Object(w.jsx)("div",{className:"p-2",children:Object(w.jsx)("div",{className:"bg-accent-400 appearance-none rounded w-full border-bg-accent-800 border-2 transition-all duration-500 ease-in-out",children:Object(w.jsx)("div",{className:"bg-accent-800 rounded-sm text-white text-center py-2 transition-all duration-500 ease-in-out",style:{width:X+"%"},children:Object(w.jsx)("span",{className:"text-gray-700 mx-1",children:"Uploading..."})})})}),Object(w.jsxs)("div",{className:"italic text-gray-700 text-base mx-5",children:["Selected decision:"," ",Object(w.jsx)("span",{className:"font-semibold text-lg ".concat(i===E.a.TERMINATED||i===E.a.SUSPENDED?"text-blue-700":"text-yellow-800"),children:i===E.a.TERMINATED||i===E.a.SUSPENDED?"Approved":"Rejected"})]}),Object(w.jsx)("div",{className:"flex flex-col md:flex-row items-end md:items-start gap-1 w-full",children:Object(w.jsxs)("div",{className:"w-full px-2",children:["suspension"===e.thisViewIsFor&&i===E.a.SUSPENDED&&Object(w.jsxs)("div",{className:"flex flex-wrap",children:[Object(w.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(w.jsx)(S.a,{disabled:s,label:"Start date",name:"start_date",type:"date",value:G,placeholder:"Suspension starting date",className:"p-2",onChange:function(e){A(e.target.value),D(null)},error:f&&"start_date"===f.element?f.msg:""})}),Object(w.jsx)("div",{className:"w-full lg:w-1/2 py-1 px-3",children:Object(w.jsx)(S.a,{disabled:s,label:"End date",name:"end_date",type:"date",value:V,placeholder:"Suspension ending date",className:"p-2",onChange:function(e){M(e.target.value),D(null)},error:f&&"end_date"===f.element?f.msg:""})})]}),Object(w.jsx)("div",{className:"w-full py-1 px-2",children:Object(w.jsx)(T.b,{disabled:s,label:"Suspension document",name:"approved_doc",className:"p-2",onChange:function(e){return function(e){if(D(null),null===e.target.files)return B(null),D({msg:"Please select a valid file",element:"approved_doc"});var t=e.target.files[0];return"application/pdf"!==t.type?(B(null),D({msg:"The system accept pdf only",element:"approved_doc"})):t.size<=0?(B(null),D({msg:"Invalid file, Please choose a real file",element:"approved_doc"})):(B(t),void D(null))}(e)},error:f&&"approved_doc"===f.element?f.msg:"",type:"file",accept:T.a.PDF})}),Object(w.jsx)("div",{className:"w-full py-1 px-2",children:Object(w.jsx)(y.a,{disabled:s,label:"Comment",name:"comment",value:k,placeholder:"Reason of your decision...",className:"p-2",onChange:function(e){F(e.target.value),D(null)},error:f&&"comment"===f.element?f.msg:""})}),Object(w.jsxs)("div",{className:"flex items-center gap-1 max-w-full px-2 float-right",children:[Object(w.jsx)(_.a,{theme:"default",onClick:function(){F(""),o(null),D(null)},disabled:s,children:Object(w.jsx)("span",{children:"Back"})}),Object(w.jsx)(_.a,{disabled:s,theme:"primary",onClick:function(){return window.confirm("Are you sure you want to ".concat(i===E.a.TERMINATED?"terminate this staff?":i===E.a.SUSPENDED?"suspend this staff?":"rejected this request?"))&&K()},children:s?Object(w.jsx)("div",{className:"",children:"Loading..."}):Object(w.jsx)("span",{children:"Confirm"})})]})]})})]})]})]})})),I=a(104),C=a(110),k=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).setThisStatus=function(e){s.setState({thisStatus:e})},s.filterTerminations=function(e,t){var a=e;return a=e.filter((function(e){return e.status!==E.a.PENDING&&e.status!==E.a.TERMINATED&&null!==e.requested_to_suspend_from})),"all"!==t&&(a=a.filter((function(e){return e.status===t}))),a},s.state={search:"",thisStatus:"all"},s}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{className:"mt-3",children:[Object(w.jsxs)("div",{className:"border border-t mt-2 mb-1 flex items-center flex-col-reverse sm:flex-row pl-3 pr-2 rounded",children:[Object(w.jsx)("div",{className:"w-full sm:flex-1 pr-2",children:Object(w.jsx)(S.a,{error:"",label:"Search",name:"",type:"search",onChange:function(t){return e.setState({search:t.target.value})},placeholder:"Search by name, reason, date, status",value:this.state.search,size:"sm",disabled:null===this.props.suspensionItems||0===this.filterTerminations(this.props.suspensionItems,this.state.thisStatus).length})}),Object(w.jsx)("div",{className:"w-full sm:w-auto",children:Object(w.jsx)(I.a,{data:[{title:"All",value:"all"},{title:"Pending",value:E.a.PENDING_SUSPENSION},{title:"Suspended",value:E.a.SUSPENDED},{title:"Rejected",value:E.a.REJECTED}],error:"",name:"select_status",onChange:function(t){return e.setState({thisStatus:t.target.value})},label:"Status",placeholder:"Select status",value:this.state.thisStatus,size:"sm"})})]}),Object(w.jsx)("div",{className:"my-3 w-full overflow-x-auto",children:Object(w.jsxs)("table",{className:"w-full text-left table-auto",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{className:"p-2",children:"#"}),Object(w.jsx)("th",{className:"p-2",children:"Names"}),Object(w.jsx)("th",{className:"p-2",children:"School"}),Object(w.jsx)("th",{className:"p-2",children:"Reason"}),Object(w.jsx)("th",{className:"p-2",children:"Date"}),Object(w.jsx)("th",{className:"p-2",children:"Status"}),Object(w.jsx)("th",{className:"p-2"})]})}),Object(w.jsx)("tbody",{children:this.props.loading?Object(w.jsx)(C.a,{cols:6}):null===this.props.suspensionItems||this.filterTerminations(this.props.suspensionItems,this.state.thisStatus).length<=0?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:8,className:"p-8 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:Object(w.jsx)(h.a,{size:"md",className:"opacity-60 font-light",children:"No results found"})})}):Object(b.f)(this.filterTerminations(this.props.suspensionItems,this.state.thisStatus),this.state.search).map((function(t,a){return Object(w.jsxs)("tr",{className:"group border-b border-t rounded hover:bg-accent-800 hover:bg-opacity-20 cursor-pointer",onClick:function(){return e.props.setThisTermination(t)},children:[Object(w.jsx)("td",{className:"p-2",children:a+1}),Object(w.jsx)("td",{className:"p-2",children:t.techer_name}),Object(w.jsx)("td",{className:"p-2",children:t.school_name}),Object(w.jsx)("td",{className:"p-2",children:t.reason_name}),Object(w.jsx)("td",{className:"p-2",children:t.status===E.a.PENDING_SUSPENSION?Object(b.a)(t.requested_by_date):t.decided_by_date&&Object(b.a)(t.decided_by_date)}),Object(w.jsx)("td",{className:"p-2",children:t.status}),Object(w.jsx)("td",{className:"p-1 text-center",children:Object(w.jsx)(_.a,{onClick:function(){return e.props.setThisTermination(t)},children:"View"})})]},a+t.change_staff_status_id)}))})]})})]})}}]),a}(l.Component),F=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).setThisStatus=function(e){s.setState({thisStatus:e})},s.filterTerminations=function(e,t){console.log("===================================="),console.log({allData:e}),console.log("====================================");var a=e;return a=e.filter((function(e){return e.status!==E.a.PENDING_SUSPENSION&&e.status!==E.a.SUSPENDED&&(null===e.requested_to_suspend_from||Object(b.e)(e.requested_to_suspend_from))})),"all"!==t&&(a=a.filter((function(e){return e.status===t}))),a},s.state={search:"",thisStatus:"all"},s}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{className:"mt-3",children:[Object(w.jsxs)("div",{className:"border border-t mt-2 mb-1 flex items-center flex-col-reverse sm:flex-row pl-3 pr-2 rounded",children:[Object(w.jsx)("div",{className:"w-full sm:flex-1 pr-2",children:Object(w.jsx)(S.a,{error:"",label:"Search",name:"",type:"search",onChange:function(t){return e.setState({search:t.target.value})},placeholder:"Search by name, reason, date, status",value:this.state.search,size:"sm",disabled:null===this.props.terminations||0===this.filterTerminations(this.props.terminations,this.state.thisStatus).length})}),Object(w.jsx)("div",{className:"w-full sm:w-auto",children:Object(w.jsx)(I.a,{data:[{title:"All",value:"all"},{title:"Pending",value:E.a.PENDING},{title:"Terminated",value:E.a.TERMINATED},{title:"Rejected",value:E.a.REJECTED}],error:"",name:"select_status",onChange:function(t){return e.setState({thisStatus:t.target.value})},label:"Status",placeholder:"Select status",value:this.state.thisStatus,size:"sm"})})]}),Object(w.jsx)("div",{className:"my-3 w-full overflow-x-auto",children:Object(w.jsxs)("table",{className:"w-full text-left table-auto",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{className:"p-2",children:"#"}),Object(w.jsx)("th",{className:"p-2",children:"Names"}),Object(w.jsx)("th",{className:"p-2",children:"School"}),Object(w.jsx)("th",{className:"p-2",children:"Reason"}),Object(w.jsx)("th",{className:"p-2",children:"Date"}),Object(w.jsx)("th",{className:"p-2",children:"Status"}),Object(w.jsx)("th",{className:"p-2"})]})}),Object(w.jsx)("tbody",{children:this.props.loading?Object(w.jsx)(C.a,{cols:6}):null===this.props.terminations||this.filterTerminations(this.props.terminations,this.state.thisStatus).length<=0?Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:8,className:"p-8 border rounded border-opacity-25 animate__animated animate__fadeIn text-center",children:Object(w.jsx)(h.a,{size:"md",className:"opacity-60 font-light",children:"No results found"})})}):Object(b.f)(this.filterTerminations(this.props.terminations,this.state.thisStatus),this.state.search).map((function(t,a){return Object(w.jsxs)("tr",{className:"group border-b border-t rounded hover:bg-accent-800 hover:bg-opacity-20 cursor-pointer",onClick:function(){return e.props.setThisTermination(t)},children:[Object(w.jsx)("td",{className:"p-2",children:a+1}),Object(w.jsx)("td",{className:"p-2",children:t.techer_name}),Object(w.jsx)("td",{className:"p-2",children:t.school_name}),Object(w.jsx)("td",{className:"p-2",children:t.reason_name}),Object(w.jsx)("td",{className:"p-2",children:t.status===E.a.PENDING?Object(b.a)(t.requested_by_date):t.decided_by_date&&Object(b.a)(t.decided_by_date)}),Object(w.jsx)("td",{className:"p-2",children:t.status}),Object(w.jsx)("td",{className:"p-1 text-center",children:Object(w.jsx)(_.a,{onClick:function(){return e.props.setThisTermination(t)},children:"View"})})]},a+t.change_staff_status_id)}))})]})})]})}}]),a}(l.Component);!function(e){e.terminationTab="Staff Termination",e.suspensionTab="Staff Suspension"}(s||(s={}));var P=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).setLoading=function(e){s.setState({loading:e})},s.setError=function(e){s.setState({error:e})},s.setThisTermination=function(e){s.setState({thisTermination:e})},s.getTerminationById=function(e,t){return e.find((function(e){return e.change_staff_status_id===t}))},s.componentDidMount=function(){s.props.FC_GetAllTermination("hr",(function(e,t,a){s.setLoading(e),e||Object(b.e)(a)||s.setError({target:"main-error",msg:a})}))},s.state={loading:!0,error:{target:null,msg:""},thisTermination:null},s}return Object(r.a)(a,[{key:"render",value:function(){return this.state.loading?Object(w.jsx)("div",{className:"p-8 text-center",children:Object(w.jsx)("div",{className:"mx-auto",children:Object(w.jsx)(j.a,{})})}):Object(w.jsxs)(w.Fragment,{children:["main-success"===this.state.error.target&&Object(w.jsx)(u.a,{theme:"success",children:this.state.error.msg}),"main-error"===this.state.error.target&&Object(w.jsx)(u.a,{theme:"danger",children:this.state.error.msg}),null===this.state.thisTermination?Object(w.jsxs)(m.a,{children:[Object(w.jsx)(h.a,{children:this.props.thisPage}),this.props.thisPage===s.terminationTab?Object(w.jsx)(F,{terminations:this.props.terminations.allTermination,loading:this.state.loading,setThisTermination:this.setThisTermination}):Object(w.jsx)(k,{suspensionItems:this.props.terminations.allTermination,loading:this.state.loading,setThisTermination:this.setThisTermination})]}):Object(w.jsx)(D,{setThiTermination:this.setThisTermination,thiTermination:this.getTerminationById(this.props.terminations.allTermination,this.state.thisTermination.change_staff_status_id),thisViewIsFor:this.props.thisPage===s.terminationTab?"termination":"suspension"})]})}}]),a}(l.Component);t.b=Object(o.b)((function(e){return{auth:e.auth,basic:e.basic,terminations:e.terminations}}),{FC_GetAllTermination:d.l})(P)},125:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(2);var s,n,r=a(49),c=a(1);!function(e){e.PDF="PDF",e.IMAGES="IMAGES",e.ANY="ANY"}(s||(s={})),function(e){e.ALL="",e.IMAGES="image/*",e.EXCEL=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",e.PDF="application/pdf"}(n||(n={}));t.b=function(e){var t=e.onChange,a=e.error,s=e.label,i=e.multiple,l=e.disabled,o=void 0!==l&&l,d=e.accept,u=void 0===d?n.ALL:d,m=e.name,h=e.type,j=e.Input_className,b=void 0===j?"":j,p=e.Label_className,x=void 0===p?"":p,f=e.InputContainer_className,O=void 0===f?"":f,N=e.MainContainer_className,g=void 0===N?"":N,_=e.size,v=void 0===_?"md":_,T=e.labelColor,y=void 0===T?"text-primary-900 dark:text-primary-100":T;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"w-full my-2 ".concat(g),children:[""!==s&&Object(c.jsx)("label",{htmlFor:"any-form",className:"".concat(y," ").concat(x),children:s}),Object(c.jsxs)("div",{className:"rounded relative ".concat(O),children:[Object(c.jsx)("input",{name:m,multiple:i,accept:u,type:h,onChange:t,className:"\n                w-full text-lg rounded border-2 \n                ".concat(Object(r.a)(v),"\n                ").concat(""!==a?"border-red-500 dark:text-white bg-red-100 dark:bg-red-900 dark:bg-opacity-30":"border-primary-800 dark:text-white bg-white dark:bg-primary-900 ","\n                px-3 ").concat(b),disabled:o}),""!==a&&Object(c.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:a})]})]})})}}}]);
//# sourceMappingURL=5.03fcc22d.chunk.js.map